var bA=(tt,et)=>()=>(et||tt((et={exports:{}}).exports,et),et.exports);var AA=bA(exports=>{function _mergeNamespaces(tt,et){for(var nt=0;nt<et.length;nt++){const rt=et[nt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const it in rt)if(it!=="default"&&!(it in tt)){const st=Object.getOwnPropertyDescriptor(rt,it);st&&Object.defineProperty(tt,it,st.get?st:{enumerable:!0,get:()=>rt[it]})}}}return Object.freeze(Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))rt(it);new MutationObserver(it=>{for(const st of it)if(st.type==="childList")for(const ot of st.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&rt(ot)}).observe(document,{childList:!0,subtree:!0});function nt(it){const st={};return it.integrity&&(st.integrity=it.integrity),it.referrerPolicy&&(st.referrerPolicy=it.referrerPolicy),it.crossOrigin==="use-credentials"?st.credentials="include":it.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function rt(it){if(it.ep)return;it.ep=!0;const st=nt(it);fetch(it.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}function getAugmentedNamespace(tt){if(tt.__esModule)return tt;var et=tt.default;if(typeof et=="function"){var nt=function rt(){if(this instanceof rt){var it=[null];it.push.apply(it,arguments);var st=Function.bind.apply(et,it);return new st}return et.apply(this,arguments)};nt.prototype=et.prototype}else nt={};return Object.defineProperty(nt,"__esModule",{value:!0}),Object.keys(tt).forEach(function(rt){var it=Object.getOwnPropertyDescriptor(tt,rt);Object.defineProperty(nt,rt,it.get?it:{enumerable:!0,get:function(){return tt[rt]}})}),nt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$5(tt){return tt===null||typeof tt!="object"?null:(tt=z$3&&tt[z$3]||tt["@@iterator"],typeof tt=="function"?tt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(tt,et,nt){this.props=tt,this.context=et,this.refs=D$3,this.updater=nt||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(tt,et){if(typeof tt!="object"&&typeof tt!="function"&&tt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tt,et,"setState")};E$3.prototype.forceUpdate=function(tt){this.updater.enqueueForceUpdate(this,tt,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$4(tt,et,nt){this.props=tt,this.context=et,this.refs=D$3,this.updater=nt||B$2}var H$4=G$4.prototype=new F$3;H$4.constructor=G$4;C$2(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$2={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$4(tt,et,nt){var rt,it={},st=null,ot=null;if(et!=null)for(rt in et.ref!==void 0&&(ot=et.ref),et.key!==void 0&&(st=""+et.key),et)J$3.call(et,rt)&&!L$5.hasOwnProperty(rt)&&(it[rt]=et[rt]);var at=arguments.length-2;if(at===1)it.children=nt;else if(1<at){for(var lt=Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut+2];it.children=lt}if(tt&&tt.defaultProps)for(rt in at=tt.defaultProps,at)it[rt]===void 0&&(it[rt]=at[rt]);return{$$typeof:l$7,type:tt,key:st,ref:ot,props:it,_owner:K$2.current}}function N$3(tt,et){return{$$typeof:l$7,type:tt.type,key:et,ref:tt.ref,props:tt.props,_owner:tt._owner}}function O$3(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===l$7}function escape(tt){var et={"=":"=0",":":"=2"};return"$"+tt.replace(/[=:]/g,function(nt){return et[nt]})}var P$4=/\/+/g;function Q$3(tt,et){return typeof tt=="object"&&tt!==null&&tt.key!=null?escape(""+tt.key):et.toString(36)}function R$2(tt,et,nt,rt,it){var st=typeof tt;(st==="undefined"||st==="boolean")&&(tt=null);var ot=!1;if(tt===null)ot=!0;else switch(st){case"string":case"number":ot=!0;break;case"object":switch(tt.$$typeof){case l$7:case n$9:ot=!0}}if(ot)return ot=tt,it=it(ot),tt=rt===""?"."+Q$3(ot,0):rt,I$4(it)?(nt="",tt!=null&&(nt=tt.replace(P$4,"$&/")+"/"),R$2(it,et,nt,"",function(ut){return ut})):it!=null&&(O$3(it)&&(it=N$3(it,nt+(!it.key||ot&&ot.key===it.key?"":(""+it.key).replace(P$4,"$&/")+"/")+tt)),et.push(it)),1;if(ot=0,rt=rt===""?".":rt+":",I$4(tt))for(var at=0;at<tt.length;at++){st=tt[at];var lt=rt+Q$3(st,at);ot+=R$2(st,et,nt,lt,it)}else if(lt=A$5(tt),typeof lt=="function")for(tt=lt.call(tt),at=0;!(st=tt.next()).done;)st=st.value,lt=rt+Q$3(st,at++),ot+=R$2(st,et,nt,lt,it);else if(st==="object")throw et=String(tt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$4(tt,et,nt){if(tt==null)return tt;var rt=[],it=0;return R$2(tt,rt,"","",function(st){return et.call(nt,st,it++)}),rt}function T$4(tt){if(tt._status===-1){var et=tt._result;et=et(),et.then(function(nt){(tt._status===0||tt._status===-1)&&(tt._status=1,tt._result=nt)},function(nt){(tt._status===0||tt._status===-1)&&(tt._status=2,tt._result=nt)}),tt._status===-1&&(tt._status=0,tt._result=et)}if(tt._status===1)return tt._result.default;throw tt._result}var U$4={current:null},V$5={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$5,ReactCurrentOwner:K$2};react_production_min.Children={map:S$4,forEach:function(tt,et,nt){S$4(tt,function(){et.apply(this,arguments)},nt)},count:function(tt){var et=0;return S$4(tt,function(){et++}),et},toArray:function(tt){return S$4(tt,function(et){return et})||[]},only:function(tt){if(!O$3(tt))throw Error("React.Children.only expected to receive a single React element child.");return tt}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(tt,et,nt){if(tt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tt+".");var rt=C$2({},tt.props),it=tt.key,st=tt.ref,ot=tt._owner;if(et!=null){if(et.ref!==void 0&&(st=et.ref,ot=K$2.current),et.key!==void 0&&(it=""+et.key),tt.type&&tt.type.defaultProps)var at=tt.type.defaultProps;for(lt in et)J$3.call(et,lt)&&!L$5.hasOwnProperty(lt)&&(rt[lt]=et[lt]===void 0&&at!==void 0?at[lt]:et[lt])}var lt=arguments.length-2;if(lt===1)rt.children=nt;else if(1<lt){at=Array(lt);for(var ut=0;ut<lt;ut++)at[ut]=arguments[ut+2];rt.children=at}return{$$typeof:l$7,type:tt.type,key:it,ref:st,props:rt,_owner:ot}};react_production_min.createContext=function(tt){return tt={$$typeof:u$4,_currentValue:tt,_currentValue2:tt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tt.Provider={$$typeof:t$5,_context:tt},tt.Consumer=tt};react_production_min.createElement=M$4;react_production_min.createFactory=function(tt){var et=M$4.bind(null,tt);return et.type=tt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tt){return{$$typeof:v$7,render:tt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(tt){return{$$typeof:y$3,_payload:{_status:-1,_result:tt},_init:T$4}};react_production_min.memo=function(tt,et){return{$$typeof:x$3,type:tt,compare:et===void 0?null:et}};react_production_min.startTransition=function(tt){var et=V$5.transition;V$5.transition={};try{tt()}finally{V$5.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(tt,et){return U$4.current.useCallback(tt,et)};react_production_min.useContext=function(tt){return U$4.current.useContext(tt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tt){return U$4.current.useDeferredValue(tt)};react_production_min.useEffect=function(tt,et){return U$4.current.useEffect(tt,et)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(tt,et,nt){return U$4.current.useImperativeHandle(tt,et,nt)};react_production_min.useInsertionEffect=function(tt,et){return U$4.current.useInsertionEffect(tt,et)};react_production_min.useLayoutEffect=function(tt,et){return U$4.current.useLayoutEffect(tt,et)};react_production_min.useMemo=function(tt,et){return U$4.current.useMemo(tt,et)};react_production_min.useReducer=function(tt,et,nt){return U$4.current.useReducer(tt,et,nt)};react_production_min.useRef=function(tt){return U$4.current.useRef(tt)};react_production_min.useState=function(tt){return U$4.current.useState(tt)};react_production_min.useSyncExternalStore=function(tt,et,nt){return U$4.current.useSyncExternalStore(tt,et,nt)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k$4=Symbol.for("react.element"),l$6=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$8=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$4(tt,et,nt){var rt,it={},st=null,ot=null;nt!==void 0&&(st=""+nt),et.key!==void 0&&(st=""+et.key),et.ref!==void 0&&(ot=et.ref);for(rt in et)m$6.call(et,rt)&&!p$6.hasOwnProperty(rt)&&(it[rt]=et[rt]);if(tt&&tt.defaultProps)for(rt in et=tt.defaultProps,et)it[rt]===void 0&&(it[rt]=et[rt]);return{$$typeof:k$4,type:tt,key:st,ref:ot,props:it,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$6;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function et(Ut,Kt){var Qt=Ut.length;Ut.push(Kt);e:for(;0<Qt;){var zt=Qt-1>>>1,Ht=Ut[zt];if(0<it(Ht,Kt))Ut[zt]=Kt,Ut[Qt]=Ht,Qt=zt;else break e}}function nt(Ut){return Ut.length===0?null:Ut[0]}function rt(Ut){if(Ut.length===0)return null;var Kt=Ut[0],Qt=Ut.pop();if(Qt!==Kt){Ut[0]=Qt;e:for(var zt=0,Ht=Ut.length,en=Ht>>>1;zt<en;){var an=2*(zt+1)-1,on=Ut[an],Wt=an+1,mn=Ut[Wt];if(0>it(on,Qt))Wt<Ht&&0>it(mn,on)?(Ut[zt]=mn,Ut[Wt]=Qt,zt=Wt):(Ut[zt]=on,Ut[an]=Qt,zt=an);else if(Wt<Ht&&0>it(mn,Qt))Ut[zt]=mn,Ut[Wt]=Qt,zt=Wt;else break e}}return Kt}function it(Ut,Kt){var Qt=Ut.sortIndex-Kt.sortIndex;return Qt!==0?Qt:Ut.id-Kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;tt.unstable_now=function(){return st.now()}}else{var ot=Date,at=ot.now();tt.unstable_now=function(){return ot.now()-at}}var lt=[],ut=[],ft=1,dt=null,ht=3,mt=!1,xt=!1,_t=!1,At=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(Ut){for(var Kt=nt(ut);Kt!==null;){if(Kt.callback===null)rt(ut);else if(Kt.startTime<=Ut)rt(ut),Kt.sortIndex=Kt.expirationTime,et(lt,Kt);else break;Kt=nt(ut)}}function yt(Ut){if(_t=!1,Et(Ut),!xt)if(nt(lt)!==null)xt=!0,rn(wt);else{var Kt=nt(ut);Kt!==null&&Jt(yt,Kt.startTime-Ut)}}function wt(Ut,Kt){xt=!1,_t&&(_t=!1,gt(It),It=-1),mt=!0;var Qt=ht;try{for(Et(Kt),dt=nt(lt);dt!==null&&(!(dt.expirationTime>Kt)||Ut&&!Bt());){var zt=dt.callback;if(typeof zt=="function"){dt.callback=null,ht=dt.priorityLevel;var Ht=zt(dt.expirationTime<=Kt);Kt=tt.unstable_now(),typeof Ht=="function"?dt.callback=Ht:dt===nt(lt)&&rt(lt),Et(Kt)}else rt(lt);dt=nt(lt)}if(dt!==null)var en=!0;else{var an=nt(ut);an!==null&&Jt(yt,an.startTime-Kt),en=!1}return en}finally{dt=null,ht=Qt,mt=!1}}var Ct=!1,Rt=null,It=-1,$t=5,Ft=-1;function Bt(){return!(tt.unstable_now()-Ft<$t)}function Nt(){if(Rt!==null){var Ut=tt.unstable_now();Ft=Ut;var Kt=!0;try{Kt=Rt(!0,Ut)}finally{Kt?Xt():(Ct=!1,Rt=null)}}else Ct=!1}var Xt;if(typeof vt=="function")Xt=function(){vt(Nt)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,sn=nn.port2;nn.port1.onmessage=Nt,Xt=function(){sn.postMessage(null)}}else Xt=function(){At(Nt,0)};function rn(Ut){Rt=Ut,Ct||(Ct=!0,Xt())}function Jt(Ut,Kt){It=At(function(){Ut(tt.unstable_now())},Kt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Ut){Ut.callback=null},tt.unstable_continueExecution=function(){xt||mt||(xt=!0,rn(wt))},tt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$t=0<Ut?Math.floor(1e3/Ut):5},tt.unstable_getCurrentPriorityLevel=function(){return ht},tt.unstable_getFirstCallbackNode=function(){return nt(lt)},tt.unstable_next=function(Ut){switch(ht){case 1:case 2:case 3:var Kt=3;break;default:Kt=ht}var Qt=ht;ht=Kt;try{return Ut()}finally{ht=Qt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Ut,Kt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Qt=ht;ht=Ut;try{return Kt()}finally{ht=Qt}},tt.unstable_scheduleCallback=function(Ut,Kt,Qt){var zt=tt.unstable_now();switch(typeof Qt=="object"&&Qt!==null?(Qt=Qt.delay,Qt=typeof Qt=="number"&&0<Qt?zt+Qt:zt):Qt=zt,Ut){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=Qt+Ht,Ut={id:ft++,callback:Kt,priorityLevel:Ut,startTime:Qt,expirationTime:Ht,sortIndex:-1},Qt>zt?(Ut.sortIndex=Qt,et(ut,Ut),nt(lt)===null&&Ut===nt(ut)&&(_t?(gt(It),It=-1):_t=!0,Jt(yt,Qt-zt))):(Ut.sortIndex=Ht,et(lt,Ut),xt||mt||(xt=!0,rn(wt))),Ut},tt.unstable_shouldYield=Bt,tt.unstable_wrapCallback=function(Ut){var Kt=ht;return function(){var Qt=ht;ht=Kt;try{return Ut.apply(this,arguments)}finally{ht=Qt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(tt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+tt,nt=1;nt<arguments.length;nt++)et+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified React error #"+tt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tt,et){ha(tt,et),ha(tt+"Capture",et)}function ha(tt,et){for(ea[tt]=et,tt=0;tt<et.length;tt++)da.add(et[tt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tt){return ja.call(ma,tt)?!0:ja.call(la,tt)?!1:ka.test(tt)?ma[tt]=!0:(la[tt]=!0,!1)}function pa(tt,et,nt,rt){if(nt!==null&&nt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:nt!==null?!nt.acceptsBooleans:(tt=tt.toLowerCase().slice(0,5),tt!=="data-"&&tt!=="aria-");default:return!1}}function qa(tt,et,nt,rt){if(et===null||typeof et>"u"||pa(tt,et,nt,rt))return!0;if(rt)return!1;if(nt!==null)switch(nt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$6(tt,et,nt,rt,it,st,ot){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=it,this.mustUseProperty=nt,this.propertyName=tt,this.type=et,this.sanitizeURL=st,this.removeEmptyString=ot}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tt){z$2[tt]=new v$6(tt,0,!1,tt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tt){var et=tt[0];z$2[et]=new v$6(et,1,!1,tt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tt){z$2[tt]=new v$6(tt,2,!1,tt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tt){z$2[tt]=new v$6(tt,2,!1,tt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tt){z$2[tt]=new v$6(tt,3,!1,tt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tt){z$2[tt]=new v$6(tt,3,!0,tt,null,!1,!1)});["capture","download"].forEach(function(tt){z$2[tt]=new v$6(tt,4,!1,tt,null,!1,!1)});["cols","rows","size","span"].forEach(function(tt){z$2[tt]=new v$6(tt,6,!1,tt,null,!1,!1)});["rowSpan","start"].forEach(function(tt){z$2[tt]=new v$6(tt,5,!1,tt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tt){return tt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$6(et,1,!1,tt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$6(et,1,!1,tt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$6(et,1,!1,tt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tt){z$2[tt]=new v$6(tt,1,!1,tt.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tt){z$2[tt]=new v$6(tt,1,!1,tt.toLowerCase(),null,!0,!0)});function ta(tt,et,nt,rt){var it=z$2.hasOwnProperty(et)?z$2[et]:null;(it!==null?it.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,nt,it,rt)&&(nt=null),rt||it===null?oa(et)&&(nt===null?tt.removeAttribute(et):tt.setAttribute(et,""+nt)):it.mustUseProperty?tt[it.propertyName]=nt===null?it.type===3?!1:"":nt:(et=it.attributeName,rt=it.attributeNamespace,nt===null?tt.removeAttribute(et):(it=it.type,nt=it===3||it===4&&nt===!0?"":""+nt,rt?tt.setAttributeNS(rt,et,nt):tt.setAttribute(et,nt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tt){return tt===null||typeof tt!="object"?null:(tt=Ja&&tt[Ja]||tt["@@iterator"],typeof tt=="function"?tt:null)}var A$4=Object.assign,La;function Ma(tt){if(La===void 0)try{throw Error()}catch(nt){var et=nt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+tt}var Na=!1;function Oa(tt,et){if(!tt||Na)return"";Na=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ut){var rt=ut}Reflect.construct(tt,[],et)}else{try{et.call()}catch(ut){rt=ut}tt.call(et.prototype)}else{try{throw Error()}catch(ut){rt=ut}tt()}}catch(ut){if(ut&&rt&&typeof ut.stack=="string"){for(var it=ut.stack.split(`
`),st=rt.stack.split(`
`),ot=it.length-1,at=st.length-1;1<=ot&&0<=at&&it[ot]!==st[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(it[ot]!==st[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||it[ot]!==st[at]){var lt=`
`+it[ot].replace(" at new "," at ");return tt.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",tt.displayName)),lt}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=nt}return(tt=tt?tt.displayName||tt.name:"")?Ma(tt):""}function Pa(tt){switch(tt.tag){case 5:return Ma(tt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tt=Oa(tt.type,!1),tt;case 11:return tt=Oa(tt.type.render,!1),tt;case 1:return tt=Oa(tt.type,!0),tt;default:return""}}function Qa(tt){if(tt==null)return null;if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt;switch(tt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tt=="object")switch(tt.$$typeof){case Ca:return(tt.displayName||"Context")+".Consumer";case Ba:return(tt._context.displayName||"Context")+".Provider";case Da:var et=tt.render;return tt=tt.displayName,tt||(tt=et.displayName||et.name||"",tt=tt!==""?"ForwardRef("+tt+")":"ForwardRef"),tt;case Ga:return et=tt.displayName||null,et!==null?et:Qa(tt.type)||"Memo";case Ha:et=tt._payload,tt=tt._init;try{return Qa(tt(et))}catch{}}return null}function Ra(tt){var et=tt.type;switch(tt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tt=et.render,tt=tt.displayName||tt.name||"",et.displayName||(tt!==""?"ForwardRef("+tt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(tt){switch(typeof tt){case"boolean":case"number":case"string":case"undefined":return tt;case"object":return tt;default:return""}}function Ta(tt){var et=tt.type;return(tt=tt.nodeName)&&tt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(tt){var et=Ta(tt)?"checked":"value",nt=Object.getOwnPropertyDescriptor(tt.constructor.prototype,et),rt=""+tt[et];if(!tt.hasOwnProperty(et)&&typeof nt<"u"&&typeof nt.get=="function"&&typeof nt.set=="function"){var it=nt.get,st=nt.set;return Object.defineProperty(tt,et,{configurable:!0,get:function(){return it.call(this)},set:function(ot){rt=""+ot,st.call(this,ot)}}),Object.defineProperty(tt,et,{enumerable:nt.enumerable}),{getValue:function(){return rt},setValue:function(ot){rt=""+ot},stopTracking:function(){tt._valueTracker=null,delete tt[et]}}}}function Va(tt){tt._valueTracker||(tt._valueTracker=Ua(tt))}function Wa(tt){if(!tt)return!1;var et=tt._valueTracker;if(!et)return!0;var nt=et.getValue(),rt="";return tt&&(rt=Ta(tt)?tt.checked?"true":"false":tt.value),tt=rt,tt!==nt?(et.setValue(tt),!0):!1}function Xa(tt){if(tt=tt||(typeof document<"u"?document:void 0),typeof tt>"u")return null;try{return tt.activeElement||tt.body}catch{return tt.body}}function Ya(tt,et){var nt=et.checked;return A$4({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nt??tt._wrapperState.initialChecked})}function Za(tt,et){var nt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;nt=Sa(et.value!=null?et.value:nt),tt._wrapperState={initialChecked:rt,initialValue:nt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(tt,et){et=et.checked,et!=null&&ta(tt,"checked",et,!1)}function bb(tt,et){ab(tt,et);var nt=Sa(et.value),rt=et.type;if(nt!=null)rt==="number"?(nt===0&&tt.value===""||tt.value!=nt)&&(tt.value=""+nt):tt.value!==""+nt&&(tt.value=""+nt);else if(rt==="submit"||rt==="reset"){tt.removeAttribute("value");return}et.hasOwnProperty("value")?cb(tt,et.type,nt):et.hasOwnProperty("defaultValue")&&cb(tt,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(tt.defaultChecked=!!et.defaultChecked)}function db(tt,et,nt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+tt._wrapperState.initialValue,nt||et===tt.value||(tt.value=et),tt.defaultValue=et}nt=tt.name,nt!==""&&(tt.name=""),tt.defaultChecked=!!tt._wrapperState.initialChecked,nt!==""&&(tt.name=nt)}function cb(tt,et,nt){(et!=="number"||Xa(tt.ownerDocument)!==tt)&&(nt==null?tt.defaultValue=""+tt._wrapperState.initialValue:tt.defaultValue!==""+nt&&(tt.defaultValue=""+nt))}var eb=Array.isArray;function fb(tt,et,nt,rt){if(tt=tt.options,et){et={};for(var it=0;it<nt.length;it++)et["$"+nt[it]]=!0;for(nt=0;nt<tt.length;nt++)it=et.hasOwnProperty("$"+tt[nt].value),tt[nt].selected!==it&&(tt[nt].selected=it),it&&rt&&(tt[nt].defaultSelected=!0)}else{for(nt=""+Sa(nt),et=null,it=0;it<tt.length;it++){if(tt[it].value===nt){tt[it].selected=!0,rt&&(tt[it].defaultSelected=!0);return}et!==null||tt[it].disabled||(et=tt[it])}et!==null&&(et.selected=!0)}}function gb(tt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$4({},et,{value:void 0,defaultValue:void 0,children:""+tt._wrapperState.initialValue})}function hb(tt,et){var nt=et.value;if(nt==null){if(nt=et.children,et=et.defaultValue,nt!=null){if(et!=null)throw Error(p$5(92));if(eb(nt)){if(1<nt.length)throw Error(p$5(93));nt=nt[0]}et=nt}et==null&&(et=""),nt=et}tt._wrapperState={initialValue:Sa(nt)}}function ib(tt,et){var nt=Sa(et.value),rt=Sa(et.defaultValue);nt!=null&&(nt=""+nt,nt!==tt.value&&(tt.value=nt),et.defaultValue==null&&tt.defaultValue!==nt&&(tt.defaultValue=nt)),rt!=null&&(tt.defaultValue=""+rt)}function jb(tt){var et=tt.textContent;et===tt._wrapperState.initialValue&&et!==""&&et!==null&&(tt.value=et)}function kb(tt){switch(tt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tt,et){return tt==null||tt==="http://www.w3.org/1999/xhtml"?kb(et):tt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":tt}var mb,nb=function(tt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,nt,rt,it){MSApp.execUnsafeLocalFunction(function(){return tt(et,nt,rt,it)})}:tt}(function(tt,et){if(tt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tt)tt.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;tt.firstChild;)tt.removeChild(tt.firstChild);for(;et.firstChild;)tt.appendChild(et.firstChild)}});function ob(tt,et){if(et){var nt=tt.firstChild;if(nt&&nt===tt.lastChild&&nt.nodeType===3){nt.nodeValue=et;return}}tt.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tt){qb.forEach(function(et){et=et+tt.charAt(0).toUpperCase()+tt.substring(1),pb[et]=pb[tt]})});function rb(tt,et,nt){return et==null||typeof et=="boolean"||et===""?"":nt||typeof et!="number"||et===0||pb.hasOwnProperty(tt)&&pb[tt]?(""+et).trim():et+"px"}function sb(tt,et){tt=tt.style;for(var nt in et)if(et.hasOwnProperty(nt)){var rt=nt.indexOf("--")===0,it=rb(nt,et[nt],rt);nt==="float"&&(nt="cssFloat"),rt?tt.setProperty(nt,it):tt[nt]=it}}var tb=A$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tt,et){if(et){if(tb[tt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$5(137,tt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$5(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$5(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$5(62))}}function vb(tt,et){if(tt.indexOf("-")===-1)return typeof et.is=="string";switch(tt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tt){return tt=tt.target||tt.srcElement||window,tt.correspondingUseElement&&(tt=tt.correspondingUseElement),tt.nodeType===3?tt.parentNode:tt}var yb=null,zb=null,Ab=null;function Bb(tt){if(tt=Cb(tt)){if(typeof yb!="function")throw Error(p$5(280));var et=tt.stateNode;et&&(et=Db(et),yb(tt.stateNode,tt.type,et))}}function Eb(tt){zb?Ab?Ab.push(tt):Ab=[tt]:zb=tt}function Fb(){if(zb){var tt=zb,et=Ab;if(Ab=zb=null,Bb(tt),et)for(tt=0;tt<et.length;tt++)Bb(et[tt])}}function Gb(tt,et){return tt(et)}function Hb(){}var Ib=!1;function Jb(tt,et,nt){if(Ib)return tt(et,nt);Ib=!0;try{return Gb(tt,et,nt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(tt,et){var nt=tt.stateNode;if(nt===null)return null;var rt=Db(nt);if(rt===null)return null;nt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(tt=tt.type,rt=!(tt==="button"||tt==="input"||tt==="select"||tt==="textarea")),tt=!rt;break e;default:tt=!1}if(tt)return null;if(nt&&typeof nt!="function")throw Error(p$5(231,et,typeof nt));return nt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tt,et,nt,rt,it,st,ot,at,lt){var ut=Array.prototype.slice.call(arguments,3);try{et.apply(nt,ut)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tt){Ob=!0,Pb=tt}};function Tb(tt,et,nt,rt,it,st,ot,at,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tt,et,nt,rt,it,st,ot,at,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ut)}}function Vb(tt){var et=tt,nt=tt;if(tt.alternate)for(;et.return;)et=et.return;else{tt=et;do et=tt,et.flags&4098&&(nt=et.return),tt=et.return;while(tt)}return et.tag===3?nt:null}function Wb(tt){if(tt.tag===13){var et=tt.memoizedState;if(et===null&&(tt=tt.alternate,tt!==null&&(et=tt.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(tt){if(Vb(tt)!==tt)throw Error(p$5(188))}function Yb(tt){var et=tt.alternate;if(!et){if(et=Vb(tt),et===null)throw Error(p$5(188));return et!==tt?null:tt}for(var nt=tt,rt=et;;){var it=nt.return;if(it===null)break;var st=it.alternate;if(st===null){if(rt=it.return,rt!==null){nt=rt;continue}break}if(it.child===st.child){for(st=it.child;st;){if(st===nt)return Xb(it),tt;if(st===rt)return Xb(it),et;st=st.sibling}throw Error(p$5(188))}if(nt.return!==rt.return)nt=it,rt=st;else{for(var ot=!1,at=it.child;at;){if(at===nt){ot=!0,nt=it,rt=st;break}if(at===rt){ot=!0,rt=it,nt=st;break}at=at.sibling}if(!ot){for(at=st.child;at;){if(at===nt){ot=!0,nt=st,rt=it;break}if(at===rt){ot=!0,rt=st,nt=it;break}at=at.sibling}if(!ot)throw Error(p$5(189))}}if(nt.alternate!==rt)throw Error(p$5(190))}if(nt.tag!==3)throw Error(p$5(188));return nt.stateNode.current===nt?tt:et}function Zb(tt){return tt=Yb(tt),tt!==null?$b(tt):null}function $b(tt){if(tt.tag===5||tt.tag===6)return tt;for(tt=tt.child;tt!==null;){var et=$b(tt);if(et!==null)return et;tt=tt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(tt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,tt,void 0,(tt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tt){return tt>>>=0,tt===0?32:31-(pc(tt)/qc|0)|0}var rc=64,sc=4194304;function tc(tt){switch(tt&-tt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tt}}function uc(tt,et){var nt=tt.pendingLanes;if(nt===0)return 0;var rt=0,it=tt.suspendedLanes,st=tt.pingedLanes,ot=nt&268435455;if(ot!==0){var at=ot&~it;at!==0?rt=tc(at):(st&=ot,st!==0&&(rt=tc(st)))}else ot=nt&~it,ot!==0?rt=tc(ot):st!==0&&(rt=tc(st));if(rt===0)return 0;if(et!==0&&et!==rt&&!(et&it)&&(it=rt&-rt,st=et&-et,it>=st||it===16&&(st&4194240)!==0))return et;if(rt&4&&(rt|=nt&16),et=tt.entangledLanes,et!==0)for(tt=tt.entanglements,et&=rt;0<et;)nt=31-oc(et),it=1<<nt,rt|=tt[nt],et&=~it;return rt}function vc(tt,et){switch(tt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tt,et){for(var nt=tt.suspendedLanes,rt=tt.pingedLanes,it=tt.expirationTimes,st=tt.pendingLanes;0<st;){var ot=31-oc(st),at=1<<ot,lt=it[ot];lt===-1?(!(at&nt)||at&rt)&&(it[ot]=vc(at,et)):lt<=et&&(tt.expiredLanes|=at),st&=~at}}function xc(tt){return tt=tt.pendingLanes&-1073741825,tt!==0?tt:tt&1073741824?1073741824:0}function yc(){var tt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tt}function zc(tt){for(var et=[],nt=0;31>nt;nt++)et.push(tt);return et}function Ac(tt,et,nt){tt.pendingLanes|=et,et!==536870912&&(tt.suspendedLanes=0,tt.pingedLanes=0),tt=tt.eventTimes,et=31-oc(et),tt[et]=nt}function Bc(tt,et){var nt=tt.pendingLanes&~et;tt.pendingLanes=et,tt.suspendedLanes=0,tt.pingedLanes=0,tt.expiredLanes&=et,tt.mutableReadLanes&=et,tt.entangledLanes&=et,et=tt.entanglements;var rt=tt.eventTimes;for(tt=tt.expirationTimes;0<nt;){var it=31-oc(nt),st=1<<it;et[it]=0,rt[it]=-1,tt[it]=-1,nt&=~st}}function Cc(tt,et){var nt=tt.entangledLanes|=et;for(tt=tt.entanglements;nt;){var rt=31-oc(nt),it=1<<rt;it&et|tt[rt]&et&&(tt[rt]|=et),nt&=~it}}var C$1=0;function Dc(tt){return tt&=-tt,1<tt?4<tt?tt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tt,et){switch(tt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(tt,et,nt,rt,it,st){return tt===null||tt.nativeEvent!==st?(tt={blockedOn:et,domEventName:nt,eventSystemFlags:rt,nativeEvent:st,targetContainers:[it]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),tt):(tt.eventSystemFlags|=rt,et=tt.targetContainers,it!==null&&et.indexOf(it)===-1&&et.push(it),tt)}function Uc(tt,et,nt,rt,it){switch(et){case"focusin":return Lc=Tc(Lc,tt,et,nt,rt,it),!0;case"dragenter":return Mc=Tc(Mc,tt,et,nt,rt,it),!0;case"mouseover":return Nc=Tc(Nc,tt,et,nt,rt,it),!0;case"pointerover":var st=it.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,tt,et,nt,rt,it)),!0;case"gotpointercapture":return st=it.pointerId,Pc.set(st,Tc(Pc.get(st)||null,tt,et,nt,rt,it)),!0}return!1}function Vc(tt){var et=Wc(tt.target);if(et!==null){var nt=Vb(et);if(nt!==null){if(et=nt.tag,et===13){if(et=Wb(nt),et!==null){tt.blockedOn=et,Ic(tt.priority,function(){Gc(nt)});return}}else if(et===3&&nt.stateNode.current.memoizedState.isDehydrated){tt.blockedOn=nt.tag===3?nt.stateNode.containerInfo:null;return}}}tt.blockedOn=null}function Xc(tt){if(tt.blockedOn!==null)return!1;for(var et=tt.targetContainers;0<et.length;){var nt=Yc(tt.domEventName,tt.eventSystemFlags,et[0],tt.nativeEvent);if(nt===null){nt=tt.nativeEvent;var rt=new nt.constructor(nt.type,nt);wb=rt,nt.target.dispatchEvent(rt),wb=null}else return et=Cb(nt),et!==null&&Fc(et),tt.blockedOn=nt,!1;et.shift()}return!0}function Zc(tt,et,nt){Xc(tt)&&nt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tt,et){tt.blockedOn===et&&(tt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tt){function et(it){return ad(it,tt)}if(0<Kc.length){ad(Kc[0],tt);for(var nt=1;nt<Kc.length;nt++){var rt=Kc[nt];rt.blockedOn===tt&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,tt),Mc!==null&&ad(Mc,tt),Nc!==null&&ad(Nc,tt),Oc.forEach(et),Pc.forEach(et),nt=0;nt<Qc.length;nt++)rt=Qc[nt],rt.blockedOn===tt&&(rt.blockedOn=null);for(;0<Qc.length&&(nt=Qc[0],nt.blockedOn===null);)Vc(nt),nt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tt,et,nt,rt){var it=C$1,st=cd.transition;cd.transition=null;try{C$1=1,fd(tt,et,nt,rt)}finally{C$1=it,cd.transition=st}}function gd(tt,et,nt,rt){var it=C$1,st=cd.transition;cd.transition=null;try{C$1=4,fd(tt,et,nt,rt)}finally{C$1=it,cd.transition=st}}function fd(tt,et,nt,rt){if(dd){var it=Yc(tt,et,nt,rt);if(it===null)hd(tt,et,rt,id,nt),Sc(tt,rt);else if(Uc(it,tt,et,nt,rt))rt.stopPropagation();else if(Sc(tt,rt),et&4&&-1<Rc.indexOf(tt)){for(;it!==null;){var st=Cb(it);if(st!==null&&Ec(st),st=Yc(tt,et,nt,rt),st===null&&hd(tt,et,rt,id,nt),st===it)break;it=st}it!==null&&rt.stopPropagation()}else hd(tt,et,rt,null,nt)}}var id=null;function Yc(tt,et,nt,rt){if(id=null,tt=xb(rt),tt=Wc(tt),tt!==null)if(et=Vb(tt),et===null)tt=null;else if(nt=et.tag,nt===13){if(tt=Wb(et),tt!==null)return tt;tt=null}else if(nt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;tt=null}else et!==tt&&(tt=null);return id=tt,null}function jd(tt){switch(tt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tt,et=ld,nt=et.length,rt,it="value"in kd?kd.value:kd.textContent,st=it.length;for(tt=0;tt<nt&&et[tt]===it[tt];tt++);var ot=nt-tt;for(rt=1;rt<=ot&&et[nt-rt]===it[st-rt];rt++);return md=it.slice(tt,1<rt?1-rt:void 0)}function od(tt){var et=tt.keyCode;return"charCode"in tt?(tt=tt.charCode,tt===0&&et===13&&(tt=13)):tt=et,tt===10&&(tt=13),32<=tt||tt===13?tt:0}function pd(){return!0}function qd(){return!1}function rd(tt){function et(nt,rt,it,st,ot){this._reactName=nt,this._targetInst=it,this.type=rt,this.nativeEvent=st,this.target=ot,this.currentTarget=null;for(var at in tt)tt.hasOwnProperty(at)&&(nt=tt[at],this[at]=nt?nt(st):st[at]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$4(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nt=this.nativeEvent;nt&&(nt.preventDefault?nt.preventDefault():typeof nt.returnValue!="unknown"&&(nt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var nt=this.nativeEvent;nt&&(nt.stopPropagation?nt.stopPropagation():typeof nt.cancelBubble!="unknown"&&(nt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tt){return tt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$4({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$4({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tt){return tt.relatedTarget===void 0?tt.fromElement===tt.srcElement?tt.toElement:tt.fromElement:tt.relatedTarget},movementX:function(tt){return"movementX"in tt?tt.movementX:(tt!==yd&&(yd&&tt.type==="mousemove"?(wd=tt.screenX-yd.screenX,xd=tt.screenY-yd.screenY):xd=wd=0,yd=tt),wd)},movementY:function(tt){return"movementY"in tt?tt.movementY:xd}}),Bd=rd(Ad),Cd=A$4({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$4({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$4({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id$1=A$4({},sd,{clipboardData:function(tt){return"clipboardData"in tt?tt.clipboardData:window.clipboardData}}),Jd=rd(Id$1),Kd=A$4({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(tt):(tt=Od[tt])?!!et[tt]:!1}function zd(){return Pd}var Qd=A$4({},ud,{key:function(tt){if(tt.key){var et=Md[tt.key]||tt.key;if(et!=="Unidentified")return et}return tt.type==="keypress"?(tt=od(tt),tt===13?"Enter":String.fromCharCode(tt)):tt.type==="keydown"||tt.type==="keyup"?Nd[tt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tt){return tt.type==="keypress"?od(tt):0},keyCode:function(tt){return tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0},which:function(tt){return tt.type==="keypress"?od(tt):tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0}}),Rd=rd(Qd),Sd=A$4({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$4({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$4({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$4({},Ad,{deltaX:function(tt){return"deltaX"in tt?tt.deltaX:"wheelDeltaX"in tt?-tt.wheelDeltaX:0},deltaY:function(tt){return"deltaY"in tt?tt.deltaY:"wheelDeltaY"in tt?-tt.wheelDeltaY:"wheelDelta"in tt?-tt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$3=null;ia&&"documentMode"in document&&(be$3=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$3,de$2=ia&&(!ae$2||be$3&&8<be$3&&11>=be$3),ee$3=String.fromCharCode(32),fe$3=!1;function ge$2(tt,et){switch(tt){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$3(tt){return tt=tt.detail,typeof tt=="object"&&"data"in tt?tt.data:null}var ie$1=!1;function je$1(tt,et){switch(tt){case"compositionend":return he$3(et);case"keypress":return et.which!==32?null:(fe$3=!0,ee$3);case"textInput":return tt=et.data,tt===ee$3&&fe$3?null:tt;default:return null}}function ke$1(tt,et){if(ie$1)return tt==="compositionend"||!ae$2&&ge$2(tt,et)?(tt=nd(),md=ld=kd=null,ie$1=!1,tt):null;switch(tt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$2&&et.locale!=="ko"?null:et.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et==="input"?!!le$2[tt.type]:et==="textarea"}function ne$3(tt,et,nt,rt){Eb(rt),et=oe$3(et,"onChange"),0<et.length&&(nt=new td("onChange","change",null,nt,rt),tt.push({event:nt,listeners:et}))}var pe$2=null,qe$1=null;function re$3(tt){se$3(tt,0)}function te$2(tt){var et=ue$3(tt);if(Wa(et))return tt}function ve$3(tt,et){if(tt==="change")return et}var we$1=!1;if(ia){var xe$2;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$2=ye$1}else xe$2=!1;we$1=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$1=pe$2=null)}function Be$1(tt){if(tt.propertyName==="value"&&te$2(qe$1)){var et=[];ne$3(et,qe$1,tt,xb(tt)),Jb(re$3,et)}}function Ce$2(tt,et,nt){tt==="focusin"?(Ae$2(),pe$2=et,qe$1=nt,pe$2.attachEvent("onpropertychange",Be$1)):tt==="focusout"&&Ae$2()}function De$1(tt){if(tt==="selectionchange"||tt==="keyup"||tt==="keydown")return te$2(qe$1)}function Ee$2(tt,et){if(tt==="click")return te$2(et)}function Fe(tt,et){if(tt==="input"||tt==="change")return te$2(et)}function Ge$1(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(tt,et){if(He$1(tt,et))return!0;if(typeof tt!="object"||tt===null||typeof et!="object"||et===null)return!1;var nt=Object.keys(tt),rt=Object.keys(et);if(nt.length!==rt.length)return!1;for(rt=0;rt<nt.length;rt++){var it=nt[rt];if(!ja.call(et,it)||!He$1(tt[it],et[it]))return!1}return!0}function Je(tt){for(;tt&&tt.firstChild;)tt=tt.firstChild;return tt}function Ke(tt,et){var nt=Je(tt);tt=0;for(var rt;nt;){if(nt.nodeType===3){if(rt=tt+nt.textContent.length,tt<=et&&rt>=et)return{node:nt,offset:et-tt};tt=rt}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=Je(nt)}}function Le(tt,et){return tt&&et?tt===et?!0:tt&&tt.nodeType===3?!1:et&&et.nodeType===3?Le(tt,et.parentNode):"contains"in tt?tt.contains(et):tt.compareDocumentPosition?!!(tt.compareDocumentPosition(et)&16):!1:!1}function Me$1(){for(var tt=window,et=Xa();et instanceof tt.HTMLIFrameElement;){try{var nt=typeof et.contentWindow.location.href=="string"}catch{nt=!1}if(nt)tt=et.contentWindow;else break;et=Xa(tt.document)}return et}function Ne$2(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et&&(et==="input"&&(tt.type==="text"||tt.type==="search"||tt.type==="tel"||tt.type==="url"||tt.type==="password")||et==="textarea"||tt.contentEditable==="true")}function Oe(tt){var et=Me$1(),nt=tt.focusedElem,rt=tt.selectionRange;if(et!==nt&&nt&&nt.ownerDocument&&Le(nt.ownerDocument.documentElement,nt)){if(rt!==null&&Ne$2(nt)){if(et=rt.start,tt=rt.end,tt===void 0&&(tt=et),"selectionStart"in nt)nt.selectionStart=et,nt.selectionEnd=Math.min(tt,nt.value.length);else if(tt=(et=nt.ownerDocument||document)&&et.defaultView||window,tt.getSelection){tt=tt.getSelection();var it=nt.textContent.length,st=Math.min(rt.start,it);rt=rt.end===void 0?st:Math.min(rt.end,it),!tt.extend&&st>rt&&(it=rt,rt=st,st=it),it=Ke(nt,st);var ot=Ke(nt,rt);it&&ot&&(tt.rangeCount!==1||tt.anchorNode!==it.node||tt.anchorOffset!==it.offset||tt.focusNode!==ot.node||tt.focusOffset!==ot.offset)&&(et=et.createRange(),et.setStart(it.node,it.offset),tt.removeAllRanges(),st>rt?(tt.addRange(et),tt.extend(ot.node,ot.offset)):(et.setEnd(ot.node,ot.offset),tt.addRange(et)))}}for(et=[],tt=nt;tt=tt.parentNode;)tt.nodeType===1&&et.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<et.length;nt++)tt=et[nt],tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$2=null,Se$2=null,Te$2=!1;function Ue(tt,et,nt){var rt=nt.window===nt?nt.document:nt.nodeType===9?nt:nt.ownerDocument;Te$2||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne$2(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se$2&&Ie$1(Se$2,rt)||(Se$2=rt,rt=oe$3(Re$2,"onSelect"),0<rt.length&&(et=new td("onSelect","select",null,et,nt),tt.push({event:et,listeners:rt}),et.target=Qe)))}function Ve$1(tt,et){var nt={};return nt[tt.toLowerCase()]=et.toLowerCase(),nt["Webkit"+tt]="webkit"+et,nt["Moz"+tt]="moz"+et,nt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(tt){if(Xe[tt])return Xe[tt];if(!We[tt])return tt;var et=We[tt],nt;for(nt in et)if(et.hasOwnProperty(nt)&&nt in Ye$1)return Xe[tt]=et[nt];return tt}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tt,et){df.set(tt,et),fa(et,[tt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tt,et,nt){var rt=tt.type||"unknown-event";tt.currentTarget=nt,Ub(rt,et,void 0,tt),tt.currentTarget=null}function se$3(tt,et){et=(et&4)!==0;for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.event;rt=rt.listeners;e:{var st=void 0;if(et)for(var ot=rt.length-1;0<=ot;ot--){var at=rt[ot],lt=at.instance,ut=at.currentTarget;if(at=at.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,at,ut),st=lt}else for(ot=0;ot<rt.length;ot++){if(at=rt[ot],lt=at.instance,ut=at.currentTarget,at=at.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,at,ut),st=lt}}}if(Qb)throw tt=Rb,Qb=!1,Rb=null,tt}function D$2(tt,et){var nt=et[of];nt===void 0&&(nt=et[of]=new Set);var rt=tt+"__bubble";nt.has(rt)||(pf(et,tt,2,!1),nt.add(rt))}function qf(tt,et,nt){var rt=0;et&&(rt|=4),pf(nt,tt,rt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tt){if(!tt[rf]){tt[rf]=!0,da.forEach(function(nt){nt!=="selectionchange"&&(mf.has(nt)||qf(nt,!1,tt),qf(nt,!0,tt))});var et=tt.nodeType===9?tt:tt.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(tt,et,nt,rt){switch(jd(et)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}nt=it.bind(null,et,nt,tt),it=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(it=!0),rt?it!==void 0?tt.addEventListener(et,nt,{capture:!0,passive:it}):tt.addEventListener(et,nt,!0):it!==void 0?tt.addEventListener(et,nt,{passive:it}):tt.addEventListener(et,nt,!1)}function hd(tt,et,nt,rt,it){var st=rt;if(!(et&1)&&!(et&2)&&rt!==null)e:for(;;){if(rt===null)return;var ot=rt.tag;if(ot===3||ot===4){var at=rt.stateNode.containerInfo;if(at===it||at.nodeType===8&&at.parentNode===it)break;if(ot===4)for(ot=rt.return;ot!==null;){var lt=ot.tag;if((lt===3||lt===4)&&(lt=ot.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(lt=ot.tag,lt===5||lt===6){rt=st=ot;continue e}at=at.parentNode}}rt=rt.return}Jb(function(){var ut=st,ft=xb(nt),dt=[];e:{var ht=df.get(tt);if(ht!==void 0){var mt=td,xt=tt;switch(tt){case"keypress":if(od(nt)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":xt="focus",mt=Fd;break;case"focusout":xt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(nt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e$1:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var _t=(et&4)!==0,At=!_t&&tt==="scroll",gt=_t?ht!==null?ht+"Capture":null:ht;_t=[];for(var vt=ut,Et;vt!==null;){Et=vt;var yt=Et.stateNode;if(Et.tag===5&&yt!==null&&(Et=yt,gt!==null&&(yt=Kb(vt,gt),yt!=null&&_t.push(tf(vt,yt,Et)))),At)break;vt=vt.return}0<_t.length&&(ht=new mt(ht,xt,null,nt,ft),dt.push({event:ht,listeners:_t}))}}if(!(et&7)){e:{if(ht=tt==="mouseover"||tt==="pointerover",mt=tt==="mouseout"||tt==="pointerout",ht&&nt!==wb&&(xt=nt.relatedTarget||nt.fromElement)&&(Wc(xt)||xt[uf]))break e;if((mt||ht)&&(ht=ft.window===ft?ft:(ht=ft.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(xt=nt.relatedTarget||nt.toElement,mt=ut,xt=xt?Wc(xt):null,xt!==null&&(At=Vb(xt),xt!==At||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(mt=null,xt=ut),mt!==xt)){if(_t=Bd,yt="onMouseLeave",gt="onMouseEnter",vt="mouse",(tt==="pointerout"||tt==="pointerover")&&(_t=Td,yt="onPointerLeave",gt="onPointerEnter",vt="pointer"),At=mt==null?ht:ue$3(mt),Et=xt==null?ht:ue$3(xt),ht=new _t(yt,vt+"leave",mt,nt,ft),ht.target=At,ht.relatedTarget=Et,yt=null,Wc(ft)===ut&&(_t=new _t(gt,vt+"enter",xt,nt,ft),_t.target=Et,_t.relatedTarget=At,yt=_t),At=yt,mt&&xt)t:{for(_t=mt,gt=xt,vt=0,Et=_t;Et;Et=vf(Et))vt++;for(Et=0,yt=gt;yt;yt=vf(yt))Et++;for(;0<vt-Et;)_t=vf(_t),vt--;for(;0<Et-vt;)gt=vf(gt),Et--;for(;vt--;){if(_t===gt||gt!==null&&_t===gt.alternate)break t;_t=vf(_t),gt=vf(gt)}_t=null}else _t=null;mt!==null&&wf(dt,ht,mt,_t,!1),xt!==null&&At!==null&&wf(dt,At,xt,_t,!0)}}e:{if(ht=ut?ue$3(ut):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var wt=ve$3;else if(me$2(ht))if(we$1)wt=Fe;else{wt=De$1;var Ct=Ce$2}else(mt=ht.nodeName)&&mt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(wt=Ee$2);if(wt&&(wt=wt(tt,ut))){ne$3(dt,wt,nt,ft);break e}Ct&&Ct(tt,ht,ut),tt==="focusout"&&(Ct=ht._wrapperState)&&Ct.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(Ct=ut?ue$3(ut):window,tt){case"focusin":(me$2(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re$2=ut,Se$2=null);break;case"focusout":Se$2=Re$2=Qe=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue(dt,nt,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,nt,ft)}var Rt;if(ae$2)e:{switch(tt){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else ie$1?ge$2(tt,nt)&&(It="onCompositionEnd"):tt==="keydown"&&nt.keyCode===229&&(It="onCompositionStart");It&&(de$2&&nt.locale!=="ko"&&(ie$1||It!=="onCompositionStart"?It==="onCompositionEnd"&&ie$1&&(Rt=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Ct=oe$3(ut,It),0<Ct.length&&(It=new Ld(It,tt,null,nt,ft),dt.push({event:It,listeners:Ct}),Rt?It.data=Rt:(Rt=he$3(nt),Rt!==null&&(It.data=Rt)))),(Rt=ce$2?je$1(tt,nt):ke$1(tt,nt))&&(ut=oe$3(ut,"onBeforeInput"),0<ut.length&&(ft=new Ld("onBeforeInput","beforeinput",null,nt,ft),dt.push({event:ft,listeners:ut}),ft.data=Rt))}se$3(dt,et)})}function tf(tt,et,nt){return{instance:tt,listener:et,currentTarget:nt}}function oe$3(tt,et){for(var nt=et+"Capture",rt=[];tt!==null;){var it=tt,st=it.stateNode;it.tag===5&&st!==null&&(it=st,st=Kb(tt,nt),st!=null&&rt.unshift(tf(tt,st,it)),st=Kb(tt,et),st!=null&&rt.push(tf(tt,st,it))),tt=tt.return}return rt}function vf(tt){if(tt===null)return null;do tt=tt.return;while(tt&&tt.tag!==5);return tt||null}function wf(tt,et,nt,rt,it){for(var st=et._reactName,ot=[];nt!==null&&nt!==rt;){var at=nt,lt=at.alternate,ut=at.stateNode;if(lt!==null&&lt===rt)break;at.tag===5&&ut!==null&&(at=ut,it?(lt=Kb(nt,st),lt!=null&&ot.unshift(tf(nt,lt,at))):it||(lt=Kb(nt,st),lt!=null&&ot.push(tf(nt,lt,at)))),nt=nt.return}ot.length!==0&&tt.push({event:et,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tt){return(typeof tt=="string"?tt:""+tt).replace(xf,`
`).replace(yf,"")}function Af(tt,et,nt){if(et=zf(et),zf(tt)!==et&&nt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(tt,et){return tt==="textarea"||tt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tt){return Hf.resolve(null).then(tt).catch(If)}:Ff;function If(tt){setTimeout(function(){throw tt})}function Kf(tt,et){var nt=et,rt=0;do{var it=nt.nextSibling;if(tt.removeChild(nt),it&&it.nodeType===8)if(nt=it.data,nt==="/$"){if(rt===0){tt.removeChild(it),bd(et);return}rt--}else nt!=="$"&&nt!=="$?"&&nt!=="$!"||rt++;nt=it}while(nt);bd(et)}function Lf(tt){for(;tt!=null;tt=tt.nextSibling){var et=tt.nodeType;if(et===1||et===3)break;if(et===8){if(et=tt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return tt}function Mf(tt){tt=tt.previousSibling;for(var et=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="$"||nt==="$!"||nt==="$?"){if(et===0)return tt;et--}else nt==="/$"&&et++}tt=tt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tt){var et=tt[Of];if(et)return et;for(var nt=tt.parentNode;nt;){if(et=nt[uf]||nt[Of]){if(nt=et.alternate,et.child!==null||nt!==null&&nt.child!==null)for(tt=Mf(tt);tt!==null;){if(nt=tt[Of])return nt;tt=Mf(tt)}return et}tt=nt,nt=tt.parentNode}return null}function Cb(tt){return tt=tt[Of]||tt[uf],!tt||tt.tag!==5&&tt.tag!==6&&tt.tag!==13&&tt.tag!==3?null:tt}function ue$3(tt){if(tt.tag===5||tt.tag===6)return tt.stateNode;throw Error(p$5(33))}function Db(tt){return tt[Pf]||null}var Sf=[],Tf=-1;function Uf(tt){return{current:tt}}function E$2(tt){0>Tf||(tt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(tt,et){Tf++,Sf[Tf]=tt.current,tt.current=et}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tt,et){var nt=tt.type.contextTypes;if(!nt)return Vf;var rt=tt.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var it={},st;for(st in nt)it[st]=et[st];return rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=et,tt.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(tt){return tt=tt.childContextTypes,tt!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(tt,et,nt){if(H$3.current!==Vf)throw Error(p$5(168));G$3(H$3,et),G$3(Wf,nt)}function bg(tt,et,nt){var rt=tt.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return nt;rt=rt.getChildContext();for(var it in rt)if(!(it in et))throw Error(p$5(108,Ra(tt)||"Unknown",it));return A$4({},nt,rt)}function cg(tt){return tt=(tt=tt.stateNode)&&tt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$3(H$3,tt),G$3(Wf,Wf.current),!0}function dg(tt,et,nt){var rt=tt.stateNode;if(!rt)throw Error(p$5(169));nt?(tt=bg(tt,et,Xf),rt.__reactInternalMemoizedMergedChildContext=tt,E$2(Wf),E$2(H$3),G$3(H$3,tt)):E$2(Wf),G$3(Wf,nt)}var eg=null,fg=!1,gg=!1;function hg(tt){eg===null?eg=[tt]:eg.push(tt)}function ig(tt){fg=!0,hg(tt)}function jg(){if(!gg&&eg!==null){gg=!0;var tt=0,et=C$1;try{var nt=eg;for(C$1=1;tt<nt.length;tt++){var rt=nt[tt];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(tt+1)),ac(fc,jg),it}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tt,et){kg[lg++]=ng,kg[lg++]=mg,mg=tt,ng=et}function ug(tt,et,nt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tt;var rt=rg;tt=sg;var it=32-oc(rt)-1;rt&=~(1<<it),nt+=1;var st=32-oc(et)+it;if(30<st){var ot=it-it%5;st=(rt&(1<<ot)-1).toString(32),rt>>=ot,it-=ot,rg=1<<32-oc(et)+it|nt<<it|rt,sg=st+tt}else rg=1<<st|nt<<it|rt,sg=tt}function vg(tt){tt.return!==null&&(tg(tt,1),ug(tt,1,0))}function wg(tt){for(;tt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(tt,et){var nt=Bg(5,null,null,0);nt.elementType="DELETED",nt.stateNode=et,nt.return=tt,et=tt.deletions,et===null?(tt.deletions=[nt],tt.flags|=16):et.push(nt)}function Cg(tt,et){switch(tt.tag){case 5:var nt=tt.type;return et=et.nodeType!==1||nt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(tt.stateNode=et,xg=tt,yg=Lf(et.firstChild),!0):!1;case 6:return et=tt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(tt.stateNode=et,xg=tt,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(nt=qg!==null?{id:rg,overflow:sg}:null,tt.memoizedState={dehydrated:et,treeContext:nt,retryLane:1073741824},nt=Bg(18,null,null,0),nt.stateNode=et,nt.return=tt,tt.child=nt,xg=tt,yg=null,!0):!1;default:return!1}}function Dg(tt){return(tt.mode&1)!==0&&(tt.flags&128)===0}function Eg(tt){if(I$3){var et=yg;if(et){var nt=et;if(!Cg(tt,et)){if(Dg(tt))throw Error(p$5(418));et=Lf(nt.nextSibling);var rt=xg;et&&Cg(tt,et)?Ag(rt,nt):(tt.flags=tt.flags&-4097|2,I$3=!1,xg=tt)}}else{if(Dg(tt))throw Error(p$5(418));tt.flags=tt.flags&-4097|2,I$3=!1,xg=tt}}}function Fg(tt){for(tt=tt.return;tt!==null&&tt.tag!==5&&tt.tag!==3&&tt.tag!==13;)tt=tt.return;xg=tt}function Gg(tt){if(tt!==xg)return!1;if(!I$3)return Fg(tt),I$3=!0,!1;var et;if((et=tt.tag!==3)&&!(et=tt.tag!==5)&&(et=tt.type,et=et!=="head"&&et!=="body"&&!Ef(tt.type,tt.memoizedProps)),et&&(et=yg)){if(Dg(tt))throw Hg(),Error(p$5(418));for(;et;)Ag(tt,et),et=Lf(et.nextSibling)}if(Fg(tt),tt.tag===13){if(tt=tt.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$5(317));e:{for(tt=tt.nextSibling,et=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="/$"){if(et===0){yg=Lf(tt.nextSibling);break e}et--}else nt!=="$"&&nt!=="$!"&&nt!=="$?"||et++}tt=tt.nextSibling}yg=null}}else yg=xg?Lf(tt.stateNode.nextSibling):null;return!0}function Hg(){for(var tt=yg;tt;)tt=Lf(tt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(tt){zg===null?zg=[tt]:zg.push(tt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tt,et){if(tt&&tt.defaultProps){et=A$4({},et),tt=tt.defaultProps;for(var nt in tt)et[nt]===void 0&&(et[nt]=tt[nt]);return et}return et}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(tt){var et=Mg.current;E$2(Mg),tt._currentValue=et}function Sg(tt,et,nt){for(;tt!==null;){var rt=tt.alternate;if((tt.childLanes&et)!==et?(tt.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),tt===nt)break;tt=tt.return}}function Tg(tt,et){Ng=tt,Pg=Og=null,tt=tt.dependencies,tt!==null&&tt.firstContext!==null&&(tt.lanes&et&&(Ug=!0),tt.firstContext=null)}function Vg(tt){var et=tt._currentValue;if(Pg!==tt)if(tt={context:tt,memoizedValue:et,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=tt,Ng.dependencies={lanes:0,firstContext:tt}}else Og=Og.next=tt;return et}var Wg=null;function Xg(tt){Wg===null?Wg=[tt]:Wg.push(tt)}function Yg(tt,et,nt,rt){var it=et.interleaved;return it===null?(nt.next=nt,Xg(et)):(nt.next=it.next,it.next=nt),et.interleaved=nt,Zg(tt,rt)}function Zg(tt,et){tt.lanes|=et;var nt=tt.alternate;for(nt!==null&&(nt.lanes|=et),nt=tt,tt=tt.return;tt!==null;)tt.childLanes|=et,nt=tt.alternate,nt!==null&&(nt.childLanes|=et),nt=tt,tt=tt.return;return nt.tag===3?nt.stateNode:null}var $g=!1;function ah(tt){tt.updateQueue={baseState:tt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(tt,et){tt=tt.updateQueue,et.updateQueue===tt&&(et.updateQueue={baseState:tt.baseState,firstBaseUpdate:tt.firstBaseUpdate,lastBaseUpdate:tt.lastBaseUpdate,shared:tt.shared,effects:tt.effects})}function ch(tt,et){return{eventTime:tt,lane:et,tag:0,payload:null,callback:null,next:null}}function dh(tt,et,nt){var rt=tt.updateQueue;if(rt===null)return null;if(rt=rt.shared,K$1&2){var it=rt.pending;return it===null?et.next=et:(et.next=it.next,it.next=et),rt.pending=et,Zg(tt,nt)}return it=rt.interleaved,it===null?(et.next=et,Xg(rt)):(et.next=it.next,it.next=et),rt.interleaved=et,Zg(tt,nt)}function eh(tt,et,nt){if(et=et.updateQueue,et!==null&&(et=et.shared,(nt&4194240)!==0)){var rt=et.lanes;rt&=tt.pendingLanes,nt|=rt,et.lanes=nt,Cc(tt,nt)}}function fh(tt,et){var nt=tt.updateQueue,rt=tt.alternate;if(rt!==null&&(rt=rt.updateQueue,nt===rt)){var it=null,st=null;if(nt=nt.firstBaseUpdate,nt!==null){do{var ot={eventTime:nt.eventTime,lane:nt.lane,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null};st===null?it=st=ot:st=st.next=ot,nt=nt.next}while(nt!==null);st===null?it=st=et:st=st.next=et}else it=st=et;nt={baseState:rt.baseState,firstBaseUpdate:it,lastBaseUpdate:st,shared:rt.shared,effects:rt.effects},tt.updateQueue=nt;return}tt=nt.lastBaseUpdate,tt===null?nt.firstBaseUpdate=et:tt.next=et,nt.lastBaseUpdate=et}function gh(tt,et,nt,rt){var it=tt.updateQueue;$g=!1;var st=it.firstBaseUpdate,ot=it.lastBaseUpdate,at=it.shared.pending;if(at!==null){it.shared.pending=null;var lt=at,ut=lt.next;lt.next=null,ot===null?st=ut:ot.next=ut,ot=lt;var ft=tt.alternate;ft!==null&&(ft=ft.updateQueue,at=ft.lastBaseUpdate,at!==ot&&(at===null?ft.firstBaseUpdate=ut:at.next=ut,ft.lastBaseUpdate=lt))}if(st!==null){var dt=it.baseState;ot=0,ft=ut=lt=null,at=st;do{var ht=at.lane,mt=at.eventTime;if((rt&ht)===ht){ft!==null&&(ft=ft.next={eventTime:mt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var xt=tt,_t=at;switch(ht=et,mt=nt,_t.tag){case 1:if(xt=_t.payload,typeof xt=="function"){dt=xt.call(mt,dt,ht);break e}dt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=_t.payload,ht=typeof xt=="function"?xt.call(mt,dt,ht):xt,ht==null)break e;dt=A$4({},dt,ht);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(tt.flags|=64,ht=it.effects,ht===null?it.effects=[at]:ht.push(at))}else mt={eventTime:mt,lane:ht,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ft===null?(ut=ft=mt,lt=dt):ft=ft.next=mt,ot|=ht;if(at=at.next,at===null){if(at=it.shared.pending,at===null)break;ht=at,at=ht.next,ht.next=null,it.lastBaseUpdate=ht,it.shared.pending=null}}while(1);if(ft===null&&(lt=dt),it.baseState=lt,it.firstBaseUpdate=ut,it.lastBaseUpdate=ft,et=it.shared.interleaved,et!==null){it=et;do ot|=it.lane,it=it.next;while(it!==et)}else st===null&&(it.shared.lanes=0);hh|=ot,tt.lanes=ot,tt.memoizedState=dt}}function ih(tt,et,nt){if(tt=et.effects,et.effects=null,tt!==null)for(et=0;et<tt.length;et++){var rt=tt[et],it=rt.callback;if(it!==null){if(rt.callback=null,rt=nt,typeof it!="function")throw Error(p$5(191,it));it.call(rt)}}}var jh=new aa.Component().refs;function kh(tt,et,nt,rt){et=tt.memoizedState,nt=nt(rt,et),nt=nt==null?et:A$4({},et,nt),tt.memoizedState=nt,tt.lanes===0&&(tt.updateQueue.baseState=nt)}var nh={isMounted:function(tt){return(tt=tt._reactInternals)?Vb(tt)===tt:!1},enqueueSetState:function(tt,et,nt){tt=tt._reactInternals;var rt=L$4(),it=lh(tt),st=ch(rt,it);st.payload=et,nt!=null&&(st.callback=nt),et=dh(tt,st,it),et!==null&&(mh(et,tt,it,rt),eh(et,tt,it))},enqueueReplaceState:function(tt,et,nt){tt=tt._reactInternals;var rt=L$4(),it=lh(tt),st=ch(rt,it);st.tag=1,st.payload=et,nt!=null&&(st.callback=nt),et=dh(tt,st,it),et!==null&&(mh(et,tt,it,rt),eh(et,tt,it))},enqueueForceUpdate:function(tt,et){tt=tt._reactInternals;var nt=L$4(),rt=lh(tt),it=ch(nt,rt);it.tag=2,et!=null&&(it.callback=et),et=dh(tt,it,rt),et!==null&&(mh(et,tt,rt,nt),eh(et,tt,rt))}};function oh(tt,et,nt,rt,it,st,ot){return tt=tt.stateNode,typeof tt.shouldComponentUpdate=="function"?tt.shouldComponentUpdate(rt,st,ot):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(nt,rt)||!Ie$1(it,st):!0}function ph(tt,et,nt){var rt=!1,it=Vf,st=et.contextType;return typeof st=="object"&&st!==null?st=Vg(st):(it=Zf(et)?Xf:H$3.current,rt=et.contextTypes,st=(rt=rt!=null)?Yf(tt,it):Vf),et=new et(nt,st),tt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=nh,tt.stateNode=et,et._reactInternals=tt,rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=it,tt.__reactInternalMemoizedMaskedChildContext=st),et}function qh(tt,et,nt,rt){tt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(nt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(nt,rt),et.state!==tt&&nh.enqueueReplaceState(et,et.state,null)}function rh(tt,et,nt,rt){var it=tt.stateNode;it.props=nt,it.state=tt.memoizedState,it.refs=jh,ah(tt);var st=et.contextType;typeof st=="object"&&st!==null?it.context=Vg(st):(st=Zf(et)?Xf:H$3.current,it.context=Yf(tt,st)),it.state=tt.memoizedState,st=et.getDerivedStateFromProps,typeof st=="function"&&(kh(tt,et,st,nt),it.state=tt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(et=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),et!==it.state&&nh.enqueueReplaceState(it,it.state,null),gh(tt,nt,it,rt),it.state=tt.memoizedState),typeof it.componentDidMount=="function"&&(tt.flags|=4194308)}function sh(tt,et,nt){if(tt=nt.ref,tt!==null&&typeof tt!="function"&&typeof tt!="object"){if(nt._owner){if(nt=nt._owner,nt){if(nt.tag!==1)throw Error(p$5(309));var rt=nt.stateNode}if(!rt)throw Error(p$5(147,tt));var it=rt,st=""+tt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===st?et.ref:(et=function(ot){var at=it.refs;at===jh&&(at=it.refs={}),ot===null?delete at[st]:at[st]=ot},et._stringRef=st,et)}if(typeof tt!="string")throw Error(p$5(284));if(!nt._owner)throw Error(p$5(290,tt))}return tt}function th(tt,et){throw tt=Object.prototype.toString.call(et),Error(p$5(31,tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt))}function uh(tt){var et=tt._init;return et(tt._payload)}function vh(tt){function et(gt,vt){if(tt){var Et=gt.deletions;Et===null?(gt.deletions=[vt],gt.flags|=16):Et.push(vt)}}function nt(gt,vt){if(!tt)return null;for(;vt!==null;)et(gt,vt),vt=vt.sibling;return null}function rt(gt,vt){for(gt=new Map;vt!==null;)vt.key!==null?gt.set(vt.key,vt):gt.set(vt.index,vt),vt=vt.sibling;return gt}function it(gt,vt){return gt=wh(gt,vt),gt.index=0,gt.sibling=null,gt}function st(gt,vt,Et){return gt.index=Et,tt?(Et=gt.alternate,Et!==null?(Et=Et.index,Et<vt?(gt.flags|=2,vt):Et):(gt.flags|=2,vt)):(gt.flags|=1048576,vt)}function ot(gt){return tt&&gt.alternate===null&&(gt.flags|=2),gt}function at(gt,vt,Et,yt){return vt===null||vt.tag!==6?(vt=xh(Et,gt.mode,yt),vt.return=gt,vt):(vt=it(vt,Et),vt.return=gt,vt)}function lt(gt,vt,Et,yt){var wt=Et.type;return wt===ya?ft(gt,vt,Et.props.children,yt,Et.key):vt!==null&&(vt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===vt.type)?(yt=it(vt,Et.props),yt.ref=sh(gt,vt,Et),yt.return=gt,yt):(yt=yh(Et.type,Et.key,Et.props,null,gt.mode,yt),yt.ref=sh(gt,vt,Et),yt.return=gt,yt)}function ut(gt,vt,Et,yt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Et.containerInfo||vt.stateNode.implementation!==Et.implementation?(vt=zh(Et,gt.mode,yt),vt.return=gt,vt):(vt=it(vt,Et.children||[]),vt.return=gt,vt)}function ft(gt,vt,Et,yt,wt){return vt===null||vt.tag!==7?(vt=Ah(Et,gt.mode,yt,wt),vt.return=gt,vt):(vt=it(vt,Et),vt.return=gt,vt)}function dt(gt,vt,Et){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=xh(""+vt,gt.mode,Et),vt.return=gt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return Et=yh(vt.type,vt.key,vt.props,null,gt.mode,Et),Et.ref=sh(gt,null,vt),Et.return=gt,Et;case wa:return vt=zh(vt,gt.mode,Et),vt.return=gt,vt;case Ha:var yt=vt._init;return dt(gt,yt(vt._payload),Et)}if(eb(vt)||Ka(vt))return vt=Ah(vt,gt.mode,Et,null),vt.return=gt,vt;th(gt,vt)}return null}function ht(gt,vt,Et,yt){var wt=vt!==null?vt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return wt!==null?null:at(gt,vt,""+Et,yt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===wt?lt(gt,vt,Et,yt):null;case wa:return Et.key===wt?ut(gt,vt,Et,yt):null;case Ha:return wt=Et._init,ht(gt,vt,wt(Et._payload),yt)}if(eb(Et)||Ka(Et))return wt!==null?null:ft(gt,vt,Et,yt,null);th(gt,Et)}return null}function mt(gt,vt,Et,yt,wt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return gt=gt.get(Et)||null,at(vt,gt,""+yt,wt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return gt=gt.get(yt.key===null?Et:yt.key)||null,lt(vt,gt,yt,wt);case wa:return gt=gt.get(yt.key===null?Et:yt.key)||null,ut(vt,gt,yt,wt);case Ha:var Ct=yt._init;return mt(gt,vt,Et,Ct(yt._payload),wt)}if(eb(yt)||Ka(yt))return gt=gt.get(Et)||null,ft(vt,gt,yt,wt,null);th(vt,yt)}return null}function xt(gt,vt,Et,yt){for(var wt=null,Ct=null,Rt=vt,It=vt=0,$t=null;Rt!==null&&It<Et.length;It++){Rt.index>It?($t=Rt,Rt=null):$t=Rt.sibling;var Ft=ht(gt,Rt,Et[It],yt);if(Ft===null){Rt===null&&(Rt=$t);break}tt&&Rt&&Ft.alternate===null&&et(gt,Rt),vt=st(Ft,vt,It),Ct===null?wt=Ft:Ct.sibling=Ft,Ct=Ft,Rt=$t}if(It===Et.length)return nt(gt,Rt),I$3&&tg(gt,It),wt;if(Rt===null){for(;It<Et.length;It++)Rt=dt(gt,Et[It],yt),Rt!==null&&(vt=st(Rt,vt,It),Ct===null?wt=Rt:Ct.sibling=Rt,Ct=Rt);return I$3&&tg(gt,It),wt}for(Rt=rt(gt,Rt);It<Et.length;It++)$t=mt(Rt,gt,It,Et[It],yt),$t!==null&&(tt&&$t.alternate!==null&&Rt.delete($t.key===null?It:$t.key),vt=st($t,vt,It),Ct===null?wt=$t:Ct.sibling=$t,Ct=$t);return tt&&Rt.forEach(function(Bt){return et(gt,Bt)}),I$3&&tg(gt,It),wt}function _t(gt,vt,Et,yt){var wt=Ka(Et);if(typeof wt!="function")throw Error(p$5(150));if(Et=wt.call(Et),Et==null)throw Error(p$5(151));for(var Ct=wt=null,Rt=vt,It=vt=0,$t=null,Ft=Et.next();Rt!==null&&!Ft.done;It++,Ft=Et.next()){Rt.index>It?($t=Rt,Rt=null):$t=Rt.sibling;var Bt=ht(gt,Rt,Ft.value,yt);if(Bt===null){Rt===null&&(Rt=$t);break}tt&&Rt&&Bt.alternate===null&&et(gt,Rt),vt=st(Bt,vt,It),Ct===null?wt=Bt:Ct.sibling=Bt,Ct=Bt,Rt=$t}if(Ft.done)return nt(gt,Rt),I$3&&tg(gt,It),wt;if(Rt===null){for(;!Ft.done;It++,Ft=Et.next())Ft=dt(gt,Ft.value,yt),Ft!==null&&(vt=st(Ft,vt,It),Ct===null?wt=Ft:Ct.sibling=Ft,Ct=Ft);return I$3&&tg(gt,It),wt}for(Rt=rt(gt,Rt);!Ft.done;It++,Ft=Et.next())Ft=mt(Rt,gt,It,Ft.value,yt),Ft!==null&&(tt&&Ft.alternate!==null&&Rt.delete(Ft.key===null?It:Ft.key),vt=st(Ft,vt,It),Ct===null?wt=Ft:Ct.sibling=Ft,Ct=Ft);return tt&&Rt.forEach(function(Nt){return et(gt,Nt)}),I$3&&tg(gt,It),wt}function At(gt,vt,Et,yt){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var wt=Et.key,Ct=vt;Ct!==null;){if(Ct.key===wt){if(wt=Et.type,wt===ya){if(Ct.tag===7){nt(gt,Ct.sibling),vt=it(Ct,Et.props.children),vt.return=gt,gt=vt;break e}}else if(Ct.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===Ct.type){nt(gt,Ct.sibling),vt=it(Ct,Et.props),vt.ref=sh(gt,Ct,Et),vt.return=gt,gt=vt;break e}nt(gt,Ct);break}else et(gt,Ct);Ct=Ct.sibling}Et.type===ya?(vt=Ah(Et.props.children,gt.mode,yt,Et.key),vt.return=gt,gt=vt):(yt=yh(Et.type,Et.key,Et.props,null,gt.mode,yt),yt.ref=sh(gt,vt,Et),yt.return=gt,gt=yt)}return ot(gt);case wa:e:{for(Ct=Et.key;vt!==null;){if(vt.key===Ct)if(vt.tag===4&&vt.stateNode.containerInfo===Et.containerInfo&&vt.stateNode.implementation===Et.implementation){nt(gt,vt.sibling),vt=it(vt,Et.children||[]),vt.return=gt,gt=vt;break e}else{nt(gt,vt);break}else et(gt,vt);vt=vt.sibling}vt=zh(Et,gt.mode,yt),vt.return=gt,gt=vt}return ot(gt);case Ha:return Ct=Et._init,At(gt,vt,Ct(Et._payload),yt)}if(eb(Et))return xt(gt,vt,Et,yt);if(Ka(Et))return _t(gt,vt,Et,yt);th(gt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,vt!==null&&vt.tag===6?(nt(gt,vt.sibling),vt=it(vt,Et),vt.return=gt,gt=vt):(nt(gt,vt),vt=xh(Et,gt.mode,yt),vt.return=gt,gt=vt),ot(gt)):nt(gt,vt)}return At}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(tt){if(tt===Dh)throw Error(p$5(174));return tt}function Ih(tt,et){switch(G$3(Gh,et),G$3(Fh,tt),G$3(Eh,Dh),tt=et.nodeType,tt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:tt=tt===8?et.parentNode:et,et=tt.namespaceURI||null,tt=tt.tagName,et=lb(et,tt)}E$2(Eh),G$3(Eh,et)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(tt){Hh(Gh.current);var et=Hh(Eh.current),nt=lb(et,tt.type);et!==nt&&(G$3(Fh,tt),G$3(Eh,nt))}function Lh(tt){Fh.current===tt&&(E$2(Eh),E$2(Fh))}var M$3=Uf(0);function Mh(tt){for(var et=tt;et!==null;){if(et.tag===13){var nt=et.memoizedState;if(nt!==null&&(nt=nt.dehydrated,nt===null||nt.data==="$?"||nt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Nh=[];function Oh(){for(var tt=0;tt<Nh.length;tt++)Nh[tt]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$5(321))}function Wh(tt,et){if(et===null)return!1;for(var nt=0;nt<et.length&&nt<tt.length;nt++)if(!He$1(tt[nt],et[nt]))return!1;return!0}function Xh(tt,et,nt,rt,it,st){if(Rh=st,N$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Ph.current=tt===null||tt.memoizedState===null?Yh:Zh,tt=nt(rt,it),Th){st=0;do{if(Th=!1,Uh=0,25<=st)throw Error(p$5(301));st+=1,P$3=O$2=null,et.updateQueue=null,Ph.current=$h,tt=nt(rt,it)}while(Th)}if(Ph.current=ai,et=O$2!==null&&O$2.next!==null,Rh=0,P$3=O$2=N$2=null,Sh=!1,et)throw Error(p$5(300));return tt}function bi(){var tt=Uh!==0;return Uh=0,tt}function ci(){var tt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$2.memoizedState=P$3=tt:P$3=P$3.next=tt,P$3}function di(){if(O$2===null){var tt=N$2.alternate;tt=tt!==null?tt.memoizedState:null}else tt=O$2.next;var et=P$3===null?N$2.memoizedState:P$3.next;if(et!==null)P$3=et,O$2=tt;else{if(tt===null)throw Error(p$5(310));O$2=tt,tt={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$3===null?N$2.memoizedState=P$3=tt:P$3=P$3.next=tt}return P$3}function ei(tt,et){return typeof et=="function"?et(tt):et}function fi(tt){var et=di(),nt=et.queue;if(nt===null)throw Error(p$5(311));nt.lastRenderedReducer=tt;var rt=O$2,it=rt.baseQueue,st=nt.pending;if(st!==null){if(it!==null){var ot=it.next;it.next=st.next,st.next=ot}rt.baseQueue=it=st,nt.pending=null}if(it!==null){st=it.next,rt=rt.baseState;var at=ot=null,lt=null,ut=st;do{var ft=ut.lane;if((Rh&ft)===ft)lt!==null&&(lt=lt.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),rt=ut.hasEagerState?ut.eagerState:tt(rt,ut.action);else{var dt={lane:ft,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};lt===null?(at=lt=dt,ot=rt):lt=lt.next=dt,N$2.lanes|=ft,hh|=ft}ut=ut.next}while(ut!==null&&ut!==st);lt===null?ot=rt:lt.next=at,He$1(rt,et.memoizedState)||(Ug=!0),et.memoizedState=rt,et.baseState=ot,et.baseQueue=lt,nt.lastRenderedState=rt}if(tt=nt.interleaved,tt!==null){it=tt;do st=it.lane,N$2.lanes|=st,hh|=st,it=it.next;while(it!==tt)}else it===null&&(nt.lanes=0);return[et.memoizedState,nt.dispatch]}function gi(tt){var et=di(),nt=et.queue;if(nt===null)throw Error(p$5(311));nt.lastRenderedReducer=tt;var rt=nt.dispatch,it=nt.pending,st=et.memoizedState;if(it!==null){nt.pending=null;var ot=it=it.next;do st=tt(st,ot.action),ot=ot.next;while(ot!==it);He$1(st,et.memoizedState)||(Ug=!0),et.memoizedState=st,et.baseQueue===null&&(et.baseState=st),nt.lastRenderedState=st}return[st,rt]}function hi(){}function ii(tt,et){var nt=N$2,rt=di(),it=et(),st=!He$1(rt.memoizedState,it);if(st&&(rt.memoizedState=it,Ug=!0),rt=rt.queue,ji(ki.bind(null,nt,rt,tt),[tt]),rt.getSnapshot!==et||st||P$3!==null&&P$3.memoizedState.tag&1){if(nt.flags|=2048,li(9,mi.bind(null,nt,rt,it,et),void 0,null),R$1===null)throw Error(p$5(349));Rh&30||ni(nt,et,it)}return it}function ni(tt,et,nt){tt.flags|=16384,tt={getSnapshot:et,value:nt},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.stores=[tt]):(nt=et.stores,nt===null?et.stores=[tt]:nt.push(tt))}function mi(tt,et,nt,rt){et.value=nt,et.getSnapshot=rt,oi(et)&&pi(tt)}function ki(tt,et,nt){return nt(function(){oi(et)&&pi(tt)})}function oi(tt){var et=tt.getSnapshot;tt=tt.value;try{var nt=et();return!He$1(tt,nt)}catch{return!0}}function pi(tt){var et=Zg(tt,1);et!==null&&mh(et,tt,1,-1)}function qi(tt){var et=ci();return typeof tt=="function"&&(tt=tt()),et.memoizedState=et.baseState=tt,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:tt},et.queue=tt,tt=tt.dispatch=ri.bind(null,N$2,tt),[et.memoizedState,tt]}function li(tt,et,nt,rt){return tt={tag:tt,create:et,destroy:nt,deps:rt,next:null},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.lastEffect=tt.next=tt):(nt=et.lastEffect,nt===null?et.lastEffect=tt.next=tt:(rt=nt.next,nt.next=tt,tt.next=rt,et.lastEffect=tt)),tt}function si(){return di().memoizedState}function ti(tt,et,nt,rt){var it=ci();N$2.flags|=tt,it.memoizedState=li(1|et,nt,void 0,rt===void 0?null:rt)}function ui(tt,et,nt,rt){var it=di();rt=rt===void 0?null:rt;var st=void 0;if(O$2!==null){var ot=O$2.memoizedState;if(st=ot.destroy,rt!==null&&Wh(rt,ot.deps)){it.memoizedState=li(et,nt,st,rt);return}}N$2.flags|=tt,it.memoizedState=li(1|et,nt,st,rt)}function vi(tt,et){return ti(8390656,8,tt,et)}function ji(tt,et){return ui(2048,8,tt,et)}function wi(tt,et){return ui(4,2,tt,et)}function xi(tt,et){return ui(4,4,tt,et)}function yi(tt,et){if(typeof et=="function")return tt=tt(),et(tt),function(){et(null)};if(et!=null)return tt=tt(),et.current=tt,function(){et.current=null}}function zi(tt,et,nt){return nt=nt!=null?nt.concat([tt]):null,ui(4,4,yi.bind(null,et,tt),nt)}function Ai(){}function Bi(tt,et){var nt=di();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Wh(et,rt[1])?rt[0]:(nt.memoizedState=[tt,et],tt)}function Ci(tt,et){var nt=di();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Wh(et,rt[1])?rt[0]:(tt=tt(),nt.memoizedState=[tt,et],tt)}function Di(tt,et,nt){return Rh&21?(He$1(nt,et)||(nt=yc(),N$2.lanes|=nt,hh|=nt,tt.baseState=!0),et):(tt.baseState&&(tt.baseState=!1,Ug=!0),tt.memoizedState=nt)}function Ei(tt,et){var nt=C$1;C$1=nt!==0&&4>nt?nt:4,tt(!0);var rt=Qh.transition;Qh.transition={};try{tt(!1),et()}finally{C$1=nt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(tt,et,nt){var rt=lh(tt);if(nt={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null},Hi(tt))Ii(et,nt);else if(nt=Yg(tt,et,nt,rt),nt!==null){var it=L$4();mh(nt,tt,rt,it),Ji(nt,et,rt)}}function ri(tt,et,nt){var rt=lh(tt),it={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null};if(Hi(tt))Ii(et,it);else{var st=tt.alternate;if(tt.lanes===0&&(st===null||st.lanes===0)&&(st=et.lastRenderedReducer,st!==null))try{var ot=et.lastRenderedState,at=st(ot,nt);if(it.hasEagerState=!0,it.eagerState=at,He$1(at,ot)){var lt=et.interleaved;lt===null?(it.next=it,Xg(et)):(it.next=lt.next,lt.next=it),et.interleaved=it;return}}catch{}finally{}nt=Yg(tt,et,it,rt),nt!==null&&(it=L$4(),mh(nt,tt,rt,it),Ji(nt,et,rt))}}function Hi(tt){var et=tt.alternate;return tt===N$2||et!==null&&et===N$2}function Ii(tt,et){Th=Sh=!0;var nt=tt.pending;nt===null?et.next=et:(et.next=nt.next,nt.next=et),tt.pending=et}function Ji(tt,et,nt){if(nt&4194240){var rt=et.lanes;rt&=tt.pendingLanes,nt|=rt,et.lanes=nt,Cc(tt,nt)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(tt,et){return ci().memoizedState=[tt,et===void 0?null:et],tt},useContext:Vg,useEffect:vi,useImperativeHandle:function(tt,et,nt){return nt=nt!=null?nt.concat([tt]):null,ti(4194308,4,yi.bind(null,et,tt),nt)},useLayoutEffect:function(tt,et){return ti(4194308,4,tt,et)},useInsertionEffect:function(tt,et){return ti(4,2,tt,et)},useMemo:function(tt,et){var nt=ci();return et=et===void 0?null:et,tt=tt(),nt.memoizedState=[tt,et],tt},useReducer:function(tt,et,nt){var rt=ci();return et=nt!==void 0?nt(et):et,rt.memoizedState=rt.baseState=et,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:et},rt.queue=tt,tt=tt.dispatch=Gi.bind(null,N$2,tt),[rt.memoizedState,tt]},useRef:function(tt){var et=ci();return tt={current:tt},et.memoizedState=tt},useState:qi,useDebugValue:Ai,useDeferredValue:function(tt){return ci().memoizedState=tt},useTransition:function(){var tt=qi(!1),et=tt[0];return tt=Ei.bind(null,tt[1]),ci().memoizedState=tt,[et,tt]},useMutableSource:function(){},useSyncExternalStore:function(tt,et,nt){var rt=N$2,it=ci();if(I$3){if(nt===void 0)throw Error(p$5(407));nt=nt()}else{if(nt=et(),R$1===null)throw Error(p$5(349));Rh&30||ni(rt,et,nt)}it.memoizedState=nt;var st={value:nt,getSnapshot:et};return it.queue=st,vi(ki.bind(null,rt,st,tt),[tt]),rt.flags|=2048,li(9,mi.bind(null,rt,st,nt,et),void 0,null),nt},useId:function(){var tt=ci(),et=R$1.identifierPrefix;if(I$3){var nt=sg,rt=rg;nt=(rt&~(1<<32-oc(rt)-1)).toString(32)+nt,et=":"+et+"R"+nt,nt=Uh++,0<nt&&(et+="H"+nt.toString(32)),et+=":"}else nt=Vh++,et=":"+et+"r"+nt.toString(32)+":";return tt.memoizedState=et},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(tt){var et=di();return Di(et,O$2.memoizedState,tt)},useTransition:function(){var tt=fi(ei)[0],et=di().memoizedState;return[tt,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(tt){var et=di();return O$2===null?et.memoizedState=tt:Di(et,O$2.memoizedState,tt)},useTransition:function(){var tt=gi(ei)[0],et=di().memoizedState;return[tt,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(tt,et){try{var nt="",rt=et;do nt+=Pa(rt),rt=rt.return;while(rt);var it=nt}catch(st){it=`
Error generating stack: `+st.message+`
`+st.stack}return{value:tt,source:et,stack:it,digest:null}}function Li(tt,et,nt){return{value:tt,source:null,stack:nt??null,digest:et??null}}function Mi(tt,et){try{console.error(et.value)}catch(nt){setTimeout(function(){throw nt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(tt,et,nt){nt=ch(-1,nt),nt.tag=3,nt.payload={element:null};var rt=et.value;return nt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(tt,et)},nt}function Ri(tt,et,nt){nt=ch(-1,nt),nt.tag=3;var rt=tt.type.getDerivedStateFromError;if(typeof rt=="function"){var it=et.value;nt.payload=function(){return rt(it)},nt.callback=function(){Mi(tt,et)}}var st=tt.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(nt.callback=function(){Mi(tt,et),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=et.stack;this.componentDidCatch(et.value,{componentStack:ot!==null?ot:""})}),nt}function Ti(tt,et,nt){var rt=tt.pingCache;if(rt===null){rt=tt.pingCache=new Ni;var it=new Set;rt.set(et,it)}else it=rt.get(et),it===void 0&&(it=new Set,rt.set(et,it));it.has(nt)||(it.add(nt),tt=Ui.bind(null,tt,et,nt),et.then(tt,tt))}function Vi(tt){do{var et;if((et=tt.tag===13)&&(et=tt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return tt;tt=tt.return}while(tt!==null);return null}function Wi(tt,et,nt,rt,it){return tt.mode&1?(tt.flags|=65536,tt.lanes=it,tt):(tt===et?tt.flags|=65536:(tt.flags|=128,nt.flags|=131072,nt.flags&=-52805,nt.tag===1&&(nt.alternate===null?nt.tag=17:(et=ch(-1,1),et.tag=2,dh(nt,et,1))),nt.lanes|=1),tt)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(tt,et,nt,rt){et.child=tt===null?Ch(et,null,nt,rt):Bh(et,tt.child,nt,rt)}function Zi(tt,et,nt,rt,it){nt=nt.render;var st=et.ref;return Tg(et,it),rt=Xh(tt,et,nt,rt,st,it),nt=bi(),tt!==null&&!Ug?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,$i(tt,et,it)):(I$3&&nt&&vg(et),et.flags|=1,Yi(tt,et,rt,it),et.child)}function aj(tt,et,nt,rt,it){if(tt===null){var st=nt.type;return typeof st=="function"&&!bj(st)&&st.defaultProps===void 0&&nt.compare===null&&nt.defaultProps===void 0?(et.tag=15,et.type=st,cj(tt,et,st,rt,it)):(tt=yh(nt.type,null,rt,et,et.mode,it),tt.ref=et.ref,tt.return=et,et.child=tt)}if(st=tt.child,!(tt.lanes&it)){var ot=st.memoizedProps;if(nt=nt.compare,nt=nt!==null?nt:Ie$1,nt(ot,rt)&&tt.ref===et.ref)return $i(tt,et,it)}return et.flags|=1,tt=wh(st,rt),tt.ref=et.ref,tt.return=et,et.child=tt}function cj(tt,et,nt,rt,it){if(tt!==null){var st=tt.memoizedProps;if(Ie$1(st,rt)&&tt.ref===et.ref)if(Ug=!1,et.pendingProps=rt=st,(tt.lanes&it)!==0)tt.flags&131072&&(Ug=!0);else return et.lanes=tt.lanes,$i(tt,et,it)}return dj(tt,et,nt,rt,it)}function ej(tt,et,nt){var rt=et.pendingProps,it=rt.children,st=tt!==null?tt.memoizedState:null;if(rt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(fj,gj),gj|=nt;else{if(!(nt&1073741824))return tt=st!==null?st.baseLanes|nt:nt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:tt,cachePool:null,transitions:null},et.updateQueue=null,G$3(fj,gj),gj|=tt,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=st!==null?st.baseLanes:nt,G$3(fj,gj),gj|=rt}else st!==null?(rt=st.baseLanes|nt,et.memoizedState=null):rt=nt,G$3(fj,gj),gj|=rt;return Yi(tt,et,it,nt),et.child}function hj(tt,et){var nt=et.ref;(tt===null&&nt!==null||tt!==null&&tt.ref!==nt)&&(et.flags|=512,et.flags|=2097152)}function dj(tt,et,nt,rt,it){var st=Zf(nt)?Xf:H$3.current;return st=Yf(et,st),Tg(et,it),nt=Xh(tt,et,nt,rt,st,it),rt=bi(),tt!==null&&!Ug?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,$i(tt,et,it)):(I$3&&rt&&vg(et),et.flags|=1,Yi(tt,et,nt,it),et.child)}function ij(tt,et,nt,rt,it){if(Zf(nt)){var st=!0;cg(et)}else st=!1;if(Tg(et,it),et.stateNode===null)jj(tt,et),ph(et,nt,rt),rh(et,nt,rt,it),rt=!0;else if(tt===null){var ot=et.stateNode,at=et.memoizedProps;ot.props=at;var lt=ot.context,ut=nt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(nt)?Xf:H$3.current,ut=Yf(et,ut));var ft=nt.getDerivedStateFromProps,dt=typeof ft=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==rt||lt!==ut)&&qh(et,ot,rt,ut),$g=!1;var ht=et.memoizedState;ot.state=ht,gh(et,rt,ot,it),lt=et.memoizedState,at!==rt||ht!==lt||Wf.current||$g?(typeof ft=="function"&&(kh(et,nt,ft,rt),lt=et.memoizedState),(at=$g||oh(et,nt,at,rt,ht,lt,ut))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(et.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=lt),ot.props=rt,ot.state=lt,ot.context=ut,rt=at):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{ot=et.stateNode,bh(tt,et),at=et.memoizedProps,ut=et.type===et.elementType?at:Lg(et.type,at),ot.props=ut,dt=et.pendingProps,ht=ot.context,lt=nt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(nt)?Xf:H$3.current,lt=Yf(et,lt));var mt=nt.getDerivedStateFromProps;(ft=typeof mt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==dt||ht!==lt)&&qh(et,ot,rt,lt),$g=!1,ht=et.memoizedState,ot.state=ht,gh(et,rt,ot,it);var xt=et.memoizedState;at!==dt||ht!==xt||Wf.current||$g?(typeof mt=="function"&&(kh(et,nt,mt,rt),xt=et.memoizedState),(ut=$g||oh(et,nt,ut,rt,ht,xt,lt)||!1)?(ft||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(rt,xt,lt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(rt,xt,lt)),typeof ot.componentDidUpdate=="function"&&(et.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===tt.memoizedProps&&ht===tt.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===tt.memoizedProps&&ht===tt.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=xt),ot.props=rt,ot.state=xt,ot.context=lt,rt=ut):(typeof ot.componentDidUpdate!="function"||at===tt.memoizedProps&&ht===tt.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===tt.memoizedProps&&ht===tt.memoizedState||(et.flags|=1024),rt=!1)}return kj(tt,et,nt,rt,st,it)}function kj(tt,et,nt,rt,it,st){hj(tt,et);var ot=(et.flags&128)!==0;if(!rt&&!ot)return it&&dg(et,nt,!1),$i(tt,et,st);rt=et.stateNode,Xi.current=et;var at=ot&&typeof nt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,tt!==null&&ot?(et.child=Bh(et,tt.child,null,st),et.child=Bh(et,null,at,st)):Yi(tt,et,at,st),et.memoizedState=rt.state,it&&dg(et,nt,!0),et.child}function lj(tt){var et=tt.stateNode;et.pendingContext?ag(tt,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(tt,et.context,!1),Ih(tt,et.containerInfo)}function mj(tt,et,nt,rt,it){return Ig(),Jg(it),et.flags|=256,Yi(tt,et,nt,rt),et.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(tt){return{baseLanes:tt,cachePool:null,transitions:null}}function pj(tt,et,nt){var rt=et.pendingProps,it=M$3.current,st=!1,ot=(et.flags&128)!==0,at;if((at=ot)||(at=tt!==null&&tt.memoizedState===null?!1:(it&2)!==0),at?(st=!0,et.flags&=-129):(tt===null||tt.memoizedState!==null)&&(it|=1),G$3(M$3,it&1),tt===null)return Eg(et),tt=et.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null)?(et.mode&1?tt.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(ot=rt.children,tt=rt.fallback,st?(rt=et.mode,st=et.child,ot={mode:"hidden",children:ot},!(rt&1)&&st!==null?(st.childLanes=0,st.pendingProps=ot):st=qj(ot,rt,0,null),tt=Ah(tt,rt,nt,null),st.return=et,tt.return=et,st.sibling=tt,et.child=st,et.child.memoizedState=oj(nt),et.memoizedState=nj,tt):rj(et,ot));if(it=tt.memoizedState,it!==null&&(at=it.dehydrated,at!==null))return sj(tt,et,ot,rt,at,it,nt);if(st){st=rt.fallback,ot=et.mode,it=tt.child,at=it.sibling;var lt={mode:"hidden",children:rt.children};return!(ot&1)&&et.child!==it?(rt=et.child,rt.childLanes=0,rt.pendingProps=lt,et.deletions=null):(rt=wh(it,lt),rt.subtreeFlags=it.subtreeFlags&14680064),at!==null?st=wh(at,st):(st=Ah(st,ot,nt,null),st.flags|=2),st.return=et,rt.return=et,rt.sibling=st,et.child=rt,rt=st,st=et.child,ot=tt.child.memoizedState,ot=ot===null?oj(nt):{baseLanes:ot.baseLanes|nt,cachePool:null,transitions:ot.transitions},st.memoizedState=ot,st.childLanes=tt.childLanes&~nt,et.memoizedState=nj,rt}return st=tt.child,tt=st.sibling,rt=wh(st,{mode:"visible",children:rt.children}),!(et.mode&1)&&(rt.lanes=nt),rt.return=et,rt.sibling=null,tt!==null&&(nt=et.deletions,nt===null?(et.deletions=[tt],et.flags|=16):nt.push(tt)),et.child=rt,et.memoizedState=null,rt}function rj(tt,et){return et=qj({mode:"visible",children:et},tt.mode,0,null),et.return=tt,tt.child=et}function tj(tt,et,nt,rt){return rt!==null&&Jg(rt),Bh(et,tt.child,null,nt),tt=rj(et,et.pendingProps.children),tt.flags|=2,et.memoizedState=null,tt}function sj(tt,et,nt,rt,it,st,ot){if(nt)return et.flags&256?(et.flags&=-257,rt=Li(Error(p$5(422))),tj(tt,et,ot,rt)):et.memoizedState!==null?(et.child=tt.child,et.flags|=128,null):(st=rt.fallback,it=et.mode,rt=qj({mode:"visible",children:rt.children},it,0,null),st=Ah(st,it,ot,null),st.flags|=2,rt.return=et,st.return=et,rt.sibling=st,et.child=rt,et.mode&1&&Bh(et,tt.child,null,ot),et.child.memoizedState=oj(ot),et.memoizedState=nj,st);if(!(et.mode&1))return tj(tt,et,ot,null);if(it.data==="$!"){if(rt=it.nextSibling&&it.nextSibling.dataset,rt)var at=rt.dgst;return rt=at,st=Error(p$5(419)),rt=Li(st,rt,void 0),tj(tt,et,ot,rt)}if(at=(ot&tt.childLanes)!==0,Ug||at){if(rt=R$1,rt!==null){switch(ot&-ot){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=it&(rt.suspendedLanes|ot)?0:it,it!==0&&it!==st.retryLane&&(st.retryLane=it,Zg(tt,it),mh(rt,tt,it,-1))}return uj(),rt=Li(Error(p$5(421))),tj(tt,et,ot,rt)}return it.data==="$?"?(et.flags|=128,et.child=tt.child,et=vj.bind(null,tt),it._reactRetry=et,null):(tt=st.treeContext,yg=Lf(it.nextSibling),xg=et,I$3=!0,zg=null,tt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tt.id,sg=tt.overflow,qg=et),et=rj(et,rt.children),et.flags|=4096,et)}function wj(tt,et,nt){tt.lanes|=et;var rt=tt.alternate;rt!==null&&(rt.lanes|=et),Sg(tt.return,et,nt)}function xj(tt,et,nt,rt,it){var st=tt.memoizedState;st===null?tt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:nt,tailMode:it}:(st.isBackwards=et,st.rendering=null,st.renderingStartTime=0,st.last=rt,st.tail=nt,st.tailMode=it)}function yj(tt,et,nt){var rt=et.pendingProps,it=rt.revealOrder,st=rt.tail;if(Yi(tt,et,rt.children,nt),rt=M$3.current,rt&2)rt=rt&1|2,et.flags|=128;else{if(tt!==null&&tt.flags&128)e:for(tt=et.child;tt!==null;){if(tt.tag===13)tt.memoizedState!==null&&wj(tt,nt,et);else if(tt.tag===19)wj(tt,nt,et);else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)break e;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}rt&=1}if(G$3(M$3,rt),!(et.mode&1))et.memoizedState=null;else switch(it){case"forwards":for(nt=et.child,it=null;nt!==null;)tt=nt.alternate,tt!==null&&Mh(tt)===null&&(it=nt),nt=nt.sibling;nt=it,nt===null?(it=et.child,et.child=null):(it=nt.sibling,nt.sibling=null),xj(et,!1,it,nt,st);break;case"backwards":for(nt=null,it=et.child,et.child=null;it!==null;){if(tt=it.alternate,tt!==null&&Mh(tt)===null){et.child=it;break}tt=it.sibling,it.sibling=nt,nt=it,it=tt}xj(et,!0,nt,null,st);break;case"together":xj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function jj(tt,et){!(et.mode&1)&&tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2)}function $i(tt,et,nt){if(tt!==null&&(et.dependencies=tt.dependencies),hh|=et.lanes,!(nt&et.childLanes))return null;if(tt!==null&&et.child!==tt.child)throw Error(p$5(153));if(et.child!==null){for(tt=et.child,nt=wh(tt,tt.pendingProps),et.child=nt,nt.return=et;tt.sibling!==null;)tt=tt.sibling,nt=nt.sibling=wh(tt,tt.pendingProps),nt.return=et;nt.sibling=null}return et.child}function zj(tt,et,nt){switch(et.tag){case 3:lj(et),Ig();break;case 5:Kh(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:Ih(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,it=et.memoizedProps.value;G$3(Mg,rt._currentValue),rt._currentValue=it;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G$3(M$3,M$3.current&1),et.flags|=128,null):nt&et.child.childLanes?pj(tt,et,nt):(G$3(M$3,M$3.current&1),tt=$i(tt,et,nt),tt!==null?tt.sibling:null);G$3(M$3,M$3.current&1);break;case 19:if(rt=(nt&et.childLanes)!==0,tt.flags&128){if(rt)return yj(tt,et,nt);et.flags|=128}if(it=et.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$3(M$3,M$3.current),rt)break;return null;case 22:case 23:return et.lanes=0,ej(tt,et,nt)}return $i(tt,et,nt)}var Aj,Bj,Cj,Dj;Aj=function(tt,et){for(var nt=et.child;nt!==null;){if(nt.tag===5||nt.tag===6)tt.appendChild(nt.stateNode);else if(nt.tag!==4&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===et)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===et)return;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}};Bj=function(){};Cj=function(tt,et,nt,rt){var it=tt.memoizedProps;if(it!==rt){tt=et.stateNode,Hh(Eh.current);var st=null;switch(nt){case"input":it=Ya(tt,it),rt=Ya(tt,rt),st=[];break;case"select":it=A$4({},it,{value:void 0}),rt=A$4({},rt,{value:void 0}),st=[];break;case"textarea":it=gb(tt,it),rt=gb(tt,rt),st=[];break;default:typeof it.onClick!="function"&&typeof rt.onClick=="function"&&(tt.onclick=Bf)}ub(nt,rt);var ot;nt=null;for(ut in it)if(!rt.hasOwnProperty(ut)&&it.hasOwnProperty(ut)&&it[ut]!=null)if(ut==="style"){var at=it[ut];for(ot in at)at.hasOwnProperty(ot)&&(nt||(nt={}),nt[ot]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?st||(st=[]):(st=st||[]).push(ut,null));for(ut in rt){var lt=rt[ut];if(at=it!=null?it[ut]:void 0,rt.hasOwnProperty(ut)&&lt!==at&&(lt!=null||at!=null))if(ut==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||lt&&lt.hasOwnProperty(ot)||(nt||(nt={}),nt[ot]="");for(ot in lt)lt.hasOwnProperty(ot)&&at[ot]!==lt[ot]&&(nt||(nt={}),nt[ot]=lt[ot])}else nt||(st||(st=[]),st.push(ut,nt)),nt=lt;else ut==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,at=at?at.__html:void 0,lt!=null&&at!==lt&&(st=st||[]).push(ut,lt)):ut==="children"?typeof lt!="string"&&typeof lt!="number"||(st=st||[]).push(ut,""+lt):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(lt!=null&&ut==="onScroll"&&D$2("scroll",tt),st||at===lt||(st=[])):(st=st||[]).push(ut,lt))}nt&&(st=st||[]).push("style",nt);var ut=st;(et.updateQueue=ut)&&(et.flags|=4)}};Dj=function(tt,et,nt,rt){nt!==rt&&(et.flags|=4)};function Ej(tt,et){if(!I$3)switch(tt.tailMode){case"hidden":et=tt.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?tt.tail=null:nt.sibling=null;break;case"collapsed":nt=tt.tail;for(var rt=null;nt!==null;)nt.alternate!==null&&(rt=nt),nt=nt.sibling;rt===null?et||tt.tail===null?tt.tail=null:tt.tail.sibling=null:rt.sibling=null}}function S$3(tt){var et=tt.alternate!==null&&tt.alternate.child===tt.child,nt=0,rt=0;if(et)for(var it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags&14680064,rt|=it.flags&14680064,it.return=tt,it=it.sibling;else for(it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags,rt|=it.flags,it.return=tt,it=it.sibling;return tt.subtreeFlags|=rt,tt.childLanes=nt,et}function Fj(tt,et,nt){var rt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(et),null;case 1:return Zf(et.type)&&$f(),S$3(et),null;case 3:return rt=et.stateNode,Jh(),E$2(Wf),E$2(H$3),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(tt===null||tt.child===null)&&(Gg(et)?et.flags|=4:tt===null||tt.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(tt,et),S$3(et),null;case 5:Lh(et);var it=Hh(Gh.current);if(nt=et.type,tt!==null&&et.stateNode!=null)Cj(tt,et,nt,rt,it),tt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$5(166));return S$3(et),null}if(tt=Hh(Eh.current),Gg(et)){rt=et.stateNode,nt=et.type;var st=et.memoizedProps;switch(rt[Of]=et,rt[Pf]=st,tt=(et.mode&1)!==0,nt){case"dialog":D$2("cancel",rt),D$2("close",rt);break;case"iframe":case"object":case"embed":D$2("load",rt);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],rt);break;case"source":D$2("error",rt);break;case"img":case"image":case"link":D$2("error",rt),D$2("load",rt);break;case"details":D$2("toggle",rt);break;case"input":Za(rt,st),D$2("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!st.multiple},D$2("invalid",rt);break;case"textarea":hb(rt,st),D$2("invalid",rt)}ub(nt,st),it=null;for(var ot in st)if(st.hasOwnProperty(ot)){var at=st[ot];ot==="children"?typeof at=="string"?rt.textContent!==at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,tt),it=["children",at]):typeof at=="number"&&rt.textContent!==""+at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,tt),it=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D$2("scroll",rt)}switch(nt){case"input":Va(rt),db(rt,st,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(rt.onclick=Bf)}rt=it,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{ot=it.nodeType===9?it:it.ownerDocument,tt==="http://www.w3.org/1999/xhtml"&&(tt=kb(nt)),tt==="http://www.w3.org/1999/xhtml"?nt==="script"?(tt=ot.createElement("div"),tt.innerHTML="<script><\/script>",tt=tt.removeChild(tt.firstChild)):typeof rt.is=="string"?tt=ot.createElement(nt,{is:rt.is}):(tt=ot.createElement(nt),nt==="select"&&(ot=tt,rt.multiple?ot.multiple=!0:rt.size&&(ot.size=rt.size))):tt=ot.createElementNS(tt,nt),tt[Of]=et,tt[Pf]=rt,Aj(tt,et,!1,!1),et.stateNode=tt;e:{switch(ot=vb(nt,rt),nt){case"dialog":D$2("cancel",tt),D$2("close",tt),it=rt;break;case"iframe":case"object":case"embed":D$2("load",tt),it=rt;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],tt);it=rt;break;case"source":D$2("error",tt),it=rt;break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt),it=rt;break;case"details":D$2("toggle",tt),it=rt;break;case"input":Za(tt,rt),it=Ya(tt,rt),D$2("invalid",tt);break;case"option":it=rt;break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},it=A$4({},rt,{value:void 0}),D$2("invalid",tt);break;case"textarea":hb(tt,rt),it=gb(tt,rt),D$2("invalid",tt);break;default:it=rt}ub(nt,it),at=it;for(st in at)if(at.hasOwnProperty(st)){var lt=at[st];st==="style"?sb(tt,lt):st==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(tt,lt)):st==="children"?typeof lt=="string"?(nt!=="textarea"||lt!=="")&&ob(tt,lt):typeof lt=="number"&&ob(tt,""+lt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?lt!=null&&st==="onScroll"&&D$2("scroll",tt):lt!=null&&ta(tt,st,lt,ot))}switch(nt){case"input":Va(tt),db(tt,rt,!1);break;case"textarea":Va(tt),jb(tt);break;case"option":rt.value!=null&&tt.setAttribute("value",""+Sa(rt.value));break;case"select":tt.multiple=!!rt.multiple,st=rt.value,st!=null?fb(tt,!!rt.multiple,st,!1):rt.defaultValue!=null&&fb(tt,!!rt.multiple,rt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(tt.onclick=Bf)}switch(nt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$3(et),null;case 6:if(tt&&et.stateNode!=null)Dj(tt,et,tt.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$5(166));if(nt=Hh(Gh.current),Hh(Eh.current),Gg(et)){if(rt=et.stateNode,nt=et.memoizedProps,rt[Of]=et,(st=rt.nodeValue!==nt)&&(tt=xg,tt!==null))switch(tt.tag){case 3:Af(rt.nodeValue,nt,(tt.mode&1)!==0);break;case 5:tt.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,nt,(tt.mode&1)!==0)}st&&(et.flags|=4)}else rt=(nt.nodeType===9?nt:nt.ownerDocument).createTextNode(rt),rt[Of]=et,et.stateNode=rt}return S$3(et),null;case 13:if(E$2(M$3),rt=et.memoizedState,tt===null||tt.memoizedState!==null&&tt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,st=!1;else if(st=Gg(et),rt!==null&&rt.dehydrated!==null){if(tt===null){if(!st)throw Error(p$5(318));if(st=et.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$5(317));st[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$3(et),st=!1}else zg!==null&&(Gj(zg),zg=null),st=!0;if(!st)return et.flags&65536?et:null}return et.flags&128?(et.lanes=nt,et):(rt=rt!==null,rt!==(tt!==null&&tt.memoizedState!==null)&&rt&&(et.child.flags|=8192,et.mode&1&&(tt===null||M$3.current&1?T$3===0&&(T$3=3):uj())),et.updateQueue!==null&&(et.flags|=4),S$3(et),null);case 4:return Jh(),Bj(tt,et),tt===null&&sf(et.stateNode.containerInfo),S$3(et),null;case 10:return Rg(et.type._context),S$3(et),null;case 17:return Zf(et.type)&&$f(),S$3(et),null;case 19:if(E$2(M$3),st=et.memoizedState,st===null)return S$3(et),null;if(rt=(et.flags&128)!==0,ot=st.rendering,ot===null)if(rt)Ej(st,!1);else{if(T$3!==0||tt!==null&&tt.flags&128)for(tt=et.child;tt!==null;){if(ot=Mh(tt),ot!==null){for(et.flags|=128,Ej(st,!1),rt=ot.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=nt,nt=et.child;nt!==null;)st=nt,tt=rt,st.flags&=14680066,ot=st.alternate,ot===null?(st.childLanes=0,st.lanes=tt,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=ot.childLanes,st.lanes=ot.lanes,st.child=ot.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=ot.memoizedProps,st.memoizedState=ot.memoizedState,st.updateQueue=ot.updateQueue,st.type=ot.type,tt=ot.dependencies,st.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext}),nt=nt.sibling;return G$3(M$3,M$3.current&1|2),et.child}tt=tt.sibling}st.tail!==null&&B$1()>Hj&&(et.flags|=128,rt=!0,Ej(st,!1),et.lanes=4194304)}else{if(!rt)if(tt=Mh(ot),tt!==null){if(et.flags|=128,rt=!0,nt=tt.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),Ej(st,!0),st.tail===null&&st.tailMode==="hidden"&&!ot.alternate&&!I$3)return S$3(et),null}else 2*B$1()-st.renderingStartTime>Hj&&nt!==1073741824&&(et.flags|=128,rt=!0,Ej(st,!1),et.lanes=4194304);st.isBackwards?(ot.sibling=et.child,et.child=ot):(nt=st.last,nt!==null?nt.sibling=ot:et.child=ot,st.last=ot)}return st.tail!==null?(et=st.tail,st.rendering=et,st.tail=et.sibling,st.renderingStartTime=B$1(),et.sibling=null,nt=M$3.current,G$3(M$3,rt?nt&1|2:nt&1),et):(S$3(et),null);case 22:case 23:return Ij(),rt=et.memoizedState!==null,tt!==null&&tt.memoizedState!==null!==rt&&(et.flags|=8192),rt&&et.mode&1?gj&1073741824&&(S$3(et),et.subtreeFlags&6&&(et.flags|=8192)):S$3(et),null;case 24:return null;case 25:return null}throw Error(p$5(156,et.tag))}function Jj(tt,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 3:return Jh(),E$2(Wf),E$2(H$3),Oh(),tt=et.flags,tt&65536&&!(tt&128)?(et.flags=tt&-65537|128,et):null;case 5:return Lh(et),null;case 13:if(E$2(M$3),tt=et.memoizedState,tt!==null&&tt.dehydrated!==null){if(et.alternate===null)throw Error(p$5(340));Ig()}return tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 19:return E$2(M$3),null;case 4:return Jh(),null;case 10:return Rg(et.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$3=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$4=null;function Mj(tt,et){var nt=tt.ref;if(nt!==null)if(typeof nt=="function")try{nt(null)}catch(rt){W$3(tt,et,rt)}else nt.current=null}function Nj(tt,et,nt){try{nt()}catch(rt){W$3(tt,et,rt)}}var Oj=!1;function Pj(tt,et){if(Cf=dd,tt=Me$1(),Ne$2(tt)){if("selectionStart"in tt)var nt={start:tt.selectionStart,end:tt.selectionEnd};else e:{nt=(nt=tt.ownerDocument)&&nt.defaultView||window;var rt=nt.getSelection&&nt.getSelection();if(rt&&rt.rangeCount!==0){nt=rt.anchorNode;var it=rt.anchorOffset,st=rt.focusNode;rt=rt.focusOffset;try{nt.nodeType,st.nodeType}catch{nt=null;break e}var ot=0,at=-1,lt=-1,ut=0,ft=0,dt=tt,ht=null;t:for(;;){for(var mt;dt!==nt||it!==0&&dt.nodeType!==3||(at=ot+it),dt!==st||rt!==0&&dt.nodeType!==3||(lt=ot+rt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(mt=dt.firstChild)!==null;)ht=dt,dt=mt;for(;;){if(dt===tt)break t;if(ht===nt&&++ut===it&&(at=ot),ht===st&&++ft===rt&&(lt=ot),(mt=dt.nextSibling)!==null)break;dt=ht,ht=dt.parentNode}dt=mt}nt=at===-1||lt===-1?null:{start:at,end:lt}}else nt=null}nt=nt||{start:0,end:0}}else nt=null;for(Df={focusedElem:tt,selectionRange:nt},dd=!1,V$4=et;V$4!==null;)if(et=V$4,tt=et.child,(et.subtreeFlags&1028)!==0&&tt!==null)tt.return=et,V$4=tt;else for(;V$4!==null;){et=V$4;try{var xt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var _t=xt.memoizedProps,At=xt.memoizedState,gt=et.stateNode,vt=gt.getSnapshotBeforeUpdate(et.elementType===et.type?_t:Lg(et.type,_t),At);gt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var Et=et.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(yt){W$3(et,et.return,yt)}if(tt=et.sibling,tt!==null){tt.return=et.return,V$4=tt;break}V$4=et.return}return xt=Oj,Oj=!1,xt}function Qj(tt,et,nt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var it=rt=rt.next;do{if((it.tag&tt)===tt){var st=it.destroy;it.destroy=void 0,st!==void 0&&Nj(et,nt,st)}it=it.next}while(it!==rt)}}function Rj(tt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var nt=et=et.next;do{if((nt.tag&tt)===tt){var rt=nt.create;nt.destroy=rt()}nt=nt.next}while(nt!==et)}}function Sj(tt){var et=tt.ref;if(et!==null){var nt=tt.stateNode;switch(tt.tag){case 5:tt=nt;break;default:tt=nt}typeof et=="function"?et(tt):et.current=tt}}function Tj(tt){var et=tt.alternate;et!==null&&(tt.alternate=null,Tj(et)),tt.child=null,tt.deletions=null,tt.sibling=null,tt.tag===5&&(et=tt.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),tt.stateNode=null,tt.return=null,tt.dependencies=null,tt.memoizedProps=null,tt.memoizedState=null,tt.pendingProps=null,tt.stateNode=null,tt.updateQueue=null}function Uj(tt){return tt.tag===5||tt.tag===3||tt.tag===4}function Vj(tt){e:for(;;){for(;tt.sibling===null;){if(tt.return===null||Uj(tt.return))return null;tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;tt.tag!==5&&tt.tag!==6&&tt.tag!==18;){if(tt.flags&2||tt.child===null||tt.tag===4)continue e;tt.child.return=tt,tt=tt.child}if(!(tt.flags&2))return tt.stateNode}}function Wj(tt,et,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,et?nt.nodeType===8?nt.parentNode.insertBefore(tt,et):nt.insertBefore(tt,et):(nt.nodeType===8?(et=nt.parentNode,et.insertBefore(tt,nt)):(et=nt,et.appendChild(tt)),nt=nt._reactRootContainer,nt!=null||et.onclick!==null||(et.onclick=Bf));else if(rt!==4&&(tt=tt.child,tt!==null))for(Wj(tt,et,nt),tt=tt.sibling;tt!==null;)Wj(tt,et,nt),tt=tt.sibling}function Xj(tt,et,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,et?nt.insertBefore(tt,et):nt.appendChild(tt);else if(rt!==4&&(tt=tt.child,tt!==null))for(Xj(tt,et,nt),tt=tt.sibling;tt!==null;)Xj(tt,et,nt),tt=tt.sibling}var X$2=null,Yj=!1;function Zj(tt,et,nt){for(nt=nt.child;nt!==null;)ak(tt,et,nt),nt=nt.sibling}function ak(tt,et,nt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,nt)}catch{}switch(nt.tag){case 5:U$3||Mj(nt,et);case 6:var rt=X$2,it=Yj;X$2=null,Zj(tt,et,nt),X$2=rt,Yj=it,X$2!==null&&(Yj?(tt=X$2,nt=nt.stateNode,tt.nodeType===8?tt.parentNode.removeChild(nt):tt.removeChild(nt)):X$2.removeChild(nt.stateNode));break;case 18:X$2!==null&&(Yj?(tt=X$2,nt=nt.stateNode,tt.nodeType===8?Kf(tt.parentNode,nt):tt.nodeType===1&&Kf(tt,nt),bd(tt)):Kf(X$2,nt.stateNode));break;case 4:rt=X$2,it=Yj,X$2=nt.stateNode.containerInfo,Yj=!0,Zj(tt,et,nt),X$2=rt,Yj=it;break;case 0:case 11:case 14:case 15:if(!U$3&&(rt=nt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){it=rt=rt.next;do{var st=it,ot=st.destroy;st=st.tag,ot!==void 0&&(st&2||st&4)&&Nj(nt,et,ot),it=it.next}while(it!==rt)}Zj(tt,et,nt);break;case 1:if(!U$3&&(Mj(nt,et),rt=nt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=nt.memoizedProps,rt.state=nt.memoizedState,rt.componentWillUnmount()}catch(at){W$3(nt,et,at)}Zj(tt,et,nt);break;case 21:Zj(tt,et,nt);break;case 22:nt.mode&1?(U$3=(rt=U$3)||nt.memoizedState!==null,Zj(tt,et,nt),U$3=rt):Zj(tt,et,nt);break;default:Zj(tt,et,nt)}}function bk(tt){var et=tt.updateQueue;if(et!==null){tt.updateQueue=null;var nt=tt.stateNode;nt===null&&(nt=tt.stateNode=new Lj),et.forEach(function(rt){var it=ck.bind(null,tt,rt);nt.has(rt)||(nt.add(rt),rt.then(it,it))})}}function dk(tt,et){var nt=et.deletions;if(nt!==null)for(var rt=0;rt<nt.length;rt++){var it=nt[rt];try{var st=tt,ot=et,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X$2=at.stateNode,Yj=!1;break e;case 3:X$2=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$2===null)throw Error(p$5(160));ak(st,ot,it),X$2=null,Yj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ut){W$3(it,et,ut)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)ek(et,tt),et=et.sibling}function ek(tt,et){var nt=tt.alternate,rt=tt.flags;switch(tt.tag){case 0:case 11:case 14:case 15:if(dk(et,tt),fk(tt),rt&4){try{Qj(3,tt,tt.return),Rj(3,tt)}catch(_t){W$3(tt,tt.return,_t)}try{Qj(5,tt,tt.return)}catch(_t){W$3(tt,tt.return,_t)}}break;case 1:dk(et,tt),fk(tt),rt&512&&nt!==null&&Mj(nt,nt.return);break;case 5:if(dk(et,tt),fk(tt),rt&512&&nt!==null&&Mj(nt,nt.return),tt.flags&32){var it=tt.stateNode;try{ob(it,"")}catch(_t){W$3(tt,tt.return,_t)}}if(rt&4&&(it=tt.stateNode,it!=null)){var st=tt.memoizedProps,ot=nt!==null?nt.memoizedProps:st,at=tt.type,lt=tt.updateQueue;if(tt.updateQueue=null,lt!==null)try{at==="input"&&st.type==="radio"&&st.name!=null&&ab(it,st),vb(at,ot);var ut=vb(at,st);for(ot=0;ot<lt.length;ot+=2){var ft=lt[ot],dt=lt[ot+1];ft==="style"?sb(it,dt):ft==="dangerouslySetInnerHTML"?nb(it,dt):ft==="children"?ob(it,dt):ta(it,ft,dt,ut)}switch(at){case"input":bb(it,st);break;case"textarea":ib(it,st);break;case"select":var ht=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!st.multiple;var mt=st.value;mt!=null?fb(it,!!st.multiple,mt,!1):ht!==!!st.multiple&&(st.defaultValue!=null?fb(it,!!st.multiple,st.defaultValue,!0):fb(it,!!st.multiple,st.multiple?[]:"",!1))}it[Pf]=st}catch(_t){W$3(tt,tt.return,_t)}}break;case 6:if(dk(et,tt),fk(tt),rt&4){if(tt.stateNode===null)throw Error(p$5(162));it=tt.stateNode,st=tt.memoizedProps;try{it.nodeValue=st}catch(_t){W$3(tt,tt.return,_t)}}break;case 3:if(dk(et,tt),fk(tt),rt&4&&nt!==null&&nt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(_t){W$3(tt,tt.return,_t)}break;case 4:dk(et,tt),fk(tt);break;case 13:dk(et,tt),fk(tt),it=tt.child,it.flags&8192&&(st=it.memoizedState!==null,it.stateNode.isHidden=st,!st||it.alternate!==null&&it.alternate.memoizedState!==null||(gk=B$1())),rt&4&&bk(tt);break;case 22:if(ft=nt!==null&&nt.memoizedState!==null,tt.mode&1?(U$3=(ut=U$3)||ft,dk(et,tt),U$3=ut):dk(et,tt),fk(tt),rt&8192){if(ut=tt.memoizedState!==null,(tt.stateNode.isHidden=ut)&&!ft&&tt.mode&1)for(V$4=tt,ft=tt.child;ft!==null;){for(dt=V$4=ft;V$4!==null;){switch(ht=V$4,mt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Qj(4,ht,ht.return);break;case 1:Mj(ht,ht.return);var xt=ht.stateNode;if(typeof xt.componentWillUnmount=="function"){rt=ht,nt=ht.return;try{et=rt,xt.props=et.memoizedProps,xt.state=et.memoizedState,xt.componentWillUnmount()}catch(_t){W$3(rt,nt,_t)}}break;case 5:Mj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){hk(dt);continue}}mt!==null?(mt.return=ht,V$4=mt):hk(dt)}ft=ft.sibling}e:for(ft=null,dt=tt;;){if(dt.tag===5){if(ft===null){ft=dt;try{it=dt.stateNode,ut?(st=it.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(at=dt.stateNode,lt=dt.memoizedProps.style,ot=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,at.style.display=rb("display",ot))}catch(_t){W$3(tt,tt.return,_t)}}}else if(dt.tag===6){if(ft===null)try{dt.stateNode.nodeValue=ut?"":dt.memoizedProps}catch(_t){W$3(tt,tt.return,_t)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===tt)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===tt)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===tt)break e;ft===dt&&(ft=null),dt=dt.return}ft===dt&&(ft=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(et,tt),fk(tt),rt&4&&bk(tt);break;case 21:break;default:dk(et,tt),fk(tt)}}function fk(tt){var et=tt.flags;if(et&2){try{e:{for(var nt=tt.return;nt!==null;){if(Uj(nt)){var rt=nt;break e}nt=nt.return}throw Error(p$5(160))}switch(rt.tag){case 5:var it=rt.stateNode;rt.flags&32&&(ob(it,""),rt.flags&=-33);var st=Vj(tt);Xj(tt,st,it);break;case 3:case 4:var ot=rt.stateNode.containerInfo,at=Vj(tt);Wj(tt,at,ot);break;default:throw Error(p$5(161))}}catch(lt){W$3(tt,tt.return,lt)}tt.flags&=-3}et&4096&&(tt.flags&=-4097)}function ik(tt,et,nt){V$4=tt,jk(tt)}function jk(tt,et,nt){for(var rt=(tt.mode&1)!==0;V$4!==null;){var it=V$4,st=it.child;if(it.tag===22&&rt){var ot=it.memoizedState!==null||Kj;if(!ot){var at=it.alternate,lt=at!==null&&at.memoizedState!==null||U$3;at=Kj;var ut=U$3;if(Kj=ot,(U$3=lt)&&!ut)for(V$4=it;V$4!==null;)ot=V$4,lt=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(it):lt!==null?(lt.return=ot,V$4=lt):kk(it);for(;st!==null;)V$4=st,jk(st),st=st.sibling;V$4=it,Kj=at,U$3=ut}lk(tt)}else it.subtreeFlags&8772&&st!==null?(st.return=it,V$4=st):lk(tt)}}function lk(tt){for(;V$4!==null;){var et=V$4;if(et.flags&8772){var nt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$3||Rj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!U$3)if(nt===null)rt.componentDidMount();else{var it=et.elementType===et.type?nt.memoizedProps:Lg(et.type,nt.memoizedProps);rt.componentDidUpdate(it,nt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var st=et.updateQueue;st!==null&&ih(et,st,rt);break;case 3:var ot=et.updateQueue;if(ot!==null){if(nt=null,et.child!==null)switch(et.child.tag){case 5:nt=et.child.stateNode;break;case 1:nt=et.child.stateNode}ih(et,ot,nt)}break;case 5:var at=et.stateNode;if(nt===null&&et.flags&4){nt=at;var lt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&nt.focus();break;case"img":lt.src&&(nt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ut=et.alternate;if(ut!==null){var ft=ut.memoizedState;if(ft!==null){var dt=ft.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$3||et.flags&512&&Sj(et)}catch(ht){W$3(et,et.return,ht)}}if(et===tt){V$4=null;break}if(nt=et.sibling,nt!==null){nt.return=et.return,V$4=nt;break}V$4=et.return}}function hk(tt){for(;V$4!==null;){var et=V$4;if(et===tt){V$4=null;break}var nt=et.sibling;if(nt!==null){nt.return=et.return,V$4=nt;break}V$4=et.return}}function kk(tt){for(;V$4!==null;){var et=V$4;try{switch(et.tag){case 0:case 11:case 15:var nt=et.return;try{Rj(4,et)}catch(lt){W$3(et,nt,lt)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var it=et.return;try{rt.componentDidMount()}catch(lt){W$3(et,it,lt)}}var st=et.return;try{Sj(et)}catch(lt){W$3(et,st,lt)}break;case 5:var ot=et.return;try{Sj(et)}catch(lt){W$3(et,ot,lt)}}}catch(lt){W$3(et,et.return,lt)}if(et===tt){V$4=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V$4=at;break}V$4=et.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$3=null,Z$2=0,gj=0,fj=Uf(0),T$3=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$4(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(tt){return tt.mode&1?K$1&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(tt=C$1,tt!==0||(tt=window.event,tt=tt===void 0?16:jd(tt.type)),tt):1}function mh(tt,et,nt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(tt,nt,rt),(!(K$1&2)||tt!==R$1)&&(tt===R$1&&(!(K$1&2)&&(rk|=nt),T$3===4&&Dk(tt,Z$2)),Ek(tt,rt),nt===1&&K$1===0&&!(et.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(tt,et){var nt=tt.callbackNode;wc(tt,et);var rt=uc(tt,tt===R$1?Z$2:0);if(rt===0)nt!==null&&bc(nt),tt.callbackNode=null,tt.callbackPriority=0;else if(et=rt&-rt,tt.callbackPriority!==et){if(nt!=null&&bc(nt),et===1)tt.tag===0?ig(Fk.bind(null,tt)):hg(Fk.bind(null,tt)),Jf(function(){!(K$1&6)&&jg()}),nt=null;else{switch(Dc(rt)){case 1:nt=fc;break;case 4:nt=gc;break;case 16:nt=hc;break;case 536870912:nt=jc;break;default:nt=hc}nt=Gk(nt,Hk.bind(null,tt))}tt.callbackPriority=et,tt.callbackNode=nt}}function Hk(tt,et){if(Bk=-1,Ck=0,K$1&6)throw Error(p$5(327));var nt=tt.callbackNode;if(Ik()&&tt.callbackNode!==nt)return null;var rt=uc(tt,tt===R$1?Z$2:0);if(rt===0)return null;if(rt&30||rt&tt.expiredLanes||et)et=Jk(tt,rt);else{et=rt;var it=K$1;K$1|=2;var st=Kk();(R$1!==tt||Z$2!==et)&&(vk=null,Hj=B$1()+500,Lk(tt,et));do try{Mk();break}catch(at){Nk(tt,at)}while(1);Qg(),nk.current=st,K$1=it,Y$3!==null?et=0:(R$1=null,Z$2=0,et=T$3)}if(et!==0){if(et===2&&(it=xc(tt),it!==0&&(rt=it,et=Ok(tt,it))),et===1)throw nt=qk,Lk(tt,0),Dk(tt,rt),Ek(tt,B$1()),nt;if(et===6)Dk(tt,rt);else{if(it=tt.current.alternate,!(rt&30)&&!Pk(it)&&(et=Jk(tt,rt),et===2&&(st=xc(tt),st!==0&&(rt=st,et=Ok(tt,st))),et===1))throw nt=qk,Lk(tt,0),Dk(tt,rt),Ek(tt,B$1()),nt;switch(tt.finishedWork=it,tt.finishedLanes=rt,et){case 0:case 1:throw Error(p$5(345));case 2:Qk(tt,uk,vk);break;case 3:if(Dk(tt,rt),(rt&130023424)===rt&&(et=gk+500-B$1(),10<et)){if(uc(tt,0)!==0)break;if(it=tt.suspendedLanes,(it&rt)!==rt){L$4(),tt.pingedLanes|=tt.suspendedLanes&it;break}tt.timeoutHandle=Ff(Qk.bind(null,tt,uk,vk),et);break}Qk(tt,uk,vk);break;case 4:if(Dk(tt,rt),(rt&4194240)===rt)break;for(et=tt.eventTimes,it=-1;0<rt;){var ot=31-oc(rt);st=1<<ot,ot=et[ot],ot>it&&(it=ot),rt&=~st}if(rt=it,rt=B$1()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){tt.timeoutHandle=Ff(Qk.bind(null,tt,uk,vk),rt);break}Qk(tt,uk,vk);break;case 5:Qk(tt,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(tt,B$1()),tt.callbackNode===nt?Hk.bind(null,tt):null}function Ok(tt,et){var nt=tk;return tt.current.memoizedState.isDehydrated&&(Lk(tt,et).flags|=256),tt=Jk(tt,et),tt!==2&&(et=uk,uk=nt,et!==null&&Gj(et)),tt}function Gj(tt){uk===null?uk=tt:uk.push.apply(uk,tt)}function Pk(tt){for(var et=tt;;){if(et.flags&16384){var nt=et.updateQueue;if(nt!==null&&(nt=nt.stores,nt!==null))for(var rt=0;rt<nt.length;rt++){var it=nt[rt],st=it.getSnapshot;it=it.value;try{if(!He$1(st(),it))return!1}catch{return!1}}}if(nt=et.child,et.subtreeFlags&16384&&nt!==null)nt.return=et,et=nt;else{if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Dk(tt,et){for(et&=~sk,et&=~rk,tt.suspendedLanes|=et,tt.pingedLanes&=~et,tt=tt.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;tt[nt]=-1,et&=~rt}}function Fk(tt){if(K$1&6)throw Error(p$5(327));Ik();var et=uc(tt,0);if(!(et&1))return Ek(tt,B$1()),null;var nt=Jk(tt,et);if(tt.tag!==0&&nt===2){var rt=xc(tt);rt!==0&&(et=rt,nt=Ok(tt,rt))}if(nt===1)throw nt=qk,Lk(tt,0),Dk(tt,et),Ek(tt,B$1()),nt;if(nt===6)throw Error(p$5(345));return tt.finishedWork=tt.current.alternate,tt.finishedLanes=et,Qk(tt,uk,vk),Ek(tt,B$1()),null}function Rk(tt,et){var nt=K$1;K$1|=1;try{return tt(et)}finally{K$1=nt,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(tt){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var et=K$1;K$1|=1;var nt=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=1,tt)return tt()}finally{C$1=rt,pk.transition=nt,K$1=et,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(tt,et){tt.finishedWork=null,tt.finishedLanes=0;var nt=tt.timeoutHandle;if(nt!==-1&&(tt.timeoutHandle=-1,Gf(nt)),Y$3!==null)for(nt=Y$3.return;nt!==null;){var rt=nt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$3),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$2(M$3);break;case 19:E$2(M$3);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}nt=nt.return}if(R$1=tt,Y$3=tt=wh(tt.current,null),Z$2=gj=et,T$3=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(et=0;et<Wg.length;et++)if(nt=Wg[et],rt=nt.interleaved,rt!==null){nt.interleaved=null;var it=rt.next,st=nt.pending;if(st!==null){var ot=st.next;st.next=it,rt.next=ot}nt.pending=rt}Wg=null}return tt}function Nk(tt,et){do{var nt=Y$3;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$2.memoizedState;rt!==null;){var it=rt.queue;it!==null&&(it.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$3=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,nt===null||nt.return===null){T$3=1,qk=et,Y$3=null;break}e:{var st=tt,ot=nt.return,at=nt,lt=et;if(et=Z$2,at.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ut=lt,ft=at,dt=ft.tag;if(!(ft.mode&1)&&(dt===0||dt===11||dt===15)){var ht=ft.alternate;ht?(ft.updateQueue=ht.updateQueue,ft.memoizedState=ht.memoizedState,ft.lanes=ht.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var mt=Vi(ot);if(mt!==null){mt.flags&=-257,Wi(mt,ot,at,st,et),mt.mode&1&&Ti(st,ut,et),et=mt,lt=ut;var xt=et.updateQueue;if(xt===null){var _t=new Set;_t.add(lt),et.updateQueue=_t}else xt.add(lt);break e}else{if(!(et&1)){Ti(st,ut,et),uj();break e}lt=Error(p$5(426))}}else if(I$3&&at.mode&1){var At=Vi(ot);if(At!==null){!(At.flags&65536)&&(At.flags|=256),Wi(At,ot,at,st,et),Jg(Ki(lt,at));break e}}st=lt=Ki(lt,at),T$3!==4&&(T$3=2),tk===null?tk=[st]:tk.push(st),st=ot;do{switch(st.tag){case 3:st.flags|=65536,et&=-et,st.lanes|=et;var gt=Oi(st,lt,et);fh(st,gt);break e;case 1:at=lt;var vt=st.type,Et=st.stateNode;if(!(st.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Si===null||!Si.has(Et)))){st.flags|=65536,et&=-et,st.lanes|=et;var yt=Ri(st,at,et);fh(st,yt);break e}}st=st.return}while(st!==null)}Tk(nt)}catch(wt){et=wt,Y$3===nt&&nt!==null&&(Y$3=nt=nt.return);continue}break}while(1)}function Kk(){var tt=nk.current;return nk.current=ai,tt===null?ai:tt}function uj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$2)}function Jk(tt,et){var nt=K$1;K$1|=2;var rt=Kk();(R$1!==tt||Z$2!==et)&&(vk=null,Lk(tt,et));do try{Uk();break}catch(it){Nk(tt,it)}while(1);if(Qg(),K$1=nt,nk.current=rt,Y$3!==null)throw Error(p$5(261));return R$1=null,Z$2=0,T$3}function Uk(){for(;Y$3!==null;)Vk(Y$3)}function Mk(){for(;Y$3!==null&&!cc();)Vk(Y$3)}function Vk(tt){var et=Wk(tt.alternate,tt,gj);tt.memoizedProps=tt.pendingProps,et===null?Tk(tt):Y$3=et,ok.current=null}function Tk(tt){var et=tt;do{var nt=et.alternate;if(tt=et.return,et.flags&32768){if(nt=Jj(nt,et),nt!==null){nt.flags&=32767,Y$3=nt;return}if(tt!==null)tt.flags|=32768,tt.subtreeFlags=0,tt.deletions=null;else{T$3=6,Y$3=null;return}}else if(nt=Fj(nt,et,gj),nt!==null){Y$3=nt;return}if(et=et.sibling,et!==null){Y$3=et;return}Y$3=et=tt}while(et!==null);T$3===0&&(T$3=5)}function Qk(tt,et,nt){var rt=C$1,it=pk.transition;try{pk.transition=null,C$1=1,Xk(tt,et,nt,rt)}finally{pk.transition=it,C$1=rt}return null}function Xk(tt,et,nt,rt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$5(327));nt=tt.finishedWork;var it=tt.finishedLanes;if(nt===null)return null;if(tt.finishedWork=null,tt.finishedLanes=0,nt===tt.current)throw Error(p$5(177));tt.callbackNode=null,tt.callbackPriority=0;var st=nt.lanes|nt.childLanes;if(Bc(tt,st),tt===R$1&&(Y$3=R$1=null,Z$2=0),!(nt.subtreeFlags&2064)&&!(nt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),st=(nt.flags&15990)!==0,nt.subtreeFlags&15990||st){st=pk.transition,pk.transition=null;var ot=C$1;C$1=1;var at=K$1;K$1|=4,ok.current=null,Pj(tt,nt),ek(nt,tt),Oe(Df),dd=!!Cf,Df=Cf=null,tt.current=nt,ik(nt),dc(),K$1=at,C$1=ot,pk.transition=st}else tt.current=nt;if(wk&&(wk=!1,xk=tt,yk=it),st=tt.pendingLanes,st===0&&(Si=null),mc(nt.stateNode),Ek(tt,B$1()),et!==null)for(rt=tt.onRecoverableError,nt=0;nt<et.length;nt++)it=et[nt],rt(it.value,{componentStack:it.stack,digest:it.digest});if(Pi)throw Pi=!1,tt=Qi,Qi=null,tt;return yk&1&&tt.tag!==0&&Ik(),st=tt.pendingLanes,st&1?tt===Ak?zk++:(zk=0,Ak=tt):zk=0,jg(),null}function Ik(){if(xk!==null){var tt=Dc(yk),et=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=16>tt?16:tt,xk===null)var rt=!1;else{if(tt=xk,xk=null,yk=0,K$1&6)throw Error(p$5(331));var it=K$1;for(K$1|=4,V$4=tt.current;V$4!==null;){var st=V$4,ot=st.child;if(V$4.flags&16){var at=st.deletions;if(at!==null){for(var lt=0;lt<at.length;lt++){var ut=at[lt];for(V$4=ut;V$4!==null;){var ft=V$4;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,st)}var dt=ft.child;if(dt!==null)dt.return=ft,V$4=dt;else for(;V$4!==null;){ft=V$4;var ht=ft.sibling,mt=ft.return;if(Tj(ft),ft===ut){V$4=null;break}if(ht!==null){ht.return=mt,V$4=ht;break}V$4=mt}}}var xt=st.alternate;if(xt!==null){var _t=xt.child;if(_t!==null){xt.child=null;do{var At=_t.sibling;_t.sibling=null,_t=At}while(_t!==null)}}V$4=st}}if(st.subtreeFlags&2064&&ot!==null)ot.return=st,V$4=ot;else e:for(;V$4!==null;){if(st=V$4,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Qj(9,st,st.return)}var gt=st.sibling;if(gt!==null){gt.return=st.return,V$4=gt;break e}V$4=st.return}}var vt=tt.current;for(V$4=vt;V$4!==null;){ot=V$4;var Et=ot.child;if(ot.subtreeFlags&2064&&Et!==null)Et.return=ot,V$4=Et;else e:for(ot=vt;V$4!==null;){if(at=V$4,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(wt){W$3(at,at.return,wt)}if(at===ot){V$4=null;break e}var yt=at.sibling;if(yt!==null){yt.return=at.return,V$4=yt;break e}V$4=at.return}}if(K$1=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,tt)}catch{}rt=!0}return rt}finally{C$1=nt,pk.transition=et}}return!1}function Yk(tt,et,nt){et=Ki(nt,et),et=Oi(tt,et,1),tt=dh(tt,et,1),et=L$4(),tt!==null&&(Ac(tt,1,et),Ek(tt,et))}function W$3(tt,et,nt){if(tt.tag===3)Yk(tt,tt,nt);else for(;et!==null;){if(et.tag===3){Yk(et,tt,nt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){tt=Ki(nt,tt),tt=Ri(et,tt,1),et=dh(et,tt,1),tt=L$4(),et!==null&&(Ac(et,1,tt),Ek(et,tt));break}}et=et.return}}function Ui(tt,et,nt){var rt=tt.pingCache;rt!==null&&rt.delete(et),et=L$4(),tt.pingedLanes|=tt.suspendedLanes&nt,R$1===tt&&(Z$2&nt)===nt&&(T$3===4||T$3===3&&(Z$2&130023424)===Z$2&&500>B$1()-gk?Lk(tt,0):sk|=nt),Ek(tt,et)}function Zk(tt,et){et===0&&(tt.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var nt=L$4();tt=Zg(tt,et),tt!==null&&(Ac(tt,et,nt),Ek(tt,nt))}function vj(tt){var et=tt.memoizedState,nt=0;et!==null&&(nt=et.retryLane),Zk(tt,nt)}function ck(tt,et){var nt=0;switch(tt.tag){case 13:var rt=tt.stateNode,it=tt.memoizedState;it!==null&&(nt=it.retryLane);break;case 19:rt=tt.stateNode;break;default:throw Error(p$5(314))}rt!==null&&rt.delete(et),Zk(tt,nt)}var Wk;Wk=function(tt,et,nt){if(tt!==null)if(tt.memoizedProps!==et.pendingProps||Wf.current)Ug=!0;else{if(!(tt.lanes&nt)&&!(et.flags&128))return Ug=!1,zj(tt,et,nt);Ug=!!(tt.flags&131072)}else Ug=!1,I$3&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;jj(tt,et),tt=et.pendingProps;var it=Yf(et,H$3.current);Tg(et,nt),it=Xh(null,et,rt,tt,it,nt);var st=bi();return et.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(rt)?(st=!0,cg(et)):st=!1,et.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,ah(et),it.updater=nh,et.stateNode=it,it._reactInternals=et,rh(et,rt,tt,nt),et=kj(null,et,rt,!0,st,nt)):(et.tag=0,I$3&&st&&vg(et),Yi(null,et,it,nt),et=et.child),et;case 16:rt=et.elementType;e:{switch(jj(tt,et),tt=et.pendingProps,it=rt._init,rt=it(rt._payload),et.type=rt,it=et.tag=$k(rt),tt=Lg(rt,tt),it){case 0:et=dj(null,et,rt,tt,nt);break e;case 1:et=ij(null,et,rt,tt,nt);break e;case 11:et=Zi(null,et,rt,tt,nt);break e;case 14:et=aj(null,et,rt,Lg(rt.type,tt),nt);break e}throw Error(p$5(306,rt,""))}return et;case 0:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:Lg(rt,it),dj(tt,et,rt,it,nt);case 1:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:Lg(rt,it),ij(tt,et,rt,it,nt);case 3:e:{if(lj(et),tt===null)throw Error(p$5(387));rt=et.pendingProps,st=et.memoizedState,it=st.element,bh(tt,et),gh(et,rt,null,nt);var ot=et.memoizedState;if(rt=ot.element,st.isDehydrated)if(st={element:rt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},et.updateQueue.baseState=st,et.memoizedState=st,et.flags&256){it=Ki(Error(p$5(423)),et),et=mj(tt,et,rt,nt,it);break e}else if(rt!==it){it=Ki(Error(p$5(424)),et),et=mj(tt,et,rt,nt,it);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$3=!0,zg=null,nt=Ch(et,null,rt,nt),et.child=nt;nt;)nt.flags=nt.flags&-3|4096,nt=nt.sibling;else{if(Ig(),rt===it){et=$i(tt,et,nt);break e}Yi(tt,et,rt,nt)}et=et.child}return et;case 5:return Kh(et),tt===null&&Eg(et),rt=et.type,it=et.pendingProps,st=tt!==null?tt.memoizedProps:null,ot=it.children,Ef(rt,it)?ot=null:st!==null&&Ef(rt,st)&&(et.flags|=32),hj(tt,et),Yi(tt,et,ot,nt),et.child;case 6:return tt===null&&Eg(et),null;case 13:return pj(tt,et,nt);case 4:return Ih(et,et.stateNode.containerInfo),rt=et.pendingProps,tt===null?et.child=Bh(et,null,rt,nt):Yi(tt,et,rt,nt),et.child;case 11:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:Lg(rt,it),Zi(tt,et,rt,it,nt);case 7:return Yi(tt,et,et.pendingProps,nt),et.child;case 8:return Yi(tt,et,et.pendingProps.children,nt),et.child;case 12:return Yi(tt,et,et.pendingProps.children,nt),et.child;case 10:e:{if(rt=et.type._context,it=et.pendingProps,st=et.memoizedProps,ot=it.value,G$3(Mg,rt._currentValue),rt._currentValue=ot,st!==null)if(He$1(st.value,ot)){if(st.children===it.children&&!Wf.current){et=$i(tt,et,nt);break e}}else for(st=et.child,st!==null&&(st.return=et);st!==null;){var at=st.dependencies;if(at!==null){ot=st.child;for(var lt=at.firstContext;lt!==null;){if(lt.context===rt){if(st.tag===1){lt=ch(-1,nt&-nt),lt.tag=2;var ut=st.updateQueue;if(ut!==null){ut=ut.shared;var ft=ut.pending;ft===null?lt.next=lt:(lt.next=ft.next,ft.next=lt),ut.pending=lt}}st.lanes|=nt,lt=st.alternate,lt!==null&&(lt.lanes|=nt),Sg(st.return,nt,et),at.lanes|=nt;break}lt=lt.next}}else if(st.tag===10)ot=st.type===et.type?null:st.child;else if(st.tag===18){if(ot=st.return,ot===null)throw Error(p$5(341));ot.lanes|=nt,at=ot.alternate,at!==null&&(at.lanes|=nt),Sg(ot,nt,et),ot=st.sibling}else ot=st.child;if(ot!==null)ot.return=st;else for(ot=st;ot!==null;){if(ot===et){ot=null;break}if(st=ot.sibling,st!==null){st.return=ot.return,ot=st;break}ot=ot.return}st=ot}Yi(tt,et,it.children,nt),et=et.child}return et;case 9:return it=et.type,rt=et.pendingProps.children,Tg(et,nt),it=Vg(it),rt=rt(it),et.flags|=1,Yi(tt,et,rt,nt),et.child;case 14:return rt=et.type,it=Lg(rt,et.pendingProps),it=Lg(rt.type,it),aj(tt,et,rt,it,nt);case 15:return cj(tt,et,et.type,et.pendingProps,nt);case 17:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:Lg(rt,it),jj(tt,et),et.tag=1,Zf(rt)?(tt=!0,cg(et)):tt=!1,Tg(et,nt),ph(et,rt,it),rh(et,rt,it,nt),kj(null,et,rt,!0,tt,nt);case 19:return yj(tt,et,nt);case 22:return ej(tt,et,nt)}throw Error(p$5(156,et.tag))};function Gk(tt,et){return ac(tt,et)}function al(tt,et,nt,rt){this.tag=tt,this.key=nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tt,et,nt,rt){return new al(tt,et,nt,rt)}function bj(tt){return tt=tt.prototype,!(!tt||!tt.isReactComponent)}function $k(tt){if(typeof tt=="function")return bj(tt)?1:0;if(tt!=null){if(tt=tt.$$typeof,tt===Da)return 11;if(tt===Ga)return 14}return 2}function wh(tt,et){var nt=tt.alternate;return nt===null?(nt=Bg(tt.tag,et,tt.key,tt.mode),nt.elementType=tt.elementType,nt.type=tt.type,nt.stateNode=tt.stateNode,nt.alternate=tt,tt.alternate=nt):(nt.pendingProps=et,nt.type=tt.type,nt.flags=0,nt.subtreeFlags=0,nt.deletions=null),nt.flags=tt.flags&14680064,nt.childLanes=tt.childLanes,nt.lanes=tt.lanes,nt.child=tt.child,nt.memoizedProps=tt.memoizedProps,nt.memoizedState=tt.memoizedState,nt.updateQueue=tt.updateQueue,et=tt.dependencies,nt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},nt.sibling=tt.sibling,nt.index=tt.index,nt.ref=tt.ref,nt}function yh(tt,et,nt,rt,it,st){var ot=2;if(rt=tt,typeof tt=="function")bj(tt)&&(ot=1);else if(typeof tt=="string")ot=5;else e:switch(tt){case ya:return Ah(nt.children,it,st,et);case za:ot=8,it|=8;break;case Aa:return tt=Bg(12,nt,et,it|2),tt.elementType=Aa,tt.lanes=st,tt;case Ea:return tt=Bg(13,nt,et,it),tt.elementType=Ea,tt.lanes=st,tt;case Fa:return tt=Bg(19,nt,et,it),tt.elementType=Fa,tt.lanes=st,tt;case Ia:return qj(nt,it,st,et);default:if(typeof tt=="object"&&tt!==null)switch(tt.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,rt=null;break e}throw Error(p$5(130,tt==null?tt:typeof tt,""))}return et=Bg(ot,nt,et,it),et.elementType=tt,et.type=rt,et.lanes=st,et}function Ah(tt,et,nt,rt){return tt=Bg(7,tt,rt,et),tt.lanes=nt,tt}function qj(tt,et,nt,rt){return tt=Bg(22,tt,rt,et),tt.elementType=Ia,tt.lanes=nt,tt.stateNode={isHidden:!1},tt}function xh(tt,et,nt){return tt=Bg(6,tt,null,et),tt.lanes=nt,tt}function zh(tt,et,nt){return et=Bg(4,tt.children!==null?tt.children:[],tt.key,et),et.lanes=nt,et.stateNode={containerInfo:tt.containerInfo,pendingChildren:null,implementation:tt.implementation},et}function bl(tt,et,nt,rt,it){this.tag=et,this.containerInfo=tt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function cl(tt,et,nt,rt,it,st,ot,at,lt){return tt=new bl(tt,et,nt,at,lt),et===1?(et=1,st===!0&&(et|=8)):et=0,st=Bg(3,null,null,et),tt.current=st,st.stateNode=tt,st.memoizedState={element:rt,isDehydrated:nt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(st),tt}function dl(tt,et,nt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:tt,containerInfo:et,implementation:nt}}function el(tt){if(!tt)return Vf;tt=tt._reactInternals;e:{if(Vb(tt)!==tt||tt.tag!==1)throw Error(p$5(170));var et=tt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$5(171))}if(tt.tag===1){var nt=tt.type;if(Zf(nt))return bg(tt,nt,et)}return et}function fl(tt,et,nt,rt,it,st,ot,at,lt){return tt=cl(nt,rt,!0,tt,it,st,ot,at,lt),tt.context=el(null),nt=tt.current,rt=L$4(),it=lh(nt),st=ch(rt,it),st.callback=et??null,dh(nt,st,it),tt.current.lanes=it,Ac(tt,it,rt),Ek(tt,rt),tt}function gl(tt,et,nt,rt){var it=et.current,st=L$4(),ot=lh(it);return nt=el(nt),et.context===null?et.context=nt:et.pendingContext=nt,et=ch(st,ot),et.payload={element:tt},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),tt=dh(it,et,ot),tt!==null&&(mh(tt,it,ot,st),eh(tt,it,ot)),ot}function hl(tt){if(tt=tt.current,!tt.child)return null;switch(tt.child.tag){case 5:return tt.child.stateNode;default:return tt.child.stateNode}}function il(tt,et){if(tt=tt.memoizedState,tt!==null&&tt.dehydrated!==null){var nt=tt.retryLane;tt.retryLane=nt!==0&&nt<et?nt:et}}function jl(tt,et){il(tt,et),(tt=tt.alternate)&&il(tt,et)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(tt){console.error(tt)};function ml(tt){this._internalRoot=tt}nl.prototype.render=ml.prototype.render=function(tt){var et=this._internalRoot;if(et===null)throw Error(p$5(409));gl(tt,et,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var tt=this._internalRoot;if(tt!==null){this._internalRoot=null;var et=tt.containerInfo;Sk(function(){gl(null,tt,null,null)}),et[uf]=null}};function nl(tt){this._internalRoot=tt}nl.prototype.unstable_scheduleHydration=function(tt){if(tt){var et=Hc();tt={blockedOn:null,target:tt,priority:et};for(var nt=0;nt<Qc.length&&et!==0&&et<Qc[nt].priority;nt++);Qc.splice(nt,0,tt),nt===0&&Vc(tt)}};function ol(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11)}function pl(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11&&(tt.nodeType!==8||tt.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(tt,et,nt,rt,it){if(it){if(typeof rt=="function"){var st=rt;rt=function(){var ut=hl(ot);st.call(ut)}}var ot=fl(et,rt,tt,0,null,!1,!1,"",ql);return tt._reactRootContainer=ot,tt[uf]=ot.current,sf(tt.nodeType===8?tt.parentNode:tt),Sk(),ot}for(;it=tt.lastChild;)tt.removeChild(it);if(typeof rt=="function"){var at=rt;rt=function(){var ut=hl(lt);at.call(ut)}}var lt=cl(tt,0,!1,null,null,!1,!1,"",ql);return tt._reactRootContainer=lt,tt[uf]=lt.current,sf(tt.nodeType===8?tt.parentNode:tt),Sk(function(){gl(et,lt,nt,rt)}),lt}function sl(tt,et,nt,rt,it){var st=nt._reactRootContainer;if(st){var ot=st;if(typeof it=="function"){var at=it;it=function(){var lt=hl(ot);at.call(lt)}}gl(et,ot,tt,it)}else ot=rl(nt,et,tt,it,rt);return hl(ot)}Ec=function(tt){switch(tt.tag){case 3:var et=tt.stateNode;if(et.current.memoizedState.isDehydrated){var nt=tc(et.pendingLanes);nt!==0&&(Cc(et,nt|1),Ek(et,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(tt,1);if(rt!==null){var it=L$4();mh(rt,tt,1,it)}}),jl(tt,1)}};Fc=function(tt){if(tt.tag===13){var et=Zg(tt,134217728);if(et!==null){var nt=L$4();mh(et,tt,134217728,nt)}jl(tt,134217728)}};Gc=function(tt){if(tt.tag===13){var et=lh(tt),nt=Zg(tt,et);if(nt!==null){var rt=L$4();mh(nt,tt,et,rt)}jl(tt,et)}};Hc=function(){return C$1};Ic=function(tt,et){var nt=C$1;try{return C$1=tt,et()}finally{C$1=nt}};yb=function(tt,et,nt){switch(et){case"input":if(bb(tt,nt),et=nt.name,nt.type==="radio"&&et!=null){for(nt=tt;nt.parentNode;)nt=nt.parentNode;for(nt=nt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<nt.length;et++){var rt=nt[et];if(rt!==tt&&rt.form===tt.form){var it=Db(rt);if(!it)throw Error(p$5(90));Wa(rt),bb(rt,it)}}}break;case"textarea":ib(tt,nt);break;case"select":et=nt.value,et!=null&&fb(tt,!!nt.multiple,et,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$3,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tt){return tt=Zb(tt),tt===null?null:tt.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(tt,et){var nt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(et))throw Error(p$5(200));return dl(tt,et,null,nt)};reactDom_production_min.createRoot=function(tt,et){if(!ol(tt))throw Error(p$5(299));var nt=!1,rt="",it=ll;return et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),et=cl(tt,1,!1,null,null,nt,!1,rt,it),tt[uf]=et.current,sf(tt.nodeType===8?tt.parentNode:tt),new ml(et)};reactDom_production_min.findDOMNode=function(tt){if(tt==null)return null;if(tt.nodeType===1)return tt;var et=tt._reactInternals;if(et===void 0)throw typeof tt.render=="function"?Error(p$5(188)):(tt=Object.keys(tt).join(","),Error(p$5(268,tt)));return tt=Zb(et),tt=tt===null?null:tt.stateNode,tt};reactDom_production_min.flushSync=function(tt){return Sk(tt)};reactDom_production_min.hydrate=function(tt,et,nt){if(!pl(et))throw Error(p$5(200));return sl(null,tt,et,!0,nt)};reactDom_production_min.hydrateRoot=function(tt,et,nt){if(!ol(tt))throw Error(p$5(405));var rt=nt!=null&&nt.hydratedSources||null,it=!1,st="",ot=ll;if(nt!=null&&(nt.unstable_strictMode===!0&&(it=!0),nt.identifierPrefix!==void 0&&(st=nt.identifierPrefix),nt.onRecoverableError!==void 0&&(ot=nt.onRecoverableError)),et=fl(et,null,tt,1,nt??null,it,!1,st,ot),tt[uf]=et.current,sf(tt),rt)for(tt=0;tt<rt.length;tt++)nt=rt[tt],it=nt._getVersion,it=it(nt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[nt,it]:et.mutableSourceEagerHydrationData.push(nt,it);return new nl(et)};reactDom_production_min.render=function(tt,et,nt){if(!pl(et))throw Error(p$5(200));return sl(null,tt,et,!1,nt)};reactDom_production_min.unmountComponentAtNode=function(tt){if(!pl(tt))throw Error(p$5(40));return tt._reactRootContainer?(Sk(function(){sl(null,null,tt,!1,function(){tt._reactRootContainer=null,tt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tt,et,nt,rt){if(!pl(nt))throw Error(p$5(200));if(tt==null||tt._reactInternals===void 0)throw Error(p$5(38));return sl(tt,et,nt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tt){console.error(tt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$7.apply(this,arguments)}var Action;(function(tt){tt.Pop="POP",tt.Push="PUSH",tt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(tt){tt===void 0&&(tt={});function et(rt,it){let{pathname:st,search:ot,hash:at}=rt.location;return createLocation("",{pathname:st,search:ot,hash:at},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function nt(rt,it){return typeof it=="string"?it:createPath(it)}return getUrlBasedHistory(et,nt,null,tt)}function invariant(tt,et){if(tt===!1||tt===null||typeof tt>"u")throw new Error(et)}function warning(tt,et){if(!tt){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(tt,et){return{usr:tt.state,key:tt.key,idx:et}}function createLocation(tt,et,nt,rt){return nt===void 0&&(nt=null),_extends$7({pathname:typeof tt=="string"?tt:tt.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:nt,key:et&&et.key||rt||createKey()})}function createPath(tt){let{pathname:et="/",search:nt="",hash:rt=""}=tt;return nt&&nt!=="?"&&(et+=nt.charAt(0)==="?"?nt:"?"+nt),rt&&rt!=="#"&&(et+=rt.charAt(0)==="#"?rt:"#"+rt),et}function parsePath(tt){let et={};if(tt){let nt=tt.indexOf("#");nt>=0&&(et.hash=tt.substr(nt),tt=tt.substr(0,nt));let rt=tt.indexOf("?");rt>=0&&(et.search=tt.substr(rt),tt=tt.substr(0,rt)),tt&&(et.pathname=tt)}return et}function getUrlBasedHistory(tt,et,nt,rt){rt===void 0&&(rt={});let{window:it=document.defaultView,v5Compat:st=!1}=rt,ot=it.history,at=Action.Pop,lt=null,ut=ft();ut==null&&(ut=0,ot.replaceState(_extends$7({},ot.state,{idx:ut}),""));function ft(){return(ot.state||{idx:null}).idx}function dt(){at=Action.Pop;let At=ft(),gt=At==null?null:At-ut;ut=At,lt&&lt({action:at,location:_t.location,delta:gt})}function ht(At,gt){at=Action.Push;let vt=createLocation(_t.location,At,gt);nt&&nt(vt,At),ut=ft()+1;let Et=getHistoryState(vt,ut),yt=_t.createHref(vt);try{ot.pushState(Et,"",yt)}catch{it.location.assign(yt)}st&&lt&&lt({action:at,location:_t.location,delta:1})}function mt(At,gt){at=Action.Replace;let vt=createLocation(_t.location,At,gt);nt&&nt(vt,At),ut=ft();let Et=getHistoryState(vt,ut),yt=_t.createHref(vt);ot.replaceState(Et,"",yt),st&&lt&&lt({action:at,location:_t.location,delta:0})}function xt(At){let gt=it.location.origin!=="null"?it.location.origin:it.location.href,vt=typeof At=="string"?At:createPath(At);return invariant(gt,"No window.location.(origin|href) available to create URL for href: "+vt),new URL(vt,gt)}let _t={get action(){return at},get location(){return tt(it,ot)},listen(At){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,dt),lt=At,()=>{it.removeEventListener(PopStateEventType,dt),lt=null}},createHref(At){return et(it,At)},createURL:xt,encodeLocation(At){let gt=xt(At);return{pathname:gt.pathname,search:gt.search,hash:gt.hash}},push:ht,replace:mt,go(At){return ot.go(At)}};return _t}var ResultType;(function(tt){tt.data="data",tt.deferred="deferred",tt.redirect="redirect",tt.error="error"})(ResultType||(ResultType={}));function matchRoutes(tt,et,nt){nt===void 0&&(nt="/");let rt=typeof et=="string"?parsePath(et):et,it=stripBasename(rt.pathname||"/",nt);if(it==null)return null;let st=flattenRoutes(tt);rankRouteBranches(st);let ot=null;for(let at=0;ot==null&&at<st.length;++at)ot=matchRouteBranch(st[at],safelyDecodeURI(it));return ot}function flattenRoutes(tt,et,nt,rt){et===void 0&&(et=[]),nt===void 0&&(nt=[]),rt===void 0&&(rt="");let it=(st,ot,at)=>{let lt={relativePath:at===void 0?st.path||"":at,caseSensitive:st.caseSensitive===!0,childrenIndex:ot,route:st};lt.relativePath.startsWith("/")&&(invariant(lt.relativePath.startsWith(rt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(rt.length));let ut=joinPaths([rt,lt.relativePath]),ft=nt.concat(lt);st.children&&st.children.length>0&&(invariant(st.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ut+'".')),flattenRoutes(st.children,et,ft,ut)),!(st.path==null&&!st.index)&&et.push({path:ut,score:computeScore(ut,st.index),routesMeta:ft})};return tt.forEach((st,ot)=>{var at;if(st.path===""||!((at=st.path)!=null&&at.includes("?")))it(st,ot);else for(let lt of explodeOptionalSegments(st.path))it(st,ot,lt)}),et}function explodeOptionalSegments(tt){let et=tt.split("/");if(et.length===0)return[];let[nt,...rt]=et,it=nt.endsWith("?"),st=nt.replace(/\?$/,"");if(rt.length===0)return it?[st,""]:[st];let ot=explodeOptionalSegments(rt.join("/")),at=[];return at.push(...ot.map(lt=>lt===""?st:[st,lt].join("/"))),it&&at.push(...ot),at.map(lt=>tt.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(tt){tt.sort((et,nt)=>et.score!==nt.score?nt.score-et.score:compareIndexes(et.routesMeta.map(rt=>rt.childrenIndex),nt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=tt=>tt==="*";function computeScore(tt,et){let nt=tt.split("/"),rt=nt.length;return nt.some(isSplat)&&(rt+=splatPenalty),et&&(rt+=indexRouteValue),nt.filter(it=>!isSplat(it)).reduce((it,st)=>it+(paramRe.test(st)?dynamicSegmentValue:st===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(tt,et){return tt.length===et.length&&tt.slice(0,-1).every((rt,it)=>rt===et[it])?tt[tt.length-1]-et[et.length-1]:0}function matchRouteBranch(tt,et){let{routesMeta:nt}=tt,rt={},it="/",st=[];for(let ot=0;ot<nt.length;++ot){let at=nt[ot],lt=ot===nt.length-1,ut=it==="/"?et:et.slice(it.length)||"/",ft=matchPath({path:at.relativePath,caseSensitive:at.caseSensitive,end:lt},ut);if(!ft)return null;Object.assign(rt,ft.params);let dt=at.route;st.push({params:rt,pathname:joinPaths([it,ft.pathname]),pathnameBase:normalizePathname(joinPaths([it,ft.pathnameBase])),route:dt}),ft.pathnameBase!=="/"&&(it=joinPaths([it,ft.pathnameBase]))}return st}function matchPath(tt,et){typeof tt=="string"&&(tt={path:tt,caseSensitive:!1,end:!0});let[nt,rt]=compilePath(tt.path,tt.caseSensitive,tt.end),it=et.match(nt);if(!it)return null;let st=it[0],ot=st.replace(/(.)\/+$/,"$1"),at=it.slice(1);return{params:rt.reduce((ut,ft,dt)=>{if(ft==="*"){let ht=at[dt]||"";ot=st.slice(0,st.length-ht.length).replace(/(.)\/+$/,"$1")}return ut[ft]=safelyDecodeURIComponent(at[dt]||"",ft),ut},{}),pathname:st,pathnameBase:ot,pattern:tt}}function compilePath(tt,et,nt){et===void 0&&(et=!1),nt===void 0&&(nt=!0),warning(tt==="*"||!tt.endsWith("*")||tt.endsWith("/*"),'Route path "'+tt+'" will be treated as if it were '+('"'+tt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+tt.replace(/\*$/,"/*")+'".'));let rt=[],it="^"+tt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,at)=>(rt.push(at),"/([^\\/]+)"));return tt.endsWith("*")?(rt.push("*"),it+=tt==="*"||tt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):nt?it+="\\/*$":tt!==""&&tt!=="/"&&(it+="(?:(?=\\/|$))"),[new RegExp(it,et?void 0:"i"),rt]}function safelyDecodeURI(tt){try{return decodeURI(tt)}catch(et){return warning(!1,'The URL path "'+tt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),tt}}function safelyDecodeURIComponent(tt,et){try{return decodeURIComponent(tt)}catch(nt){return warning(!1,'The value for the URL param "'+et+'" will not be decoded because'+(' the string "'+tt+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+nt+").")),tt}}function stripBasename(tt,et){if(et==="/")return tt;if(!tt.toLowerCase().startsWith(et.toLowerCase()))return null;let nt=et.endsWith("/")?et.length-1:et.length,rt=tt.charAt(nt);return rt&&rt!=="/"?null:tt.slice(nt)||"/"}function resolvePath$1(tt,et){et===void 0&&(et="/");let{pathname:nt,search:rt="",hash:it=""}=typeof tt=="string"?parsePath(tt):tt;return{pathname:nt?nt.startsWith("/")?nt:resolvePathname(nt,et):et,search:normalizeSearch(rt),hash:normalizeHash(it)}}function resolvePathname(tt,et){let nt=et.replace(/\/+$/,"").split("/");return tt.split("/").forEach(it=>{it===".."?nt.length>1&&nt.pop():it!=="."&&nt.push(it)}),nt.length>1?nt.join("/"):"/"}function getInvalidPathError(tt,et,nt,rt){return"Cannot include a '"+tt+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+nt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(tt){return tt.filter((et,nt)=>nt===0||et.route.path&&et.route.path.length>0)}function resolveTo(tt,et,nt,rt){rt===void 0&&(rt=!1);let it;typeof tt=="string"?it=parsePath(tt):(it=_extends$7({},tt),invariant(!it.pathname||!it.pathname.includes("?"),getInvalidPathError("?","pathname","search",it)),invariant(!it.pathname||!it.pathname.includes("#"),getInvalidPathError("#","pathname","hash",it)),invariant(!it.search||!it.search.includes("#"),getInvalidPathError("#","search","hash",it)));let st=tt===""||it.pathname==="",ot=st?"/":it.pathname,at;if(rt||ot==null)at=nt;else{let dt=et.length-1;if(ot.startsWith("..")){let ht=ot.split("/");for(;ht[0]==="..";)ht.shift(),dt-=1;it.pathname=ht.join("/")}at=dt>=0?et[dt]:"/"}let lt=resolvePath$1(it,at),ut=ot&&ot!=="/"&&ot.endsWith("/"),ft=(st||ot===".")&&nt.endsWith("/");return!lt.pathname.endsWith("/")&&(ut||ft)&&(lt.pathname+="/"),lt}const joinPaths=tt=>tt.join("/").replace(/\/\/+/g,"/"),normalizePathname=tt=>tt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=tt=>!tt||tt==="?"?"":tt.startsWith("?")?tt:"?"+tt,normalizeHash=tt=>!tt||tt==="#"?"":tt.startsWith("#")?tt:"#"+tt;function isRouteErrorResponse(tt){return tt!=null&&typeof tt.status=="number"&&typeof tt.statusText=="string"&&typeof tt.internal=="boolean"&&"data"in tt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$6.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function useHref(tt,et){let{relative:nt}=et===void 0?{}:et;useInRouterContext()||invariant(!1);let{basename:rt,navigator:it}=reactExports.useContext(NavigationContext),{hash:st,pathname:ot,search:at}=useResolvedPath(tt,{relative:nt}),lt=ot;return rt!=="/"&&(lt=ot==="/"?rt:joinPaths([rt,ot])),it.createHref({pathname:lt,search:at,hash:st})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(tt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(tt)}function useNavigate(){return reactExports.useContext(DataRouterContext)!=null?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let{basename:tt,navigator:et}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getPathContributingMatches(nt).map(at=>at.pathnameBase)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{st.current=!0}),reactExports.useCallback(function(at,lt){if(lt===void 0&&(lt={}),!st.current)return;if(typeof at=="number"){et.go(at);return}let ut=resolveTo(at,JSON.parse(it),rt,lt.relative==="path");tt!=="/"&&(ut.pathname=ut.pathname==="/"?tt:joinPaths([tt,ut.pathname])),(lt.replace?et.replace:et.push)(ut,lt.state,lt)},[tt,et,it,rt])}const OutletContext=reactExports.createContext(null);function useOutlet(tt){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:tt},et)}function useParams(){let{matches:tt}=reactExports.useContext(RouteContext),et=tt[tt.length-1];return et?et.params:{}}function useResolvedPath(tt,et){let{relative:nt}=et===void 0?{}:et,{matches:rt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=JSON.stringify(getPathContributingMatches(rt).map(ot=>ot.pathnameBase));return reactExports.useMemo(()=>resolveTo(tt,JSON.parse(st),it,nt==="path"),[tt,st,it,nt])}function useRoutes(tt,et){return useRoutesImpl(tt,et)}function useRoutesImpl(tt,et,nt){useInRouterContext()||invariant(!1);let{navigator:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),st=it[it.length-1],ot=st?st.params:{};st&&st.pathname;let at=st?st.pathnameBase:"/";st&&st.route;let lt=useLocation(),ut;if(et){var ft;let _t=typeof et=="string"?parsePath(et):et;at==="/"||(ft=_t.pathname)!=null&&ft.startsWith(at)||invariant(!1),ut=_t}else ut=lt;let dt=ut.pathname||"/",ht=at==="/"?dt:dt.slice(at.length)||"/",mt=matchRoutes(tt,{pathname:ht}),xt=_renderMatches(mt&&mt.map(_t=>Object.assign({},_t,{params:Object.assign({},ot,_t.params),pathname:joinPaths([at,rt.encodeLocation?rt.encodeLocation(_t.pathname).pathname:_t.pathname]),pathnameBase:_t.pathnameBase==="/"?at:joinPaths([at,rt.encodeLocation?rt.encodeLocation(_t.pathnameBase).pathname:_t.pathnameBase])})),it,nt);return et&&xt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$6({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},xt):xt}function DefaultErrorComponent(){let tt=useRouteError(),et=isRouteErrorResponse(tt)?tt.status+" "+tt.statusText:tt instanceof Error?tt.message:JSON.stringify(tt),nt=tt instanceof Error?tt.stack:null,it={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},st=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),nt?reactExports.createElement("pre",{style:it},nt):null,st)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,nt){return nt.location!==et.location||nt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error||nt.error,location:nt.location,revalidation:et.revalidation||nt.revalidation}}componentDidCatch(et,nt){console.error("React Router caught the following error during render",et,nt)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(tt){let{routeContext:et,match:nt,children:rt}=tt,it=reactExports.useContext(DataRouterContext);return it&&it.static&&it.staticContext&&(nt.route.errorElement||nt.route.ErrorBoundary)&&(it.staticContext._deepestRenderedBoundaryId=nt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},rt)}function _renderMatches(tt,et,nt){var rt;if(et===void 0&&(et=[]),nt===void 0&&(nt=null),tt==null){var it;if((it=nt)!=null&&it.errors)tt=nt.matches;else return null}let st=tt,ot=(rt=nt)==null?void 0:rt.errors;if(ot!=null){let at=st.findIndex(lt=>lt.route.id&&(ot==null?void 0:ot[lt.route.id]));at>=0||invariant(!1),st=st.slice(0,Math.min(st.length,at+1))}return st.reduceRight((at,lt,ut)=>{let ft=lt.route.id?ot==null?void 0:ot[lt.route.id]:null,dt=null;nt&&(dt=lt.route.errorElement||defaultErrorElement);let ht=et.concat(st.slice(0,ut+1)),mt=()=>{let xt;return ft?xt=dt:lt.route.element?xt=lt.route.element:xt=at,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:at,matches:ht},children:xt})};return nt&&(lt.route.ErrorBoundary||lt.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:nt.location,revalidation:nt.revalidation,component:dt,error:ft,children:mt(),routeContext:{outlet:null,matches:ht}}):mt()},null)}var DataRouterHook$1;(function(tt){tt.UseBlocker="useBlocker",tt.UseRevalidator="useRevalidator",tt.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(tt){tt.UseBlocker="useBlocker",tt.UseLoaderData="useLoaderData",tt.UseActionData="useActionData",tt.UseRouteError="useRouteError",tt.UseNavigation="useNavigation",tt.UseRouteLoaderData="useRouteLoaderData",tt.UseMatches="useMatches",tt.UseRevalidator="useRevalidator",tt.UseNavigateStable="useNavigate",tt.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(tt){let et=reactExports.useContext(DataRouterContext);return et||invariant(!1),et}function useDataRouterState(tt){let et=reactExports.useContext(DataRouterStateContext);return et||invariant(!1),et}function useRouteContext(tt){let et=reactExports.useContext(RouteContext);return et||invariant(!1),et}function useCurrentRouteId(tt){let et=useRouteContext(),nt=et.matches[et.matches.length-1];return nt.route.id||invariant(!1),nt.route.id}function useRouteError(){var tt;let et=reactExports.useContext(RouteErrorContext),nt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et||((tt=nt.errors)==null?void 0:tt[rt])}function useNavigateStable(){let{router:tt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{nt.current=!0}),reactExports.useCallback(function(it,st){st===void 0&&(st={}),nt.current&&(typeof it=="number"?tt.navigate(it):tt.navigate(it,_extends$6({fromRouteId:et},st)))},[tt,et])}function Outlet(tt){return useOutlet(tt.context)}function Route(tt){invariant(!1)}function Router(tt){let{basename:et="/",children:nt=null,location:rt,navigationType:it=Action.Pop,navigator:st,static:ot=!1}=tt;useInRouterContext()&&invariant(!1);let at=et.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:at,navigator:st,static:ot}),[at,st,ot]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ut="/",search:ft="",hash:dt="",state:ht=null,key:mt="default"}=rt,xt=reactExports.useMemo(()=>{let _t=stripBasename(ut,at);return _t==null?null:{location:{pathname:_t,search:ft,hash:dt,state:ht,key:mt},navigationType:it}},[at,ut,ft,dt,ht,mt,it]);return xt==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:nt,value:xt}))}function Routes(tt){let{children:et,location:nt}=tt;return useRoutes(createRoutesFromChildren(et),nt)}var AwaitRenderStatus;(function(tt){tt[tt.pending=0]="pending",tt[tt.success=1]="success",tt[tt.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(tt,et){et===void 0&&(et=[]);let nt=[];return reactExports.Children.forEach(tt,(rt,it)=>{if(!reactExports.isValidElement(rt))return;let st=[...et,it];if(rt.type===reactExports.Fragment){nt.push.apply(nt,createRoutesFromChildren(rt.props.children,st));return}rt.type!==Route&&invariant(!1),!rt.props.index||!rt.props.children||invariant(!1);let ot={id:rt.props.id||st.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(ot.children=createRoutesFromChildren(rt.props.children,st)),nt.push(ot)}),nt}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$5.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,st;for(st=0;st<rt.length;st++)it=rt[st],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}function isModifiedEvent(tt){return!!(tt.metaKey||tt.altKey||tt.ctrlKey||tt.shiftKey)}function shouldProcessLinkClick(tt,et){return tt.button===0&&(!et||et==="_self")&&!isModifiedEvent(tt)}function createSearchParams(tt){return tt===void 0&&(tt=""),new URLSearchParams(typeof tt=="string"||Array.isArray(tt)||tt instanceof URLSearchParams?tt:Object.keys(tt).reduce((et,nt)=>{let rt=tt[nt];return et.concat(Array.isArray(rt)?rt.map(it=>[nt,it]):[[nt,rt]])},[]))}function getSearchParamsForLocation(tt,et){let nt=createSearchParams(tt);if(et)for(let rt of et.keys())nt.has(rt)||et.getAll(rt).forEach(it=>{nt.append(rt,it)});return nt}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(tt){let{basename:et,children:nt,window:rt}=tt,it=reactExports.useRef();it.current==null&&(it.current=createBrowserHistory({window:rt,v5Compat:!0}));let st=it.current,[ot,at]=reactExports.useState({action:st.action,location:st.location});return reactExports.useLayoutEffect(()=>st.listen(at),[st]),reactExports.createElement(Router,{basename:et,children:nt,location:ot.location,navigationType:ot.action,navigator:st})}const isBrowser$6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(et,nt){let{onClick:rt,relative:it,reloadDocument:st,replace:ot,state:at,target:lt,to:ut,preventScrollReset:ft}=et,dt=_objectWithoutPropertiesLoose$2(et,_excluded$2),{basename:ht}=reactExports.useContext(NavigationContext),mt,xt=!1;if(typeof ut=="string"&&ABSOLUTE_URL_REGEX.test(ut)&&(mt=ut,isBrowser$6))try{let vt=new URL(window.location.href),Et=ut.startsWith("//")?new URL(vt.protocol+ut):new URL(ut),yt=stripBasename(Et.pathname,ht);Et.origin===vt.origin&&yt!=null?ut=yt+Et.search+Et.hash:xt=!0}catch{}let _t=useHref(ut,{relative:it}),At=useLinkClickHandler(ut,{replace:ot,state:at,target:lt,preventScrollReset:ft,relative:it});function gt(vt){rt&&rt(vt),vt.defaultPrevented||At(vt)}return reactExports.createElement("a",_extends$5({},dt,{href:mt||_t,onClick:xt||st?rt:gt,ref:nt,target:lt}))});var DataRouterHook;(function(tt){tt.UseScrollRestoration="useScrollRestoration",tt.UseSubmitImpl="useSubmitImpl",tt.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(tt){tt.UseFetchers="useFetchers",tt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(tt,et){let{target:nt,replace:rt,state:it,preventScrollReset:st,relative:ot}=et===void 0?{}:et,at=useNavigate(),lt=useLocation(),ut=useResolvedPath(tt,{relative:ot});return reactExports.useCallback(ft=>{if(shouldProcessLinkClick(ft,nt)){ft.preventDefault();let dt=rt!==void 0?rt:createPath(lt)===createPath(ut);at(tt,{replace:dt,state:it,preventScrollReset:st,relative:ot})}},[lt,at,ut,rt,it,nt,tt,st,ot])}function useSearchParams(tt){let et=reactExports.useRef(createSearchParams(tt)),nt=reactExports.useRef(!1),rt=useLocation(),it=reactExports.useMemo(()=>getSearchParamsForLocation(rt.search,nt.current?null:et.current),[rt.search]),st=useNavigate(),ot=reactExports.useCallback((at,lt)=>{const ut=createSearchParams(typeof at=="function"?at(it):at);nt.current=!0,st("?"+ut,lt)},[st,it]);return[it,ot]}let e$5={data:""},t$4=tt=>typeof window=="object"?((tt?tt.querySelector("#_goober"):window._goober)||Object.assign((tt||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:tt||e$5,l$5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$3=/\/\*[^]*?\*\/|  +/g,n$7=/\n+/g,o$3=(tt,et)=>{let nt="",rt="",it="";for(let st in tt){let ot=tt[st];st[0]=="@"?st[1]=="i"?nt=st+" "+ot+";":rt+=st[1]=="f"?o$3(ot,st):st+"{"+o$3(ot,st[1]=="k"?"":et)+"}":typeof ot=="object"?rt+=o$3(ot,et?et.replace(/([^,])+/g,at=>st.replace(/(^:.*)|([^,])+/g,lt=>/&/.test(lt)?lt.replace(/&/g,at):at?at+" "+lt:lt)):st):ot!=null&&(st=/^--/.test(st)?st:st.replace(/[A-Z]/g,"-$&").toLowerCase(),it+=o$3.p?o$3.p(st,ot):st+":"+ot+";")}return nt+(et&&it?et+"{"+it+"}":it)+rt},c$4={},s$3=tt=>{if(typeof tt=="object"){let et="";for(let nt in tt)et+=nt+s$3(tt[nt]);return et}return tt},i$4=(tt,et,nt,rt,it)=>{let st=s$3(tt),ot=c$4[st]||(c$4[st]=(lt=>{let ut=0,ft=11;for(;ut<lt.length;)ft=101*ft+lt.charCodeAt(ut++)>>>0;return"go"+ft})(st));if(!c$4[ot]){let lt=st!==tt?tt:(ut=>{let ft,dt,ht=[{}];for(;ft=l$5.exec(ut.replace(a$3,""));)ft[4]?ht.shift():ft[3]?(dt=ft[3].replace(n$7," ").trim(),ht.unshift(ht[0][dt]=ht[0][dt]||{})):ht[0][ft[1]]=ft[2].replace(n$7," ").trim();return ht[0]})(tt);c$4[ot]=o$3(it?{["@keyframes "+ot]:lt}:lt,nt?"":"."+ot)}let at=nt&&c$4.g?c$4.g:null;return nt&&(c$4.g=c$4[ot]),((lt,ut,ft,dt)=>{dt?ut.data=ut.data.replace(dt,lt):ut.data.indexOf(lt)===-1&&(ut.data=ft?lt+ut.data:ut.data+lt)})(c$4[ot],et,rt,at),ot},p$4=(tt,et,nt)=>tt.reduce((rt,it,st)=>{let ot=et[st];if(ot&&ot.call){let at=ot(nt),lt=at&&at.props&&at.props.className||/^go/.test(at)&&at;ot=lt?"."+lt:at&&typeof at=="object"?at.props?"":o$3(at,""):at===!1?"":at}return rt+it+(ot??"")},"");function u$3(tt){let et=this||{},nt=tt.call?tt(et.p):tt;return i$4(nt.unshift?nt.raw?p$4(nt,[].slice.call(arguments,1),et.p):nt.reduce((rt,it)=>Object.assign(rt,it&&it.call?it(et.p):it),{}):nt,t$4(et.target),et.g,et.o,et.k)}let d$3,f$5,g$4;u$3.bind({g:1});let h$6=u$3.bind({k:1});function m$4(tt,et,nt,rt){o$3.p=et,d$3=tt,f$5=nt,g$4=rt}function j$2(tt,et){let nt=this||{};return function(){let rt=arguments;function it(st,ot){let at=Object.assign({},st),lt=at.className||it.className;nt.p=Object.assign({theme:f$5&&f$5()},at),nt.o=/ *go\d+/.test(lt),at.className=u$3.apply(nt,rt)+(lt?" "+lt:""),et&&(at.ref=ot);let ut=tt;return tt[0]&&(ut=at.as||tt,delete at.as),g$4&&ut[0]&&g$4(at),d$3(ut,at)}return et?et(it):it}}var W$2=tt=>typeof tt=="function",T$2=(tt,et)=>W$2(tt)?tt(et):tt,U$2=(()=>{let tt=0;return()=>(++tt).toString()})(),b$5=(()=>{let tt;return()=>{if(tt===void 0&&typeof window<"u"){let et=matchMedia("(prefers-reduced-motion: reduce)");tt=!et||et.matches}return tt}})(),Q$1=20,S$2=new Map,X$1=1e3,$$1=tt=>{if(S$2.has(tt))return;let et=setTimeout(()=>{S$2.delete(tt),u$2({type:4,toastId:tt})},X$1);S$2.set(tt,et)},J$2=tt=>{let et=S$2.get(tt);et&&clearTimeout(et)},v$5=(tt,et)=>{switch(et.type){case 0:return{...tt,toasts:[et.toast,...tt.toasts].slice(0,Q$1)};case 1:return et.toast.id&&J$2(et.toast.id),{...tt,toasts:tt.toasts.map(st=>st.id===et.toast.id?{...st,...et.toast}:st)};case 2:let{toast:nt}=et;return tt.toasts.find(st=>st.id===nt.id)?v$5(tt,{type:1,toast:nt}):v$5(tt,{type:0,toast:nt});case 3:let{toastId:rt}=et;return rt?$$1(rt):tt.toasts.forEach(st=>{$$1(st.id)}),{...tt,toasts:tt.toasts.map(st=>st.id===rt||rt===void 0?{...st,visible:!1}:st)};case 4:return et.toastId===void 0?{...tt,toasts:[]}:{...tt,toasts:tt.toasts.filter(st=>st.id!==et.toastId)};case 5:return{...tt,pausedAt:et.time};case 6:let it=et.time-(tt.pausedAt||0);return{...tt,pausedAt:void 0,toasts:tt.toasts.map(st=>({...st,pauseDuration:st.pauseDuration+it}))}}},A$3=[],P$2={toasts:[],pausedAt:void 0},u$2=tt=>{P$2=v$5(P$2,tt),A$3.forEach(et=>{et(P$2)})},Y$2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I$2=(tt={})=>{let[et,nt]=reactExports.useState(P$2);reactExports.useEffect(()=>(A$3.push(nt),()=>{let it=A$3.indexOf(nt);it>-1&&A$3.splice(it,1)}),[et]);let rt=et.toasts.map(it=>{var st,ot;return{...tt,...tt[it.type],...it,duration:it.duration||((st=tt[it.type])==null?void 0:st.duration)||(tt==null?void 0:tt.duration)||Y$2[it.type],style:{...tt.style,...(ot=tt[it.type])==null?void 0:ot.style,...it.style}}});return{...et,toasts:rt}},G$2=(tt,et="blank",nt)=>({createdAt:Date.now(),visible:!0,type:et,ariaProps:{role:"status","aria-live":"polite"},message:tt,pauseDuration:0,...nt,id:(nt==null?void 0:nt.id)||U$2()}),h$5=tt=>(et,nt)=>{let rt=G$2(et,tt,nt);return u$2({type:2,toast:rt}),rt.id},n$6=(tt,et)=>h$5("blank")(tt,et);n$6.error=h$5("error");n$6.success=h$5("success");n$6.loading=h$5("loading");n$6.custom=h$5("custom");n$6.dismiss=tt=>{u$2({type:3,toastId:tt})};n$6.remove=tt=>u$2({type:4,toastId:tt});n$6.promise=(tt,et,nt)=>{let rt=n$6.loading(et.loading,{...nt,...nt==null?void 0:nt.loading});return tt.then(it=>(n$6.success(T$2(et.success,it),{id:rt,...nt,...nt==null?void 0:nt.success}),it)).catch(it=>{n$6.error(T$2(et.error,it),{id:rt,...nt,...nt==null?void 0:nt.error})}),tt};var Z$1=(tt,et)=>{u$2({type:1,toast:{id:tt,height:et}})},ee$2=()=>{u$2({type:5,time:Date.now()})},D$1=tt=>{let{toasts:et,pausedAt:nt}=I$2(tt);reactExports.useEffect(()=>{if(nt)return;let st=Date.now(),ot=et.map(at=>{if(at.duration===1/0)return;let lt=(at.duration||0)+at.pauseDuration-(st-at.createdAt);if(lt<0){at.visible&&n$6.dismiss(at.id);return}return setTimeout(()=>n$6.dismiss(at.id),lt)});return()=>{ot.forEach(at=>at&&clearTimeout(at))}},[et,nt]);let rt=reactExports.useCallback(()=>{nt&&u$2({type:6,time:Date.now()})},[nt]),it=reactExports.useCallback((st,ot)=>{let{reverseOrder:at=!1,gutter:lt=8,defaultPosition:ut}=ot||{},ft=et.filter(mt=>(mt.position||ut)===(st.position||ut)&&mt.height),dt=ft.findIndex(mt=>mt.id===st.id),ht=ft.filter((mt,xt)=>xt<dt&&mt.visible).length;return ft.filter(mt=>mt.visible).slice(...at?[ht+1]:[0,ht]).reduce((mt,xt)=>mt+(xt.height||0)+lt,0)},[et]);return{toasts:et,handlers:{updateHeight:Z$1,startPause:ee$2,endPause:rt,calculateOffset:it}}},oe$2=h$6`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re$2=h$6`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se$2=h$6`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_$2=j$2("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tt=>tt.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe$2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re$2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${tt=>tt.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se$2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne$2=h$6`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V$3=j$2("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${tt=>tt.secondary||"#e0e0e0"};
  border-right-color: ${tt=>tt.primary||"#616161"};
  animation: ${ne$2} 1s linear infinite;
`,pe$1=h$6`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de$1=h$6`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w$4=j$2("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tt=>tt.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${tt=>tt.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue$2=j$2("div")`
  position: absolute;
`,le$1=j$2("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Te$1=h$6`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe$2=j$2("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Te$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M$2=({toast:tt})=>{let{icon:et,type:nt,iconTheme:rt}=tt;return et!==void 0?typeof et=="string"?reactExports.createElement(fe$2,null,et):et:nt==="blank"?null:reactExports.createElement(le$1,null,reactExports.createElement(V$3,{...rt}),nt!=="loading"&&reactExports.createElement(ue$2,null,nt==="error"?reactExports.createElement(_$2,{...rt}):reactExports.createElement(w$4,{...rt})))},ye=tt=>`
0% {transform: translate3d(0,${tt*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge$1=tt=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${tt*-150}%,-1px) scale(.6); opacity:0;}
`,he$2="0%{opacity:0;} 100%{opacity:1;}",xe$1="0%{opacity:1;} 100%{opacity:0;}",be$2=j$2("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se$1=j$2("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae$1=(tt,et)=>{let nt=tt.includes("top")?1:-1,[rt,it]=b$5()?[he$2,xe$1]:[ye(nt),ge$1(nt)];return{animation:et?`${h$6(rt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$6(it)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F$2=reactExports.memo(({toast:tt,position:et,style:nt,children:rt})=>{let it=tt.height?Ae$1(tt.position||et||"top-center",tt.visible):{opacity:0},st=reactExports.createElement(M$2,{toast:tt}),ot=reactExports.createElement(Se$1,{...tt.ariaProps},T$2(tt.message,tt));return reactExports.createElement(be$2,{className:tt.className,style:{...it,...nt,...tt.style}},typeof rt=="function"?rt({icon:st,message:ot}):reactExports.createElement(reactExports.Fragment,null,st,ot))});m$4(reactExports.createElement);var Ee$1=({id:tt,className:et,style:nt,onHeightUpdate:rt,children:it})=>{let st=reactExports.useCallback(ot=>{if(ot){let at=()=>{let lt=ot.getBoundingClientRect().height;rt(tt,lt)};at(),new MutationObserver(at).observe(ot,{subtree:!0,childList:!0,characterData:!0})}},[tt,rt]);return reactExports.createElement("div",{ref:st,className:et,style:nt},it)},Re$1=(tt,et)=>{let nt=tt.includes("top"),rt=nt?{top:0}:{bottom:0},it=tt.includes("center")?{justifyContent:"center"}:tt.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b$5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${et*(nt?1:-1)}px)`,...rt,...it}},ve$2=u$3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O$1=16,Ie=({reverseOrder:tt,position:et="top-center",toastOptions:nt,gutter:rt,children:it,containerStyle:st,containerClassName:ot})=>{let{toasts:at,handlers:lt}=D$1(nt);return reactExports.createElement("div",{style:{position:"fixed",zIndex:9999,top:O$1,left:O$1,right:O$1,bottom:O$1,pointerEvents:"none",...st},className:ot,onMouseEnter:lt.startPause,onMouseLeave:lt.endPause},at.map(ut=>{let ft=ut.position||et,dt=lt.calculateOffset(ut,{reverseOrder:tt,gutter:rt,defaultPosition:et}),ht=Re$1(ft,dt);return reactExports.createElement(Ee$1,{id:ut.id,key:ut.id,onHeightUpdate:lt.updateHeight,className:ut.visible?ve$2:"",style:ht},ut.type==="custom"?T$2(ut.message,ut):it?it(ut):reactExports.createElement(F$2,{toast:ut,position:ft}))}))};const App$1="",quill_snow="",leaflet="",MapLayout="";function useAttribution(tt,et){const nt=reactExports.useRef(et);reactExports.useEffect(function(){et!==nt.current&&tt.attributionControl!=null&&(nt.current!=null&&tt.attributionControl.removeAttribution(nt.current),et!=null&&tt.attributionControl.addAttribution(et)),nt.current=et},[tt,et])}const CONTEXT_VERSION=1;function createLeafletContext(tt){return Object.freeze({__version:CONTEXT_VERSION,map:tt})}function extendContext(tt,et){return Object.freeze({...tt,...et})}const LeafletContext=reactExports.createContext(null),LeafletProvider=LeafletContext.Provider;function useLeafletContext(){const tt=reactExports.useContext(LeafletContext);if(tt==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return tt}function createContainerComponent(tt){function et(nt,rt){const{instance:it,context:st}=tt(nt).current;return reactExports.useImperativeHandle(rt,()=>it),nt.children==null?null:React$1.createElement(LeafletProvider,{value:st},nt.children)}return reactExports.forwardRef(et)}function createLeafComponent(tt){function et(nt,rt){const{instance:it}=tt(nt).current;return reactExports.useImperativeHandle(rt,()=>it),null}return reactExports.forwardRef(et)}function useEventHandlers(tt,et){const nt=reactExports.useRef();reactExports.useEffect(function(){return et!=null&&tt.instance.on(et),nt.current=et,function(){nt.current!=null&&tt.instance.off(nt.current),nt.current=null}},[tt,et])}function withPane(tt,et){const nt=tt.pane??et.pane;return nt?{...tt,pane:nt}:tt}var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,function(tt,et){(function(nt,rt){rt(et)})(commonjsGlobal,function(nt){var rt="1.9.3";function it(ct){var bt,Pt,Dt,Zt;for(Pt=1,Dt=arguments.length;Pt<Dt;Pt++){Zt=arguments[Pt];for(bt in Zt)ct[bt]=Zt[bt]}return ct}var st=Object.create||function(){function ct(){}return function(bt){return ct.prototype=bt,new ct}}();function ot(ct,bt){var Pt=Array.prototype.slice;if(ct.bind)return ct.bind.apply(ct,Pt.call(arguments,1));var Dt=Pt.call(arguments,2);return function(){return ct.apply(bt,Dt.length?Dt.concat(Pt.call(arguments)):arguments)}}var at=0;function lt(ct){return"_leaflet_id"in ct||(ct._leaflet_id=++at),ct._leaflet_id}function ut(ct,bt,Pt){var Dt,Zt,fn,An;return An=function(){Dt=!1,Zt&&(fn.apply(Pt,Zt),Zt=!1)},fn=function(){Dt?Zt=arguments:(ct.apply(Pt,arguments),setTimeout(An,bt),Dt=!0)},fn}function ft(ct,bt,Pt){var Dt=bt[1],Zt=bt[0],fn=Dt-Zt;return ct===Dt&&Pt?ct:((ct-Zt)%fn+fn)%fn+Zt}function dt(){return!1}function ht(ct,bt){if(bt===!1)return ct;var Pt=Math.pow(10,bt===void 0?6:bt);return Math.round(ct*Pt)/Pt}function mt(ct){return ct.trim?ct.trim():ct.replace(/^\s+|\s+$/g,"")}function xt(ct){return mt(ct).split(/\s+/)}function _t(ct,bt){Object.prototype.hasOwnProperty.call(ct,"options")||(ct.options=ct.options?st(ct.options):{});for(var Pt in bt)ct.options[Pt]=bt[Pt];return ct.options}function At(ct,bt,Pt){var Dt=[];for(var Zt in ct)Dt.push(encodeURIComponent(Pt?Zt.toUpperCase():Zt)+"="+encodeURIComponent(ct[Zt]));return(!bt||bt.indexOf("?")===-1?"?":"&")+Dt.join("&")}var gt=/\{ *([\w_ -]+) *\}/g;function vt(ct,bt){return ct.replace(gt,function(Pt,Dt){var Zt=bt[Dt];if(Zt===void 0)throw new Error("No value provided for variable "+Pt);return typeof Zt=="function"&&(Zt=Zt(bt)),Zt})}var Et=Array.isArray||function(ct){return Object.prototype.toString.call(ct)==="[object Array]"};function yt(ct,bt){for(var Pt=0;Pt<ct.length;Pt++)if(ct[Pt]===bt)return Pt;return-1}var wt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ct(ct){return window["webkit"+ct]||window["moz"+ct]||window["ms"+ct]}var Rt=0;function It(ct){var bt=+new Date,Pt=Math.max(0,16-(bt-Rt));return Rt=bt+Pt,window.setTimeout(ct,Pt)}var $t=window.requestAnimationFrame||Ct("RequestAnimationFrame")||It,Ft=window.cancelAnimationFrame||Ct("CancelAnimationFrame")||Ct("CancelRequestAnimationFrame")||function(ct){window.clearTimeout(ct)};function Bt(ct,bt,Pt){if(Pt&&$t===It)ct.call(bt);else return $t.call(window,ot(ct,bt))}function Nt(ct){ct&&Ft.call(window,ct)}var Xt={__proto__:null,extend:it,create:st,bind:ot,get lastId(){return at},stamp:lt,throttle:ut,wrapNum:ft,falseFn:dt,formatNum:ht,trim:mt,splitWords:xt,setOptions:_t,getParamString:At,template:vt,isArray:Et,indexOf:yt,emptyImageUrl:wt,requestFn:$t,cancelFn:Ft,requestAnimFrame:Bt,cancelAnimFrame:Nt};function nn(){}nn.extend=function(ct){var bt=function(){_t(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Pt=bt.__super__=this.prototype,Dt=st(Pt);Dt.constructor=bt,bt.prototype=Dt;for(var Zt in this)Object.prototype.hasOwnProperty.call(this,Zt)&&Zt!=="prototype"&&Zt!=="__super__"&&(bt[Zt]=this[Zt]);return ct.statics&&it(bt,ct.statics),ct.includes&&(sn(ct.includes),it.apply(null,[Dt].concat(ct.includes))),it(Dt,ct),delete Dt.statics,delete Dt.includes,Dt.options&&(Dt.options=Pt.options?st(Pt.options):{},it(Dt.options,ct.options)),Dt._initHooks=[],Dt.callInitHooks=function(){if(!this._initHooksCalled){Pt.callInitHooks&&Pt.callInitHooks.call(this),this._initHooksCalled=!0;for(var fn=0,An=Dt._initHooks.length;fn<An;fn++)Dt._initHooks[fn].call(this)}},bt},nn.include=function(ct){var bt=this.prototype.options;return it(this.prototype,ct),ct.options&&(this.prototype.options=bt,this.mergeOptions(ct.options)),this},nn.mergeOptions=function(ct){return it(this.prototype.options,ct),this},nn.addInitHook=function(ct){var bt=Array.prototype.slice.call(arguments,1),Pt=typeof ct=="function"?ct:function(){this[ct].apply(this,bt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Pt),this};function sn(ct){if(!(typeof L>"u"||!L||!L.Mixin)){ct=Et(ct)?ct:[ct];for(var bt=0;bt<ct.length;bt++)ct[bt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rn={on:function(ct,bt,Pt){if(typeof ct=="object")for(var Dt in ct)this._on(Dt,ct[Dt],bt);else{ct=xt(ct);for(var Zt=0,fn=ct.length;Zt<fn;Zt++)this._on(ct[Zt],bt,Pt)}return this},off:function(ct,bt,Pt){if(!arguments.length)delete this._events;else if(typeof ct=="object")for(var Dt in ct)this._off(Dt,ct[Dt],bt);else{ct=xt(ct);for(var Zt=arguments.length===1,fn=0,An=ct.length;fn<An;fn++)Zt?this._off(ct[fn]):this._off(ct[fn],bt,Pt)}return this},_on:function(ct,bt,Pt,Dt){if(typeof bt!="function"){console.warn("wrong listener type: "+typeof bt);return}if(this._listens(ct,bt,Pt)===!1){Pt===this&&(Pt=void 0);var Zt={fn:bt,ctx:Pt};Dt&&(Zt.once=!0),this._events=this._events||{},this._events[ct]=this._events[ct]||[],this._events[ct].push(Zt)}},_off:function(ct,bt,Pt){var Dt,Zt,fn;if(this._events&&(Dt=this._events[ct],!!Dt)){if(arguments.length===1){if(this._firingCount)for(Zt=0,fn=Dt.length;Zt<fn;Zt++)Dt[Zt].fn=dt;delete this._events[ct];return}if(typeof bt!="function"){console.warn("wrong listener type: "+typeof bt);return}var An=this._listens(ct,bt,Pt);if(An!==!1){var Dn=Dt[An];this._firingCount&&(Dn.fn=dt,this._events[ct]=Dt=Dt.slice()),Dt.splice(An,1)}}},fire:function(ct,bt,Pt){if(!this.listens(ct,Pt))return this;var Dt=it({},bt,{type:ct,target:this,sourceTarget:bt&&bt.sourceTarget||this});if(this._events){var Zt=this._events[ct];if(Zt){this._firingCount=this._firingCount+1||1;for(var fn=0,An=Zt.length;fn<An;fn++){var Dn=Zt[fn],zn=Dn.fn;Dn.once&&this.off(ct,zn,Dn.ctx),zn.call(Dn.ctx||this,Dt)}this._firingCount--}}return Pt&&this._propagateEvent(Dt),this},listens:function(ct,bt,Pt,Dt){typeof ct!="string"&&console.warn('"string" type argument expected');var Zt=bt;typeof bt!="function"&&(Dt=!!bt,Zt=void 0,Pt=void 0);var fn=this._events&&this._events[ct];if(fn&&fn.length&&this._listens(ct,Zt,Pt)!==!1)return!0;if(Dt){for(var An in this._eventParents)if(this._eventParents[An].listens(ct,bt,Pt,Dt))return!0}return!1},_listens:function(ct,bt,Pt){if(!this._events)return!1;var Dt=this._events[ct]||[];if(!bt)return!!Dt.length;Pt===this&&(Pt=void 0);for(var Zt=0,fn=Dt.length;Zt<fn;Zt++)if(Dt[Zt].fn===bt&&Dt[Zt].ctx===Pt)return Zt;return!1},once:function(ct,bt,Pt){if(typeof ct=="object")for(var Dt in ct)this._on(Dt,ct[Dt],bt,!0);else{ct=xt(ct);for(var Zt=0,fn=ct.length;Zt<fn;Zt++)this._on(ct[Zt],bt,Pt,!0)}return this},addEventParent:function(ct){return this._eventParents=this._eventParents||{},this._eventParents[lt(ct)]=ct,this},removeEventParent:function(ct){return this._eventParents&&delete this._eventParents[lt(ct)],this},_propagateEvent:function(ct){for(var bt in this._eventParents)this._eventParents[bt].fire(ct.type,it({layer:ct.target,propagatedFrom:ct.target},ct),!0)}};rn.addEventListener=rn.on,rn.removeEventListener=rn.clearAllEventListeners=rn.off,rn.addOneTimeEventListener=rn.once,rn.fireEvent=rn.fire,rn.hasEventListeners=rn.listens;var Jt=nn.extend(rn);function Ut(ct,bt,Pt){this.x=Pt?Math.round(ct):ct,this.y=Pt?Math.round(bt):bt}var Kt=Math.trunc||function(ct){return ct>0?Math.floor(ct):Math.ceil(ct)};Ut.prototype={clone:function(){return new Ut(this.x,this.y)},add:function(ct){return this.clone()._add(Qt(ct))},_add:function(ct){return this.x+=ct.x,this.y+=ct.y,this},subtract:function(ct){return this.clone()._subtract(Qt(ct))},_subtract:function(ct){return this.x-=ct.x,this.y-=ct.y,this},divideBy:function(ct){return this.clone()._divideBy(ct)},_divideBy:function(ct){return this.x/=ct,this.y/=ct,this},multiplyBy:function(ct){return this.clone()._multiplyBy(ct)},_multiplyBy:function(ct){return this.x*=ct,this.y*=ct,this},scaleBy:function(ct){return new Ut(this.x*ct.x,this.y*ct.y)},unscaleBy:function(ct){return new Ut(this.x/ct.x,this.y/ct.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Kt(this.x),this.y=Kt(this.y),this},distanceTo:function(ct){ct=Qt(ct);var bt=ct.x-this.x,Pt=ct.y-this.y;return Math.sqrt(bt*bt+Pt*Pt)},equals:function(ct){return ct=Qt(ct),ct.x===this.x&&ct.y===this.y},contains:function(ct){return ct=Qt(ct),Math.abs(ct.x)<=Math.abs(this.x)&&Math.abs(ct.y)<=Math.abs(this.y)},toString:function(){return"Point("+ht(this.x)+", "+ht(this.y)+")"}};function Qt(ct,bt,Pt){return ct instanceof Ut?ct:Et(ct)?new Ut(ct[0],ct[1]):ct==null?ct:typeof ct=="object"&&"x"in ct&&"y"in ct?new Ut(ct.x,ct.y):new Ut(ct,bt,Pt)}function zt(ct,bt){if(ct)for(var Pt=bt?[ct,bt]:ct,Dt=0,Zt=Pt.length;Dt<Zt;Dt++)this.extend(Pt[Dt])}zt.prototype={extend:function(ct){var bt,Pt;if(!ct)return this;if(ct instanceof Ut||typeof ct[0]=="number"||"x"in ct)bt=Pt=Qt(ct);else if(ct=Ht(ct),bt=ct.min,Pt=ct.max,!bt||!Pt)return this;return!this.min&&!this.max?(this.min=bt.clone(),this.max=Pt.clone()):(this.min.x=Math.min(bt.x,this.min.x),this.max.x=Math.max(Pt.x,this.max.x),this.min.y=Math.min(bt.y,this.min.y),this.max.y=Math.max(Pt.y,this.max.y)),this},getCenter:function(ct){return Qt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,ct)},getBottomLeft:function(){return Qt(this.min.x,this.max.y)},getTopRight:function(){return Qt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(ct){var bt,Pt;return typeof ct[0]=="number"||ct instanceof Ut?ct=Qt(ct):ct=Ht(ct),ct instanceof zt?(bt=ct.min,Pt=ct.max):bt=Pt=ct,bt.x>=this.min.x&&Pt.x<=this.max.x&&bt.y>=this.min.y&&Pt.y<=this.max.y},intersects:function(ct){ct=Ht(ct);var bt=this.min,Pt=this.max,Dt=ct.min,Zt=ct.max,fn=Zt.x>=bt.x&&Dt.x<=Pt.x,An=Zt.y>=bt.y&&Dt.y<=Pt.y;return fn&&An},overlaps:function(ct){ct=Ht(ct);var bt=this.min,Pt=this.max,Dt=ct.min,Zt=ct.max,fn=Zt.x>bt.x&&Dt.x<Pt.x,An=Zt.y>bt.y&&Dt.y<Pt.y;return fn&&An},isValid:function(){return!!(this.min&&this.max)},pad:function(ct){var bt=this.min,Pt=this.max,Dt=Math.abs(bt.x-Pt.x)*ct,Zt=Math.abs(bt.y-Pt.y)*ct;return Ht(Qt(bt.x-Dt,bt.y-Zt),Qt(Pt.x+Dt,Pt.y+Zt))},equals:function(ct){return ct?(ct=Ht(ct),this.min.equals(ct.getTopLeft())&&this.max.equals(ct.getBottomRight())):!1}};function Ht(ct,bt){return!ct||ct instanceof zt?ct:new zt(ct,bt)}function en(ct,bt){if(ct)for(var Pt=bt?[ct,bt]:ct,Dt=0,Zt=Pt.length;Dt<Zt;Dt++)this.extend(Pt[Dt])}en.prototype={extend:function(ct){var bt=this._southWest,Pt=this._northEast,Dt,Zt;if(ct instanceof on)Dt=ct,Zt=ct;else if(ct instanceof en){if(Dt=ct._southWest,Zt=ct._northEast,!Dt||!Zt)return this}else return ct?this.extend(Wt(ct)||an(ct)):this;return!bt&&!Pt?(this._southWest=new on(Dt.lat,Dt.lng),this._northEast=new on(Zt.lat,Zt.lng)):(bt.lat=Math.min(Dt.lat,bt.lat),bt.lng=Math.min(Dt.lng,bt.lng),Pt.lat=Math.max(Zt.lat,Pt.lat),Pt.lng=Math.max(Zt.lng,Pt.lng)),this},pad:function(ct){var bt=this._southWest,Pt=this._northEast,Dt=Math.abs(bt.lat-Pt.lat)*ct,Zt=Math.abs(bt.lng-Pt.lng)*ct;return new en(new on(bt.lat-Dt,bt.lng-Zt),new on(Pt.lat+Dt,Pt.lng+Zt))},getCenter:function(){return new on((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new on(this.getNorth(),this.getWest())},getSouthEast:function(){return new on(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(ct){typeof ct[0]=="number"||ct instanceof on||"lat"in ct?ct=Wt(ct):ct=an(ct);var bt=this._southWest,Pt=this._northEast,Dt,Zt;return ct instanceof en?(Dt=ct.getSouthWest(),Zt=ct.getNorthEast()):Dt=Zt=ct,Dt.lat>=bt.lat&&Zt.lat<=Pt.lat&&Dt.lng>=bt.lng&&Zt.lng<=Pt.lng},intersects:function(ct){ct=an(ct);var bt=this._southWest,Pt=this._northEast,Dt=ct.getSouthWest(),Zt=ct.getNorthEast(),fn=Zt.lat>=bt.lat&&Dt.lat<=Pt.lat,An=Zt.lng>=bt.lng&&Dt.lng<=Pt.lng;return fn&&An},overlaps:function(ct){ct=an(ct);var bt=this._southWest,Pt=this._northEast,Dt=ct.getSouthWest(),Zt=ct.getNorthEast(),fn=Zt.lat>bt.lat&&Dt.lat<Pt.lat,An=Zt.lng>bt.lng&&Dt.lng<Pt.lng;return fn&&An},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(ct,bt){return ct?(ct=an(ct),this._southWest.equals(ct.getSouthWest(),bt)&&this._northEast.equals(ct.getNorthEast(),bt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function an(ct,bt){return ct instanceof en?ct:new en(ct,bt)}function on(ct,bt,Pt){if(isNaN(ct)||isNaN(bt))throw new Error("Invalid LatLng object: ("+ct+", "+bt+")");this.lat=+ct,this.lng=+bt,Pt!==void 0&&(this.alt=+Pt)}on.prototype={equals:function(ct,bt){if(!ct)return!1;ct=Wt(ct);var Pt=Math.max(Math.abs(this.lat-ct.lat),Math.abs(this.lng-ct.lng));return Pt<=(bt===void 0?1e-9:bt)},toString:function(ct){return"LatLng("+ht(this.lat,ct)+", "+ht(this.lng,ct)+")"},distanceTo:function(ct){return vn.distance(this,Wt(ct))},wrap:function(){return vn.wrapLatLng(this)},toBounds:function(ct){var bt=180*ct/40075017,Pt=bt/Math.cos(Math.PI/180*this.lat);return an([this.lat-bt,this.lng-Pt],[this.lat+bt,this.lng+Pt])},clone:function(){return new on(this.lat,this.lng,this.alt)}};function Wt(ct,bt,Pt){return ct instanceof on?ct:Et(ct)&&typeof ct[0]!="object"?ct.length===3?new on(ct[0],ct[1],ct[2]):ct.length===2?new on(ct[0],ct[1]):null:ct==null?ct:typeof ct=="object"&&"lat"in ct?new on(ct.lat,"lng"in ct?ct.lng:ct.lon,ct.alt):bt===void 0?null:new on(ct,bt,Pt)}var mn={latLngToPoint:function(ct,bt){var Pt=this.projection.project(ct),Dt=this.scale(bt);return this.transformation._transform(Pt,Dt)},pointToLatLng:function(ct,bt){var Pt=this.scale(bt),Dt=this.transformation.untransform(ct,Pt);return this.projection.unproject(Dt)},project:function(ct){return this.projection.project(ct)},unproject:function(ct){return this.projection.unproject(ct)},scale:function(ct){return 256*Math.pow(2,ct)},zoom:function(ct){return Math.log(ct/256)/Math.LN2},getProjectedBounds:function(ct){if(this.infinite)return null;var bt=this.projection.bounds,Pt=this.scale(ct),Dt=this.transformation.transform(bt.min,Pt),Zt=this.transformation.transform(bt.max,Pt);return new zt(Dt,Zt)},infinite:!1,wrapLatLng:function(ct){var bt=this.wrapLng?ft(ct.lng,this.wrapLng,!0):ct.lng,Pt=this.wrapLat?ft(ct.lat,this.wrapLat,!0):ct.lat,Dt=ct.alt;return new on(Pt,bt,Dt)},wrapLatLngBounds:function(ct){var bt=ct.getCenter(),Pt=this.wrapLatLng(bt),Dt=bt.lat-Pt.lat,Zt=bt.lng-Pt.lng;if(Dt===0&&Zt===0)return ct;var fn=ct.getSouthWest(),An=ct.getNorthEast(),Dn=new on(fn.lat-Dt,fn.lng-Zt),zn=new on(An.lat-Dt,An.lng-Zt);return new en(Dn,zn)}},vn=it({},mn,{wrapLng:[-180,180],R:6371e3,distance:function(ct,bt){var Pt=Math.PI/180,Dt=ct.lat*Pt,Zt=bt.lat*Pt,fn=Math.sin((bt.lat-ct.lat)*Pt/2),An=Math.sin((bt.lng-ct.lng)*Pt/2),Dn=fn*fn+Math.cos(Dt)*Math.cos(Zt)*An*An,zn=2*Math.atan2(Math.sqrt(Dn),Math.sqrt(1-Dn));return this.R*zn}}),En=6378137,Cn={R:En,MAX_LATITUDE:85.0511287798,project:function(ct){var bt=Math.PI/180,Pt=this.MAX_LATITUDE,Dt=Math.max(Math.min(Pt,ct.lat),-Pt),Zt=Math.sin(Dt*bt);return new Ut(this.R*ct.lng*bt,this.R*Math.log((1+Zt)/(1-Zt))/2)},unproject:function(ct){var bt=180/Math.PI;return new on((2*Math.atan(Math.exp(ct.y/this.R))-Math.PI/2)*bt,ct.x*bt/this.R)},bounds:function(){var ct=En*Math.PI;return new zt([-ct,-ct],[ct,ct])}()};function $n(ct,bt,Pt,Dt){if(Et(ct)){this._a=ct[0],this._b=ct[1],this._c=ct[2],this._d=ct[3];return}this._a=ct,this._b=bt,this._c=Pt,this._d=Dt}$n.prototype={transform:function(ct,bt){return this._transform(ct.clone(),bt)},_transform:function(ct,bt){return bt=bt||1,ct.x=bt*(this._a*ct.x+this._b),ct.y=bt*(this._c*ct.y+this._d),ct},untransform:function(ct,bt){return bt=bt||1,new Ut((ct.x/bt-this._b)/this._a,(ct.y/bt-this._d)/this._c)}};function Fn(ct,bt,Pt,Dt){return new $n(ct,bt,Pt,Dt)}var Ln=it({},vn,{code:"EPSG:3857",projection:Cn,transformation:function(){var ct=.5/(Math.PI*Cn.R);return Fn(ct,.5,-ct,.5)}()}),Mn=it({},Ln,{code:"EPSG:900913"});function Gn(ct){return document.createElementNS("http://www.w3.org/2000/svg",ct)}function er(ct,bt){var Pt="",Dt,Zt,fn,An,Dn,zn;for(Dt=0,fn=ct.length;Dt<fn;Dt++){for(Dn=ct[Dt],Zt=0,An=Dn.length;Zt<An;Zt++)zn=Dn[Zt],Pt+=(Zt?"L":"M")+zn.x+" "+zn.y;Pt+=bt?cr.svg?"z":"x":""}return Pt||"M0 0"}var un=document.documentElement.style,dn="ActiveXObject"in window,yn=dn&&!document.addEventListener,bn="msLaunchUri"in navigator&&!("documentMode"in document),Tn=Ls("webkit"),Pn=Ls("android"),Yn=Ls("android 2")||Ls("android 3"),Un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nn=Pn&&Ls("Google")&&Un<537&&!("AudioNode"in window),rr=!!window.opera,Kn=!bn&&Ls("chrome"),Vn=Ls("gecko")&&!Tn&&!rr&&!dn,ir=!Kn&&Ls("safari"),gr=Ls("phantom"),Gr="OTransition"in un,Rs=navigator.platform.indexOf("Win")===0,$s=dn&&"transition"in un,kn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yn,or="MozPerspective"in un,sr=!window.L_DISABLE_3D&&($s||kn||or)&&!Gr&&!gr,Ar=typeof orientation<"u"||Ls("mobile"),ar=Ar&&Tn,Pr=Ar&&kn,dr=!window.PointerEvent&&window.MSPointerEvent,xr=!!(window.PointerEvent||dr),pr="ontouchstart"in window||!!window.TouchEvent,Sr=!window.L_NO_TOUCH&&(pr||xr),Or=Ar&&rr,Ur=Ar&&Vn,Ir=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jr=function(){var ct=!1;try{var bt=Object.defineProperty({},"passive",{get:function(){ct=!0}});window.addEventListener("testPassiveEventSupport",dt,bt),window.removeEventListener("testPassiveEventSupport",dt,bt)}catch{}return ct}(),rs=function(){return!!document.createElement("canvas").getContext}(),Er=!!(document.createElementNS&&Gn("svg").createSVGRect),ps=!!Er&&function(){var ct=document.createElement("div");return ct.innerHTML="<svg/>",(ct.firstChild&&ct.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Br=!Er&&function(){try{var ct=document.createElement("div");ct.innerHTML='<v:shape adj="1"/>';var bt=ct.firstChild;return bt.style.behavior="url(#default#VML)",bt&&typeof bt.adj=="object"}catch{return!1}}(),is=navigator.platform.indexOf("Mac")===0,ur=navigator.platform.indexOf("Linux")===0;function Ls(ct){return navigator.userAgent.toLowerCase().indexOf(ct)>=0}var cr={ie:dn,ielt9:yn,edge:bn,webkit:Tn,android:Pn,android23:Yn,androidStock:Nn,opera:rr,chrome:Kn,gecko:Vn,safari:ir,phantom:gr,opera12:Gr,win:Rs,ie3d:$s,webkit3d:kn,gecko3d:or,any3d:sr,mobile:Ar,mobileWebkit:ar,mobileWebkit3d:Pr,msPointer:dr,pointer:xr,touch:Sr,touchNative:pr,mobileOpera:Or,mobileGecko:Ur,retina:Ir,passiveEvents:jr,canvas:rs,svg:Er,vml:Br,inlineSvg:ps,mac:is,linux:ur},Mr=cr.msPointer?"MSPointerDown":"pointerdown",js=cr.msPointer?"MSPointerMove":"pointermove",wr=cr.msPointer?"MSPointerUp":"pointerup",ys=cr.msPointer?"MSPointerCancel":"pointercancel",ss={touchstart:Mr,touchmove:js,touchend:wr,touchcancel:ys},os={touchstart:Vr,touchmove:go,touchend:go,touchcancel:go},xs={},ts=!1;function Fr(ct,bt,Pt){return bt==="touchstart"&&ws(),os[bt]?(Pt=os[bt].bind(this,Pt),ct.addEventListener(ss[bt],Pt,!1),Pt):(console.warn("wrong event specified:",bt),dt)}function Jr(ct,bt,Pt){if(!ss[bt]){console.warn("wrong event specified:",bt);return}ct.removeEventListener(ss[bt],Pt,!1)}function hs(ct){xs[ct.pointerId]=ct}function Os(ct){xs[ct.pointerId]&&(xs[ct.pointerId]=ct)}function uo(ct){delete xs[ct.pointerId]}function ws(){ts||(document.addEventListener(Mr,hs,!0),document.addEventListener(js,Os,!0),document.addEventListener(wr,uo,!0),document.addEventListener(ys,uo,!0),ts=!0)}function go(ct,bt){if(bt.pointerType!==(bt.MSPOINTER_TYPE_MOUSE||"mouse")){bt.touches=[];for(var Pt in xs)bt.touches.push(xs[Pt]);bt.changedTouches=[bt],ct(bt)}}function Vr(ct,bt){bt.MSPOINTER_TYPE_TOUCH&&bt.pointerType===bt.MSPOINTER_TYPE_TOUCH&&es(bt),go(ct,bt)}function Ns(ct){var bt={},Pt,Dt;for(Dt in ct)Pt=ct[Dt],bt[Dt]=Pt&&Pt.bind?Pt.bind(ct):Pt;return ct=bt,bt.type="dblclick",bt.detail=2,bt.isTrusted=!1,bt._simulated=!0,bt}var Ts=200;function eo(ct,bt){ct.addEventListener("dblclick",bt);var Pt=0,Dt;function Zt(fn){if(fn.detail!==1){Dt=fn.detail;return}if(!(fn.pointerType==="mouse"||fn.sourceCapabilities&&!fn.sourceCapabilities.firesTouchEvents)){var An=Yl(fn);if(!(An.some(function(zn){return zn instanceof HTMLLabelElement&&zn.attributes.for})&&!An.some(function(zn){return zn instanceof HTMLInputElement||zn instanceof HTMLSelectElement}))){var Dn=Date.now();Dn-Pt<=Ts?(Dt++,Dt===2&&bt(Ns(fn))):Dt=1,Pt=Dn}}}return ct.addEventListener("click",Zt),{dblclick:bt,simDblclick:Zt}}function ao(ct,bt){ct.removeEventListener("dblclick",bt.dblclick),ct.removeEventListener("click",bt.simDblclick)}var vo=no(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vs=no(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),co=Vs==="webkitTransition"||Vs==="OTransition"?Vs+"End":"transitionend";function Bo(ct){return typeof ct=="string"?document.getElementById(ct):ct}function Ks(ct,bt){var Pt=ct.style[bt]||ct.currentStyle&&ct.currentStyle[bt];if((!Pt||Pt==="auto")&&document.defaultView){var Dt=document.defaultView.getComputedStyle(ct,null);Pt=Dt?Dt[bt]:null}return Pt==="auto"?null:Pt}function Hr(ct,bt,Pt){var Dt=document.createElement(ct);return Dt.className=bt||"",Pt&&Pt.appendChild(Dt),Dt}function Kr(ct){var bt=ct.parentNode;bt&&bt.removeChild(ct)}function ks(ct){for(;ct.firstChild;)ct.removeChild(ct.firstChild)}function to(ct){var bt=ct.parentNode;bt&&bt.lastChild!==ct&&bt.appendChild(ct)}function Zs(ct){var bt=ct.parentNode;bt&&bt.firstChild!==ct&&bt.insertBefore(ct,bt.firstChild)}function To(ct,bt){if(ct.classList!==void 0)return ct.classList.contains(bt);var Pt=Vo(ct);return Pt.length>0&&new RegExp("(^|\\s)"+bt+"(\\s|$)").test(Pt)}function Lr(ct,bt){if(ct.classList!==void 0)for(var Pt=xt(bt),Dt=0,Zt=Pt.length;Dt<Zt;Dt++)ct.classList.add(Pt[Dt]);else if(!To(ct,bt)){var fn=Vo(ct);Xs(ct,(fn?fn+" ":"")+bt)}}function ns(ct,bt){ct.classList!==void 0?ct.classList.remove(bt):Xs(ct,mt((" "+Vo(ct)+" ").replace(" "+bt+" "," ")))}function Xs(ct,bt){ct.className.baseVal===void 0?ct.className=bt:ct.className.baseVal=bt}function Vo(ct){return ct.correspondingElement&&(ct=ct.correspondingElement),ct.className.baseVal===void 0?ct.className:ct.className.baseVal}function Js(ct,bt){"opacity"in ct.style?ct.style.opacity=bt:"filter"in ct.style&&Eo(ct,bt)}function Eo(ct,bt){var Pt=!1,Dt="DXImageTransform.Microsoft.Alpha";try{Pt=ct.filters.item(Dt)}catch{if(bt===1)return}bt=Math.round(bt*100),Pt?(Pt.Enabled=bt!==100,Pt.Opacity=bt):ct.style.filter+=" progid:"+Dt+"(opacity="+bt+")"}function no(ct){for(var bt=document.documentElement.style,Pt=0;Pt<ct.length;Pt++)if(ct[Pt]in bt)return ct[Pt];return!1}function Ao(ct,bt,Pt){var Dt=bt||new Ut(0,0);ct.style[vo]=(cr.ie3d?"translate("+Dt.x+"px,"+Dt.y+"px)":"translate3d("+Dt.x+"px,"+Dt.y+"px,0)")+(Pt?" scale("+Pt+")":"")}function ms(ct,bt){ct._leaflet_pos=bt,cr.any3d?Ao(ct,bt):(ct.style.left=bt.x+"px",ct.style.top=bt.y+"px")}function cn(ct){return ct._leaflet_pos||new Ut(0,0)}var xn,Sn,Bn;if("onselectstart"in document)xn=function(){$r(window,"selectstart",es)},Sn=function(){_s(window,"selectstart",es)};else{var Xn=no(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xn=function(){if(Xn){var ct=document.documentElement.style;Bn=ct[Xn],ct[Xn]="none"}},Sn=function(){Xn&&(document.documentElement.style[Xn]=Bn,Bn=void 0)}}function Hn(){$r(window,"dragstart",es)}function mr(){_s(window,"dragstart",es)}var yr,Cr;function Rr(ct){for(;ct.tabIndex===-1;)ct=ct.parentNode;ct.style&&(zr(),yr=ct,Cr=ct.style.outline,ct.style.outline="none",$r(window,"keydown",zr))}function zr(){yr&&(yr.style.outline=Cr,yr=void 0,Cr=void 0,_s(window,"keydown",zr))}function Ds(ct){do ct=ct.parentNode;while((!ct.offsetWidth||!ct.offsetHeight)&&ct!==document.body);return ct}function bs(ct){var bt=ct.getBoundingClientRect();return{x:bt.width/ct.offsetWidth||1,y:bt.height/ct.offsetHeight||1,boundingClientRect:bt}}var fo={__proto__:null,TRANSFORM:vo,TRANSITION:Vs,TRANSITION_END:co,get:Bo,getStyle:Ks,create:Hr,remove:Kr,empty:ks,toFront:to,toBack:Zs,hasClass:To,addClass:Lr,removeClass:ns,setClass:Xs,getClass:Vo,setOpacity:Js,testProp:no,setTransform:Ao,setPosition:ms,getPosition:cn,get disableTextSelection(){return xn},get enableTextSelection(){return Sn},disableImageDrag:Hn,enableImageDrag:mr,preventOutline:Rr,restoreOutline:zr,getSizedParentNode:Ds,getScale:bs};function $r(ct,bt,Pt,Dt){if(bt&&typeof bt=="object")for(var Zt in bt)pu(ct,Zt,bt[Zt],Pt);else{bt=xt(bt);for(var fn=0,An=bt.length;fn<An;fn++)pu(ct,bt[fn],Pt,Dt)}return this}var Co="_leaflet_events";function _s(ct,bt,Pt,Dt){if(arguments.length===1)ro(ct),delete ct[Co];else if(bt&&typeof bt=="object")for(var Zt in bt)mu(ct,Zt,bt[Zt],Pt);else if(bt=xt(bt),arguments.length===2)ro(ct,function(Dn){return yt(bt,Dn)!==-1});else for(var fn=0,An=bt.length;fn<An;fn++)mu(ct,bt[fn],Pt,Dt);return this}function ro(ct,bt){for(var Pt in ct[Co]){var Dt=Pt.split(/\d/)[0];(!bt||bt(Dt))&&mu(ct,Dt,null,null,Pt)}}var $o={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pu(ct,bt,Pt,Dt){var Zt=bt+lt(Pt)+(Dt?"_"+lt(Dt):"");if(ct[Co]&&ct[Co][Zt])return this;var fn=function(Dn){return Pt.call(Dt||ct,Dn||window.event)},An=fn;!cr.touchNative&&cr.pointer&&bt.indexOf("touch")===0?fn=Fr(ct,bt,fn):cr.touch&&bt==="dblclick"?fn=eo(ct,fn):"addEventListener"in ct?bt==="touchstart"||bt==="touchmove"||bt==="wheel"||bt==="mousewheel"?ct.addEventListener($o[bt]||bt,fn,cr.passiveEvents?{passive:!1}:!1):bt==="mouseenter"||bt==="mouseleave"?(fn=function(Dn){Dn=Dn||window.event,Wr(ct,Dn)&&An(Dn)},ct.addEventListener($o[bt],fn,!1)):ct.addEventListener(bt,An,!1):ct.attachEvent("on"+bt,fn),ct[Co]=ct[Co]||{},ct[Co][Zt]=fn}function mu(ct,bt,Pt,Dt,Zt){Zt=Zt||bt+lt(Pt)+(Dt?"_"+lt(Dt):"");var fn=ct[Co]&&ct[Co][Zt];if(!fn)return this;!cr.touchNative&&cr.pointer&&bt.indexOf("touch")===0?Jr(ct,bt,fn):cr.touch&&bt==="dblclick"?ao(ct,fn):"removeEventListener"in ct?ct.removeEventListener($o[bt]||bt,fn,!1):ct.detachEvent("on"+bt,fn),ct[Co][Zt]=null}function Zo(ct){return ct.stopPropagation?ct.stopPropagation():ct.originalEvent?ct.originalEvent._stopped=!0:ct.cancelBubble=!0,this}function _l(ct){return pu(ct,"wheel",Zo),this}function Ho(ct){return $r(ct,"mousedown touchstart dblclick contextmenu",Zo),ct._leaflet_disable_click=!0,this}function es(ct){return ct.preventDefault?ct.preventDefault():ct.returnValue=!1,this}function as(ct){return es(ct),Zo(ct),this}function Yl(ct){if(ct.composedPath)return ct.composedPath();for(var bt=[],Pt=ct.target;Pt;)bt.push(Pt),Pt=Pt.parentNode;return bt}function Jo(ct,bt){if(!bt)return new Ut(ct.clientX,ct.clientY);var Pt=bs(bt),Dt=Pt.boundingClientRect;return new Ut((ct.clientX-Dt.left)/Pt.x-bt.clientLeft,(ct.clientY-Dt.top)/Pt.y-bt.clientTop)}var gu=cr.linux&&cr.chrome?window.devicePixelRatio:cr.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hr(ct){return cr.edge?ct.wheelDeltaY/2:ct.deltaY&&ct.deltaMode===0?-ct.deltaY/gu:ct.deltaY&&ct.deltaMode===1?-ct.deltaY*20:ct.deltaY&&ct.deltaMode===2?-ct.deltaY*60:ct.deltaX||ct.deltaZ?0:ct.wheelDelta?(ct.wheelDeltaY||ct.wheelDelta)/2:ct.detail&&Math.abs(ct.detail)<32765?-ct.detail*20:ct.detail?ct.detail/-32765*60:0}function Wr(ct,bt){var Pt=bt.relatedTarget;if(!Pt)return!0;try{for(;Pt&&Pt!==ct;)Pt=Pt.parentNode}catch{return!1}return Pt!==ct}var yo={__proto__:null,on:$r,off:_s,stopPropagation:Zo,disableScrollPropagation:_l,disableClickPropagation:Ho,preventDefault:es,stop:as,getPropagationPath:Yl,getMousePosition:Jo,getWheelDelta:hr,isExternalTarget:Wr,addListener:$r,removeListener:_s},lo=Jt.extend({run:function(ct,bt,Pt,Dt){this.stop(),this._el=ct,this._inProgress=!0,this._duration=Pt||.25,this._easeOutPower=1/Math.max(Dt||.5,.2),this._startPos=cn(ct),this._offset=bt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Bt(this._animate,this),this._step()},_step:function(ct){var bt=+new Date-this._startTime,Pt=this._duration*1e3;bt<Pt?this._runFrame(this._easeOut(bt/Pt),ct):(this._runFrame(1),this._complete())},_runFrame:function(ct,bt){var Pt=this._startPos.add(this._offset.multiplyBy(ct));bt&&Pt._round(),ms(this._el,Pt),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(ct){return 1-Math.pow(1-ct,this._easeOutPower)}}),Yr=Jt.extend({options:{crs:Ln,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(ct,bt){bt=_t(this,bt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(ct),this._initLayout(),this._onResize=ot(this._onResize,this),this._initEvents(),bt.maxBounds&&this.setMaxBounds(bt.maxBounds),bt.zoom!==void 0&&(this._zoom=this._limitZoom(bt.zoom)),bt.center&&bt.zoom!==void 0&&this.setView(Wt(bt.center),bt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vs&&cr.any3d&&!cr.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$r(this._proxy,co,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(ct,bt,Pt){if(bt=bt===void 0?this._zoom:this._limitZoom(bt),ct=this._limitCenter(Wt(ct),bt,this.options.maxBounds),Pt=Pt||{},this._stop(),this._loaded&&!Pt.reset&&Pt!==!0){Pt.animate!==void 0&&(Pt.zoom=it({animate:Pt.animate},Pt.zoom),Pt.pan=it({animate:Pt.animate,duration:Pt.duration},Pt.pan));var Dt=this._zoom!==bt?this._tryAnimatedZoom&&this._tryAnimatedZoom(ct,bt,Pt.zoom):this._tryAnimatedPan(ct,Pt.pan);if(Dt)return clearTimeout(this._sizeTimer),this}return this._resetView(ct,bt,Pt.pan&&Pt.pan.noMoveStart),this},setZoom:function(ct,bt){return this._loaded?this.setView(this.getCenter(),ct,{zoom:bt}):(this._zoom=ct,this)},zoomIn:function(ct,bt){return ct=ct||(cr.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+ct,bt)},zoomOut:function(ct,bt){return ct=ct||(cr.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-ct,bt)},setZoomAround:function(ct,bt,Pt){var Dt=this.getZoomScale(bt),Zt=this.getSize().divideBy(2),fn=ct instanceof Ut?ct:this.latLngToContainerPoint(ct),An=fn.subtract(Zt).multiplyBy(1-1/Dt),Dn=this.containerPointToLatLng(Zt.add(An));return this.setView(Dn,bt,{zoom:Pt})},_getBoundsCenterZoom:function(ct,bt){bt=bt||{},ct=ct.getBounds?ct.getBounds():an(ct);var Pt=Qt(bt.paddingTopLeft||bt.padding||[0,0]),Dt=Qt(bt.paddingBottomRight||bt.padding||[0,0]),Zt=this.getBoundsZoom(ct,!1,Pt.add(Dt));if(Zt=typeof bt.maxZoom=="number"?Math.min(bt.maxZoom,Zt):Zt,Zt===1/0)return{center:ct.getCenter(),zoom:Zt};var fn=Dt.subtract(Pt).divideBy(2),An=this.project(ct.getSouthWest(),Zt),Dn=this.project(ct.getNorthEast(),Zt),zn=this.unproject(An.add(Dn).divideBy(2).add(fn),Zt);return{center:zn,zoom:Zt}},fitBounds:function(ct,bt){if(ct=an(ct),!ct.isValid())throw new Error("Bounds are not valid.");var Pt=this._getBoundsCenterZoom(ct,bt);return this.setView(Pt.center,Pt.zoom,bt)},fitWorld:function(ct){return this.fitBounds([[-90,-180],[90,180]],ct)},panTo:function(ct,bt){return this.setView(ct,this._zoom,{pan:bt})},panBy:function(ct,bt){if(ct=Qt(ct).round(),bt=bt||{},!ct.x&&!ct.y)return this.fire("moveend");if(bt.animate!==!0&&!this.getSize().contains(ct))return this._resetView(this.unproject(this.project(this.getCenter()).add(ct)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),bt.noMoveStart||this.fire("movestart"),bt.animate!==!1){Lr(this._mapPane,"leaflet-pan-anim");var Pt=this._getMapPanePos().subtract(ct).round();this._panAnim.run(this._mapPane,Pt,bt.duration||.25,bt.easeLinearity)}else this._rawPanBy(ct),this.fire("move").fire("moveend");return this},flyTo:function(ct,bt,Pt){if(Pt=Pt||{},Pt.animate===!1||!cr.any3d)return this.setView(ct,bt,Pt);this._stop();var Dt=this.project(this.getCenter()),Zt=this.project(ct),fn=this.getSize(),An=this._zoom;ct=Wt(ct),bt=bt===void 0?An:bt;var Dn=Math.max(fn.x,fn.y),zn=Dn*this.getZoomScale(An,bt),tr=Zt.distanceTo(Dt)||1,_r=1.42,Xr=_r*_r;function ls(oo){var ou=oo?-1:1,Yp=oo?zn:Dn,gn=zn*zn-Dn*Dn+ou*Xr*Xr*tr*tr,qu=2*Yp*Xr*tr,Xu=gn/qu,Go=Math.sqrt(Xu*Xu+1)-Xu,ds=Go<1e-9?-18:Math.log(Go);return ds}function ko(oo){return(Math.exp(oo)-Math.exp(-oo))/2}function qo(oo){return(Math.exp(oo)+Math.exp(-oo))/2}function su(oo){return ko(oo)/qo(oo)}var Xo=ls(0);function Wu(oo){return Dn*(qo(Xo)/qo(Xo+_r*oo))}function Yu(oo){return Dn*(qo(Xo)*su(Xo+_r*oo)-ko(Xo))/Xr}function om(oo){return 1-Math.pow(1-oo,1.5)}var am=Date.now(),Hp=(ls(1)-Xo)/_r,lm=Pt.duration?1e3*Pt.duration:1e3*Hp*.8;function Wp(){var oo=(Date.now()-am)/lm,ou=om(oo)*Hp;oo<=1?(this._flyToFrame=Bt(Wp,this),this._move(this.unproject(Dt.add(Zt.subtract(Dt).multiplyBy(Yu(ou)/tr)),An),this.getScaleZoom(Dn/Wu(ou),An),{flyTo:!0})):this._move(ct,bt)._moveEnd(!0)}return this._moveStart(!0,Pt.noMoveStart),Wp.call(this),this},flyToBounds:function(ct,bt){var Pt=this._getBoundsCenterZoom(ct,bt);return this.flyTo(Pt.center,Pt.zoom,bt)},setMaxBounds:function(ct){return ct=an(ct),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),ct.isValid()?(this.options.maxBounds=ct,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(ct){var bt=this.options.minZoom;return this.options.minZoom=ct,this._loaded&&bt!==ct&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(ct):this},setMaxZoom:function(ct){var bt=this.options.maxZoom;return this.options.maxZoom=ct,this._loaded&&bt!==ct&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(ct):this},panInsideBounds:function(ct,bt){this._enforcingBounds=!0;var Pt=this.getCenter(),Dt=this._limitCenter(Pt,this._zoom,an(ct));return Pt.equals(Dt)||this.panTo(Dt,bt),this._enforcingBounds=!1,this},panInside:function(ct,bt){bt=bt||{};var Pt=Qt(bt.paddingTopLeft||bt.padding||[0,0]),Dt=Qt(bt.paddingBottomRight||bt.padding||[0,0]),Zt=this.project(this.getCenter()),fn=this.project(ct),An=this.getPixelBounds(),Dn=Ht([An.min.add(Pt),An.max.subtract(Dt)]),zn=Dn.getSize();if(!Dn.contains(fn)){this._enforcingBounds=!0;var tr=fn.subtract(Dn.getCenter()),_r=Dn.extend(fn).getSize().subtract(zn);Zt.x+=tr.x<0?-_r.x:_r.x,Zt.y+=tr.y<0?-_r.y:_r.y,this.panTo(this.unproject(Zt),bt),this._enforcingBounds=!1}return this},invalidateSize:function(ct){if(!this._loaded)return this;ct=it({animate:!1,pan:!0},ct===!0?{animate:!0}:ct);var bt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Pt=this.getSize(),Dt=bt.divideBy(2).round(),Zt=Pt.divideBy(2).round(),fn=Dt.subtract(Zt);return!fn.x&&!fn.y?this:(ct.animate&&ct.pan?this.panBy(fn):(ct.pan&&this._rawPanBy(fn),this.fire("move"),ct.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ot(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:bt,newSize:Pt}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(ct){if(ct=this._locateOptions=it({timeout:1e4,watch:!1},ct),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var bt=ot(this._handleGeolocationResponse,this),Pt=ot(this._handleGeolocationError,this);return ct.watch?this._locationWatchId=navigator.geolocation.watchPosition(bt,Pt,ct):navigator.geolocation.getCurrentPosition(bt,Pt,ct),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(ct){if(this._container._leaflet_id){var bt=ct.code,Pt=ct.message||(bt===1?"permission denied":bt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:bt,message:"Geolocation error: "+Pt+"."})}},_handleGeolocationResponse:function(ct){if(this._container._leaflet_id){var bt=ct.coords.latitude,Pt=ct.coords.longitude,Dt=new on(bt,Pt),Zt=Dt.toBounds(ct.coords.accuracy*2),fn=this._locateOptions;if(fn.setView){var An=this.getBoundsZoom(Zt);this.setView(Dt,fn.maxZoom?Math.min(An,fn.maxZoom):An)}var Dn={latlng:Dt,bounds:Zt,timestamp:ct.timestamp};for(var zn in ct.coords)typeof ct.coords[zn]=="number"&&(Dn[zn]=ct.coords[zn]);this.fire("locationfound",Dn)}},addHandler:function(ct,bt){if(!bt)return this;var Pt=this[ct]=new bt(this);return this._handlers.push(Pt),this.options[ct]&&Pt.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var ct;for(ct in this._layers)this._layers[ct].remove();for(ct in this._panes)Kr(this._panes[ct]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(ct,bt){var Pt="leaflet-pane"+(ct?" leaflet-"+ct.replace("Pane","")+"-pane":""),Dt=Hr("div",Pt,bt||this._mapPane);return ct&&(this._panes[ct]=Dt),Dt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var ct=this.getPixelBounds(),bt=this.unproject(ct.getBottomLeft()),Pt=this.unproject(ct.getTopRight());return new en(bt,Pt)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(ct,bt,Pt){ct=an(ct),Pt=Qt(Pt||[0,0]);var Dt=this.getZoom()||0,Zt=this.getMinZoom(),fn=this.getMaxZoom(),An=ct.getNorthWest(),Dn=ct.getSouthEast(),zn=this.getSize().subtract(Pt),tr=Ht(this.project(Dn,Dt),this.project(An,Dt)).getSize(),_r=cr.any3d?this.options.zoomSnap:1,Xr=zn.x/tr.x,ls=zn.y/tr.y,ko=bt?Math.max(Xr,ls):Math.min(Xr,ls);return Dt=this.getScaleZoom(ko,Dt),_r&&(Dt=Math.round(Dt/(_r/100))*(_r/100),Dt=bt?Math.ceil(Dt/_r)*_r:Math.floor(Dt/_r)*_r),Math.max(Zt,Math.min(fn,Dt))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(ct,bt){var Pt=this._getTopLeftPoint(ct,bt);return new zt(Pt,Pt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(ct){return this.options.crs.getProjectedBounds(ct===void 0?this.getZoom():ct)},getPane:function(ct){return typeof ct=="string"?this._panes[ct]:ct},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(ct,bt){var Pt=this.options.crs;return bt=bt===void 0?this._zoom:bt,Pt.scale(ct)/Pt.scale(bt)},getScaleZoom:function(ct,bt){var Pt=this.options.crs;bt=bt===void 0?this._zoom:bt;var Dt=Pt.zoom(ct*Pt.scale(bt));return isNaN(Dt)?1/0:Dt},project:function(ct,bt){return bt=bt===void 0?this._zoom:bt,this.options.crs.latLngToPoint(Wt(ct),bt)},unproject:function(ct,bt){return bt=bt===void 0?this._zoom:bt,this.options.crs.pointToLatLng(Qt(ct),bt)},layerPointToLatLng:function(ct){var bt=Qt(ct).add(this.getPixelOrigin());return this.unproject(bt)},latLngToLayerPoint:function(ct){var bt=this.project(Wt(ct))._round();return bt._subtract(this.getPixelOrigin())},wrapLatLng:function(ct){return this.options.crs.wrapLatLng(Wt(ct))},wrapLatLngBounds:function(ct){return this.options.crs.wrapLatLngBounds(an(ct))},distance:function(ct,bt){return this.options.crs.distance(Wt(ct),Wt(bt))},containerPointToLayerPoint:function(ct){return Qt(ct).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(ct){return Qt(ct).add(this._getMapPanePos())},containerPointToLatLng:function(ct){var bt=this.containerPointToLayerPoint(Qt(ct));return this.layerPointToLatLng(bt)},latLngToContainerPoint:function(ct){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Wt(ct)))},mouseEventToContainerPoint:function(ct){return Jo(ct,this._container)},mouseEventToLayerPoint:function(ct){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(ct))},mouseEventToLatLng:function(ct){return this.layerPointToLatLng(this.mouseEventToLayerPoint(ct))},_initContainer:function(ct){var bt=this._container=Bo(ct);if(bt){if(bt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$r(bt,"scroll",this._onScroll,this),this._containerId=lt(bt)},_initLayout:function(){var ct=this._container;this._fadeAnimated=this.options.fadeAnimation&&cr.any3d,Lr(ct,"leaflet-container"+(cr.touch?" leaflet-touch":"")+(cr.retina?" leaflet-retina":"")+(cr.ielt9?" leaflet-oldie":"")+(cr.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var bt=Ks(ct,"position");bt!=="absolute"&&bt!=="relative"&&bt!=="fixed"&&bt!=="sticky"&&(ct.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var ct=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ms(this._mapPane,new Ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Lr(ct.markerPane,"leaflet-zoom-hide"),Lr(ct.shadowPane,"leaflet-zoom-hide"))},_resetView:function(ct,bt,Pt){ms(this._mapPane,new Ut(0,0));var Dt=!this._loaded;this._loaded=!0,bt=this._limitZoom(bt),this.fire("viewprereset");var Zt=this._zoom!==bt;this._moveStart(Zt,Pt)._move(ct,bt)._moveEnd(Zt),this.fire("viewreset"),Dt&&this.fire("load")},_moveStart:function(ct,bt){return ct&&this.fire("zoomstart"),bt||this.fire("movestart"),this},_move:function(ct,bt,Pt,Dt){bt===void 0&&(bt=this._zoom);var Zt=this._zoom!==bt;return this._zoom=bt,this._lastCenter=ct,this._pixelOrigin=this._getNewPixelOrigin(ct),Dt?Pt&&Pt.pinch&&this.fire("zoom",Pt):((Zt||Pt&&Pt.pinch)&&this.fire("zoom",Pt),this.fire("move",Pt)),this},_moveEnd:function(ct){return ct&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(ct){ms(this._mapPane,this._getMapPanePos().subtract(ct))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(ct){this._targets={},this._targets[lt(this._container)]=this;var bt=ct?_s:$r;bt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&bt(window,"resize",this._onResize,this),cr.any3d&&this.options.transform3DLimit&&(ct?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=Bt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var ct=this._getMapPanePos();Math.max(Math.abs(ct.x),Math.abs(ct.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(ct,bt){for(var Pt=[],Dt,Zt=bt==="mouseout"||bt==="mouseover",fn=ct.target||ct.srcElement,An=!1;fn;){if(Dt=this._targets[lt(fn)],Dt&&(bt==="click"||bt==="preclick")&&this._draggableMoved(Dt)){An=!0;break}if(Dt&&Dt.listens(bt,!0)&&(Zt&&!Wr(fn,ct)||(Pt.push(Dt),Zt))||fn===this._container)break;fn=fn.parentNode}return!Pt.length&&!An&&!Zt&&this.listens(bt,!0)&&(Pt=[this]),Pt},_isClickDisabled:function(ct){for(;ct&&ct!==this._container;){if(ct._leaflet_disable_click)return!0;ct=ct.parentNode}},_handleDOMEvent:function(ct){var bt=ct.target||ct.srcElement;if(!(!this._loaded||bt._leaflet_disable_events||ct.type==="click"&&this._isClickDisabled(bt))){var Pt=ct.type;Pt==="mousedown"&&Rr(bt),this._fireDOMEvent(ct,Pt)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(ct,bt,Pt){if(ct.type==="click"){var Dt=it({},ct);Dt.type="preclick",this._fireDOMEvent(Dt,Dt.type,Pt)}var Zt=this._findEventTargets(ct,bt);if(Pt){for(var fn=[],An=0;An<Pt.length;An++)Pt[An].listens(bt,!0)&&fn.push(Pt[An]);Zt=fn.concat(Zt)}if(Zt.length){bt==="contextmenu"&&es(ct);var Dn=Zt[0],zn={originalEvent:ct};if(ct.type!=="keypress"&&ct.type!=="keydown"&&ct.type!=="keyup"){var tr=Dn.getLatLng&&(!Dn._radius||Dn._radius<=10);zn.containerPoint=tr?this.latLngToContainerPoint(Dn.getLatLng()):this.mouseEventToContainerPoint(ct),zn.layerPoint=this.containerPointToLayerPoint(zn.containerPoint),zn.latlng=tr?Dn.getLatLng():this.layerPointToLatLng(zn.layerPoint)}for(An=0;An<Zt.length;An++)if(Zt[An].fire(bt,zn,!0),zn.originalEvent._stopped||Zt[An].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,bt)!==-1)return}},_draggableMoved:function(ct){return ct=ct.dragging&&ct.dragging.enabled()?ct:this,ct.dragging&&ct.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var ct=0,bt=this._handlers.length;ct<bt;ct++)this._handlers[ct].disable()},whenReady:function(ct,bt){return this._loaded?ct.call(bt||this,{target:this}):this.on("load",ct,bt),this},_getMapPanePos:function(){return cn(this._mapPane)||new Ut(0,0)},_moved:function(){var ct=this._getMapPanePos();return ct&&!ct.equals([0,0])},_getTopLeftPoint:function(ct,bt){var Pt=ct&&bt!==void 0?this._getNewPixelOrigin(ct,bt):this.getPixelOrigin();return Pt.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(ct,bt){var Pt=this.getSize()._divideBy(2);return this.project(ct,bt)._subtract(Pt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(ct,bt,Pt){var Dt=this._getNewPixelOrigin(Pt,bt);return this.project(ct,bt)._subtract(Dt)},_latLngBoundsToNewLayerBounds:function(ct,bt,Pt){var Dt=this._getNewPixelOrigin(Pt,bt);return Ht([this.project(ct.getSouthWest(),bt)._subtract(Dt),this.project(ct.getNorthWest(),bt)._subtract(Dt),this.project(ct.getSouthEast(),bt)._subtract(Dt),this.project(ct.getNorthEast(),bt)._subtract(Dt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(ct){return this.latLngToLayerPoint(ct).subtract(this._getCenterLayerPoint())},_limitCenter:function(ct,bt,Pt){if(!Pt)return ct;var Dt=this.project(ct,bt),Zt=this.getSize().divideBy(2),fn=new zt(Dt.subtract(Zt),Dt.add(Zt)),An=this._getBoundsOffset(fn,Pt,bt);return Math.abs(An.x)<=1&&Math.abs(An.y)<=1?ct:this.unproject(Dt.add(An),bt)},_limitOffset:function(ct,bt){if(!bt)return ct;var Pt=this.getPixelBounds(),Dt=new zt(Pt.min.add(ct),Pt.max.add(ct));return ct.add(this._getBoundsOffset(Dt,bt))},_getBoundsOffset:function(ct,bt,Pt){var Dt=Ht(this.project(bt.getNorthEast(),Pt),this.project(bt.getSouthWest(),Pt)),Zt=Dt.min.subtract(ct.min),fn=Dt.max.subtract(ct.max),An=this._rebound(Zt.x,-fn.x),Dn=this._rebound(Zt.y,-fn.y);return new Ut(An,Dn)},_rebound:function(ct,bt){return ct+bt>0?Math.round(ct-bt)/2:Math.max(0,Math.ceil(ct))-Math.max(0,Math.floor(bt))},_limitZoom:function(ct){var bt=this.getMinZoom(),Pt=this.getMaxZoom(),Dt=cr.any3d?this.options.zoomSnap:1;return Dt&&(ct=Math.round(ct/Dt)*Dt),Math.max(bt,Math.min(Pt,ct))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ns(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(ct,bt){var Pt=this._getCenterOffset(ct)._trunc();return(bt&&bt.animate)!==!0&&!this.getSize().contains(Pt)?!1:(this.panBy(Pt,bt),!0)},_createAnimProxy:function(){var ct=this._proxy=Hr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(ct),this.on("zoomanim",function(bt){var Pt=vo,Dt=this._proxy.style[Pt];Ao(this._proxy,this.project(bt.center,bt.zoom),this.getZoomScale(bt.zoom,1)),Dt===this._proxy.style[Pt]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var ct=this.getCenter(),bt=this.getZoom();Ao(this._proxy,this.project(ct,bt),this.getZoomScale(bt,1))},_catchTransitionEnd:function(ct){this._animatingZoom&&ct.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(ct,bt,Pt){if(this._animatingZoom)return!0;if(Pt=Pt||{},!this._zoomAnimated||Pt.animate===!1||this._nothingToAnimate()||Math.abs(bt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Dt=this.getZoomScale(bt),Zt=this._getCenterOffset(ct)._divideBy(1-1/Dt);return Pt.animate!==!0&&!this.getSize().contains(Zt)?!1:(Bt(function(){this._moveStart(!0,!1)._animateZoom(ct,bt,!0)},this),!0)},_animateZoom:function(ct,bt,Pt,Dt){this._mapPane&&(Pt&&(this._animatingZoom=!0,this._animateToCenter=ct,this._animateToZoom=bt,Lr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:ct,zoom:bt,noUpdate:Dt}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ot(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ns(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hs(ct,bt){return new Yr(ct,bt)}var Fs=nn.extend({options:{position:"topright"},initialize:function(ct){_t(this,ct)},getPosition:function(){return this.options.position},setPosition:function(ct){var bt=this._map;return bt&&bt.removeControl(this),this.options.position=ct,bt&&bt.addControl(this),this},getContainer:function(){return this._container},addTo:function(ct){this.remove(),this._map=ct;var bt=this._container=this.onAdd(ct),Pt=this.getPosition(),Dt=ct._controlCorners[Pt];return Lr(bt,"leaflet-control"),Pt.indexOf("bottom")!==-1?Dt.insertBefore(bt,Dt.firstChild):Dt.appendChild(bt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(ct){this._map&&ct&&ct.screenX>0&&ct.screenY>0&&this._map.getContainer().focus()}}),Po=function(ct){return new Fs(ct)};Yr.include({addControl:function(ct){return ct.addTo(this),this},removeControl:function(ct){return ct.remove(),this},_initControlPos:function(){var ct=this._controlCorners={},bt="leaflet-",Pt=this._controlContainer=Hr("div",bt+"control-container",this._container);function Dt(Zt,fn){var An=bt+Zt+" "+bt+fn;ct[Zt+fn]=Hr("div",An,Pt)}Dt("top","left"),Dt("top","right"),Dt("bottom","left"),Dt("bottom","right")},_clearControlPos:function(){for(var ct in this._controlCorners)Kr(this._controlCorners[ct]);Kr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Us=Fs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(ct,bt,Pt,Dt){return Pt<Dt?-1:Dt<Pt?1:0}},initialize:function(ct,bt,Pt){_t(this,Pt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var Dt in ct)this._addLayer(ct[Dt],Dt);for(Dt in bt)this._addLayer(bt[Dt],Dt,!0)},onAdd:function(ct){this._initLayout(),this._update(),this._map=ct,ct.on("zoomend",this._checkDisabledLayers,this);for(var bt=0;bt<this._layers.length;bt++)this._layers[bt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(ct){return Fs.prototype.addTo.call(this,ct),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var ct=0;ct<this._layers.length;ct++)this._layers[ct].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(ct,bt){return this._addLayer(ct,bt),this._map?this._update():this},addOverlay:function(ct,bt){return this._addLayer(ct,bt,!0),this._map?this._update():this},removeLayer:function(ct){ct.off("add remove",this._onLayerChange,this);var bt=this._getLayer(lt(ct));return bt&&this._layers.splice(this._layers.indexOf(bt),1),this._map?this._update():this},expand:function(){Lr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var ct=this._map.getSize().y-(this._container.offsetTop+50);return ct<this._section.clientHeight?(Lr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=ct+"px"):ns(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ns(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var ct="leaflet-control-layers",bt=this._container=Hr("div",ct),Pt=this.options.collapsed;bt.setAttribute("aria-haspopup",!0),Ho(bt),_l(bt);var Dt=this._section=Hr("section",ct+"-list");Pt&&(this._map.on("click",this.collapse,this),$r(bt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Zt=this._layersLink=Hr("a",ct+"-toggle",bt);Zt.href="#",Zt.title="Layers",Zt.setAttribute("role","button"),$r(Zt,{keydown:function(fn){fn.keyCode===13&&this._expandSafely()},click:function(fn){es(fn),this._expandSafely()}},this),Pt||this.expand(),this._baseLayersList=Hr("div",ct+"-base",Dt),this._separator=Hr("div",ct+"-separator",Dt),this._overlaysList=Hr("div",ct+"-overlays",Dt),bt.appendChild(Dt)},_getLayer:function(ct){for(var bt=0;bt<this._layers.length;bt++)if(this._layers[bt]&&lt(this._layers[bt].layer)===ct)return this._layers[bt]},_addLayer:function(ct,bt,Pt){this._map&&ct.on("add remove",this._onLayerChange,this),this._layers.push({layer:ct,name:bt,overlay:Pt}),this.options.sortLayers&&this._layers.sort(ot(function(Dt,Zt){return this.options.sortFunction(Dt.layer,Zt.layer,Dt.name,Zt.name)},this)),this.options.autoZIndex&&ct.setZIndex&&(this._lastZIndex++,ct.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ks(this._baseLayersList),ks(this._overlaysList),this._layerControlInputs=[];var ct,bt,Pt,Dt,Zt=0;for(Pt=0;Pt<this._layers.length;Pt++)Dt=this._layers[Pt],this._addItem(Dt),bt=bt||Dt.overlay,ct=ct||!Dt.overlay,Zt+=Dt.overlay?0:1;return this.options.hideSingleBase&&(ct=ct&&Zt>1,this._baseLayersList.style.display=ct?"":"none"),this._separator.style.display=bt&&ct?"":"none",this},_onLayerChange:function(ct){this._handlingClick||this._update();var bt=this._getLayer(lt(ct.target)),Pt=bt.overlay?ct.type==="add"?"overlayadd":"overlayremove":ct.type==="add"?"baselayerchange":null;Pt&&this._map.fire(Pt,bt)},_createRadioElement:function(ct,bt){var Pt='<input type="radio" class="leaflet-control-layers-selector" name="'+ct+'"'+(bt?' checked="checked"':"")+"/>",Dt=document.createElement("div");return Dt.innerHTML=Pt,Dt.firstChild},_addItem:function(ct){var bt=document.createElement("label"),Pt=this._map.hasLayer(ct.layer),Dt;ct.overlay?(Dt=document.createElement("input"),Dt.type="checkbox",Dt.className="leaflet-control-layers-selector",Dt.defaultChecked=Pt):Dt=this._createRadioElement("leaflet-base-layers_"+lt(this),Pt),this._layerControlInputs.push(Dt),Dt.layerId=lt(ct.layer),$r(Dt,"click",this._onInputClick,this);var Zt=document.createElement("span");Zt.innerHTML=" "+ct.name;var fn=document.createElement("span");bt.appendChild(fn),fn.appendChild(Dt),fn.appendChild(Zt);var An=ct.overlay?this._overlaysList:this._baseLayersList;return An.appendChild(bt),this._checkDisabledLayers(),bt},_onInputClick:function(){var ct=this._layerControlInputs,bt,Pt,Dt=[],Zt=[];this._handlingClick=!0;for(var fn=ct.length-1;fn>=0;fn--)bt=ct[fn],Pt=this._getLayer(bt.layerId).layer,bt.checked?Dt.push(Pt):bt.checked||Zt.push(Pt);for(fn=0;fn<Zt.length;fn++)this._map.hasLayer(Zt[fn])&&this._map.removeLayer(Zt[fn]);for(fn=0;fn<Dt.length;fn++)this._map.hasLayer(Dt[fn])||this._map.addLayer(Dt[fn]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var ct=this._layerControlInputs,bt,Pt,Dt=this._map.getZoom(),Zt=ct.length-1;Zt>=0;Zt--)bt=ct[Zt],Pt=this._getLayer(bt.layerId).layer,bt.disabled=Pt.options.minZoom!==void 0&&Dt<Pt.options.minZoom||Pt.options.maxZoom!==void 0&&Dt>Pt.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var ct=this._section;$r(ct,"click",es),this.expand(),setTimeout(function(){_s(ct,"click",es)})}}),Dl=function(ct,bt,Pt){return new Us(ct,bt,Pt)},mo=Fs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(ct){var bt="leaflet-control-zoom",Pt=Hr("div",bt+" leaflet-bar"),Dt=this.options;return this._zoomInButton=this._createButton(Dt.zoomInText,Dt.zoomInTitle,bt+"-in",Pt,this._zoomIn),this._zoomOutButton=this._createButton(Dt.zoomOutText,Dt.zoomOutTitle,bt+"-out",Pt,this._zoomOut),this._updateDisabled(),ct.on("zoomend zoomlevelschange",this._updateDisabled,this),Pt},onRemove:function(ct){ct.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(ct){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(ct.shiftKey?3:1))},_zoomOut:function(ct){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(ct.shiftKey?3:1))},_createButton:function(ct,bt,Pt,Dt,Zt){var fn=Hr("a",Pt,Dt);return fn.innerHTML=ct,fn.href="#",fn.title=bt,fn.setAttribute("role","button"),fn.setAttribute("aria-label",bt),Ho(fn),$r(fn,"click",as),$r(fn,"click",Zt,this),$r(fn,"click",this._refocusOnMap,this),fn},_updateDisabled:function(){var ct=this._map,bt="leaflet-disabled";ns(this._zoomInButton,bt),ns(this._zoomOutButton,bt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||ct._zoom===ct.getMinZoom())&&(Lr(this._zoomOutButton,bt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||ct._zoom===ct.getMaxZoom())&&(Lr(this._zoomInButton,bt),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yr.mergeOptions({zoomControl:!0}),Yr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mo,this.addControl(this.zoomControl))});var Ep=function(ct){return new mo(ct)},Mu=Fs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(ct){var bt="leaflet-control-scale",Pt=Hr("div",bt),Dt=this.options;return this._addScales(Dt,bt+"-line",Pt),ct.on(Dt.updateWhenIdle?"moveend":"move",this._update,this),ct.whenReady(this._update,this),Pt},onRemove:function(ct){ct.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(ct,bt,Pt){ct.metric&&(this._mScale=Hr("div",bt,Pt)),ct.imperial&&(this._iScale=Hr("div",bt,Pt))},_update:function(){var ct=this._map,bt=ct.getSize().y/2,Pt=ct.distance(ct.containerPointToLatLng([0,bt]),ct.containerPointToLatLng([this.options.maxWidth,bt]));this._updateScales(Pt)},_updateScales:function(ct){this.options.metric&&ct&&this._updateMetric(ct),this.options.imperial&&ct&&this._updateImperial(ct)},_updateMetric:function(ct){var bt=this._getRoundNum(ct),Pt=bt<1e3?bt+" m":bt/1e3+" km";this._updateScale(this._mScale,Pt,bt/ct)},_updateImperial:function(ct){var bt=ct*3.2808399,Pt,Dt,Zt;bt>5280?(Pt=bt/5280,Dt=this._getRoundNum(Pt),this._updateScale(this._iScale,Dt+" mi",Dt/Pt)):(Zt=this._getRoundNum(bt),this._updateScale(this._iScale,Zt+" ft",Zt/bt))},_updateScale:function(ct,bt,Pt){ct.style.width=Math.round(this.options.maxWidth*Pt)+"px",ct.innerHTML=bt},_getRoundNum:function(ct){var bt=Math.pow(10,(Math.floor(ct)+"").length-1),Pt=ct/bt;return Pt=Pt>=10?10:Pt>=5?5:Pt>=3?3:Pt>=2?2:1,bt*Pt}}),Lu=function(ct){return new Mu(ct)},El='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bl=Fs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(cr.inlineSvg?El+" ":"")+"Leaflet</a>"},initialize:function(ct){_t(this,ct),this._attributions={}},onAdd:function(ct){ct.attributionControl=this,this._container=Hr("div","leaflet-control-attribution"),Ho(this._container);for(var bt in ct._layers)ct._layers[bt].getAttribution&&this.addAttribution(ct._layers[bt].getAttribution());return this._update(),ct.on("layeradd",this._addAttribution,this),this._container},onRemove:function(ct){ct.off("layeradd",this._addAttribution,this)},_addAttribution:function(ct){ct.layer.getAttribution&&(this.addAttribution(ct.layer.getAttribution()),ct.layer.once("remove",function(){this.removeAttribution(ct.layer.getAttribution())},this))},setPrefix:function(ct){return this.options.prefix=ct,this._update(),this},addAttribution:function(ct){return ct?(this._attributions[ct]||(this._attributions[ct]=0),this._attributions[ct]++,this._update(),this):this},removeAttribution:function(ct){return ct?(this._attributions[ct]&&(this._attributions[ct]--,this._update()),this):this},_update:function(){if(this._map){var ct=[];for(var bt in this._attributions)this._attributions[bt]&&ct.push(bt);var Pt=[];this.options.prefix&&Pt.push(this.options.prefix),ct.length&&Pt.push(ct.join(", ")),this._container.innerHTML=Pt.join(' <span aria-hidden="true">|</span> ')}}});Yr.mergeOptions({attributionControl:!0}),Yr.addInitHook(function(){this.options.attributionControl&&new Bl().addTo(this)});var Qo=function(ct){return new Bl(ct)};Fs.Layers=Us,Fs.Zoom=mo,Fs.Scale=Mu,Fs.Attribution=Bl,Po.layers=Dl,Po.zoom=Ep,Po.scale=Lu,Po.attribution=Qo;var Ws=nn.extend({initialize:function(ct){this._map=ct},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ws.addTo=function(ct,bt){return ct.addHandler(bt,this),this};var Op={Events:rn},Qs=cr.touch?"touchstart mousedown":"mousedown",Al=Jt.extend({options:{clickTolerance:3},initialize:function(ct,bt,Pt,Dt){_t(this,Dt),this._element=ct,this._dragStartTarget=bt||ct,this._preventOutline=Pt},enable:function(){this._enabled||($r(this._dragStartTarget,Qs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Al._dragging===this&&this.finishDrag(!0),_s(this._dragStartTarget,Qs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(ct){if(this._enabled&&(this._moved=!1,!To(this._element,"leaflet-zoom-anim"))){if(ct.touches&&ct.touches.length!==1){Al._dragging===this&&this.finishDrag();return}if(!(Al._dragging||ct.shiftKey||ct.which!==1&&ct.button!==1&&!ct.touches)&&(Al._dragging=this,this._preventOutline&&Rr(this._element),Hn(),xn(),!this._moving)){this.fire("down");var bt=ct.touches?ct.touches[0]:ct,Pt=Ds(this._element);this._startPoint=new Ut(bt.clientX,bt.clientY),this._startPos=cn(this._element),this._parentScale=bs(Pt);var Dt=ct.type==="mousedown";$r(document,Dt?"mousemove":"touchmove",this._onMove,this),$r(document,Dt?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(ct){if(this._enabled){if(ct.touches&&ct.touches.length>1){this._moved=!0;return}var bt=ct.touches&&ct.touches.length===1?ct.touches[0]:ct,Pt=new Ut(bt.clientX,bt.clientY)._subtract(this._startPoint);!Pt.x&&!Pt.y||Math.abs(Pt.x)+Math.abs(Pt.y)<this.options.clickTolerance||(Pt.x/=this._parentScale.x,Pt.y/=this._parentScale.y,es(ct),this._moved||(this.fire("dragstart"),this._moved=!0,Lr(document.body,"leaflet-dragging"),this._lastTarget=ct.target||ct.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Lr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Pt),this._moving=!0,this._lastEvent=ct,this._updatePosition())}},_updatePosition:function(){var ct={originalEvent:this._lastEvent};this.fire("predrag",ct),ms(this._element,this._newPos),this.fire("drag",ct)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(ct){ns(document.body,"leaflet-dragging"),this._lastTarget&&(ns(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_s(document,"mousemove touchmove",this._onMove,this),_s(document,"mouseup touchend touchcancel",this._onUp,this),mr(),Sn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:ct,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Al._dragging=!1}});function Xl(ct,bt){if(!bt||!ct.length)return ct.slice();var Pt=bt*bt;return ct=Wo(ct,Pt),ct=_f(ct,Pt),ct}function na(ct,bt,Pt){return Math.sqrt(vu(ct,bt,Pt,!0))}function ku(ct,bt,Pt){return vu(ct,bt,Pt)}function _f(ct,bt){var Pt=ct.length,Dt=typeof Uint8Array!=void 0+""?Uint8Array:Array,Zt=new Dt(Pt);Zt[0]=Zt[Pt-1]=1,Is(ct,Zt,bt,0,Pt-1);var fn,An=[];for(fn=0;fn<Pt;fn++)Zt[fn]&&An.push(ct[fn]);return An}function Is(ct,bt,Pt,Dt,Zt){var fn=0,An,Dn,zn;for(Dn=Dt+1;Dn<=Zt-1;Dn++)zn=vu(ct[Dn],ct[Dt],ct[Zt],!0),zn>fn&&(An=Dn,fn=zn);fn>Pt&&(bt[An]=1,Is(ct,bt,Pt,Dt,An),Is(ct,bt,Pt,An,Zt))}function Wo(ct,bt){for(var Pt=[ct[0]],Dt=1,Zt=0,fn=ct.length;Dt<fn;Dt++)Ap(ct[Dt],ct[Zt])>bt&&(Pt.push(ct[Dt]),Zt=Dt);return Zt<fn-1&&Pt.push(ct[fn-1]),Pt}var Du;function bp(ct,bt,Pt,Dt,Zt){var fn=Dt?Du:Sl(ct,Pt),An=Sl(bt,Pt),Dn,zn,tr;for(Du=An;;){if(!(fn|An))return[ct,bt];if(fn&An)return!1;Dn=fn||An,zn=Kl(ct,bt,Dn,Pt,Zt),tr=Sl(zn,Pt),Dn===fn?(ct=zn,fn=tr):(bt=zn,An=tr)}}function Kl(ct,bt,Pt,Dt,Zt){var fn=bt.x-ct.x,An=bt.y-ct.y,Dn=Dt.min,zn=Dt.max,tr,_r;return Pt&8?(tr=ct.x+fn*(zn.y-ct.y)/An,_r=zn.y):Pt&4?(tr=ct.x+fn*(Dn.y-ct.y)/An,_r=Dn.y):Pt&2?(tr=zn.x,_r=ct.y+An*(zn.x-ct.x)/fn):Pt&1&&(tr=Dn.x,_r=ct.y+An*(Dn.x-ct.x)/fn),new Ut(tr,_r,Zt)}function Sl(ct,bt){var Pt=0;return ct.x<bt.min.x?Pt|=1:ct.x>bt.max.x&&(Pt|=2),ct.y<bt.min.y?Pt|=4:ct.y>bt.max.y&&(Pt|=8),Pt}function Ap(ct,bt){var Pt=bt.x-ct.x,Dt=bt.y-ct.y;return Pt*Pt+Dt*Dt}function vu(ct,bt,Pt,Dt){var Zt=bt.x,fn=bt.y,An=Pt.x-Zt,Dn=Pt.y-fn,zn=An*An+Dn*Dn,tr;return zn>0&&(tr=((ct.x-Zt)*An+(ct.y-fn)*Dn)/zn,tr>1?(Zt=Pt.x,fn=Pt.y):tr>0&&(Zt+=An*tr,fn+=Dn*tr)),An=ct.x-Zt,Dn=ct.y-fn,Dt?An*An+Dn*Dn:new Ut(Zt,fn)}function Oo(ct){return!Et(ct[0])||typeof ct[0][0]!="object"&&typeof ct[0][0]<"u"}function qr(ct){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oo(ct)}function ga(ct,bt){var Pt,Dt,Zt,fn,An,Dn,zn,tr;if(!ct||ct.length===0)throw new Error("latlngs not passed");Oo(ct)||(console.warn("latlngs are not flat! Only the first ring will be used"),ct=ct[0]);var _r=[];for(var Xr in ct)_r.push(bt.project(Wt(ct[Xr])));var ls=_r.length;for(Pt=0,Dt=0;Pt<ls-1;Pt++)Dt+=_r[Pt].distanceTo(_r[Pt+1])/2;if(Dt===0)tr=_r[0];else for(Pt=0,fn=0;Pt<ls-1;Pt++)if(An=_r[Pt],Dn=_r[Pt+1],Zt=An.distanceTo(Dn),fn+=Zt,fn>Dt){zn=(fn-Dt)/Zt,tr=[Dn.x-zn*(Dn.x-An.x),Dn.y-zn*(Dn.y-An.y)];break}return bt.unproject(Qt(tr))}var yu={__proto__:null,simplify:Xl,pointToSegmentDistance:na,closestPointOnSegment:ku,clipSegment:bp,_getEdgeIntersection:Kl,_getBitCode:Sl,_sqClosestPointOnSegment:vu,isFlat:Oo,_flat:qr,polylineCenter:ga};function _h(ct,bt,Pt){var Dt,Zt=[1,4,2,8],fn,An,Dn,zn,tr,_r,Xr,ls;for(fn=0,_r=ct.length;fn<_r;fn++)ct[fn]._code=Sl(ct[fn],bt);for(Dn=0;Dn<4;Dn++){for(Xr=Zt[Dn],Dt=[],fn=0,_r=ct.length,An=_r-1;fn<_r;An=fn++)zn=ct[fn],tr=ct[An],zn._code&Xr?tr._code&Xr||(ls=Kl(tr,zn,Xr,bt,Pt),ls._code=Sl(ls,bt),Dt.push(ls)):(tr._code&Xr&&(ls=Kl(tr,zn,Xr,bt,Pt),ls._code=Sl(ls,bt),Dt.push(ls)),Dt.push(zn));ct=Dt}return ct}function Tl(ct,bt){var Pt,Dt,Zt,fn,An,Dn,zn,tr,_r;if(!ct||ct.length===0)throw new Error("latlngs not passed");Oo(ct)||(console.warn("latlngs are not flat! Only the first ring will be used"),ct=ct[0]);var Xr=[];for(var ls in ct)Xr.push(bt.project(Wt(ct[ls])));var ko=Xr.length;for(Dn=zn=tr=0,Pt=0,Dt=ko-1;Pt<ko;Dt=Pt++)Zt=Xr[Pt],fn=Xr[Dt],An=Zt.y*fn.x-fn.y*Zt.x,zn+=(Zt.x+fn.x)*An,tr+=(Zt.y+fn.y)*An,Dn+=An*3;return Dn===0?_r=Xr[0]:_r=[zn/Dn,tr/Dn],bt.unproject(Qt(_r))}var _d={__proto__:null,clipPolygon:_h,polygonCenter:Tl},$l={project:function(ct){return new Ut(ct.lng,ct.lat)},unproject:function(ct){return new on(ct.y,ct.x)},bounds:new zt([-180,-90],[180,90])},xu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new zt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(ct){var bt=Math.PI/180,Pt=this.R,Dt=ct.lat*bt,Zt=this.R_MINOR/Pt,fn=Math.sqrt(1-Zt*Zt),An=fn*Math.sin(Dt),Dn=Math.tan(Math.PI/4-Dt/2)/Math.pow((1-An)/(1+An),fn/2);return Dt=-Pt*Math.log(Math.max(Dn,1e-10)),new Ut(ct.lng*bt*Pt,Dt)},unproject:function(ct){for(var bt=180/Math.PI,Pt=this.R,Dt=this.R_MINOR/Pt,Zt=Math.sqrt(1-Dt*Dt),fn=Math.exp(-ct.y/Pt),An=Math.PI/2-2*Math.atan(fn),Dn=0,zn=.1,tr;Dn<15&&Math.abs(zn)>1e-7;Dn++)tr=Zt*Math.sin(An),tr=Math.pow((1-tr)/(1+tr),Zt/2),zn=Math.PI/2-2*Math.atan(fn*tr)-An,An+=zn;return new on(An*bt,ct.x*bt/Pt)}},ep={__proto__:null,LonLat:$l,Mercator:xu,SphericalMercator:Cn},tp=it({},vn,{code:"EPSG:3395",projection:xu,transformation:function(){var ct=.5/(Math.PI*xu.R);return Fn(ct,.5,-ct,.5)}()}),Bu=it({},vn,{code:"EPSG:4326",projection:$l,transformation:Fn(1/180,1,-1/180,.5)}),Ip=it({},mn,{projection:$l,transformation:Fn(1,0,-1,0),scale:function(ct){return Math.pow(2,ct)},zoom:function(ct){return Math.log(ct)/Math.LN2},distance:function(ct,bt){var Pt=bt.lng-ct.lng,Dt=bt.lat-ct.lat;return Math.sqrt(Pt*Pt+Dt*Dt)},infinite:!0});mn.Earth=vn,mn.EPSG3395=tp,mn.EPSG3857=Ln,mn.EPSG900913=Mn,mn.EPSG4326=Bu,mn.Simple=Ip;var Lo=Jt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(ct){return ct.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(ct){return ct&&ct.removeLayer(this),this},getPane:function(ct){return this._map.getPane(ct?this.options[ct]||ct:this.options.pane)},addInteractiveTarget:function(ct){return this._map._targets[lt(ct)]=this,this},removeInteractiveTarget:function(ct){return delete this._map._targets[lt(ct)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(ct){var bt=ct.target;if(bt.hasLayer(this)){if(this._map=bt,this._zoomAnimated=bt._zoomAnimated,this.getEvents){var Pt=this.getEvents();bt.on(Pt,this),this.once("remove",function(){bt.off(Pt,this)},this)}this.onAdd(bt),this.fire("add"),bt.fire("layeradd",{layer:this})}}});Yr.include({addLayer:function(ct){if(!ct._layerAdd)throw new Error("The provided object is not a Layer.");var bt=lt(ct);return this._layers[bt]?this:(this._layers[bt]=ct,ct._mapToAdd=this,ct.beforeAdd&&ct.beforeAdd(this),this.whenReady(ct._layerAdd,ct),this)},removeLayer:function(ct){var bt=lt(ct);return this._layers[bt]?(this._loaded&&ct.onRemove(this),delete this._layers[bt],this._loaded&&(this.fire("layerremove",{layer:ct}),ct.fire("remove")),ct._map=ct._mapToAdd=null,this):this},hasLayer:function(ct){return lt(ct)in this._layers},eachLayer:function(ct,bt){for(var Pt in this._layers)ct.call(bt,this._layers[Pt]);return this},_addLayers:function(ct){ct=ct?Et(ct)?ct:[ct]:[];for(var bt=0,Pt=ct.length;bt<Pt;bt++)this.addLayer(ct[bt])},_addZoomLimit:function(ct){(!isNaN(ct.options.maxZoom)||!isNaN(ct.options.minZoom))&&(this._zoomBoundLayers[lt(ct)]=ct,this._updateZoomLevels())},_removeZoomLimit:function(ct){var bt=lt(ct);this._zoomBoundLayers[bt]&&(delete this._zoomBoundLayers[bt],this._updateZoomLevels())},_updateZoomLevels:function(){var ct=1/0,bt=-1/0,Pt=this._getZoomSpan();for(var Dt in this._zoomBoundLayers){var Zt=this._zoomBoundLayers[Dt].options;ct=Zt.minZoom===void 0?ct:Math.min(ct,Zt.minZoom),bt=Zt.maxZoom===void 0?bt:Math.max(bt,Zt.maxZoom)}this._layersMaxZoom=bt===-1/0?void 0:bt,this._layersMinZoom=ct===1/0?void 0:ct,Pt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ho=Lo.extend({initialize:function(ct,bt){_t(this,bt),this._layers={};var Pt,Dt;if(ct)for(Pt=0,Dt=ct.length;Pt<Dt;Pt++)this.addLayer(ct[Pt])},addLayer:function(ct){var bt=this.getLayerId(ct);return this._layers[bt]=ct,this._map&&this._map.addLayer(ct),this},removeLayer:function(ct){var bt=ct in this._layers?ct:this.getLayerId(ct);return this._map&&this._layers[bt]&&this._map.removeLayer(this._layers[bt]),delete this._layers[bt],this},hasLayer:function(ct){var bt=typeof ct=="number"?ct:this.getLayerId(ct);return bt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(ct){var bt=Array.prototype.slice.call(arguments,1),Pt,Dt;for(Pt in this._layers)Dt=this._layers[Pt],Dt[ct]&&Dt[ct].apply(Dt,bt);return this},onAdd:function(ct){this.eachLayer(ct.addLayer,ct)},onRemove:function(ct){this.eachLayer(ct.removeLayer,ct)},eachLayer:function(ct,bt){for(var Pt in this._layers)ct.call(bt,this._layers[Pt]);return this},getLayer:function(ct){return this._layers[ct]},getLayers:function(){var ct=[];return this.eachLayer(ct.push,ct),ct},setZIndex:function(ct){return this.invoke("setZIndex",ct)},getLayerId:function(ct){return lt(ct)}}),np=function(ct,bt){return new ho(ct,bt)},Ro=ho.extend({addLayer:function(ct){return this.hasLayer(ct)?this:(ct.addEventParent(this),ho.prototype.addLayer.call(this,ct),this.fire("layeradd",{layer:ct}))},removeLayer:function(ct){return this.hasLayer(ct)?(ct in this._layers&&(ct=this._layers[ct]),ct.removeEventParent(this),ho.prototype.removeLayer.call(this,ct),this.fire("layerremove",{layer:ct})):this},setStyle:function(ct){return this.invoke("setStyle",ct)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var ct=new en;for(var bt in this._layers){var Pt=this._layers[bt];ct.extend(Pt.getBounds?Pt.getBounds():Pt.getLatLng())}return ct}}),zs=function(ct,bt){return new Ro(ct,bt)},Nl=nn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(ct){_t(this,ct)},createIcon:function(ct){return this._createIcon("icon",ct)},createShadow:function(ct){return this._createIcon("shadow",ct)},_createIcon:function(ct,bt){var Pt=this._getIconUrl(ct);if(!Pt){if(ct==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Dt=this._createImg(Pt,bt&&bt.tagName==="IMG"?bt:null);return this._setIconStyles(Dt,ct),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Dt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Dt},_setIconStyles:function(ct,bt){var Pt=this.options,Dt=Pt[bt+"Size"];typeof Dt=="number"&&(Dt=[Dt,Dt]);var Zt=Qt(Dt),fn=Qt(bt==="shadow"&&Pt.shadowAnchor||Pt.iconAnchor||Zt&&Zt.divideBy(2,!0));ct.className="leaflet-marker-"+bt+" "+(Pt.className||""),fn&&(ct.style.marginLeft=-fn.x+"px",ct.style.marginTop=-fn.y+"px"),Zt&&(ct.style.width=Zt.x+"px",ct.style.height=Zt.y+"px")},_createImg:function(ct,bt){return bt=bt||document.createElement("img"),bt.src=ct,bt},_getIconUrl:function(ct){return cr.retina&&this.options[ct+"RetinaUrl"]||this.options[ct+"Url"]}});function Mp(ct){return new Nl(ct)}var No=Nl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(ct){return typeof No.imagePath!="string"&&(No.imagePath=this._detectIconPath()),(this.options.imagePath||No.imagePath)+Nl.prototype._getIconUrl.call(this,ct)},_stripUrl:function(ct){var bt=function(Pt,Dt,Zt){var fn=Dt.exec(Pt);return fn&&fn[Zt]};return ct=bt(ct,/^url\((['"])?(.+)\1\)$/,2),ct&&bt(ct,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var ct=Hr("div","leaflet-default-icon-path",document.body),bt=Ks(ct,"background-image")||Ks(ct,"backgroundImage");if(document.body.removeChild(ct),bt=this._stripUrl(bt),bt)return bt;var Pt=document.querySelector('link[href$="leaflet.css"]');return Pt?Pt.href.substring(0,Pt.href.length-11-1):""}}),Sp=Ws.extend({initialize:function(ct){this._marker=ct},addHooks:function(){var ct=this._marker._icon;this._draggable||(this._draggable=new Al(ct,ct,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Lr(ct,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ns(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(ct){var bt=this._marker,Pt=bt._map,Dt=this._marker.options.autoPanSpeed,Zt=this._marker.options.autoPanPadding,fn=cn(bt._icon),An=Pt.getPixelBounds(),Dn=Pt.getPixelOrigin(),zn=Ht(An.min._subtract(Dn).add(Zt),An.max._subtract(Dn).subtract(Zt));if(!zn.contains(fn)){var tr=Qt((Math.max(zn.max.x,fn.x)-zn.max.x)/(An.max.x-zn.max.x)-(Math.min(zn.min.x,fn.x)-zn.min.x)/(An.min.x-zn.min.x),(Math.max(zn.max.y,fn.y)-zn.max.y)/(An.max.y-zn.max.y)-(Math.min(zn.min.y,fn.y)-zn.min.y)/(An.min.y-zn.min.y)).multiplyBy(Dt);Pt.panBy(tr,{animate:!1}),this._draggable._newPos._add(tr),this._draggable._startPos._add(tr),ms(bt._icon,this._draggable._newPos),this._onDrag(ct),this._panRequest=Bt(this._adjustPan.bind(this,ct))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(ct){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=Bt(this._adjustPan.bind(this,ct)))},_onDrag:function(ct){var bt=this._marker,Pt=bt._shadow,Dt=cn(bt._icon),Zt=bt._map.layerPointToLatLng(Dt);Pt&&ms(Pt,Dt),bt._latlng=Zt,ct.latlng=Zt,ct.oldLatLng=this._oldLatLng,bt.fire("move",ct).fire("drag",ct)},_onDragEnd:function(ct){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",ct)}}),$u=Lo.extend({options:{icon:new No,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(ct,bt){_t(this,bt),this._latlng=Wt(ct)},onAdd:function(ct){this._zoomAnimated=this._zoomAnimated&&ct.options.markerZoomAnimation,this._zoomAnimated&&ct.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(ct){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&ct.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(ct){var bt=this._latlng;return this._latlng=Wt(ct),this.update(),this.fire("move",{oldLatLng:bt,latlng:this._latlng})},setZIndexOffset:function(ct){return this.options.zIndexOffset=ct,this.update()},getIcon:function(){return this.options.icon},setIcon:function(ct){return this.options.icon=ct,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var ct=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(ct)}return this},_initIcon:function(){var ct=this.options,bt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Pt=ct.icon.createIcon(this._icon),Dt=!1;Pt!==this._icon&&(this._icon&&this._removeIcon(),Dt=!0,ct.title&&(Pt.title=ct.title),Pt.tagName==="IMG"&&(Pt.alt=ct.alt||"")),Lr(Pt,bt),ct.keyboard&&(Pt.tabIndex="0",Pt.setAttribute("role","button")),this._icon=Pt,ct.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$r(Pt,"focus",this._panOnFocus,this);var Zt=ct.icon.createShadow(this._shadow),fn=!1;Zt!==this._shadow&&(this._removeShadow(),fn=!0),Zt&&(Lr(Zt,bt),Zt.alt=""),this._shadow=Zt,ct.opacity<1&&this._updateOpacity(),Dt&&this.getPane().appendChild(this._icon),this._initInteraction(),Zt&&fn&&this.getPane(ct.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_s(this._icon,"focus",this._panOnFocus,this),Kr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kr(this._shadow),this._shadow=null},_setPos:function(ct){this._icon&&ms(this._icon,ct),this._shadow&&ms(this._shadow,ct),this._zIndex=ct.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(ct){this._icon&&(this._icon.style.zIndex=this._zIndex+ct)},_animateZoom:function(ct){var bt=this._map._latLngToNewLayerPoint(this._latlng,ct.zoom,ct.center).round();this._setPos(bt)},_initInteraction:function(){if(this.options.interactive&&(Lr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sp)){var ct=this.options.draggable;this.dragging&&(ct=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sp(this),ct&&this.dragging.enable()}},setOpacity:function(ct){return this.options.opacity=ct,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var ct=this.options.opacity;this._icon&&Js(this._icon,ct),this._shadow&&Js(this._shadow,ct)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var ct=this._map;if(ct){var bt=this.options.icon.options,Pt=bt.iconSize?Qt(bt.iconSize):Qt(0,0),Dt=bt.iconAnchor?Qt(bt.iconAnchor):Qt(0,0);ct.panInside(this._latlng,{paddingTopLeft:Dt,paddingBottomRight:Pt.subtract(Dt)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lp(ct,bt){return new $u(ct,bt)}var xo=Lo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(ct){this._renderer=ct.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(ct){return _t(this,ct),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&ct&&Object.prototype.hasOwnProperty.call(ct,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Nu=xo.extend({options:{fill:!0,radius:10},initialize:function(ct,bt){_t(this,bt),this._latlng=Wt(ct),this._radius=this.options.radius},setLatLng:function(ct){var bt=this._latlng;return this._latlng=Wt(ct),this.redraw(),this.fire("move",{oldLatLng:bt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(ct){return this.options.radius=this._radius=ct,this.redraw()},getRadius:function(){return this._radius},setStyle:function(ct){var bt=ct&&ct.radius||this._radius;return xo.prototype.setStyle.call(this,ct),this.setRadius(bt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var ct=this._radius,bt=this._radiusY||ct,Pt=this._clickTolerance(),Dt=[ct+Pt,bt+Pt];this._pxBounds=new zt(this._point.subtract(Dt),this._point.add(Dt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(ct){return ct.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kp(ct,bt){return new Nu(ct,bt)}var _u=Nu.extend({initialize:function(ct,bt,Pt){if(typeof bt=="number"&&(bt=it({},Pt,{radius:bt})),_t(this,bt),this._latlng=Wt(ct),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(ct){return this._mRadius=ct,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var ct=[this._radius,this._radiusY||this._radius];return new en(this._map.layerPointToLatLng(this._point.subtract(ct)),this._map.layerPointToLatLng(this._point.add(ct)))},setStyle:xo.prototype.setStyle,_project:function(){var ct=this._latlng.lng,bt=this._latlng.lat,Pt=this._map,Dt=Pt.options.crs;if(Dt.distance===vn.distance){var Zt=Math.PI/180,fn=this._mRadius/vn.R/Zt,An=Pt.project([bt+fn,ct]),Dn=Pt.project([bt-fn,ct]),zn=An.add(Dn).divideBy(2),tr=Pt.unproject(zn).lat,_r=Math.acos((Math.cos(fn*Zt)-Math.sin(bt*Zt)*Math.sin(tr*Zt))/(Math.cos(bt*Zt)*Math.cos(tr*Zt)))/Zt;(isNaN(_r)||_r===0)&&(_r=fn/Math.cos(Math.PI/180*bt)),this._point=zn.subtract(Pt.getPixelOrigin()),this._radius=isNaN(_r)?0:zn.x-Pt.project([tr,ct-_r]).x,this._radiusY=zn.y-An.y}else{var Xr=Dt.unproject(Dt.project(this._latlng).subtract([this._mRadius,0]));this._point=Pt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Pt.latLngToLayerPoint(Xr).x}this._updateBounds()}});function Eu(ct,bt,Pt){return new _u(ct,bt,Pt)}var po=xo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(ct,bt){_t(this,bt),this._setLatLngs(ct)},getLatLngs:function(){return this._latlngs},setLatLngs:function(ct){return this._setLatLngs(ct),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(ct){for(var bt=1/0,Pt=null,Dt=vu,Zt,fn,An=0,Dn=this._parts.length;An<Dn;An++)for(var zn=this._parts[An],tr=1,_r=zn.length;tr<_r;tr++){Zt=zn[tr-1],fn=zn[tr];var Xr=Dt(ct,Zt,fn,!0);Xr<bt&&(bt=Xr,Pt=Dt(ct,Zt,fn))}return Pt&&(Pt.distance=Math.sqrt(bt)),Pt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ga(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(ct,bt){return bt=bt||this._defaultShape(),ct=Wt(ct),bt.push(ct),this._bounds.extend(ct),this.redraw()},_setLatLngs:function(ct){this._bounds=new en,this._latlngs=this._convertLatLngs(ct)},_defaultShape:function(){return Oo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(ct){for(var bt=[],Pt=Oo(ct),Dt=0,Zt=ct.length;Dt<Zt;Dt++)Pt?(bt[Dt]=Wt(ct[Dt]),this._bounds.extend(bt[Dt])):bt[Dt]=this._convertLatLngs(ct[Dt]);return bt},_project:function(){var ct=new zt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,ct),this._bounds.isValid()&&ct.isValid()&&(this._rawPxBounds=ct,this._updateBounds())},_updateBounds:function(){var ct=this._clickTolerance(),bt=new Ut(ct,ct);this._rawPxBounds&&(this._pxBounds=new zt([this._rawPxBounds.min.subtract(bt),this._rawPxBounds.max.add(bt)]))},_projectLatlngs:function(ct,bt,Pt){var Dt=ct[0]instanceof on,Zt=ct.length,fn,An;if(Dt){for(An=[],fn=0;fn<Zt;fn++)An[fn]=this._map.latLngToLayerPoint(ct[fn]),Pt.extend(An[fn]);bt.push(An)}else for(fn=0;fn<Zt;fn++)this._projectLatlngs(ct[fn],bt,Pt)},_clipPoints:function(){var ct=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ct))){if(this.options.noClip){this._parts=this._rings;return}var bt=this._parts,Pt,Dt,Zt,fn,An,Dn,zn;for(Pt=0,Zt=0,fn=this._rings.length;Pt<fn;Pt++)for(zn=this._rings[Pt],Dt=0,An=zn.length;Dt<An-1;Dt++)Dn=bp(zn[Dt],zn[Dt+1],ct,Dt,!0),Dn&&(bt[Zt]=bt[Zt]||[],bt[Zt].push(Dn[0]),(Dn[1]!==zn[Dt+1]||Dt===An-2)&&(bt[Zt].push(Dn[1]),Zt++))}},_simplifyPoints:function(){for(var ct=this._parts,bt=this.options.smoothFactor,Pt=0,Dt=ct.length;Pt<Dt;Pt++)ct[Pt]=Xl(ct[Pt],bt)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(ct,bt){var Pt,Dt,Zt,fn,An,Dn,zn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(ct))return!1;for(Pt=0,fn=this._parts.length;Pt<fn;Pt++)for(Dn=this._parts[Pt],Dt=0,An=Dn.length,Zt=An-1;Dt<An;Zt=Dt++)if(!(!bt&&Dt===0)&&na(ct,Dn[Zt],Dn[Dt])<=zn)return!0;return!1}});function Zl(ct,bt){return new po(ct,bt)}po._flat=qr;var Jl=po.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(ct){var bt=po.prototype._convertLatLngs.call(this,ct),Pt=bt.length;return Pt>=2&&bt[0]instanceof on&&bt[0].equals(bt[Pt-1])&&bt.pop(),bt},_setLatLngs:function(ct){po.prototype._setLatLngs.call(this,ct),Oo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var ct=this._renderer._bounds,bt=this.options.weight,Pt=new Ut(bt,bt);if(ct=new zt(ct.min.subtract(Pt),ct.max.add(Pt)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ct))){if(this.options.noClip){this._parts=this._rings;return}for(var Dt=0,Zt=this._rings.length,fn;Dt<Zt;Dt++)fn=_h(this._rings[Dt],ct,!0),fn.length&&this._parts.push(fn)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(ct){var bt=!1,Pt,Dt,Zt,fn,An,Dn,zn,tr;if(!this._pxBounds||!this._pxBounds.contains(ct))return!1;for(fn=0,zn=this._parts.length;fn<zn;fn++)for(Pt=this._parts[fn],An=0,tr=Pt.length,Dn=tr-1;An<tr;Dn=An++)Dt=Pt[An],Zt=Pt[Dn],Dt.y>ct.y!=Zt.y>ct.y&&ct.x<(Zt.x-Dt.x)*(ct.y-Dt.y)/(Zt.y-Dt.y)+Dt.x&&(bt=!bt);return bt||po.prototype._containsPoint.call(this,ct,!0)}});function wp(ct,bt){return new Jl(ct,bt)}var xa=Ro.extend({initialize:function(ct,bt){_t(this,bt),this._layers={},ct&&this.addData(ct)},addData:function(ct){var bt=Et(ct)?ct:ct.features,Pt,Dt,Zt;if(bt){for(Pt=0,Dt=bt.length;Pt<Dt;Pt++)Zt=bt[Pt],(Zt.geometries||Zt.geometry||Zt.features||Zt.coordinates)&&this.addData(Zt);return this}var fn=this.options;if(fn.filter&&!fn.filter(ct))return this;var An=Fo(ct,fn);return An?(An.feature=kt(ct),An.defaultOptions=An.options,this.resetStyle(An),fn.onEachFeature&&fn.onEachFeature(ct,An),this.addLayer(An)):this},resetStyle:function(ct){return ct===void 0?this.eachLayer(this.resetStyle,this):(ct.options=it({},ct.defaultOptions),this._setLayerStyle(ct,this.options.style),this)},setStyle:function(ct){return this.eachLayer(function(bt){this._setLayerStyle(bt,ct)},this)},_setLayerStyle:function(ct,bt){ct.setStyle&&(typeof bt=="function"&&(bt=bt(ct.feature)),ct.setStyle(bt))}});function Fo(ct,bt){var Pt=ct.type==="Feature"?ct.geometry:ct,Dt=Pt?Pt.coordinates:null,Zt=[],fn=bt&&bt.pointToLayer,An=bt&&bt.coordsToLatLng||Ql,Dn,zn,tr,_r;if(!Dt&&!Pt)return null;switch(Pt.type){case"Point":return Dn=An(Dt),jo(fn,ct,Dn,bt);case"MultiPoint":for(tr=0,_r=Dt.length;tr<_r;tr++)Dn=An(Dt[tr]),Zt.push(jo(fn,ct,Dn,bt));return new Ro(Zt);case"LineString":case"MultiLineString":return zn=Fu(Dt,Pt.type==="LineString"?0:1,An),new po(zn,bt);case"Polygon":case"MultiPolygon":return zn=Fu(Dt,Pt.type==="Polygon"?1:2,An),new Jl(zn,bt);case"GeometryCollection":for(tr=0,_r=Pt.geometries.length;tr<_r;tr++){var Xr=Fo({geometry:Pt.geometries[tr],type:"Feature",properties:ct.properties},bt);Xr&&Zt.push(Xr)}return new Ro(Zt);case"FeatureCollection":for(tr=0,_r=Pt.features.length;tr<_r;tr++){var ls=Fo(Pt.features[tr],bt);ls&&Zt.push(ls)}return new Ro(Zt);default:throw new Error("Invalid GeoJSON object.")}}function jo(ct,bt,Pt,Dt){return ct?ct(bt,Pt):new $u(Pt,Dt&&Dt.markersInheritOptions&&Dt)}function Ql(ct){return new on(ct[1],ct[0],ct[2])}function Fu(ct,bt,Pt){for(var Dt=[],Zt=0,fn=ct.length,An;Zt<fn;Zt++)An=bt?Fu(ct[Zt],bt-1,Pt):(Pt||Ql)(ct[Zt]),Dt.push(An);return Dt}function Gu(ct,bt){return ct=Wt(ct),ct.alt!==void 0?[ht(ct.lng,bt),ht(ct.lat,bt),ht(ct.alt,bt)]:[ht(ct.lng,bt),ht(ct.lat,bt)]}function eu(ct,bt,Pt,Dt){for(var Zt=[],fn=0,An=ct.length;fn<An;fn++)Zt.push(bt?eu(ct[fn],Oo(ct[fn])?0:bt-1,Pt,Dt):Gu(ct[fn],Dt));return!bt&&Pt&&Zt.push(Zt[0].slice()),Zt}function tu(ct,bt){return ct.feature?it({},ct.feature,{geometry:bt}):kt(bt)}function kt(ct){return ct.type==="Feature"||ct.type==="FeatureCollection"?ct:{type:"Feature",properties:{},geometry:ct}}var Lt={toGeoJSON:function(ct){return tu(this,{type:"Point",coordinates:Gu(this.getLatLng(),ct)})}};$u.include(Lt),_u.include(Lt),Nu.include(Lt),po.include({toGeoJSON:function(ct){var bt=!Oo(this._latlngs),Pt=eu(this._latlngs,bt?1:0,!1,ct);return tu(this,{type:(bt?"Multi":"")+"LineString",coordinates:Pt})}}),Jl.include({toGeoJSON:function(ct){var bt=!Oo(this._latlngs),Pt=bt&&!Oo(this._latlngs[0]),Dt=eu(this._latlngs,Pt?2:bt?1:0,!0,ct);return bt||(Dt=[Dt]),tu(this,{type:(Pt?"Multi":"")+"Polygon",coordinates:Dt})}}),ho.include({toMultiPoint:function(ct){var bt=[];return this.eachLayer(function(Pt){bt.push(Pt.toGeoJSON(ct).geometry.coordinates)}),tu(this,{type:"MultiPoint",coordinates:bt})},toGeoJSON:function(ct){var bt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(bt==="MultiPoint")return this.toMultiPoint(ct);var Pt=bt==="GeometryCollection",Dt=[];return this.eachLayer(function(Zt){if(Zt.toGeoJSON){var fn=Zt.toGeoJSON(ct);if(Pt)Dt.push(fn.geometry);else{var An=kt(fn);An.type==="FeatureCollection"?Dt.push.apply(Dt,An.features):Dt.push(An)}}}),Pt?tu(this,{geometries:Dt,type:"GeometryCollection"}):{type:"FeatureCollection",features:Dt}}});function Ot(ct,bt){return new xa(ct,bt)}var Gt=Ot,qt=Lo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(ct,bt,Pt){this._url=ct,this._bounds=an(bt),_t(this,Pt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Lr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(ct){return this.options.opacity=ct,this._image&&this._updateOpacity(),this},setStyle:function(ct){return ct.opacity&&this.setOpacity(ct.opacity),this},bringToFront:function(){return this._map&&to(this._image),this},bringToBack:function(){return this._map&&Zs(this._image),this},setUrl:function(ct){return this._url=ct,this._image&&(this._image.src=ct),this},setBounds:function(ct){return this._bounds=an(ct),this._map&&this._reset(),this},getEvents:function(){var ct={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(ct.zoomanim=this._animateZoom),ct},setZIndex:function(ct){return this.options.zIndex=ct,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var ct=this._url.tagName==="IMG",bt=this._image=ct?this._url:Hr("img");if(Lr(bt,"leaflet-image-layer"),this._zoomAnimated&&Lr(bt,"leaflet-zoom-animated"),this.options.className&&Lr(bt,this.options.className),bt.onselectstart=dt,bt.onmousemove=dt,bt.onload=ot(this.fire,this,"load"),bt.onerror=ot(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(bt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),ct){this._url=bt.src;return}bt.src=this._url,bt.alt=this.options.alt},_animateZoom:function(ct){var bt=this._map.getZoomScale(ct.zoom),Pt=this._map._latLngBoundsToNewLayerBounds(this._bounds,ct.zoom,ct.center).min;Ao(this._image,Pt,bt)},_reset:function(){var ct=this._image,bt=new zt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Pt=bt.getSize();ms(ct,bt.min),ct.style.width=Pt.x+"px",ct.style.height=Pt.y+"px"},_updateOpacity:function(){Js(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var ct=this.options.errorOverlayUrl;ct&&this._url!==ct&&(this._url=ct,this._image.src=ct)},getCenter:function(){return this._bounds.getCenter()}}),hn=function(ct,bt,Pt){return new qt(ct,bt,Pt)},On=qt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var ct=this._url.tagName==="VIDEO",bt=this._image=ct?this._url:Hr("video");if(Lr(bt,"leaflet-image-layer"),this._zoomAnimated&&Lr(bt,"leaflet-zoom-animated"),this.options.className&&Lr(bt,this.options.className),bt.onselectstart=dt,bt.onmousemove=dt,bt.onloadeddata=ot(this.fire,this,"load"),ct){for(var Pt=bt.getElementsByTagName("source"),Dt=[],Zt=0;Zt<Pt.length;Zt++)Dt.push(Pt[Zt].src);this._url=Pt.length>0?Dt:[bt.src];return}Et(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(bt.style,"objectFit")&&(bt.style.objectFit="fill"),bt.autoplay=!!this.options.autoplay,bt.loop=!!this.options.loop,bt.muted=!!this.options.muted,bt.playsInline=!!this.options.playsInline;for(var fn=0;fn<this._url.length;fn++){var An=Hr("source");An.src=this._url[fn],bt.appendChild(An)}}});function qn(ct,bt,Pt){return new On(ct,bt,Pt)}var vr=qt.extend({_initImage:function(){var ct=this._image=this._url;Lr(ct,"leaflet-image-layer"),this._zoomAnimated&&Lr(ct,"leaflet-zoom-animated"),this.options.className&&Lr(ct,this.options.className),ct.onselectstart=dt,ct.onmousemove=dt}});function Qn(ct,bt,Pt){return new vr(ct,bt,Pt)}var kr=Lo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(ct,bt){ct&&(ct instanceof on||Et(ct))?(this._latlng=Wt(ct),_t(this,bt)):(_t(this,ct),this._source=bt),this.options.content&&(this._content=this.options.content)},openOn:function(ct){return ct=arguments.length?ct:this._source._map,ct.hasLayer(this)||ct.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(ct){return this._map?this.close():(arguments.length?this._source=ct:ct=this._source,this._prepareOpen(),this.openOn(ct._map)),this},onAdd:function(ct){this._zoomAnimated=ct._zoomAnimated,this._container||this._initLayout(),ct._fadeAnimated&&Js(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),ct._fadeAnimated&&Js(this._container,1),this.bringToFront(),this.options.interactive&&(Lr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(ct){ct._fadeAnimated?(Js(this._container,0),this._removeTimeout=setTimeout(ot(Kr,void 0,this._container),200)):Kr(this._container),this.options.interactive&&(ns(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(ct){return this._latlng=Wt(ct),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(ct){return this._content=ct,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var ct={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(ct.zoomanim=this._animateZoom),ct},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&to(this._container),this},bringToBack:function(){return this._map&&Zs(this._container),this},_prepareOpen:function(ct){var bt=this._source;if(!bt._map)return!1;if(bt instanceof Ro){bt=null;var Pt=this._source._layers;for(var Dt in Pt)if(Pt[Dt]._map){bt=Pt[Dt];break}if(!bt)return!1;this._source=bt}if(!ct)if(bt.getCenter)ct=bt.getCenter();else if(bt.getLatLng)ct=bt.getLatLng();else if(bt.getBounds)ct=bt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(ct),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var ct=this._contentNode,bt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof bt=="string")ct.innerHTML=bt;else{for(;ct.hasChildNodes();)ct.removeChild(ct.firstChild);ct.appendChild(bt)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var ct=this._map.latLngToLayerPoint(this._latlng),bt=Qt(this.options.offset),Pt=this._getAnchor();this._zoomAnimated?ms(this._container,ct.add(Pt)):bt=bt.add(ct).add(Pt);var Dt=this._containerBottom=-bt.y,Zt=this._containerLeft=-Math.round(this._containerWidth/2)+bt.x;this._container.style.bottom=Dt+"px",this._container.style.left=Zt+"px"}},_getAnchor:function(){return[0,0]}});Yr.include({_initOverlay:function(ct,bt,Pt,Dt){var Zt=bt;return Zt instanceof ct||(Zt=new ct(Dt).setContent(bt)),Pt&&Zt.setLatLng(Pt),Zt}}),Lo.include({_initOverlay:function(ct,bt,Pt,Dt){var Zt=Pt;return Zt instanceof ct?(_t(Zt,Dt),Zt._source=this):(Zt=bt&&!Dt?bt:new ct(Dt,this),Zt.setContent(Pt)),Zt}});var Ys=kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(ct){return ct=arguments.length?ct:this._source._map,!ct.hasLayer(this)&&ct._popup&&ct._popup.options.autoClose&&ct.removeLayer(ct._popup),ct._popup=this,kr.prototype.openOn.call(this,ct)},onAdd:function(ct){kr.prototype.onAdd.call(this,ct),ct.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xo||this._source.on("preclick",Zo))},onRemove:function(ct){kr.prototype.onRemove.call(this,ct),ct.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xo||this._source.off("preclick",Zo))},getEvents:function(){var ct=kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(ct.preclick=this.close),this.options.keepInView&&(ct.moveend=this._adjustPan),ct},_initLayout:function(){var ct="leaflet-popup",bt=this._container=Hr("div",ct+" "+(this.options.className||"")+" leaflet-zoom-animated"),Pt=this._wrapper=Hr("div",ct+"-content-wrapper",bt);if(this._contentNode=Hr("div",ct+"-content",Pt),Ho(bt),_l(this._contentNode),$r(bt,"contextmenu",Zo),this._tipContainer=Hr("div",ct+"-tip-container",bt),this._tip=Hr("div",ct+"-tip",this._tipContainer),this.options.closeButton){var Dt=this._closeButton=Hr("a",ct+"-close-button",bt);Dt.setAttribute("role","button"),Dt.setAttribute("aria-label","Close popup"),Dt.href="#close",Dt.innerHTML='<span aria-hidden="true">&#215;</span>',$r(Dt,"click",function(Zt){es(Zt),this.close()},this)}},_updateLayout:function(){var ct=this._contentNode,bt=ct.style;bt.width="",bt.whiteSpace="nowrap";var Pt=ct.offsetWidth;Pt=Math.min(Pt,this.options.maxWidth),Pt=Math.max(Pt,this.options.minWidth),bt.width=Pt+1+"px",bt.whiteSpace="",bt.height="";var Dt=ct.offsetHeight,Zt=this.options.maxHeight,fn="leaflet-popup-scrolled";Zt&&Dt>Zt?(bt.height=Zt+"px",Lr(ct,fn)):ns(ct,fn),this._containerWidth=this._container.offsetWidth},_animateZoom:function(ct){var bt=this._map._latLngToNewLayerPoint(this._latlng,ct.zoom,ct.center),Pt=this._getAnchor();ms(this._container,bt.add(Pt))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var ct=this._map,bt=parseInt(Ks(this._container,"marginBottom"),10)||0,Pt=this._container.offsetHeight+bt,Dt=this._containerWidth,Zt=new Ut(this._containerLeft,-Pt-this._containerBottom);Zt._add(cn(this._container));var fn=ct.layerPointToContainerPoint(Zt),An=Qt(this.options.autoPanPadding),Dn=Qt(this.options.autoPanPaddingTopLeft||An),zn=Qt(this.options.autoPanPaddingBottomRight||An),tr=ct.getSize(),_r=0,Xr=0;fn.x+Dt+zn.x>tr.x&&(_r=fn.x+Dt-tr.x+zn.x),fn.x-_r-Dn.x<0&&(_r=fn.x-Dn.x),fn.y+Pt+zn.y>tr.y&&(Xr=fn.y+Pt-tr.y+zn.y),fn.y-Xr-Dn.y<0&&(Xr=fn.y-Dn.y),(_r||Xr)&&(this.options.keepInView&&(this._autopanning=!0),ct.fire("autopanstart").panBy([_r,Xr]))}},_getAnchor:function(){return Qt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),so=function(ct,bt){return new Ys(ct,bt)};Yr.mergeOptions({closePopupOnClick:!0}),Yr.include({openPopup:function(ct,bt,Pt){return this._initOverlay(Ys,ct,bt,Pt).openOn(this),this},closePopup:function(ct){return ct=arguments.length?ct:this._popup,ct&&ct.close(),this}}),Lo.include({bindPopup:function(ct,bt){return this._popup=this._initOverlay(Ys,this._popup,ct,bt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(ct){return this._popup&&(this instanceof Ro||(this._popup._source=this),this._popup._prepareOpen(ct||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(ct){return this._popup&&this._popup.setContent(ct),this},getPopup:function(){return this._popup},_openPopup:function(ct){if(!(!this._popup||!this._map)){as(ct);var bt=ct.layer||ct.target;if(this._popup._source===bt&&!(bt instanceof xo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(ct.latlng);return}this._popup._source=bt,this.openPopup(ct.latlng)}},_movePopup:function(ct){this._popup.setLatLng(ct.latlng)},_onKeyPress:function(ct){ct.originalEvent.keyCode===13&&this._openPopup(ct)}});var Cl=kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(ct){kr.prototype.onAdd.call(this,ct),this.setOpacity(this.options.opacity),ct.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(ct){kr.prototype.onRemove.call(this,ct),ct.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var ct=kr.prototype.getEvents.call(this);return this.options.permanent||(ct.preclick=this.close),ct},_initLayout:function(){var ct="leaflet-tooltip",bt=ct+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Hr("div",bt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+lt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(ct){var bt,Pt,Dt=this._map,Zt=this._container,fn=Dt.latLngToContainerPoint(Dt.getCenter()),An=Dt.layerPointToContainerPoint(ct),Dn=this.options.direction,zn=Zt.offsetWidth,tr=Zt.offsetHeight,_r=Qt(this.options.offset),Xr=this._getAnchor();Dn==="top"?(bt=zn/2,Pt=tr):Dn==="bottom"?(bt=zn/2,Pt=0):Dn==="center"?(bt=zn/2,Pt=tr/2):Dn==="right"?(bt=0,Pt=tr/2):Dn==="left"?(bt=zn,Pt=tr/2):An.x<fn.x?(Dn="right",bt=0,Pt=tr/2):(Dn="left",bt=zn+(_r.x+Xr.x)*2,Pt=tr/2),ct=ct.subtract(Qt(bt,Pt,!0)).add(_r).add(Xr),ns(Zt,"leaflet-tooltip-right"),ns(Zt,"leaflet-tooltip-left"),ns(Zt,"leaflet-tooltip-top"),ns(Zt,"leaflet-tooltip-bottom"),Lr(Zt,"leaflet-tooltip-"+Dn),ms(Zt,ct)},_updatePosition:function(){var ct=this._map.latLngToLayerPoint(this._latlng);this._setPosition(ct)},setOpacity:function(ct){this.options.opacity=ct,this._container&&Js(this._container,ct)},_animateZoom:function(ct){var bt=this._map._latLngToNewLayerPoint(this._latlng,ct.zoom,ct.center);this._setPosition(bt)},_getAnchor:function(){return Qt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rp=function(ct,bt){return new Cl(ct,bt)};Yr.include({openTooltip:function(ct,bt,Pt){return this._initOverlay(Cl,ct,bt,Pt).openOn(this),this},closeTooltip:function(ct){return ct.close(),this}}),Lo.include({bindTooltip:function(ct,bt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cl,this._tooltip,ct,bt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(ct){if(!(!ct&&this._tooltipHandlersAdded)){var bt=ct?"off":"on",Pt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Pt.add=this._openTooltip:(Pt.mouseover=this._openTooltip,Pt.mouseout=this.closeTooltip,Pt.click=this._openTooltip,this._map?this._addFocusListeners():Pt.add=this._addFocusListeners),this._tooltip.options.sticky&&(Pt.mousemove=this._moveTooltip),this[bt](Pt),this._tooltipHandlersAdded=!ct}},openTooltip:function(ct){return this._tooltip&&(this instanceof Ro||(this._tooltip._source=this),this._tooltip._prepareOpen(ct)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(ct){return this._tooltip&&this._tooltip.setContent(ct),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(ct){var bt=ct.getElement();bt&&($r(bt,"focus",function(){this._tooltip._source=ct,this.openTooltip()},this),$r(bt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(ct){var bt=ct.getElement();bt&&bt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(ct){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=ct.layer||ct.target,this.openTooltip(this._tooltip.options.sticky?ct.latlng:void 0))},_moveTooltip:function(ct){var bt=ct.latlng,Pt,Dt;this._tooltip.options.sticky&&ct.originalEvent&&(Pt=this._map.mouseEventToContainerPoint(ct.originalEvent),Dt=this._map.containerPointToLayerPoint(Pt),bt=this._map.layerPointToLatLng(Dt)),this._tooltip.setLatLng(bt)}});var Fl=Nl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(ct){var bt=ct&&ct.tagName==="DIV"?ct:document.createElement("div"),Pt=this.options;if(Pt.html instanceof Element?(ks(bt),bt.appendChild(Pt.html)):bt.innerHTML=Pt.html!==!1?Pt.html:"",Pt.bgPos){var Dt=Qt(Pt.bgPos);bt.style.backgroundPosition=-Dt.x+"px "+-Dt.y+"px"}return this._setIconStyles(bt,"icon"),bt},createShadow:function(){return null}});function bu(ct){return new Fl(ct)}Nl.Default=No;var _a=Lo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:cr.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(ct){_t(this,ct)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(ct){ct._addZoomLimit(this)},onRemove:function(ct){this._removeAllTiles(),Kr(this._container),ct._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(to(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(ct){return this.options.opacity=ct,this._updateOpacity(),this},setZIndex:function(ct){return this.options.zIndex=ct,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var ct=this._clampZoom(this._map.getZoom());ct!==this._tileZoom&&(this._tileZoom=ct,this._updateLevels()),this._update()}return this},getEvents:function(){var ct={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ut(this._onMoveEnd,this.options.updateInterval,this)),ct.move=this._onMove),this._zoomAnimated&&(ct.zoomanim=this._animateZoom),ct},createTile:function(){return document.createElement("div")},getTileSize:function(){var ct=this.options.tileSize;return ct instanceof Ut?ct:new Ut(ct,ct)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(ct){for(var bt=this.getPane().children,Pt=-ct(-1/0,1/0),Dt=0,Zt=bt.length,fn;Dt<Zt;Dt++)fn=bt[Dt].style.zIndex,bt[Dt]!==this._container&&fn&&(Pt=ct(Pt,+fn));isFinite(Pt)&&(this.options.zIndex=Pt+ct(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!cr.ielt9){Js(this._container,this.options.opacity);var ct=+new Date,bt=!1,Pt=!1;for(var Dt in this._tiles){var Zt=this._tiles[Dt];if(!(!Zt.current||!Zt.loaded)){var fn=Math.min(1,(ct-Zt.loaded)/200);Js(Zt.el,fn),fn<1?bt=!0:(Zt.active?Pt=!0:this._onOpaqueTile(Zt),Zt.active=!0)}}Pt&&!this._noPrune&&this._pruneTiles(),bt&&(Nt(this._fadeFrame),this._fadeFrame=Bt(this._updateOpacity,this))}},_onOpaqueTile:dt,_initContainer:function(){this._container||(this._container=Hr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var ct=this._tileZoom,bt=this.options.maxZoom;if(ct!==void 0){for(var Pt in this._levels)Pt=Number(Pt),this._levels[Pt].el.children.length||Pt===ct?(this._levels[Pt].el.style.zIndex=bt-Math.abs(ct-Pt),this._onUpdateLevel(Pt)):(Kr(this._levels[Pt].el),this._removeTilesAtZoom(Pt),this._onRemoveLevel(Pt),delete this._levels[Pt]);var Dt=this._levels[ct],Zt=this._map;return Dt||(Dt=this._levels[ct]={},Dt.el=Hr("div","leaflet-tile-container leaflet-zoom-animated",this._container),Dt.el.style.zIndex=bt,Dt.origin=Zt.project(Zt.unproject(Zt.getPixelOrigin()),ct).round(),Dt.zoom=ct,this._setZoomTransform(Dt,Zt.getCenter(),Zt.getZoom()),dt(Dt.el.offsetWidth),this._onCreateLevel(Dt)),this._level=Dt,Dt}},_onUpdateLevel:dt,_onRemoveLevel:dt,_onCreateLevel:dt,_pruneTiles:function(){if(this._map){var ct,bt,Pt=this._map.getZoom();if(Pt>this.options.maxZoom||Pt<this.options.minZoom){this._removeAllTiles();return}for(ct in this._tiles)bt=this._tiles[ct],bt.retain=bt.current;for(ct in this._tiles)if(bt=this._tiles[ct],bt.current&&!bt.active){var Dt=bt.coords;this._retainParent(Dt.x,Dt.y,Dt.z,Dt.z-5)||this._retainChildren(Dt.x,Dt.y,Dt.z,Dt.z+2)}for(ct in this._tiles)this._tiles[ct].retain||this._removeTile(ct)}},_removeTilesAtZoom:function(ct){for(var bt in this._tiles)this._tiles[bt].coords.z===ct&&this._removeTile(bt)},_removeAllTiles:function(){for(var ct in this._tiles)this._removeTile(ct)},_invalidateAll:function(){for(var ct in this._levels)Kr(this._levels[ct].el),this._onRemoveLevel(Number(ct)),delete this._levels[ct];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(ct,bt,Pt,Dt){var Zt=Math.floor(ct/2),fn=Math.floor(bt/2),An=Pt-1,Dn=new Ut(+Zt,+fn);Dn.z=+An;var zn=this._tileCoordsToKey(Dn),tr=this._tiles[zn];return tr&&tr.active?(tr.retain=!0,!0):(tr&&tr.loaded&&(tr.retain=!0),An>Dt?this._retainParent(Zt,fn,An,Dt):!1)},_retainChildren:function(ct,bt,Pt,Dt){for(var Zt=2*ct;Zt<2*ct+2;Zt++)for(var fn=2*bt;fn<2*bt+2;fn++){var An=new Ut(Zt,fn);An.z=Pt+1;var Dn=this._tileCoordsToKey(An),zn=this._tiles[Dn];if(zn&&zn.active){zn.retain=!0;continue}else zn&&zn.loaded&&(zn.retain=!0);Pt+1<Dt&&this._retainChildren(Zt,fn,Pt+1,Dt)}},_resetView:function(ct){var bt=ct&&(ct.pinch||ct.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),bt,bt)},_animateZoom:function(ct){this._setView(ct.center,ct.zoom,!0,ct.noUpdate)},_clampZoom:function(ct){var bt=this.options;return bt.minNativeZoom!==void 0&&ct<bt.minNativeZoom?bt.minNativeZoom:bt.maxNativeZoom!==void 0&&bt.maxNativeZoom<ct?bt.maxNativeZoom:ct},_setView:function(ct,bt,Pt,Dt){var Zt=Math.round(bt);this.options.maxZoom!==void 0&&Zt>this.options.maxZoom||this.options.minZoom!==void 0&&Zt<this.options.minZoom?Zt=void 0:Zt=this._clampZoom(Zt);var fn=this.options.updateWhenZooming&&Zt!==this._tileZoom;(!Dt||fn)&&(this._tileZoom=Zt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Zt!==void 0&&this._update(ct),Pt||this._pruneTiles(),this._noPrune=!!Pt),this._setZoomTransforms(ct,bt)},_setZoomTransforms:function(ct,bt){for(var Pt in this._levels)this._setZoomTransform(this._levels[Pt],ct,bt)},_setZoomTransform:function(ct,bt,Pt){var Dt=this._map.getZoomScale(Pt,ct.zoom),Zt=ct.origin.multiplyBy(Dt).subtract(this._map._getNewPixelOrigin(bt,Pt)).round();cr.any3d?Ao(ct.el,Zt,Dt):ms(ct.el,Zt)},_resetGrid:function(){var ct=this._map,bt=ct.options.crs,Pt=this._tileSize=this.getTileSize(),Dt=this._tileZoom,Zt=this._map.getPixelWorldBounds(this._tileZoom);Zt&&(this._globalTileRange=this._pxBoundsToTileRange(Zt)),this._wrapX=bt.wrapLng&&!this.options.noWrap&&[Math.floor(ct.project([0,bt.wrapLng[0]],Dt).x/Pt.x),Math.ceil(ct.project([0,bt.wrapLng[1]],Dt).x/Pt.y)],this._wrapY=bt.wrapLat&&!this.options.noWrap&&[Math.floor(ct.project([bt.wrapLat[0],0],Dt).y/Pt.x),Math.ceil(ct.project([bt.wrapLat[1],0],Dt).y/Pt.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(ct){var bt=this._map,Pt=bt._animatingZoom?Math.max(bt._animateToZoom,bt.getZoom()):bt.getZoom(),Dt=bt.getZoomScale(Pt,this._tileZoom),Zt=bt.project(ct,this._tileZoom).floor(),fn=bt.getSize().divideBy(Dt*2);return new zt(Zt.subtract(fn),Zt.add(fn))},_update:function(ct){var bt=this._map;if(bt){var Pt=this._clampZoom(bt.getZoom());if(ct===void 0&&(ct=bt.getCenter()),this._tileZoom!==void 0){var Dt=this._getTiledPixelBounds(ct),Zt=this._pxBoundsToTileRange(Dt),fn=Zt.getCenter(),An=[],Dn=this.options.keepBuffer,zn=new zt(Zt.getBottomLeft().subtract([Dn,-Dn]),Zt.getTopRight().add([Dn,-Dn]));if(!(isFinite(Zt.min.x)&&isFinite(Zt.min.y)&&isFinite(Zt.max.x)&&isFinite(Zt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tr in this._tiles){var _r=this._tiles[tr].coords;(_r.z!==this._tileZoom||!zn.contains(new Ut(_r.x,_r.y)))&&(this._tiles[tr].current=!1)}if(Math.abs(Pt-this._tileZoom)>1){this._setView(ct,Pt);return}for(var Xr=Zt.min.y;Xr<=Zt.max.y;Xr++)for(var ls=Zt.min.x;ls<=Zt.max.x;ls++){var ko=new Ut(ls,Xr);if(ko.z=this._tileZoom,!!this._isValidTile(ko)){var qo=this._tiles[this._tileCoordsToKey(ko)];qo?qo.current=!0:An.push(ko)}}if(An.sort(function(Xo,Wu){return Xo.distanceTo(fn)-Wu.distanceTo(fn)}),An.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var su=document.createDocumentFragment();for(ls=0;ls<An.length;ls++)this._addTile(An[ls],su);this._level.el.appendChild(su)}}}},_isValidTile:function(ct){var bt=this._map.options.crs;if(!bt.infinite){var Pt=this._globalTileRange;if(!bt.wrapLng&&(ct.x<Pt.min.x||ct.x>Pt.max.x)||!bt.wrapLat&&(ct.y<Pt.min.y||ct.y>Pt.max.y))return!1}if(!this.options.bounds)return!0;var Dt=this._tileCoordsToBounds(ct);return an(this.options.bounds).overlaps(Dt)},_keyToBounds:function(ct){return this._tileCoordsToBounds(this._keyToTileCoords(ct))},_tileCoordsToNwSe:function(ct){var bt=this._map,Pt=this.getTileSize(),Dt=ct.scaleBy(Pt),Zt=Dt.add(Pt),fn=bt.unproject(Dt,ct.z),An=bt.unproject(Zt,ct.z);return[fn,An]},_tileCoordsToBounds:function(ct){var bt=this._tileCoordsToNwSe(ct),Pt=new en(bt[0],bt[1]);return this.options.noWrap||(Pt=this._map.wrapLatLngBounds(Pt)),Pt},_tileCoordsToKey:function(ct){return ct.x+":"+ct.y+":"+ct.z},_keyToTileCoords:function(ct){var bt=ct.split(":"),Pt=new Ut(+bt[0],+bt[1]);return Pt.z=+bt[2],Pt},_removeTile:function(ct){var bt=this._tiles[ct];bt&&(Kr(bt.el),delete this._tiles[ct],this.fire("tileunload",{tile:bt.el,coords:this._keyToTileCoords(ct)}))},_initTile:function(ct){Lr(ct,"leaflet-tile");var bt=this.getTileSize();ct.style.width=bt.x+"px",ct.style.height=bt.y+"px",ct.onselectstart=dt,ct.onmousemove=dt,cr.ielt9&&this.options.opacity<1&&Js(ct,this.options.opacity)},_addTile:function(ct,bt){var Pt=this._getTilePos(ct),Dt=this._tileCoordsToKey(ct),Zt=this.createTile(this._wrapCoords(ct),ot(this._tileReady,this,ct));this._initTile(Zt),this.createTile.length<2&&Bt(ot(this._tileReady,this,ct,null,Zt)),ms(Zt,Pt),this._tiles[Dt]={el:Zt,coords:ct,current:!0},bt.appendChild(Zt),this.fire("tileloadstart",{tile:Zt,coords:ct})},_tileReady:function(ct,bt,Pt){bt&&this.fire("tileerror",{error:bt,tile:Pt,coords:ct});var Dt=this._tileCoordsToKey(ct);Pt=this._tiles[Dt],Pt&&(Pt.loaded=+new Date,this._map._fadeAnimated?(Js(Pt.el,0),Nt(this._fadeFrame),this._fadeFrame=Bt(this._updateOpacity,this)):(Pt.active=!0,this._pruneTiles()),bt||(Lr(Pt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Pt.el,coords:ct})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),cr.ielt9||!this._map._fadeAnimated?Bt(this._pruneTiles,this):setTimeout(ot(this._pruneTiles,this),250)))},_getTilePos:function(ct){return ct.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(ct){var bt=new Ut(this._wrapX?ft(ct.x,this._wrapX):ct.x,this._wrapY?ft(ct.y,this._wrapY):ct.y);return bt.z=ct.z,bt},_pxBoundsToTileRange:function(ct){var bt=this.getTileSize();return new zt(ct.min.unscaleBy(bt).floor(),ct.max.unscaleBy(bt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var ct in this._tiles)if(!this._tiles[ct].loaded)return!1;return!0}});function Cs(ct){return new _a(ct)}var nu=_a.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(ct,bt){this._url=ct,bt=_t(this,bt),bt.detectRetina&&cr.retina&&bt.maxZoom>0?(bt.tileSize=Math.floor(bt.tileSize/2),bt.zoomReverse?(bt.zoomOffset--,bt.minZoom=Math.min(bt.maxZoom,bt.minZoom+1)):(bt.zoomOffset++,bt.maxZoom=Math.max(bt.minZoom,bt.maxZoom-1)),bt.minZoom=Math.max(0,bt.minZoom)):bt.zoomReverse?bt.minZoom=Math.min(bt.maxZoom,bt.minZoom):bt.maxZoom=Math.max(bt.minZoom,bt.maxZoom),typeof bt.subdomains=="string"&&(bt.subdomains=bt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(ct,bt){return this._url===ct&&bt===void 0&&(bt=!0),this._url=ct,bt||this.redraw(),this},createTile:function(ct,bt){var Pt=document.createElement("img");return $r(Pt,"load",ot(this._tileOnLoad,this,bt,Pt)),$r(Pt,"error",ot(this._tileOnError,this,bt,Pt)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Pt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Pt.referrerPolicy=this.options.referrerPolicy),Pt.alt="",Pt.src=this.getTileUrl(ct),Pt},getTileUrl:function(ct){var bt={r:cr.retina?"@2x":"",s:this._getSubdomain(ct),x:ct.x,y:ct.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Pt=this._globalTileRange.max.y-ct.y;this.options.tms&&(bt.y=Pt),bt["-y"]=Pt}return vt(this._url,it(bt,this.options))},_tileOnLoad:function(ct,bt){cr.ielt9?setTimeout(ot(ct,this,null,bt),0):ct(null,bt)},_tileOnError:function(ct,bt,Pt){var Dt=this.options.errorTileUrl;Dt&&bt.getAttribute("src")!==Dt&&(bt.src=Dt),ct(Pt,bt)},_onTileRemove:function(ct){ct.tile.onload=null},_getZoomForUrl:function(){var ct=this._tileZoom,bt=this.options.maxZoom,Pt=this.options.zoomReverse,Dt=this.options.zoomOffset;return Pt&&(ct=bt-ct),ct+Dt},_getSubdomain:function(ct){var bt=Math.abs(ct.x+ct.y)%this.options.subdomains.length;return this.options.subdomains[bt]},_abortLoading:function(){var ct,bt;for(ct in this._tiles)if(this._tiles[ct].coords.z!==this._tileZoom&&(bt=this._tiles[ct].el,bt.onload=dt,bt.onerror=dt,!bt.complete)){bt.src=wt;var Pt=this._tiles[ct].coords;Kr(bt),delete this._tiles[ct],this.fire("tileabort",{tile:bt,coords:Pt})}},_removeTile:function(ct){var bt=this._tiles[ct];if(bt)return bt.el.setAttribute("src",wt),_a.prototype._removeTile.call(this,ct)},_tileReady:function(ct,bt,Pt){if(!(!this._map||Pt&&Pt.getAttribute("src")===wt))return _a.prototype._tileReady.call(this,ct,bt,Pt)}});function sp(ct,bt){return new nu(ct,bt)}var ru=nu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(ct,bt){this._url=ct;var Pt=it({},this.defaultWmsParams);for(var Dt in bt)Dt in this.options||(Pt[Dt]=bt[Dt]);bt=_t(this,bt);var Zt=bt.detectRetina&&cr.retina?2:1,fn=this.getTileSize();Pt.width=fn.x*Zt,Pt.height=fn.y*Zt,this.wmsParams=Pt},onAdd:function(ct){this._crs=this.options.crs||ct.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var bt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[bt]=this._crs.code,nu.prototype.onAdd.call(this,ct)},getTileUrl:function(ct){var bt=this._tileCoordsToNwSe(ct),Pt=this._crs,Dt=Ht(Pt.project(bt[0]),Pt.project(bt[1])),Zt=Dt.min,fn=Dt.max,An=(this._wmsVersion>=1.3&&this._crs===Bu?[Zt.y,Zt.x,fn.y,fn.x]:[Zt.x,Zt.y,fn.x,fn.y]).join(","),Dn=nu.prototype.getTileUrl.call(this,ct);return Dn+At(this.wmsParams,Dn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+An},setParams:function(ct,bt){return it(this.wmsParams,ct),bt||this.redraw(),this}});function Tp(ct,bt){return new ru(ct,bt)}nu.WMS=ru,sp.wms=Tp;var Yo=Lo.extend({options:{padding:.1},initialize:function(ct){_t(this,ct),lt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Lr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var ct={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(ct.zoomanim=this._onAnimZoom),ct},_onAnimZoom:function(ct){this._updateTransform(ct.center,ct.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(ct,bt){var Pt=this._map.getZoomScale(bt,this._zoom),Dt=this._map.getSize().multiplyBy(.5+this.options.padding),Zt=this._map.project(this._center,bt),fn=Dt.multiplyBy(-Pt).add(Zt).subtract(this._map._getNewPixelOrigin(ct,bt));cr.any3d?Ao(this._container,fn,Pt):ms(this._container,fn)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var ct in this._layers)this._layers[ct]._reset()},_onZoomEnd:function(){for(var ct in this._layers)this._layers[ct]._project()},_updatePaths:function(){for(var ct in this._layers)this._layers[ct]._update()},_update:function(){var ct=this.options.padding,bt=this._map.getSize(),Pt=this._map.containerPointToLayerPoint(bt.multiplyBy(-ct)).round();this._bounds=new zt(Pt,Pt.add(bt.multiplyBy(1+ct*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uu=Yo.extend({options:{tolerance:0},getEvents:function(){var ct=Yo.prototype.getEvents.call(this);return ct.viewprereset=this._onViewPreReset,ct},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var ct=this._container=document.createElement("canvas");$r(ct,"mousemove",this._onMouseMove,this),$r(ct,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$r(ct,"mouseout",this._handleMouseOut,this),ct._leaflet_disable_events=!0,this._ctx=ct.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,Kr(this._container),_s(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var ct;this._redrawBounds=null;for(var bt in this._layers)ct=this._layers[bt],ct._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yo.prototype._update.call(this);var ct=this._bounds,bt=this._container,Pt=ct.getSize(),Dt=cr.retina?2:1;ms(bt,ct.min),bt.width=Dt*Pt.x,bt.height=Dt*Pt.y,bt.style.width=Pt.x+"px",bt.style.height=Pt.y+"px",cr.retina&&this._ctx.scale(2,2),this._ctx.translate(-ct.min.x,-ct.min.y),this.fire("update")}},_reset:function(){Yo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(ct){this._updateDashArray(ct),this._layers[lt(ct)]=ct;var bt=ct._order={layer:ct,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=bt),this._drawLast=bt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(ct){this._requestRedraw(ct)},_removePath:function(ct){var bt=ct._order,Pt=bt.next,Dt=bt.prev;Pt?Pt.prev=Dt:this._drawLast=Dt,Dt?Dt.next=Pt:this._drawFirst=Pt,delete ct._order,delete this._layers[lt(ct)],this._requestRedraw(ct)},_updatePath:function(ct){this._extendRedrawBounds(ct),ct._project(),ct._update(),this._requestRedraw(ct)},_updateStyle:function(ct){this._updateDashArray(ct),this._requestRedraw(ct)},_updateDashArray:function(ct){if(typeof ct.options.dashArray=="string"){var bt=ct.options.dashArray.split(/[, ]+/),Pt=[],Dt,Zt;for(Zt=0;Zt<bt.length;Zt++){if(Dt=Number(bt[Zt]),isNaN(Dt))return;Pt.push(Dt)}ct.options._dashArray=Pt}else ct.options._dashArray=ct.options.dashArray},_requestRedraw:function(ct){this._map&&(this._extendRedrawBounds(ct),this._redrawRequest=this._redrawRequest||Bt(this._redraw,this))},_extendRedrawBounds:function(ct){if(ct._pxBounds){var bt=(ct.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new zt,this._redrawBounds.extend(ct._pxBounds.min.subtract([bt,bt])),this._redrawBounds.extend(ct._pxBounds.max.add([bt,bt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var ct=this._redrawBounds;if(ct){var bt=ct.getSize();this._ctx.clearRect(ct.min.x,ct.min.y,bt.x,bt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var ct,bt=this._redrawBounds;if(this._ctx.save(),bt){var Pt=bt.getSize();this._ctx.beginPath(),this._ctx.rect(bt.min.x,bt.min.y,Pt.x,Pt.y),this._ctx.clip()}this._drawing=!0;for(var Dt=this._drawFirst;Dt;Dt=Dt.next)ct=Dt.layer,(!bt||ct._pxBounds&&ct._pxBounds.intersects(bt))&&ct._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(ct,bt){if(this._drawing){var Pt,Dt,Zt,fn,An=ct._parts,Dn=An.length,zn=this._ctx;if(Dn){for(zn.beginPath(),Pt=0;Pt<Dn;Pt++){for(Dt=0,Zt=An[Pt].length;Dt<Zt;Dt++)fn=An[Pt][Dt],zn[Dt?"lineTo":"moveTo"](fn.x,fn.y);bt&&zn.closePath()}this._fillStroke(zn,ct)}}},_updateCircle:function(ct){if(!(!this._drawing||ct._empty())){var bt=ct._point,Pt=this._ctx,Dt=Math.max(Math.round(ct._radius),1),Zt=(Math.max(Math.round(ct._radiusY),1)||Dt)/Dt;Zt!==1&&(Pt.save(),Pt.scale(1,Zt)),Pt.beginPath(),Pt.arc(bt.x,bt.y/Zt,Dt,0,Math.PI*2,!1),Zt!==1&&Pt.restore(),this._fillStroke(Pt,ct)}},_fillStroke:function(ct,bt){var Pt=bt.options;Pt.fill&&(ct.globalAlpha=Pt.fillOpacity,ct.fillStyle=Pt.fillColor||Pt.color,ct.fill(Pt.fillRule||"evenodd")),Pt.stroke&&Pt.weight!==0&&(ct.setLineDash&&ct.setLineDash(bt.options&&bt.options._dashArray||[]),ct.globalAlpha=Pt.opacity,ct.lineWidth=Pt.weight,ct.strokeStyle=Pt.color,ct.lineCap=Pt.lineCap,ct.lineJoin=Pt.lineJoin,ct.stroke())},_onClick:function(ct){for(var bt=this._map.mouseEventToLayerPoint(ct),Pt,Dt,Zt=this._drawFirst;Zt;Zt=Zt.next)Pt=Zt.layer,Pt.options.interactive&&Pt._containsPoint(bt)&&(!(ct.type==="click"||ct.type==="preclick")||!this._map._draggableMoved(Pt))&&(Dt=Pt);this._fireEvent(Dt?[Dt]:!1,ct)},_onMouseMove:function(ct){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var bt=this._map.mouseEventToLayerPoint(ct);this._handleMouseHover(ct,bt)}},_handleMouseOut:function(ct){var bt=this._hoveredLayer;bt&&(ns(this._container,"leaflet-interactive"),this._fireEvent([bt],ct,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(ct,bt){if(!this._mouseHoverThrottled){for(var Pt,Dt,Zt=this._drawFirst;Zt;Zt=Zt.next)Pt=Zt.layer,Pt.options.interactive&&Pt._containsPoint(bt)&&(Dt=Pt);Dt!==this._hoveredLayer&&(this._handleMouseOut(ct),Dt&&(Lr(this._container,"leaflet-interactive"),this._fireEvent([Dt],ct,"mouseover"),this._hoveredLayer=Dt)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,ct),this._mouseHoverThrottled=!0,setTimeout(ot(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(ct,bt,Pt){this._map._fireDOMEvent(bt,Pt||bt.type,ct)},_bringToFront:function(ct){var bt=ct._order;if(bt){var Pt=bt.next,Dt=bt.prev;if(Pt)Pt.prev=Dt;else return;Dt?Dt.next=Pt:Pt&&(this._drawFirst=Pt),bt.prev=this._drawLast,this._drawLast.next=bt,bt.next=null,this._drawLast=bt,this._requestRedraw(ct)}},_bringToBack:function(ct){var bt=ct._order;if(bt){var Pt=bt.next,Dt=bt.prev;if(Dt)Dt.next=Pt;else return;Pt?Pt.prev=Dt:Dt&&(this._drawLast=Dt),bt.prev=null,bt.next=this._drawFirst,this._drawFirst.prev=bt,this._drawFirst=bt,this._requestRedraw(ct)}}});function Gl(ct){return cr.canvas?new Uu(ct):null}var Io=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(ct){return document.createElement("<lvml:"+ct+' class="lvml">')}}catch{}return function(ct){return document.createElement("<"+ct+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zu={_initContainer:function(){this._container=Hr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yo.prototype._update.call(this),this.fire("update"))},_initPath:function(ct){var bt=ct._container=Io("shape");Lr(bt,"leaflet-vml-shape "+(this.options.className||"")),bt.coordsize="1 1",ct._path=Io("path"),bt.appendChild(ct._path),this._updateStyle(ct),this._layers[lt(ct)]=ct},_addPath:function(ct){var bt=ct._container;this._container.appendChild(bt),ct.options.interactive&&ct.addInteractiveTarget(bt)},_removePath:function(ct){var bt=ct._container;Kr(bt),ct.removeInteractiveTarget(bt),delete this._layers[lt(ct)]},_updateStyle:function(ct){var bt=ct._stroke,Pt=ct._fill,Dt=ct.options,Zt=ct._container;Zt.stroked=!!Dt.stroke,Zt.filled=!!Dt.fill,Dt.stroke?(bt||(bt=ct._stroke=Io("stroke")),Zt.appendChild(bt),bt.weight=Dt.weight+"px",bt.color=Dt.color,bt.opacity=Dt.opacity,Dt.dashArray?bt.dashStyle=Et(Dt.dashArray)?Dt.dashArray.join(" "):Dt.dashArray.replace(/( *, *)/g," "):bt.dashStyle="",bt.endcap=Dt.lineCap.replace("butt","flat"),bt.joinstyle=Dt.lineJoin):bt&&(Zt.removeChild(bt),ct._stroke=null),Dt.fill?(Pt||(Pt=ct._fill=Io("fill")),Zt.appendChild(Pt),Pt.color=Dt.fillColor||Dt.color,Pt.opacity=Dt.fillOpacity):Pt&&(Zt.removeChild(Pt),ct._fill=null)},_updateCircle:function(ct){var bt=ct._point.round(),Pt=Math.round(ct._radius),Dt=Math.round(ct._radiusY||Pt);this._setPath(ct,ct._empty()?"M0 0":"AL "+bt.x+","+bt.y+" "+Pt+","+Dt+" 0,"+65535*360)},_setPath:function(ct,bt){ct._path.v=bt},_bringToFront:function(ct){to(ct._container)},_bringToBack:function(ct){Zs(ct._container)}},Au=cr.vml?Io:Gn,Pl=Yo.extend({_initContainer:function(){this._container=Au("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Au("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kr(this._container),_s(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yo.prototype._update.call(this);var ct=this._bounds,bt=ct.getSize(),Pt=this._container;(!this._svgSize||!this._svgSize.equals(bt))&&(this._svgSize=bt,Pt.setAttribute("width",bt.x),Pt.setAttribute("height",bt.y)),ms(Pt,ct.min),Pt.setAttribute("viewBox",[ct.min.x,ct.min.y,bt.x,bt.y].join(" ")),this.fire("update")}},_initPath:function(ct){var bt=ct._path=Au("path");ct.options.className&&Lr(bt,ct.options.className),ct.options.interactive&&Lr(bt,"leaflet-interactive"),this._updateStyle(ct),this._layers[lt(ct)]=ct},_addPath:function(ct){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(ct._path),ct.addInteractiveTarget(ct._path)},_removePath:function(ct){Kr(ct._path),ct.removeInteractiveTarget(ct._path),delete this._layers[lt(ct)]},_updatePath:function(ct){ct._project(),ct._update()},_updateStyle:function(ct){var bt=ct._path,Pt=ct.options;bt&&(Pt.stroke?(bt.setAttribute("stroke",Pt.color),bt.setAttribute("stroke-opacity",Pt.opacity),bt.setAttribute("stroke-width",Pt.weight),bt.setAttribute("stroke-linecap",Pt.lineCap),bt.setAttribute("stroke-linejoin",Pt.lineJoin),Pt.dashArray?bt.setAttribute("stroke-dasharray",Pt.dashArray):bt.removeAttribute("stroke-dasharray"),Pt.dashOffset?bt.setAttribute("stroke-dashoffset",Pt.dashOffset):bt.removeAttribute("stroke-dashoffset")):bt.setAttribute("stroke","none"),Pt.fill?(bt.setAttribute("fill",Pt.fillColor||Pt.color),bt.setAttribute("fill-opacity",Pt.fillOpacity),bt.setAttribute("fill-rule",Pt.fillRule||"evenodd")):bt.setAttribute("fill","none"))},_updatePoly:function(ct,bt){this._setPath(ct,er(ct._parts,bt))},_updateCircle:function(ct){var bt=ct._point,Pt=Math.max(Math.round(ct._radius),1),Dt=Math.max(Math.round(ct._radiusY),1)||Pt,Zt="a"+Pt+","+Dt+" 0 1,0 ",fn=ct._empty()?"M0 0":"M"+(bt.x-Pt)+","+bt.y+Zt+Pt*2+",0 "+Zt+-Pt*2+",0 ";this._setPath(ct,fn)},_setPath:function(ct,bt){ct._path.setAttribute("d",bt)},_bringToFront:function(ct){to(ct._path)},_bringToBack:function(ct){Zs(ct._path)}});cr.vml&&Pl.include(zu);function ap(ct){return cr.svg||cr.vml?new Pl(ct):null}Yr.include({getRenderer:function(ct){var bt=ct.options.renderer||this._getPaneRenderer(ct.options.pane)||this.options.renderer||this._renderer;return bt||(bt=this._renderer=this._createRenderer()),this.hasLayer(bt)||this.addLayer(bt),bt},_getPaneRenderer:function(ct){if(ct==="overlayPane"||ct===void 0)return!1;var bt=this._paneRenderers[ct];return bt===void 0&&(bt=this._createRenderer({pane:ct}),this._paneRenderers[ct]=bt),bt},_createRenderer:function(ct){return this.options.preferCanvas&&Gl(ct)||ap(ct)}});var Vu=Jl.extend({initialize:function(ct,bt){Jl.prototype.initialize.call(this,this._boundsToLatLngs(ct),bt)},setBounds:function(ct){return this.setLatLngs(this._boundsToLatLngs(ct))},_boundsToLatLngs:function(ct){return ct=an(ct),[ct.getSouthWest(),ct.getNorthWest(),ct.getNorthEast(),ct.getSouthEast()]}});function Su(ct,bt){return new Vu(ct,bt)}Pl.create=Au,Pl.pointsToPath=er,xa.geometryToLayer=Fo,xa.coordsToLatLng=Ql,xa.coordsToLatLngs=Fu,xa.latLngToCoords=Gu,xa.latLngsToCoords=eu,xa.getFeature=tu,xa.asFeature=kt,Yr.mergeOptions({boxZoom:!0});var Dp=Ws.extend({initialize:function(ct){this._map=ct,this._container=ct._container,this._pane=ct._panes.overlayPane,this._resetStateTimeout=0,ct.on("unload",this._destroy,this)},addHooks:function(){$r(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_s(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(ct){if(!ct.shiftKey||ct.which!==1&&ct.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xn(),Hn(),this._startPoint=this._map.mouseEventToContainerPoint(ct),$r(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(ct){this._moved||(this._moved=!0,this._box=Hr("div","leaflet-zoom-box",this._container),Lr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(ct);var bt=new zt(this._point,this._startPoint),Pt=bt.getSize();ms(this._box,bt.min),this._box.style.width=Pt.x+"px",this._box.style.height=Pt.y+"px"},_finish:function(){this._moved&&(Kr(this._box),ns(this._container,"leaflet-crosshair")),Sn(),mr(),_s(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(ct){if(!(ct.which!==1&&ct.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ot(this._resetState,this),0);var bt=new en(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(bt).fire("boxzoomend",{boxZoomBounds:bt})}},_onKeyDown:function(ct){ct.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yr.addInitHook("addHandler","boxZoom",Dp),Yr.mergeOptions({doubleClickZoom:!0});var Hu=Ws.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(ct){var bt=this._map,Pt=bt.getZoom(),Dt=bt.options.zoomDelta,Zt=ct.originalEvent.shiftKey?Pt-Dt:Pt+Dt;bt.options.doubleClickZoom==="center"?bt.setZoom(Zt):bt.setZoomAround(ct.containerPoint,Zt)}});Yr.addInitHook("addHandler","doubleClickZoom",Hu),Yr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var iu=Ws.extend({addHooks:function(){if(!this._draggable){var ct=this._map;this._draggable=new Al(ct._mapPane,ct._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),ct.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),ct.on("zoomend",this._onZoomEnd,this),ct.whenReady(this._onZoomEnd,this))}Lr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ns(this._map._container,"leaflet-grab"),ns(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var ct=this._map;if(ct._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var bt=an(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(bt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(bt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;ct.fire("movestart").fire("dragstart"),ct.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(ct){if(this._map.options.inertia){var bt=this._lastTime=+new Date,Pt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Pt),this._times.push(bt),this._prunePositions(bt)}this._map.fire("move",ct).fire("drag",ct)},_prunePositions:function(ct){for(;this._positions.length>1&&ct-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var ct=this._map.getSize().divideBy(2),bt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=bt.subtract(ct).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(ct,bt){return ct-(ct-bt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var ct=this._draggable._newPos.subtract(this._draggable._startPos),bt=this._offsetLimit;ct.x<bt.min.x&&(ct.x=this._viscousLimit(ct.x,bt.min.x)),ct.y<bt.min.y&&(ct.y=this._viscousLimit(ct.y,bt.min.y)),ct.x>bt.max.x&&(ct.x=this._viscousLimit(ct.x,bt.max.x)),ct.y>bt.max.y&&(ct.y=this._viscousLimit(ct.y,bt.max.y)),this._draggable._newPos=this._draggable._startPos.add(ct)}},_onPreDragWrap:function(){var ct=this._worldWidth,bt=Math.round(ct/2),Pt=this._initialWorldOffset,Dt=this._draggable._newPos.x,Zt=(Dt-bt+Pt)%ct+bt-Pt,fn=(Dt+bt+Pt)%ct-bt-Pt,An=Math.abs(Zt+Pt)<Math.abs(fn+Pt)?Zt:fn;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=An},_onDragEnd:function(ct){var bt=this._map,Pt=bt.options,Dt=!Pt.inertia||ct.noInertia||this._times.length<2;if(bt.fire("dragend",ct),Dt)bt.fire("moveend");else{this._prunePositions(+new Date);var Zt=this._lastPos.subtract(this._positions[0]),fn=(this._lastTime-this._times[0])/1e3,An=Pt.easeLinearity,Dn=Zt.multiplyBy(An/fn),zn=Dn.distanceTo([0,0]),tr=Math.min(Pt.inertiaMaxSpeed,zn),_r=Dn.multiplyBy(tr/zn),Xr=tr/(Pt.inertiaDeceleration*An),ls=_r.multiplyBy(-Xr/2).round();!ls.x&&!ls.y?bt.fire("moveend"):(ls=bt._limitOffset(ls,bt.options.maxBounds),Bt(function(){bt.panBy(ls,{duration:Xr,easeLinearity:An,noMoveStart:!0,animate:!0})}))}}});Yr.addInitHook("addHandler","dragging",iu),Yr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lp=Ws.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(ct){this._map=ct,this._setPanDelta(ct.options.keyboardPanDelta),this._setZoomDelta(ct.options.zoomDelta)},addHooks:function(){var ct=this._map._container;ct.tabIndex<=0&&(ct.tabIndex="0"),$r(ct,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_s(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var ct=document.body,bt=document.documentElement,Pt=ct.scrollTop||bt.scrollTop,Dt=ct.scrollLeft||bt.scrollLeft;this._map._container.focus(),window.scrollTo(Dt,Pt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(ct){var bt=this._panKeys={},Pt=this.keyCodes,Dt,Zt;for(Dt=0,Zt=Pt.left.length;Dt<Zt;Dt++)bt[Pt.left[Dt]]=[-1*ct,0];for(Dt=0,Zt=Pt.right.length;Dt<Zt;Dt++)bt[Pt.right[Dt]]=[ct,0];for(Dt=0,Zt=Pt.down.length;Dt<Zt;Dt++)bt[Pt.down[Dt]]=[0,ct];for(Dt=0,Zt=Pt.up.length;Dt<Zt;Dt++)bt[Pt.up[Dt]]=[0,-1*ct]},_setZoomDelta:function(ct){var bt=this._zoomKeys={},Pt=this.keyCodes,Dt,Zt;for(Dt=0,Zt=Pt.zoomIn.length;Dt<Zt;Dt++)bt[Pt.zoomIn[Dt]]=ct;for(Dt=0,Zt=Pt.zoomOut.length;Dt<Zt;Dt++)bt[Pt.zoomOut[Dt]]=-ct},_addHooks:function(){$r(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_s(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(ct){if(!(ct.altKey||ct.ctrlKey||ct.metaKey)){var bt=ct.keyCode,Pt=this._map,Dt;if(bt in this._panKeys){if(!Pt._panAnim||!Pt._panAnim._inProgress)if(Dt=this._panKeys[bt],ct.shiftKey&&(Dt=Qt(Dt).multiplyBy(3)),Pt.options.maxBounds&&(Dt=Pt._limitOffset(Qt(Dt),Pt.options.maxBounds)),Pt.options.worldCopyJump){var Zt=Pt.wrapLatLng(Pt.unproject(Pt.project(Pt.getCenter()).add(Dt)));Pt.panTo(Zt)}else Pt.panBy(Dt)}else if(bt in this._zoomKeys)Pt.setZoom(Pt.getZoom()+(ct.shiftKey?3:1)*this._zoomKeys[bt]);else if(bt===27&&Pt._popup&&Pt._popup.options.closeOnEscapeKey)Pt.closePopup();else return;as(ct)}}});Yr.addInitHook("addHandler","keyboard",lp),Yr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zp=Ws.extend({addHooks:function(){$r(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_s(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(ct){var bt=hr(ct),Pt=this._map.options.wheelDebounceTime;this._delta+=bt,this._lastMousePos=this._map.mouseEventToContainerPoint(ct),this._startTime||(this._startTime=+new Date);var Dt=Math.max(Pt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ot(this._performZoom,this),Dt),as(ct)},_performZoom:function(){var ct=this._map,bt=ct.getZoom(),Pt=this._map.options.zoomSnap||0;ct._stop();var Dt=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Zt=4*Math.log(2/(1+Math.exp(-Math.abs(Dt))))/Math.LN2,fn=Pt?Math.ceil(Zt/Pt)*Pt:Zt,An=ct._limitZoom(bt+(this._delta>0?fn:-fn))-bt;this._delta=0,this._startTime=null,An&&(ct.options.scrollWheelZoom==="center"?ct.setZoom(bt+An):ct.setZoomAround(this._lastMousePos,bt+An))}});Yr.addInitHook("addHandler","scrollWheelZoom",zp);var sm=600;Yr.mergeOptions({tapHold:cr.touchNative&&cr.safari&&cr.mobile,tapTolerance:15});var Vp=Ws.extend({addHooks:function(){$r(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_s(this._map._container,"touchstart",this._onDown,this)},_onDown:function(ct){if(clearTimeout(this._holdTimeout),ct.touches.length===1){var bt=ct.touches[0];this._startPos=this._newPos=new Ut(bt.clientX,bt.clientY),this._holdTimeout=setTimeout(ot(function(){this._cancel(),this._isTapValid()&&($r(document,"touchend",es),$r(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",bt))},this),sm),$r(document,"touchend touchcancel contextmenu",this._cancel,this),$r(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function ct(){_s(document,"touchend",es),_s(document,"touchend touchcancel",ct)},_cancel:function(){clearTimeout(this._holdTimeout),_s(document,"touchend touchcancel contextmenu",this._cancel,this),_s(document,"touchmove",this._onMove,this)},_onMove:function(ct){var bt=ct.touches[0];this._newPos=new Ut(bt.clientX,bt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(ct,bt){var Pt=new MouseEvent(ct,{bubbles:!0,cancelable:!0,view:window,screenX:bt.screenX,screenY:bt.screenY,clientX:bt.clientX,clientY:bt.clientY});Pt._simulated=!0,bt.target.dispatchEvent(Pt)}});Yr.addInitHook("addHandler","tapHold",Vp),Yr.mergeOptions({touchZoom:cr.touch,bounceAtZoomLimits:!0});var up=Ws.extend({addHooks:function(){Lr(this._map._container,"leaflet-touch-zoom"),$r(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ns(this._map._container,"leaflet-touch-zoom"),_s(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(ct){var bt=this._map;if(!(!ct.touches||ct.touches.length!==2||bt._animatingZoom||this._zooming)){var Pt=bt.mouseEventToContainerPoint(ct.touches[0]),Dt=bt.mouseEventToContainerPoint(ct.touches[1]);this._centerPoint=bt.getSize()._divideBy(2),this._startLatLng=bt.containerPointToLatLng(this._centerPoint),bt.options.touchZoom!=="center"&&(this._pinchStartLatLng=bt.containerPointToLatLng(Pt.add(Dt)._divideBy(2))),this._startDist=Pt.distanceTo(Dt),this._startZoom=bt.getZoom(),this._moved=!1,this._zooming=!0,bt._stop(),$r(document,"touchmove",this._onTouchMove,this),$r(document,"touchend touchcancel",this._onTouchEnd,this),es(ct)}},_onTouchMove:function(ct){if(!(!ct.touches||ct.touches.length!==2||!this._zooming)){var bt=this._map,Pt=bt.mouseEventToContainerPoint(ct.touches[0]),Dt=bt.mouseEventToContainerPoint(ct.touches[1]),Zt=Pt.distanceTo(Dt)/this._startDist;if(this._zoom=bt.getScaleZoom(Zt,this._startZoom),!bt.options.bounceAtZoomLimits&&(this._zoom<bt.getMinZoom()&&Zt<1||this._zoom>bt.getMaxZoom()&&Zt>1)&&(this._zoom=bt._limitZoom(this._zoom)),bt.options.touchZoom==="center"){if(this._center=this._startLatLng,Zt===1)return}else{var fn=Pt._add(Dt)._divideBy(2)._subtract(this._centerPoint);if(Zt===1&&fn.x===0&&fn.y===0)return;this._center=bt.unproject(bt.project(this._pinchStartLatLng,this._zoom).subtract(fn),this._zoom)}this._moved||(bt._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var An=ot(bt._move,bt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Bt(An,this,!0),es(ct)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Nt(this._animRequest),_s(document,"touchmove",this._onTouchMove,this),_s(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yr.addInitHook("addHandler","touchZoom",up),Yr.BoxZoom=Dp,Yr.DoubleClickZoom=Hu,Yr.Drag=iu,Yr.Keyboard=lp,Yr.ScrollWheelZoom=zp,Yr.TapHold=Vp,Yr.TouchZoom=up,nt.Bounds=zt,nt.Browser=cr,nt.CRS=mn,nt.Canvas=Uu,nt.Circle=_u,nt.CircleMarker=Nu,nt.Class=nn,nt.Control=Fs,nt.DivIcon=Fl,nt.DivOverlay=kr,nt.DomEvent=yo,nt.DomUtil=fo,nt.Draggable=Al,nt.Evented=Jt,nt.FeatureGroup=Ro,nt.GeoJSON=xa,nt.GridLayer=_a,nt.Handler=Ws,nt.Icon=Nl,nt.ImageOverlay=qt,nt.LatLng=on,nt.LatLngBounds=en,nt.Layer=Lo,nt.LayerGroup=ho,nt.LineUtil=yu,nt.Map=Yr,nt.Marker=$u,nt.Mixin=Op,nt.Path=xo,nt.Point=Ut,nt.PolyUtil=_d,nt.Polygon=Jl,nt.Polyline=po,nt.Popup=Ys,nt.PosAnimation=lo,nt.Projection=ep,nt.Rectangle=Vu,nt.Renderer=Yo,nt.SVG=Pl,nt.SVGOverlay=vr,nt.TileLayer=nu,nt.Tooltip=Cl,nt.Transformation=$n,nt.Util=Xt,nt.VideoOverlay=On,nt.bind=ot,nt.bounds=Ht,nt.canvas=Gl,nt.circle=Eu,nt.circleMarker=kp,nt.control=Po,nt.divIcon=bu,nt.extend=it,nt.featureGroup=zs,nt.geoJSON=Ot,nt.geoJson=Gt,nt.gridLayer=Cs,nt.icon=Mp,nt.imageOverlay=hn,nt.latLng=Wt,nt.latLngBounds=an,nt.layerGroup=np,nt.map=Hs,nt.marker=Lp,nt.point=Qt,nt.polygon=wp,nt.polyline=Zl,nt.popup=so,nt.rectangle=Su,nt.setOptions=_t,nt.stamp=lt,nt.svg=ap,nt.svgOverlay=Qn,nt.tileLayer=sp,nt.tooltip=rp,nt.transformation=Fn,nt.version=rt,nt.videoOverlay=qn;var cp=window.L;nt.noConflict=function(){return window.L=cp,this},window.L=nt})}(leafletSrc,leafletSrc.exports)),leafletSrc.exports}var leafletSrcExports=requireLeafletSrc();const L$3=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(tt,et,nt){return Object.freeze({instance:tt,context:et,container:nt})}function createElementHook(tt,et){return et==null?function(rt,it){const st=reactExports.useRef();return st.current||(st.current=tt(rt,it)),st}:function(rt,it){const st=reactExports.useRef();st.current||(st.current=tt(rt,it));const ot=reactExports.useRef(rt),{instance:at}=st.current;return reactExports.useEffect(function(){ot.current!==rt&&(et(at,rt,ot.current),ot.current=rt)},[at,rt,it]),st}}function useLayerLifecycle(tt,et){reactExports.useEffect(function(){return(et.layerContainer??et.map).addLayer(tt.instance),function(){var st;(st=et.layerContainer)==null||st.removeLayer(tt.instance),et.map.removeLayer(tt.instance)}},[et,tt])}function createLayerHook(tt){return function(nt){const rt=useLeafletContext(),it=tt(withPane(nt,rt),rt);return useAttribution(rt.map,nt.attribution),useEventHandlers(it.current,nt.eventHandlers),useLayerLifecycle(it.current,rt),it}}function usePathOptions(tt,et){const nt=reactExports.useRef();reactExports.useEffect(function(){if(et.pathOptions!==nt.current){const it=et.pathOptions??{};tt.instance.setStyle(it),nt.current=it}},[tt,et])}function createPathHook(tt){return function(nt){const rt=useLeafletContext(),it=tt(withPane(nt,rt),rt);return useEventHandlers(it.current,nt.eventHandlers),useLayerLifecycle(it.current,rt),usePathOptions(it.current,nt),it}}function createPathComponent(tt,et){const nt=createElementHook(tt,et),rt=createPathHook(nt);return createContainerComponent(rt)}function createTileLayerComponent(tt,et){const nt=createElementHook(tt,et),rt=createLayerHook(nt);return createLeafComponent(rt)}function updateGridLayer(tt,et,nt){const{opacity:rt,zIndex:it}=et;rt!=null&&rt!==nt.opacity&&tt.setOpacity(rt),it!=null&&it!==nt.zIndex&&tt.setZIndex(it)}function useMap(){return useLeafletContext().map}function useMapEvents(tt){const et=useMap();return reactExports.useEffect(function(){return et.on(tt),function(){et.off(tt)}},[et,tt]),et}function _extends$4(){return _extends$4=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$4.apply(this,arguments)}function MapContainerComponent({bounds:tt,boundsOptions:et,center:nt,children:rt,className:it,id:st,placeholder:ot,style:at,whenReady:lt,zoom:ut,...ft},dt){const[ht]=reactExports.useState({className:it,id:st,style:at}),[mt,xt]=reactExports.useState(null);reactExports.useImperativeHandle(dt,()=>(mt==null?void 0:mt.map)??null,[mt]);const _t=reactExports.useCallback(gt=>{if(gt!==null&&mt===null){const vt=new leafletSrcExports.Map(gt,ft);nt!=null&&ut!=null?vt.setView(nt,ut):tt!=null&&vt.fitBounds(tt,et),lt!=null&&vt.whenReady(lt),xt(createLeafletContext(vt))}},[]);reactExports.useEffect(()=>()=>{mt==null||mt.map.remove()},[mt]);const At=mt?React$1.createElement(LeafletProvider,{value:mt},rt):ot??null;return React$1.createElement("div",_extends$4({},ht,{ref:_t}),At)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Polygon=createPathComponent(function({positions:et,...nt},rt){const it=new leafletSrcExports.Polygon(et,nt);return createElementObject(it,extendContext(rt,{overlayContainer:it}))},function(et,nt,rt){nt.positions!==rt.positions&&et.setLatLngs(nt.positions)}),TileLayer=createTileLayerComponent(function({url:et,...nt},rt){const it=new leafletSrcExports.TileLayer(et,withPane(nt,rt));return createElementObject(it,rt)},function(et,nt,rt){updateGridLayer(et,nt,rt);const{url:it}=nt;it!=null&&it!==rt.url&&et.setUrl(it)});function _typeof$3(tt){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$3(tt)}function _toPrimitive$2(tt,et){if(_typeof$3(tt)!=="object"||tt===null)return tt;var nt=tt[Symbol.toPrimitive];if(nt!==void 0){var rt=nt.call(tt,et||"default");if(_typeof$3(rt)!=="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(tt)}function _toPropertyKey$2(tt){var et=_toPrimitive$2(tt,"string");return _typeof$3(et)==="symbol"?et:String(et)}function _defineProperty$4(tt,et,nt){return et=_toPropertyKey$2(et),et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function assert$a(tt,et){if(!tt)throw new Error(et||"loader assertion failed.")}const isBrowser$5=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),matches$1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);matches$1&&parseFloat(matches$1[1]);const VERSION$a="3.3.3";function assert$9(tt,et){if(!tt)throw new Error(et||"loaders.gl assertion failed.")}const globals$1={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},global_=globals$1.global||globals$1.self||globals$1.window||{},isBrowser$4=typeof process!="object"||String(process)!=="[object process]"||process.browser,isWorker=typeof importScripts=="function",isMobile=typeof window<"u"&&typeof window.orientation<"u",matches=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);matches&&parseFloat(matches[1]);class WorkerJob{constructor(et,nt){_defineProperty$4(this,"name",void 0),_defineProperty$4(this,"workerThread",void 0),_defineProperty$4(this,"isRunning",!0),_defineProperty$4(this,"result",void 0),_defineProperty$4(this,"_resolve",()=>{}),_defineProperty$4(this,"_reject",()=>{}),this.name=et,this.workerThread=nt,this.result=new Promise((rt,it)=>{this._resolve=rt,this._reject=it})}postMessage(et,nt){this.workerThread.postMessage({source:"loaders.gl",type:et,payload:nt})}done(et){assert$9(this.isRunning),this.isRunning=!1,this._resolve(et)}error(et){assert$9(this.isRunning),this.isRunning=!1,this._reject(et)}}let Worker$1=class{terminate(){}};const workerURLCache=new Map;function getLoadableWorkerURL(tt){assert$9(tt.source&&!tt.url||!tt.source&&tt.url);let et=workerURLCache.get(tt.source||tt.url);return et||(tt.url&&(et=getLoadableWorkerURLFromURL(tt.url),workerURLCache.set(tt.url,et)),tt.source&&(et=getLoadableWorkerURLFromSource(tt.source),workerURLCache.set(tt.source,et))),assert$9(et),et}function getLoadableWorkerURLFromURL(tt){if(!tt.startsWith("http"))return tt;const et=buildScriptSource(tt);return getLoadableWorkerURLFromSource(et)}function getLoadableWorkerURLFromSource(tt){const et=new Blob([tt],{type:"application/javascript"});return URL.createObjectURL(et)}function buildScriptSource(tt){return`try {
  importScripts('`.concat(tt,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function getTransferList(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,nt=arguments.length>2?arguments[2]:void 0;const rt=nt||new Set;if(tt){if(isTransferable(tt))rt.add(tt);else if(isTransferable(tt.buffer))rt.add(tt.buffer);else if(!ArrayBuffer.isView(tt)){if(et&&typeof tt=="object")for(const it in tt)getTransferList(tt[it],et,rt)}}return nt===void 0?Array.from(rt):[]}function isTransferable(tt){return tt?tt instanceof ArrayBuffer||typeof MessagePort<"u"&&tt instanceof MessagePort||typeof ImageBitmap<"u"&&tt instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&tt instanceof OffscreenCanvas:!1}const NOOP$1=()=>{};class WorkerThread{static isSupported(){return typeof Worker<"u"&&isBrowser$4||typeof Worker$1<"u"&&!isBrowser$4}constructor(et){_defineProperty$4(this,"name",void 0),_defineProperty$4(this,"source",void 0),_defineProperty$4(this,"url",void 0),_defineProperty$4(this,"terminated",!1),_defineProperty$4(this,"worker",void 0),_defineProperty$4(this,"onMessage",void 0),_defineProperty$4(this,"onError",void 0),_defineProperty$4(this,"_loadableURL","");const{name:nt,source:rt,url:it}=et;assert$9(rt||it),this.name=nt,this.source=rt,this.url=it,this.onMessage=NOOP$1,this.onError=st=>console.log(st),this.worker=isBrowser$4?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=NOOP$1,this.onError=NOOP$1,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(et,nt){nt=nt||getTransferList(et),this.worker.postMessage(et,nt)}_getErrorFromErrorEvent(et){let nt="Failed to load ";return nt+="worker ".concat(this.name," from ").concat(this.url,". "),et.message&&(nt+="".concat(et.message," in ")),et.lineno&&(nt+=":".concat(et.lineno,":").concat(et.colno)),new Error(nt)}_createBrowserWorker(){this._loadableURL=getLoadableWorkerURL({source:this.source,url:this.url});const et=new Worker(this._loadableURL,{name:this.name});return et.onmessage=nt=>{nt.data?this.onMessage(nt.data):this.onError(new Error("No data received"))},et.onerror=nt=>{this.onError(this._getErrorFromErrorEvent(nt)),this.terminated=!0},et.onmessageerror=nt=>console.error(nt),et}_createNodeWorker(){let et;if(this.url){const rt=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);et=new Worker$1(rt,{eval:!1})}else if(this.source)et=new Worker$1(this.source,{eval:!0});else throw new Error("no worker");return et.on("message",nt=>{this.onMessage(nt)}),et.on("error",nt=>{this.onError(nt)}),et.on("exit",nt=>{}),et}}class WorkerPool{static isSupported(){return WorkerThread.isSupported()}constructor(et){_defineProperty$4(this,"name","unnamed"),_defineProperty$4(this,"source",void 0),_defineProperty$4(this,"url",void 0),_defineProperty$4(this,"maxConcurrency",1),_defineProperty$4(this,"maxMobileConcurrency",1),_defineProperty$4(this,"onDebug",()=>{}),_defineProperty$4(this,"reuseWorkers",!0),_defineProperty$4(this,"props",{}),_defineProperty$4(this,"jobQueue",[]),_defineProperty$4(this,"idleQueue",[]),_defineProperty$4(this,"count",0),_defineProperty$4(this,"isDestroyed",!1),this.source=et.source,this.url=et.url,this.setProps(et)}destroy(){this.idleQueue.forEach(et=>et.destroy()),this.isDestroyed=!0}setProps(et){this.props={...this.props,...et},et.name!==void 0&&(this.name=et.name),et.maxConcurrency!==void 0&&(this.maxConcurrency=et.maxConcurrency),et.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=et.maxMobileConcurrency),et.reuseWorkers!==void 0&&(this.reuseWorkers=et.reuseWorkers),et.onDebug!==void 0&&(this.onDebug=et.onDebug)}async startJob(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(st,ot,at)=>st.done(at),rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(st,ot)=>st.error(ot);const it=new Promise(st=>(this.jobQueue.push({name:et,onMessage:nt,onError:rt,onStart:st}),this));return this._startQueuedJob(),await it}async _startQueuedJob(){if(!this.jobQueue.length)return;const et=this._getAvailableWorker();if(!et)return;const nt=this.jobQueue.shift();if(nt){this.onDebug({message:"Starting job",name:nt.name,workerThread:et,backlog:this.jobQueue.length});const rt=new WorkerJob(nt.name,et);et.onMessage=it=>nt.onMessage(rt,it.type,it.payload),et.onError=it=>nt.onError(rt,it),nt.onStart(rt);try{await rt.result}finally{this.returnWorkerToQueue(et)}}}returnWorkerToQueue(et){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(et.destroy(),this.count--):this.idleQueue.push(et),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const et="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new WorkerThread({name:et,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return isMobile?this.maxMobileConcurrency:this.maxConcurrency}}const DEFAULT_PROPS$1={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class WorkerFarm{static isSupported(){return WorkerThread.isSupported()}static getWorkerFarm(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return WorkerFarm._workerFarm=WorkerFarm._workerFarm||new WorkerFarm({}),WorkerFarm._workerFarm.setProps(et),WorkerFarm._workerFarm}constructor(et){_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"workerPools",new Map),this.props={...DEFAULT_PROPS$1},this.setProps(et),this.workerPools=new Map}destroy(){for(const et of this.workerPools.values())et.destroy();this.workerPools=new Map}setProps(et){this.props={...this.props,...et};for(const nt of this.workerPools.values())nt.setProps(this._getWorkerPoolProps())}getWorkerPool(et){const{name:nt,source:rt,url:it}=et;let st=this.workerPools.get(nt);return st||(st=new WorkerPool({name:nt,source:rt,url:it}),st.setProps(this._getWorkerPoolProps()),this.workerPools.set(nt,st)),st}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}_defineProperty$4(WorkerFarm,"_workerFarm",void 0);const NPM_TAG="latest";function getWorkerURL(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const nt=et[tt.id]||{},rt="".concat(tt.id,"-worker.js");let it=nt.workerUrl;if(!it&&tt.id==="compression"&&(it=et.workerUrl),et._workerType==="test"&&(it="modules/".concat(tt.module,"/dist/").concat(rt)),!it){let st=tt.version;st==="latest"&&(st=NPM_TAG);const ot=st?"@".concat(st):"";it="https://unpkg.com/@loaders.gl/".concat(tt.module).concat(ot,"/dist/").concat(rt)}return assert$9(it),it}function validateWorkerVersion(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VERSION$a;assert$9(tt,"no worker provided");const nt=tt.version;return!(!et||!nt)}const ChildProcessProxy={},node=Object.freeze(Object.defineProperty({__proto__:null,default:ChildProcessProxy},Symbol.toStringTag,{value:"Module"})),VERSION$9="3.3.3",loadLibraryPromises={};async function loadLibrary(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return et&&(tt=getLibraryUrl(tt,et,nt)),loadLibraryPromises[tt]=loadLibraryPromises[tt]||loadLibraryFromFile(tt),await loadLibraryPromises[tt]}function getLibraryUrl(tt,et,nt){if(tt.startsWith("http"))return tt;const rt=nt.modules||{};return rt[tt]?rt[tt]:isBrowser$4?nt.CDN?(assert$9(nt.CDN.startsWith("http")),"".concat(nt.CDN,"/").concat(et,"@").concat(VERSION$9,"/dist/libs/").concat(tt)):isWorker?"../src/libs/".concat(tt):"modules/".concat(et,"/src/libs/").concat(tt):"modules/".concat(et,"/dist/libs/").concat(tt)}async function loadLibraryFromFile(tt){if(tt.endsWith("wasm"))return await(await fetch(tt)).arrayBuffer();if(!isBrowser$4)try{return node&&void 0}catch{return null}if(isWorker)return importScripts(tt);const nt=await(await fetch(tt)).text();return loadLibraryFromString(nt,tt)}function loadLibraryFromString(tt,et){if(!isBrowser$4)return;if(isWorker)return eval.call(global_,tt),null;const nt=document.createElement("script");nt.id=et;try{nt.appendChild(document.createTextNode(tt))}catch{nt.text=tt}return document.body.appendChild(nt),null}function canParseWithWorker(tt,et){return!WorkerFarm.isSupported()||!isBrowser$4&&!(et!=null&&et._nodeWorkers)?!1:tt.worker&&(et==null?void 0:et.worker)}async function parseWithWorker(tt,et,nt,rt,it){const st=tt.id,ot=getWorkerURL(tt,nt),lt=WorkerFarm.getWorkerFarm(nt).getWorkerPool({name:st,url:ot});nt=JSON.parse(JSON.stringify(nt)),rt=JSON.parse(JSON.stringify(rt||{}));const ut=await lt.startJob("process-on-worker",onMessage.bind(null,it));return ut.postMessage("process",{input:et,options:nt,context:rt}),await(await ut.result).result}async function onMessage(tt,et,nt,rt){switch(nt){case"done":et.done(rt);break;case"error":et.error(new Error(rt.error));break;case"process":const{id:it,input:st,options:ot}=rt;try{const at=await tt(st,ot);et.postMessage("done",{id:it,result:at})}catch(at){const lt=at instanceof Error?at.message:"unknown error";et.postMessage("error",{id:it,error:lt})}break;default:console.warn("parse-with-worker unknown message ".concat(nt))}}function getFirstCharacters$1(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof tt=="string"?tt.slice(0,et):ArrayBuffer.isView(tt)?getMagicString$2(tt.buffer,tt.byteOffset,et):tt instanceof ArrayBuffer?getMagicString$2(tt,0,et):""}function getMagicString$2(tt,et,nt){if(tt.byteLength<=et+nt)return"";const rt=new DataView(tt);let it="";for(let st=0;st<nt;st++)it+=String.fromCharCode(rt.getUint8(et+st));return it}function parseJSON(tt){try{return JSON.parse(tt)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(getFirstCharacters$1(tt),'"'))}}function compareArrayBuffers(tt,et,nt){if(nt=nt||tt.byteLength,tt.byteLength<nt||et.byteLength<nt)return!1;const rt=new Uint8Array(tt),it=new Uint8Array(et);for(let st=0;st<rt.length;++st)if(rt[st]!==it[st])return!1;return!0}function concatenateArrayBuffers(){for(var tt=arguments.length,et=new Array(tt),nt=0;nt<tt;nt++)et[nt]=arguments[nt];const rt=et.map(at=>at instanceof ArrayBuffer?new Uint8Array(at):at),it=rt.reduce((at,lt)=>at+lt.byteLength,0),st=new Uint8Array(it);let ot=0;for(const at of rt)st.set(at,ot),ot+=at.byteLength;return st.buffer}function sliceArrayBuffer(tt,et,nt){const rt=nt!==void 0?new Uint8Array(tt).subarray(et,et+nt):new Uint8Array(tt).subarray(et);return new Uint8Array(rt).buffer}function padToNBytes(tt,et){return assert$a(tt>=0),assert$a(et>0),tt+(et-1)&~(et-1)}function copyToArray(tt,et,nt){let rt;if(tt instanceof ArrayBuffer)rt=new Uint8Array(tt);else{const it=tt.byteOffset,st=tt.byteLength;rt=new Uint8Array(tt.buffer||tt.arrayBuffer,it,st)}return et.set(rt,nt),nt+padToNBytes(rt.byteLength,4)}async function concatenateArrayBuffersAsync(tt){const et=[];for await(const nt of tt)et.push(nt);return concatenateArrayBuffers(...et)}function getHiResTimestamp$1(){let tt;if(typeof window<"u"&&window.performance)tt=window.performance.now();else if(typeof process<"u"&&process.hrtime){const et=process.hrtime();tt=et[0]*1e3+et[1]/1e6}else tt=Date.now();return tt}class Stat{constructor(et,nt){_defineProperty$4(this,"name",void 0),_defineProperty$4(this,"type",void 0),_defineProperty$4(this,"sampleSize",1),_defineProperty$4(this,"time",void 0),_defineProperty$4(this,"count",void 0),_defineProperty$4(this,"samples",void 0),_defineProperty$4(this,"lastTiming",void 0),_defineProperty$4(this,"lastSampleTime",void 0),_defineProperty$4(this,"lastSampleCount",void 0),_defineProperty$4(this,"_count",0),_defineProperty$4(this,"_time",0),_defineProperty$4(this,"_samples",0),_defineProperty$4(this,"_startTime",0),_defineProperty$4(this,"_timerPending",!1),this.name=et,this.type=nt,this.reset()}setSampleSize(et){return this.sampleSize=et,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(et){return this._count+=et,this._samples++,this._checkSampling(),this}subtractCount(et){return this._count-=et,this._samples++,this._checkSampling(),this}addTime(et){return this._time+=et,this.lastTiming=et,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=getHiResTimestamp$1(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(getHiResTimestamp$1()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Stats{constructor(et){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"stats",{}),this.id=et.id,this.stats={},this._initializeStats(et.stats),Object.seal(this)}get(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"count";return this._getOrCreate({name:et,type:nt})}get size(){return Object.keys(this.stats).length}reset(){for(const et in this.stats)this.stats[et].reset();return this}forEach(et){for(const nt in this.stats)et(this.stats[nt])}getTable(){const et={};return this.forEach(nt=>{et[nt.name]={time:nt.time||0,count:nt.count||0,average:nt.getAverageTime()||0,hz:nt.getHz()||0}}),et}_initializeStats(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(nt=>this._getOrCreate(nt))}_getOrCreate(et){if(!et||!et.name)return null;const{name:nt,type:rt}=et;return this.stats[nt]||(et instanceof Stat?this.stats[nt]=et:this.stats[nt]=new Stat(nt,rt)),this.stats[nt]}}let pathPrefix$1="";const fileAliases={};function resolvePath(tt){for(const et in fileAliases)if(tt.startsWith(et)){const nt=fileAliases[et];tt=tt.replace(et,nt)}return!tt.startsWith("http://")&&!tt.startsWith("https://")&&(tt="".concat(pathPrefix$1).concat(tt)),tt}function isBuffer$5(tt){return tt&&typeof tt=="object"&&tt.isBuffer}function toArrayBuffer(tt){if(isBuffer$5(tt))return(void 0)(tt);if(tt instanceof ArrayBuffer)return tt;if(ArrayBuffer.isView(tt))return tt.byteOffset===0&&tt.byteLength===tt.buffer.byteLength?tt.buffer:tt.buffer.slice(tt.byteOffset,tt.byteOffset+tt.byteLength);if(typeof tt=="string"){const et=tt;return new TextEncoder().encode(et).buffer}if(tt&&typeof tt=="object"&&tt._toArrayBuffer)return tt._toArrayBuffer();throw new Error("toArrayBuffer")}function filename(tt){const et=tt&&tt.lastIndexOf("/");return et>=0?tt.substr(et+1):""}const isBoolean$1=tt=>typeof tt=="boolean",isFunction$5=tt=>typeof tt=="function",isObject$8=tt=>tt!==null&&typeof tt=="object",isPureObject=tt=>isObject$8(tt)&&tt.constructor==={}.constructor,isIterable=tt=>tt&&typeof tt[Symbol.iterator]=="function",isAsyncIterable$1=tt=>tt&&typeof tt[Symbol.asyncIterator]=="function",isResponse=tt=>typeof Response<"u"&&tt instanceof Response||tt&&tt.arrayBuffer&&tt.text&&tt.json,isBlob$2=tt=>typeof Blob<"u"&&tt instanceof Blob,isBuffer$4=tt=>tt&&typeof tt=="object"&&tt.isBuffer,isReadableDOMStream=tt=>typeof ReadableStream<"u"&&tt instanceof ReadableStream||isObject$8(tt)&&isFunction$5(tt.tee)&&isFunction$5(tt.cancel)&&isFunction$5(tt.getReader),isReadableNodeStream=tt=>isObject$8(tt)&&isFunction$5(tt.read)&&isFunction$5(tt.pipe)&&isBoolean$1(tt.readable),isReadableStream=tt=>isReadableDOMStream(tt)||isReadableNodeStream(tt),DATA_URL_PATTERN=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,MIME_TYPE_PATTERN=/^([-\w.]+\/[-\w.+]+)/;function parseMIMEType(tt){const et=MIME_TYPE_PATTERN.exec(tt);return et?et[1]:tt}function parseMIMETypeFromURL(tt){const et=DATA_URL_PATTERN.exec(tt);return et?et[1]:""}const QUERY_STRING_PATTERN=/\?.*/;function getResourceUrlAndType(tt){if(isResponse(tt)){const et=stripQueryString(tt.url||""),nt=tt.headers.get("content-type")||"";return{url:et,type:parseMIMEType(nt)||parseMIMETypeFromURL(et)}}return isBlob$2(tt)?{url:stripQueryString(tt.name||""),type:tt.type||""}:typeof tt=="string"?{url:stripQueryString(tt),type:parseMIMETypeFromURL(tt)}:{url:"",type:""}}function getResourceContentLength(tt){return isResponse(tt)?tt.headers["content-length"]||-1:isBlob$2(tt)?tt.size:typeof tt=="string"?tt.length:tt instanceof ArrayBuffer||ArrayBuffer.isView(tt)?tt.byteLength:-1}function stripQueryString(tt){return tt.replace(QUERY_STRING_PATTERN,"")}async function makeResponse(tt){if(isResponse(tt))return tt;const et={},nt=getResourceContentLength(tt);nt>=0&&(et["content-length"]=String(nt));const{url:rt,type:it}=getResourceUrlAndType(tt);it&&(et["content-type"]=it);const st=await getInitialDataUrl(tt);st&&(et["x-first-bytes"]=st),typeof tt=="string"&&(tt=new TextEncoder().encode(tt));const ot=new Response(tt,{headers:et});return Object.defineProperty(ot,"url",{value:rt}),ot}async function checkResponse(tt){if(!tt.ok){const et=await getResponseError(tt);throw new Error(et)}}async function getResponseError(tt){let et="Failed to fetch resource ".concat(tt.url," (").concat(tt.status,"): ");try{const nt=tt.headers.get("Content-Type");let rt=tt.statusText;nt.includes("application/json")&&(rt+=" ".concat(await tt.text())),et+=rt,et=et.length>60?"".concat(et.slice(0,60),"..."):et}catch{}return et}async function getInitialDataUrl(tt){if(typeof tt=="string")return"data:,".concat(tt.slice(0,5));if(tt instanceof Blob){const nt=tt.slice(0,5);return await new Promise(rt=>{const it=new FileReader;it.onload=st=>{var ot;return rt(st==null||(ot=st.target)===null||ot===void 0?void 0:ot.result)},it.readAsDataURL(nt)})}if(tt instanceof ArrayBuffer){const nt=tt.slice(0,5),rt=arrayBufferToBase64(nt);return"data:base64,".concat(rt)}return null}function arrayBufferToBase64(tt){let et="";const nt=new Uint8Array(tt);for(let rt=0;rt<nt.byteLength;rt++)et+=String.fromCharCode(nt[rt]);return btoa(et)}async function fetchFile(tt,et){if(typeof tt=="string"){tt=resolvePath(tt);let nt=et;return et!=null&&et.fetch&&typeof(et==null?void 0:et.fetch)!="function"&&(nt=et.fetch),await fetch(tt,nt)}return await makeResponse(tt)}function isElectron(tt){if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron)return!0;const et=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,nt=tt||et;return!!(nt&&nt.indexOf("Electron")>=0)}function isBrowser$3(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||isElectron()}const globals={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:typeof process=="object"&&process},window_$1=globals.window||globals.self||globals.global,process_=globals.process||{},VERSION$8=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";isBrowser$3();const window$1=globalThis;function getBrowser$1(tt){if(!tt&&!isBrowser$3())return"Node";if(isElectron(tt))return"Electron";const nt=tt||(typeof navigator<"u"?navigator:{}).userAgent||"";if(nt.indexOf("Edge")>-1)return"Edge";const rt=nt.indexOf("MSIE ")!==-1,it=nt.indexOf("Trident/")!==-1;return rt||it?"IE":window$1.chrome?"Chrome":window$1.safari?"Safari":window$1.mozInnerScreenX?"Firefox":"Unknown"}function getStorage(tt){try{const et=window[tt],nt="__storage_test__";return et.setItem(nt,nt),et.removeItem(nt),et}catch{return null}}class LocalStorage{constructor(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";_defineProperty$4(this,"storage",void 0),_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"config",void 0),this.storage=getStorage(rt),this.id=et,this.config=nt,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(et){if(Object.assign(this.config,et),this.storage){const nt=JSON.stringify(this.config);this.storage.setItem(this.id,nt)}}_loadConfiguration(){let et={};if(this.storage){const nt=this.storage.getItem(this.id);et=nt?JSON.parse(nt):{}}return Object.assign(this.config,et),this}}function formatTime(tt){let et;return tt<10?et="".concat(tt.toFixed(2),"ms"):tt<100?et="".concat(tt.toFixed(1),"ms"):tt<1e3?et="".concat(tt.toFixed(0),"ms"):et="".concat((tt/1e3).toFixed(2),"s"),et}function leftPad(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const nt=Math.max(et-tt.length,0);return"".concat(" ".repeat(nt)).concat(tt)}function formatImage(tt,et,nt){let rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const it=tt.src.replace(/\(/g,"%28").replace(/\)/g,"%29");tt.width>rt&&(nt=Math.min(nt,rt/tt.width));const st=tt.width*nt,ot=tt.height*nt,at=["font-size:1px;","padding:".concat(Math.floor(ot/2),"px ").concat(Math.floor(st/2),"px;"),"line-height:".concat(ot,"px;"),"background:url(".concat(it,");"),"background-size:".concat(st,"px ").concat(ot,"px;"),"color:transparent;"].join("");return["".concat(et," %c+"),at]}let COLOR;(function(tt){tt[tt.BLACK=30]="BLACK",tt[tt.RED=31]="RED",tt[tt.GREEN=32]="GREEN",tt[tt.YELLOW=33]="YELLOW",tt[tt.BLUE=34]="BLUE",tt[tt.MAGENTA=35]="MAGENTA",tt[tt.CYAN=36]="CYAN",tt[tt.WHITE=37]="WHITE",tt[tt.BRIGHT_BLACK=90]="BRIGHT_BLACK",tt[tt.BRIGHT_RED=91]="BRIGHT_RED",tt[tt.BRIGHT_GREEN=92]="BRIGHT_GREEN",tt[tt.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",tt[tt.BRIGHT_BLUE=94]="BRIGHT_BLUE",tt[tt.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",tt[tt.BRIGHT_CYAN=96]="BRIGHT_CYAN",tt[tt.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(COLOR||(COLOR={}));function getColor(tt){return typeof tt=="string"?COLOR[tt.toUpperCase()]||COLOR.WHITE:tt}function addColor(tt,et,nt){return!isBrowser$3&&typeof tt=="string"&&(et&&(et=getColor(et),tt="\x1B[".concat(et,"m").concat(tt,"\x1B[39m")),nt&&(et=getColor(nt),tt="\x1B[".concat(nt+10,"m").concat(tt,"\x1B[49m"))),tt}function autobind(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const nt=Object.getPrototypeOf(tt),rt=Object.getOwnPropertyNames(nt);for(const it of rt)typeof tt[it]=="function"&&(et.find(st=>it===st)||(tt[it]=tt[it].bind(tt)))}function assert$8(tt,et){if(!tt)throw new Error(et||"Assertion failed")}function getHiResTimestamp(){let tt;if(isBrowser$3&&"performance"in window_$1){var et,nt;tt=window_$1==null||(et=window_$1.performance)===null||et===void 0||(nt=et.now)===null||nt===void 0?void 0:nt.call(et)}else if("hrtime"in process_){var rt;const it=process_==null||(rt=process_.hrtime)===null||rt===void 0?void 0:rt.call(process_);tt=it[0]*1e3+it[1]/1e6}else tt=Date.now();return tt}const originalConsole={debug:isBrowser$3&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},DEFAULT_SETTINGS={enabled:!0,level:0};function noop$3(){}const cache={},ONCE={once:!0};class Log{constructor(){let{id:et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"VERSION",VERSION$8),_defineProperty$4(this,"_startTs",getHiResTimestamp()),_defineProperty$4(this,"_deltaTs",getHiResTimestamp()),_defineProperty$4(this,"_storage",void 0),_defineProperty$4(this,"userData",{}),_defineProperty$4(this,"LOG_THROTTLE_TIMEOUT",0),this.id=et,this.userData={},this._storage=new LocalStorage("__probe-".concat(this.id,"__"),DEFAULT_SETTINGS),this.timeStamp("".concat(this.id," started")),autobind(this),Object.seal(this)}set level(et){this.setLevel(et)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((getHiResTimestamp()-this._startTs).toPrecision(10))}getDelta(){return Number((getHiResTimestamp()-this._deltaTs).toPrecision(10))}set priority(et){this.level=et}get priority(){return this.level}getPriority(){return this.level}enable(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.setConfiguration({enabled:et}),this}setLevel(et){return this._storage.setConfiguration({level:et}),this}get(et){return this._storage.config[et]}set(et,nt){this._storage.setConfiguration({[et]:nt})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(et,nt){assert$8(et,nt)}warn(et){return this._getLogFunction(0,et,originalConsole.warn,arguments,ONCE)}error(et){return this._getLogFunction(0,et,originalConsole.error,arguments)}deprecated(et,nt){return this.warn("`".concat(et,"` is deprecated and will be removed in a later version. Use `").concat(nt,"` instead"))}removed(et,nt){return this.error("`".concat(et,"` has been removed. Use `").concat(nt,"` instead"))}probe(et,nt){return this._getLogFunction(et,nt,originalConsole.log,arguments,{time:!0,once:!0})}log(et,nt){return this._getLogFunction(et,nt,originalConsole.debug,arguments)}info(et,nt){return this._getLogFunction(et,nt,console.info,arguments)}once(et,nt){for(var rt=arguments.length,it=new Array(rt>2?rt-2:0),st=2;st<rt;st++)it[st-2]=arguments[st];return this._getLogFunction(et,nt,originalConsole.debug||originalConsole.info,arguments,ONCE)}table(et,nt,rt){return nt?this._getLogFunction(et,nt,console.table||noop$3,rt&&[rt],{tag:getTableHeader(nt)}):noop$3}image(et){let{logLevel:nt,priority:rt,image:it,message:st="",scale:ot=1}=et;return this._shouldLog(nt||rt)?isBrowser$3?logImageInBrowser({image:it,message:st,scale:ot}):logImageInNode():noop$3}time(et,nt){return this._getLogFunction(et,nt,console.time?console.time:console.info)}timeEnd(et,nt){return this._getLogFunction(et,nt,console.timeEnd?console.timeEnd:console.info)}timeStamp(et,nt){return this._getLogFunction(et,nt,console.timeStamp||noop$3)}group(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const it=normalizeArguments({logLevel:et,message:nt,opts:rt}),{collapsed:st}=rt;return it.method=(st?console.groupCollapsed:console.group)||console.info,this._getLogFunction(it)}groupCollapsed(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(et,nt,Object.assign({},rt,{collapsed:!0}))}groupEnd(et){return this._getLogFunction(et,"",console.groupEnd||noop$3)}withGroup(et,nt,rt){this.group(et,nt)();try{rt()}finally{this.groupEnd(et)()}}trace(){console.trace&&console.trace()}_shouldLog(et){return this.isEnabled()&&this.getLevel()>=normalizeLogLevel(et)}_getLogFunction(et,nt,rt,it,st){if(this._shouldLog(et)){st=normalizeArguments({logLevel:et,message:nt,args:it,opts:st}),rt=rt||st.method,assert$8(rt),st.total=this.getTotal(),st.delta=this.getDelta(),this._deltaTs=getHiResTimestamp();const ot=st.tag||st.message;if(st.once)if(!cache[ot])cache[ot]=getHiResTimestamp();else return noop$3;return nt=decorateMessage(this.id,st.message,st),rt.bind(console,nt,...st.args)}return noop$3}}_defineProperty$4(Log,"VERSION",VERSION$8);function normalizeLogLevel(tt){if(!tt)return 0;let et;switch(typeof tt){case"number":et=tt;break;case"object":et=tt.logLevel||tt.priority||0;break;default:return 0}return assert$8(Number.isFinite(et)&&et>=0),et}function normalizeArguments(tt){const{logLevel:et,message:nt}=tt;tt.logLevel=normalizeLogLevel(et);const rt=tt.args?Array.from(tt.args):[];for(;rt.length&&rt.shift()!==nt;);switch(typeof et){case"string":case"function":nt!==void 0&&rt.unshift(nt),tt.message=et;break;case"object":Object.assign(tt,et);break}typeof tt.message=="function"&&(tt.message=tt.message());const it=typeof tt.message;return assert$8(it==="string"||it==="object"),Object.assign(tt,{args:rt},tt.opts)}function decorateMessage(tt,et,nt){if(typeof et=="string"){const rt=nt.time?leftPad(formatTime(nt.total)):"";et=nt.time?"".concat(tt,": ").concat(rt,"  ").concat(et):"".concat(tt,": ").concat(et),et=addColor(et,nt.color,nt.background)}return et}function logImageInNode(tt){return console.warn("removed"),noop$3}function logImageInBrowser(tt){let{image:et,message:nt="",scale:rt=1}=tt;if(typeof et=="string"){const st=new Image;return st.onload=()=>{const ot=formatImage(st,nt,rt);console.log(...ot)},st.src=et,noop$3}const it=et.nodeName||"";if(it.toLowerCase()==="img")return console.log(...formatImage(et,nt,rt)),noop$3;if(it.toLowerCase()==="canvas"){const st=new Image;return st.onload=()=>console.log(...formatImage(st,nt,rt)),st.src=et.toDataURL(),noop$3}return noop$3}function getTableHeader(tt){for(const et in tt)for(const nt in tt[et])return nt||"untitled";return"empty"}const probeLog=new Log({id:"loaders.gl"});class NullLog{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class ConsoleLog{constructor(){_defineProperty$4(this,"console",void 0),this.console=console}log(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.console.log.bind(this.console,...nt)}info(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.console.info.bind(this.console,...nt)}warn(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.console.warn.bind(this.console,...nt)}error(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.console.error.bind(this.console,...nt)}}const DEFAULT_LOADER_OPTIONS={fetch:null,mimeType:void 0,nothrow:!1,log:new ConsoleLog,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:isBrowser$5,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},REMOVED_LOADER_OPTIONS={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function getGlobalLoaderState(){globalThis.loaders=globalThis.loaders||{};const{loaders:tt}=globalThis;return tt._state=tt._state||{},tt._state}const getGlobalLoaderOptions=()=>{const tt=getGlobalLoaderState();return tt.globalOptions=tt.globalOptions||{...DEFAULT_LOADER_OPTIONS},tt.globalOptions};function normalizeOptions(tt,et,nt,rt){return nt=nt||[],nt=Array.isArray(nt)?nt:[nt],validateOptions(tt,nt),normalizeOptionsInternal(et,tt,rt)}function getFetchFunction(tt,et){const nt=getGlobalLoaderOptions(),rt=tt||nt;return typeof rt.fetch=="function"?rt.fetch:isObject$8(rt.fetch)?it=>fetchFile(it,rt):et!=null&&et.fetch?et==null?void 0:et.fetch:fetchFile}function validateOptions(tt,et){validateOptionsObject(tt,null,DEFAULT_LOADER_OPTIONS,REMOVED_LOADER_OPTIONS,et);for(const nt of et){const rt=tt&&tt[nt.id]||{},it=nt.options&&nt.options[nt.id]||{},st=nt.deprecatedOptions&&nt.deprecatedOptions[nt.id]||{};validateOptionsObject(rt,nt.id,it,st,et)}}function validateOptionsObject(tt,et,nt,rt,it){const st=et||"Top level",ot=et?"".concat(et,"."):"";for(const at in tt){const lt=!et&&isObject$8(tt[at]),ut=at==="baseUri"&&!et,ft=at==="workerUrl"&&et;if(!(at in nt)&&!ut&&!ft){if(at in rt)probeLog.warn("".concat(st," loader option '").concat(ot).concat(at,"' no longer supported, use '").concat(rt[at],"'"))();else if(!lt){const dt=findSimilarOption(at,it);probeLog.warn("".concat(st," loader option '").concat(ot).concat(at,"' not recognized. ").concat(dt))()}}}}function findSimilarOption(tt,et){const nt=tt.toLowerCase();let rt="";for(const it of et)for(const st in it.options){if(tt===st)return"Did you mean '".concat(it.id,".").concat(st,"'?");const ot=st.toLowerCase();(nt.startsWith(ot)||ot.startsWith(nt))&&(rt=rt||"Did you mean '".concat(it.id,".").concat(st,"'?"))}return rt}function normalizeOptionsInternal(tt,et,nt){const it={...tt.options||{}};return addUrlOptions(it,nt),it.log===null&&(it.log=new NullLog),mergeNestedFields(it,getGlobalLoaderOptions()),mergeNestedFields(it,et),it}function mergeNestedFields(tt,et){for(const nt in et)if(nt in et){const rt=et[nt];isPureObject(rt)&&isPureObject(tt[nt])?tt[nt]={...tt[nt],...et[nt]}:tt[nt]=et[nt]}}function addUrlOptions(tt,et){et&&!("baseUri"in tt)&&(tt.baseUri=et)}function isLoaderObject(tt){var et;return tt?(Array.isArray(tt)&&(tt=tt[0]),Array.isArray((et=tt)===null||et===void 0?void 0:et.extensions)):!1}function normalizeLoader(tt){var et,nt;assert$a(tt,"null loader"),assert$a(isLoaderObject(tt),"invalid loader");let rt;return Array.isArray(tt)&&(rt=tt[1],tt=tt[0],tt={...tt,options:{...tt.options,...rt}}),((et=tt)!==null&&et!==void 0&&et.parseTextSync||(nt=tt)!==null&&nt!==void 0&&nt.parseText)&&(tt.text=!0),tt.text||(tt.binary=!0),tt}const getGlobalLoaderRegistry=()=>{const tt=getGlobalLoaderState();return tt.loaderRegistry=tt.loaderRegistry||[],tt.loaderRegistry};function registerLoaders(tt){const et=getGlobalLoaderRegistry();tt=Array.isArray(tt)?tt:[tt];for(const nt of tt){const rt=normalizeLoader(nt);et.find(it=>rt===it)||et.unshift(rt)}}function getRegisteredLoaders(){return getGlobalLoaderRegistry()}const log$5=new Log({id:"loaders.gl"}),EXT_PATTERN=/\.([^.]+)$/;async function selectLoader(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nt=arguments.length>2?arguments[2]:void 0,rt=arguments.length>3?arguments[3]:void 0;if(!validHTTPResponse(tt))return null;let it=selectLoaderSync(tt,et,{...nt,nothrow:!0},rt);if(it)return it;if(isBlob$2(tt)&&(tt=await tt.slice(0,10).arrayBuffer(),it=selectLoaderSync(tt,et,nt,rt)),!it&&!(nt!=null&&nt.nothrow))throw new Error(getNoValidLoaderMessage(tt));return it}function selectLoaderSync(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nt=arguments.length>2?arguments[2]:void 0,rt=arguments.length>3?arguments[3]:void 0;if(!validHTTPResponse(tt))return null;if(et&&!Array.isArray(et))return normalizeLoader(et);let it=[];et&&(it=it.concat(et)),nt!=null&&nt.ignoreRegisteredLoaders||it.push(...getRegisteredLoaders()),normalizeLoaders(it);const st=selectLoaderInternal(tt,it,nt,rt);if(!st&&!(nt!=null&&nt.nothrow))throw new Error(getNoValidLoaderMessage(tt));return st}function selectLoaderInternal(tt,et,nt,rt){const{url:it,type:st}=getResourceUrlAndType(tt),ot=it||(rt==null?void 0:rt.url);let at=null,lt="";if(nt!=null&&nt.mimeType&&(at=findLoaderByMIMEType(et,nt==null?void 0:nt.mimeType),lt="match forced by supplied MIME type ".concat(nt==null?void 0:nt.mimeType)),at=at||findLoaderByUrl(et,ot),lt=lt||(at?"matched url ".concat(ot):""),at=at||findLoaderByMIMEType(et,st),lt=lt||(at?"matched MIME type ".concat(st):""),at=at||findLoaderByInitialBytes(et,tt),lt=lt||(at?"matched initial data ".concat(getFirstCharacters(tt)):""),at=at||findLoaderByMIMEType(et,nt==null?void 0:nt.fallbackMimeType),lt=lt||(at?"matched fallback MIME type ".concat(st):""),lt){var ut;log$5.log(1,"selectLoader selected ".concat((ut=at)===null||ut===void 0?void 0:ut.name,": ").concat(lt,"."))}return at}function validHTTPResponse(tt){return!(tt instanceof Response&&tt.status===204)}function getNoValidLoaderMessage(tt){const{url:et,type:nt}=getResourceUrlAndType(tt);let rt="No valid loader found (";rt+=et?"".concat(filename(et),", "):"no url provided, ",rt+="MIME type: ".concat(nt?'"'.concat(nt,'"'):"not provided",", ");const it=tt?getFirstCharacters(tt):"";return rt+=it?' first bytes: "'.concat(it,'"'):"first bytes: not available",rt+=")",rt}function normalizeLoaders(tt){for(const et of tt)normalizeLoader(et)}function findLoaderByUrl(tt,et){const nt=et&&EXT_PATTERN.exec(et),rt=nt&&nt[1];return rt?findLoaderByExtension(tt,rt):null}function findLoaderByExtension(tt,et){et=et.toLowerCase();for(const nt of tt)for(const rt of nt.extensions)if(rt.toLowerCase()===et)return nt;return null}function findLoaderByMIMEType(tt,et){for(const nt of tt)if(nt.mimeTypes&&nt.mimeTypes.includes(et)||et==="application/x.".concat(nt.id))return nt;return null}function findLoaderByInitialBytes(tt,et){if(!et)return null;for(const nt of tt)if(typeof et=="string"){if(testDataAgainstText(et,nt))return nt}else if(ArrayBuffer.isView(et)){if(testDataAgainstBinary(et.buffer,et.byteOffset,nt))return nt}else if(et instanceof ArrayBuffer&&testDataAgainstBinary(et,0,nt))return nt;return null}function testDataAgainstText(tt,et){return et.testText?et.testText(tt):(Array.isArray(et.tests)?et.tests:[et.tests]).some(rt=>tt.startsWith(rt))}function testDataAgainstBinary(tt,et,nt){return(Array.isArray(nt.tests)?nt.tests:[nt.tests]).some(it=>testBinary(tt,et,nt,it))}function testBinary(tt,et,nt,rt){if(rt instanceof ArrayBuffer)return compareArrayBuffers(rt,tt,rt.byteLength);switch(typeof rt){case"function":return rt(tt,nt);case"string":const it=getMagicString$1(tt,et,rt.length);return rt===it;default:return!1}}function getFirstCharacters(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof tt=="string"?tt.slice(0,et):ArrayBuffer.isView(tt)?getMagicString$1(tt.buffer,tt.byteOffset,et):tt instanceof ArrayBuffer?getMagicString$1(tt,0,et):""}function getMagicString$1(tt,et,nt){if(tt.byteLength<et+nt)return"";const rt=new DataView(tt);let it="";for(let st=0;st<nt;st++)it+=String.fromCharCode(rt.getUint8(et+st));return it}const DEFAULT_CHUNK_SIZE$2=256*1024;function*makeStringIterator(tt,et){const nt=(et==null?void 0:et.chunkSize)||DEFAULT_CHUNK_SIZE$2;let rt=0;const it=new TextEncoder;for(;rt<tt.length;){const st=Math.min(tt.length-rt,nt),ot=tt.slice(rt,rt+st);rt+=st,yield it.encode(ot)}}const DEFAULT_CHUNK_SIZE$1=256*1024;function*makeArrayBufferIterator(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{chunkSize:nt=DEFAULT_CHUNK_SIZE$1}=et;let rt=0;for(;rt<tt.byteLength;){const it=Math.min(tt.byteLength-rt,nt),st=new ArrayBuffer(it),ot=new Uint8Array(tt,rt,it);new Uint8Array(st).set(ot),rt+=it,yield st}}const DEFAULT_CHUNK_SIZE=1024*1024;async function*makeBlobIterator(tt,et){const nt=(et==null?void 0:et.chunkSize)||DEFAULT_CHUNK_SIZE;let rt=0;for(;rt<tt.size;){const it=rt+nt,st=await tt.slice(rt,it).arrayBuffer();rt=it,yield st}}function makeStreamIterator(tt,et){return isBrowser$5?makeBrowserStreamIterator(tt,et):makeNodeStreamIterator(tt)}async function*makeBrowserStreamIterator(tt,et){const nt=tt.getReader();let rt;try{for(;;){const it=rt||nt.read();et!=null&&et._streamReadAhead&&(rt=nt.read());const{done:st,value:ot}=await it;if(st)return;yield toArrayBuffer(ot)}}catch{nt.releaseLock()}}async function*makeNodeStreamIterator(tt,et){for await(const nt of tt)yield toArrayBuffer(nt)}function makeIterator(tt,et){if(typeof tt=="string")return makeStringIterator(tt,et);if(tt instanceof ArrayBuffer)return makeArrayBufferIterator(tt,et);if(isBlob$2(tt))return makeBlobIterator(tt,et);if(isReadableStream(tt))return makeStreamIterator(tt,et);if(isResponse(tt))return makeStreamIterator(tt.body,et);throw new Error("makeIterator")}const ERR_DATA="Cannot convert supplied data type";function getArrayBufferOrStringFromDataSync(tt,et,nt){if(et.text&&typeof tt=="string")return tt;if(isBuffer$4(tt)&&(tt=tt.buffer),tt instanceof ArrayBuffer){const rt=tt;return et.text&&!et.binary?new TextDecoder("utf8").decode(rt):rt}if(ArrayBuffer.isView(tt)){if(et.text&&!et.binary)return new TextDecoder("utf8").decode(tt);let rt=tt.buffer;const it=tt.byteLength||tt.length;return(tt.byteOffset!==0||it!==rt.byteLength)&&(rt=rt.slice(tt.byteOffset,tt.byteOffset+it)),rt}throw new Error(ERR_DATA)}async function getArrayBufferOrStringFromData(tt,et,nt){const rt=tt instanceof ArrayBuffer||ArrayBuffer.isView(tt);if(typeof tt=="string"||rt)return getArrayBufferOrStringFromDataSync(tt,et);if(isBlob$2(tt)&&(tt=await makeResponse(tt)),isResponse(tt)){const it=tt;return await checkResponse(it),et.binary?await it.arrayBuffer():await it.text()}if(isReadableStream(tt)&&(tt=makeIterator(tt,nt)),isIterable(tt)||isAsyncIterable$1(tt))return concatenateArrayBuffersAsync(tt);throw new Error(ERR_DATA)}function getLoaderContext(tt,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(nt)return nt;const rt={fetch:getFetchFunction(et,tt),...tt};return Array.isArray(rt.loaders)||(rt.loaders=null),rt}function getLoadersFromContext(tt,et){if(!et&&tt&&!Array.isArray(tt))return tt;let nt;if(tt&&(nt=Array.isArray(tt)?tt:[tt]),et&&et.loaders){const rt=Array.isArray(et.loaders)?et.loaders:[et.loaders];nt=nt?[...nt,...rt]:rt}return nt&&nt.length?nt:null}async function parse$2(tt,et,nt,rt){assert$9(!rt||typeof rt=="object"),et&&!Array.isArray(et)&&!isLoaderObject(et)&&(rt=void 0,nt=et,et=void 0),tt=await tt,nt=nt||{};const{url:it}=getResourceUrlAndType(tt),ot=getLoadersFromContext(et,rt),at=await selectLoader(tt,ot,nt);return at?(nt=normalizeOptions(nt,at,ot,it),rt=getLoaderContext({url:it,parse:parse$2,loaders:ot},nt,rt),await parseWithLoader(at,tt,nt,rt)):null}async function parseWithLoader(tt,et,nt,rt){if(validateWorkerVersion(tt),isResponse(et)){const it=et,{ok:st,redirected:ot,status:at,statusText:lt,type:ut,url:ft}=it,dt=Object.fromEntries(it.headers.entries());rt.response={headers:dt,ok:st,redirected:ot,status:at,statusText:lt,type:ut,url:ft}}if(et=await getArrayBufferOrStringFromData(et,tt,nt),tt.parseTextSync&&typeof et=="string")return nt.dataType="text",tt.parseTextSync(et,nt,rt,tt);if(canParseWithWorker(tt,nt))return await parseWithWorker(tt,et,nt,rt,parse$2);if(tt.parseText&&typeof et=="string")return await tt.parseText(et,nt,rt,tt);if(tt.parse)return await tt.parse(et,nt,rt,tt);throw assert$9(!tt.parseSync),new Error("".concat(tt.id," loader - no parser found and worker is disabled"))}async function load(tt,et,nt,rt){!Array.isArray(et)&&!isLoaderObject(et)&&(nt=et,et=void 0);const it=getFetchFunction(nt);let st=tt;return typeof tt=="string"&&(st=await it(tt)),isBlob$2(tt)&&(st=await it(tt)),await parse$2(st,et,nt)}const VERSION$7="3.3.3",{_parseImageNode}=globalThis,IMAGE_SUPPORTED=typeof Image<"u",IMAGE_BITMAP_SUPPORTED=typeof ImageBitmap<"u",NODE_IMAGE_SUPPORTED=!!_parseImageNode,DATA_SUPPORTED=isBrowser$5?!0:NODE_IMAGE_SUPPORTED;function isImageTypeSupported(tt){switch(tt){case"auto":return IMAGE_BITMAP_SUPPORTED||IMAGE_SUPPORTED||DATA_SUPPORTED;case"imagebitmap":return IMAGE_BITMAP_SUPPORTED;case"image":return IMAGE_SUPPORTED;case"data":return DATA_SUPPORTED;default:throw new Error("@loaders.gl/images: image ".concat(tt," not supported in this environment"))}}function getDefaultImageType(){if(IMAGE_BITMAP_SUPPORTED)return"imagebitmap";if(IMAGE_SUPPORTED)return"image";if(DATA_SUPPORTED)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function getImageType(tt){const et=getImageTypeOrNull(tt);if(!et)throw new Error("Not an image");return et}function getImageData(tt){switch(getImageType(tt)){case"data":return tt;case"image":case"imagebitmap":const et=document.createElement("canvas"),nt=et.getContext("2d");if(!nt)throw new Error("getImageData");return et.width=tt.width,et.height=tt.height,nt.drawImage(tt,0,0),nt.getImageData(0,0,tt.width,tt.height);default:throw new Error("getImageData")}}function getImageTypeOrNull(tt){return typeof ImageBitmap<"u"&&tt instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&tt instanceof Image?"image":tt&&typeof tt=="object"&&tt.data&&tt.width&&tt.height?"data":null}const SVG_DATA_URL_PATTERN=/^data:image\/svg\+xml/,SVG_URL_PATTERN=/\.svg((\?|#).*)?$/;function isSVG(tt){return tt&&(SVG_DATA_URL_PATTERN.test(tt)||SVG_URL_PATTERN.test(tt))}function getBlobOrSVGDataUrl(tt,et){if(isSVG(et)){let rt=new TextDecoder().decode(tt);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(rt=unescape(encodeURIComponent(rt)))}catch(st){throw new Error(st.message)}return"data:image/svg+xml;base64,".concat(btoa(rt))}return getBlob(tt,et)}function getBlob(tt,et){if(isSVG(et))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(tt)])}async function parseToImage(tt,et,nt){const rt=getBlobOrSVGDataUrl(tt,nt),it=self.URL||self.webkitURL,st=typeof rt!="string"&&it.createObjectURL(rt);try{return await loadToImage(st||rt,et)}finally{st&&it.revokeObjectURL(st)}}async function loadToImage(tt,et){const nt=new Image;return nt.src=tt,et.image&&et.image.decode&&nt.decode?(await nt.decode(),nt):await new Promise((rt,it)=>{try{nt.onload=()=>rt(nt),nt.onerror=st=>it(new Error("Could not load image ".concat(tt,": ").concat(st)))}catch(st){it(st)}})}const EMPTY_OBJECT={};let imagebitmapOptionsSupported=!0;async function parseToImageBitmap(tt,et,nt){let rt;isSVG(nt)?rt=await parseToImage(tt,et,nt):rt=getBlob(tt,nt);const it=et&&et.imagebitmap;return await safeCreateImageBitmap(rt,it)}async function safeCreateImageBitmap(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if((isEmptyObject(et)||!imagebitmapOptionsSupported)&&(et=null),et)try{return await createImageBitmap(tt,et)}catch(nt){console.warn(nt),imagebitmapOptionsSupported=!1}return await createImageBitmap(tt)}function isEmptyObject(tt){for(const et in tt||EMPTY_OBJECT)return!1;return!0}const BIG_ENDIAN=!1,LITTLE_ENDIAN=!0;function getBinaryImageMetadata(tt){const et=toDataView(tt);return getPngMetadata(et)||getJpegMetadata(et)||getGifMetadata(et)||getBmpMetadata(et)}function getPngMetadata(tt){const et=toDataView(tt);return et.byteLength>=24&&et.getUint32(0,BIG_ENDIAN)===2303741511?{mimeType:"image/png",width:et.getUint32(16,BIG_ENDIAN),height:et.getUint32(20,BIG_ENDIAN)}:null}function getGifMetadata(tt){const et=toDataView(tt);return et.byteLength>=10&&et.getUint32(0,BIG_ENDIAN)===1195984440?{mimeType:"image/gif",width:et.getUint16(6,LITTLE_ENDIAN),height:et.getUint16(8,LITTLE_ENDIAN)}:null}function getBmpMetadata(tt){const et=toDataView(tt);return et.byteLength>=14&&et.getUint16(0,BIG_ENDIAN)===16973&&et.getUint32(2,LITTLE_ENDIAN)===et.byteLength?{mimeType:"image/bmp",width:et.getUint32(18,LITTLE_ENDIAN),height:et.getUint32(22,LITTLE_ENDIAN)}:null}function getJpegMetadata(tt){const et=toDataView(tt);if(!(et.byteLength>=3&&et.getUint16(0,BIG_ENDIAN)===65496&&et.getUint8(2)===255))return null;const{tableMarkers:rt,sofMarkers:it}=getJpegMarkers();let st=2;for(;st+9<et.byteLength;){const ot=et.getUint16(st,BIG_ENDIAN);if(it.has(ot))return{mimeType:"image/jpeg",height:et.getUint16(st+5,BIG_ENDIAN),width:et.getUint16(st+7,BIG_ENDIAN)};if(!rt.has(ot))return null;st+=2,st+=et.getUint16(st,BIG_ENDIAN)}return null}function getJpegMarkers(){const tt=new Set([65499,65476,65484,65501,65534]);for(let nt=65504;nt<65520;++nt)tt.add(nt);return{tableMarkers:tt,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function toDataView(tt){if(tt instanceof DataView)return tt;if(ArrayBuffer.isView(tt))return new DataView(tt.buffer);if(tt instanceof ArrayBuffer)return new DataView(tt);throw new Error("toDataView")}async function parseToNodeImage(tt,et){const{mimeType:nt}=getBinaryImageMetadata(tt)||{},rt=globalThis._parseImageNode;return assert$a(rt),await rt(tt,nt)}async function parseImage(tt,et,nt){et=et||{};const it=(et.image||{}).type||"auto",{url:st}=nt||{},ot=getLoadableImageType(it);let at;switch(ot){case"imagebitmap":at=await parseToImageBitmap(tt,et,st);break;case"image":at=await parseToImage(tt,et,st);break;case"data":at=await parseToNodeImage(tt);break;default:assert$a(!1)}return it==="data"&&(at=getImageData(at)),at}function getLoadableImageType(tt){switch(tt){case"auto":case"data":return getDefaultImageType();default:return isImageTypeSupported(tt),tt}}const EXTENSIONS$1=["png","jpg","jpeg","gif","webp","bmp","ico","svg"],MIME_TYPES=["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],DEFAULT_IMAGE_LOADER_OPTIONS={image:{type:"auto",decode:!0}},ImageLoader={id:"image",module:"images",name:"Images",version:VERSION$7,mimeTypes:MIME_TYPES,extensions:EXTENSIONS$1,parse:parseImage,tests:[tt=>!!getBinaryImageMetadata(new DataView(tt))],options:DEFAULT_IMAGE_LOADER_OPTIONS},NODE_FORMAT_SUPPORT=["image/png","image/jpeg","image/gif"],mimeTypeSupported={};function _isImageFormatSupported(tt){return mimeTypeSupported[tt]===void 0&&(mimeTypeSupported[tt]=checkFormatSupport(tt)),mimeTypeSupported[tt]}function checkFormatSupport(tt){switch(tt){case"image/webp":return checkWebPSupport();case"image/svg":return isBrowser$5;default:if(!isBrowser$5){const{_parseImageNode:et}=globalThis;return!!et&&NODE_FORMAT_SUPPORT.includes(tt)}return!0}}function checkWebPSupport(){if(!isBrowser$5)return!1;try{return document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")===0}catch{return!1}}const log$4=new Log({id:"deck"});let loggers={};function register(tt){loggers=tt}function debug(tt,et,nt,rt){log$4.level>0&&loggers[tt]&&loggers[tt].call(null,et,nt,rt)}function isJSON(tt){const et=tt[0],nt=tt[tt.length-1];return et==="{"&&nt==="}"||et==="["&&nt==="]"}const jsonLoader={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:isJSON,parseTextSync:JSON.parse};function checkVersion(){const tt="8.9.12",et=globalThis.deck&&globalThis.deck.VERSION;if(et&&et!==tt)throw new Error("deck.gl - multiple versions detected: ".concat(et," vs ").concat(tt));return et||(log$4.log(1,"deck.gl ".concat(tt))(),globalThis.deck={...globalThis.deck,VERSION:tt,version:tt,log:log$4,_registerLoggers:register},registerLoaders([jsonLoader,[ImageLoader,{imagebitmap:{premultiplyAlpha:"none"}}]])),tt}const VERSION$6=checkVersion(),COORDINATE_SYSTEM={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(COORDINATE_SYSTEM,"IDENTITY",{get:()=>(log$4.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const PROJECTION_MODE={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},UNIT={common:0,meters:1,pixels:2},EVENTS={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},OPERATION={DRAW:"draw",MASK:"mask",TERRAIN:"terrain"},log$3=new Log({id:"luma.gl"});function assert$7(tt,et){if(!tt)throw new Error(et||"luma.gl: assertion failed.")}const ERR_CONTEXT="Invalid WebGLRenderingContext",ERR_WEBGL2="Requires WebGL2";function isWebGL(tt){return typeof WebGLRenderingContext<"u"&&tt instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&tt instanceof WebGL2RenderingContext?!0:!!(tt&&Number.isFinite(tt._version))}function isWebGL2$1(tt){return typeof WebGL2RenderingContext<"u"&&tt instanceof WebGL2RenderingContext?!0:!!(tt&&tt._version===2)}function getWebGL2Context(tt){return isWebGL2$1(tt)?tt:null}function assertWebGLContext(tt){return assert$7(isWebGL(tt),ERR_CONTEXT),tt}function assertWebGL2Context(tt){return assert$7(isWebGL2$1(tt),ERR_WEBGL2),tt}const glErrorShadow={};function error(tt){globalThis.console&&globalThis.console.error&&globalThis.console.error(tt)}function log$2(tt){globalThis.console&&globalThis.console.log&&globalThis.console.log(tt)}function synthesizeGLError(tt,et){glErrorShadow[tt]=!0,et!==void 0&&error(et)}function wrapGLError(tt){const et=tt.getError;tt.getError=function(){let rt;do rt=et.apply(tt),rt!==0&&(glErrorShadow[rt]=!0);while(rt!==0);for(rt in glErrorShadow)if(glErrorShadow[rt])return delete glErrorShadow[rt],parseInt(rt,10);return 0}}const WebGLVertexArrayObjectOES=function tt(et){const nt=et.gl;this.ext=et,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(et.maxVertexAttribs);for(let rt=0;rt<this.attribs.length;rt++){const it=new tt.VertexAttrib(nt);this.attribs[rt]=it}this.maxAttrib=0};WebGLVertexArrayObjectOES.VertexAttrib=function(et){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()};WebGLVertexArrayObjectOES.VertexAttrib.prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const OESVertexArrayObject=function(et){const nt=this;this.gl=et,wrapGLError(et);const rt=this.original={getParameter:et.getParameter,enableVertexAttribArray:et.enableVertexAttribArray,disableVertexAttribArray:et.disableVertexAttribArray,bindBuffer:et.bindBuffer,getVertexAttrib:et.getVertexAttrib,vertexAttribPointer:et.vertexAttribPointer};et.getParameter=function(st){return st===nt.VERTEX_ARRAY_BINDING_OES?nt.currentVertexArrayObject===nt.defaultVertexArrayObject?null:nt.currentVertexArrayObject:rt.getParameter.apply(this,arguments)},et.enableVertexAttribArray=function(st){const ot=nt.currentVertexArrayObject;ot.maxAttrib=Math.max(ot.maxAttrib,st);const at=ot.attribs[st];return at.enabled=!0,rt.enableVertexAttribArray.apply(this,arguments)},et.disableVertexAttribArray=function(st){const ot=nt.currentVertexArrayObject;ot.maxAttrib=Math.max(ot.maxAttrib,st);const at=ot.attribs[st];return at.enabled=!1,rt.disableVertexAttribArray.apply(this,arguments)},et.bindBuffer=function(st,ot){switch(st){case 34962:nt.currentArrayBuffer=ot;break;case 34963:nt.currentVertexArrayObject.elementArrayBuffer=ot;break}return rt.bindBuffer.apply(this,arguments)},et.getVertexAttrib=function(st,ot){const lt=nt.currentVertexArrayObject.attribs[st];switch(ot){case 34975:return lt.buffer;case 34338:return lt.enabled;case 34339:return lt.size;case 34340:return lt.stride;case 34341:return lt.type;case 34922:return lt.normalized;default:return rt.getVertexAttrib.apply(this,arguments)}},et.vertexAttribPointer=function(st,ot,at,lt,ut,ft){const dt=nt.currentVertexArrayObject;dt.maxAttrib=Math.max(dt.maxAttrib,st);const ht=dt.attribs[st];return ht.buffer=nt.currentArrayBuffer,ht.size=ot,ht.type=at,ht.normalized=lt,ht.stride=ut,ht.offset=ft,ht.recache(),rt.vertexAttribPointer.apply(this,arguments)},et.instrumentExtension&&et.instrumentExtension(this,"OES_vertex_array_object"),et.canvas&&et.canvas.addEventListener("webglcontextrestored",()=>{log$2("OESVertexArrayObject emulation library context restored"),nt.reset_()},!0),this.reset_()};OESVertexArrayObject.prototype.VERTEX_ARRAY_BINDING_OES=34229;OESVertexArrayObject.prototype.reset_=function(){if(this.vertexArrayObjects!==void 0)for(let rt=0;rt<this.vertexArrayObjects.length;++rt)this.vertexArrayObjects.isAlive=!1;const nt=this.gl;this.maxVertexAttribs=nt.getParameter(34921),this.defaultVertexArrayObject=new WebGLVertexArrayObjectOES(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)};OESVertexArrayObject.prototype.createVertexArrayOES=function(){const et=new WebGLVertexArrayObjectOES(this);return this.vertexArrayObjects.push(et),et};OESVertexArrayObject.prototype.deleteVertexArrayOES=function(et){et.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(et),1),this.currentVertexArrayObject===et&&this.bindVertexArrayOES(null)};OESVertexArrayObject.prototype.isVertexArrayOES=function(et){return!!(et&&et instanceof WebGLVertexArrayObjectOES&&et.hasBeenBound&&et.ext===this)};OESVertexArrayObject.prototype.bindVertexArrayOES=function(et){const nt=this.gl;if(et&&!et.isAlive){synthesizeGLError(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");return}const rt=this.original,it=this.currentVertexArrayObject;this.currentVertexArrayObject=et||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const st=this.currentVertexArrayObject;if(it===st)return;(!it||st.elementArrayBuffer!==it.elementArrayBuffer)&&rt.bindBuffer.call(nt,34963,st.elementArrayBuffer);let ot=this.currentArrayBuffer;const at=Math.max(it?it.maxAttrib:0,st.maxAttrib);for(let lt=0;lt<=at;lt++){const ut=st.attribs[lt],ft=it?it.attribs[lt]:null;if((!it||ut.enabled!==ft.enabled)&&(ut.enabled?rt.enableVertexAttribArray.call(nt,lt):rt.disableVertexAttribArray.call(nt,lt)),ut.enabled){let dt=!1;(!it||ut.buffer!==ft.buffer)&&(ot!==ut.buffer&&(rt.bindBuffer.call(nt,34962,ut.buffer),ot=ut.buffer),dt=!0),(dt||ut.cached!==ft.cached)&&rt.vertexAttribPointer.call(nt,lt,ut.size,ut.type,ut.normalized,ut.stride,ut.offset)}}this.currentArrayBuffer!==ot&&rt.bindBuffer.call(nt,34962,this.currentArrayBuffer)};function polyfillVertexArrayObject(tt){if(typeof tt.createVertexArray=="function")return;const et=tt.getSupportedExtensions;tt.getSupportedExtensions=function(){const it=et.call(this)||[];return it.indexOf("OES_vertex_array_object")<0&&it.push("OES_vertex_array_object"),it};const nt=tt.getExtension;tt.getExtension=function(it){const st=nt.call(this,it);return st||(it!=="OES_vertex_array_object"?null:(tt.__OESVertexArrayObject||(this.__OESVertexArrayObject=new OESVertexArrayObject(this)),this.__OESVertexArrayObject))}}const OES_element_index="OES_element_index",WEBGL_draw_buffers$1="WEBGL_draw_buffers",EXT_disjoint_timer_query$1="EXT_disjoint_timer_query",EXT_disjoint_timer_query_webgl2="EXT_disjoint_timer_query_webgl2",EXT_texture_filter_anisotropic$1="EXT_texture_filter_anisotropic",WEBGL_debug_renderer_info="WEBGL_debug_renderer_info",GL_FRAGMENT_SHADER_DERIVATIVE_HINT=35723,GL_DONT_CARE=4352,GL_GPU_DISJOINT_EXT$1=36795,GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,GL_UNMASKED_VENDOR_WEBGL=37445,GL_UNMASKED_RENDERER_WEBGL=37446,getWebGL2ValueOrZero=tt=>isWebGL2$1(tt)?void 0:0,WEBGL_PARAMETERS={[3074]:tt=>isWebGL2$1(tt)?void 0:36064,[GL_FRAGMENT_SHADER_DERIVATIVE_HINT]:tt=>isWebGL2$1(tt)?void 0:GL_DONT_CARE,[35977]:getWebGL2ValueOrZero,[32937]:getWebGL2ValueOrZero,[GL_GPU_DISJOINT_EXT$1]:(tt,et)=>{const nt=isWebGL2$1(tt)?tt.getExtension(EXT_disjoint_timer_query_webgl2):tt.getExtension(EXT_disjoint_timer_query$1);return nt&&nt.GPU_DISJOINT_EXT?et(nt.GPU_DISJOINT_EXT):0},[GL_UNMASKED_VENDOR_WEBGL]:(tt,et)=>{const nt=tt.getExtension(WEBGL_debug_renderer_info);return et(nt&&nt.UNMASKED_VENDOR_WEBGL||7936)},[GL_UNMASKED_RENDERER_WEBGL]:(tt,et)=>{const nt=tt.getExtension(WEBGL_debug_renderer_info);return et(nt&&nt.UNMASKED_RENDERER_WEBGL||7937)},[GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT]:(tt,et)=>{const nt=tt.luma.extensions[EXT_texture_filter_anisotropic$1];return nt?et(nt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},[32883]:getWebGL2ValueOrZero,[35071]:getWebGL2ValueOrZero,[37447]:getWebGL2ValueOrZero,[36063]:(tt,et)=>{if(!isWebGL2$1(tt)){const nt=tt.getExtension(WEBGL_draw_buffers$1);return nt?et(nt.MAX_COLOR_ATTACHMENTS_WEBGL):0}},[35379]:getWebGL2ValueOrZero,[35374]:getWebGL2ValueOrZero,[35377]:getWebGL2ValueOrZero,[34852]:tt=>{if(!isWebGL2$1(tt)){const et=tt.getExtension(WEBGL_draw_buffers$1);return et?et.MAX_DRAW_BUFFERS_WEBGL:0}},[36203]:tt=>tt.getExtension(OES_element_index)?2147483647:65535,[33001]:tt=>tt.getExtension(OES_element_index)?16777216:65535,[33e3]:tt=>16777216,[37157]:getWebGL2ValueOrZero,[35373]:getWebGL2ValueOrZero,[35657]:getWebGL2ValueOrZero,[36183]:getWebGL2ValueOrZero,[37137]:getWebGL2ValueOrZero,[34045]:getWebGL2ValueOrZero,[35978]:getWebGL2ValueOrZero,[35979]:getWebGL2ValueOrZero,[35968]:getWebGL2ValueOrZero,[35376]:getWebGL2ValueOrZero,[35375]:getWebGL2ValueOrZero,[35659]:getWebGL2ValueOrZero,[37154]:getWebGL2ValueOrZero,[35371]:getWebGL2ValueOrZero,[35658]:getWebGL2ValueOrZero,[35076]:getWebGL2ValueOrZero,[35077]:getWebGL2ValueOrZero,[35380]:getWebGL2ValueOrZero};function getParameterPolyfill(tt,et,nt){const rt=WEBGL_PARAMETERS[nt],it=typeof rt=="function"?rt(tt,et,nt):rt;return it!==void 0?it:et(nt)}const OES_vertex_array_object="OES_vertex_array_object",ANGLE_instanced_arrays="ANGLE_instanced_arrays",WEBGL_draw_buffers="WEBGL_draw_buffers",EXT_disjoint_timer_query="EXT_disjoint_timer_query",EXT_texture_filter_anisotropic="EXT_texture_filter_anisotropic",ERR_VAO_NOT_SUPPORTED="VertexArray requires WebGL2 or OES_vertex_array_object extension";function getExtensionData(tt,et){return{webgl2:isWebGL2$1(tt),ext:tt.getExtension(et)}}const WEBGL2_CONTEXT_POLYFILLS={[OES_vertex_array_object]:{meta:{suffix:"OES"},createVertexArray:()=>{assert$7(!1,ERR_VAO_NOT_SUPPORTED)},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[ANGLE_instanced_arrays]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(tt,et){assert$7(et===0,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},[WEBGL_draw_buffers]:{meta:{suffix:"WEBGL"},drawBuffers:()=>{assert$7(!1)}},[EXT_disjoint_timer_query]:{meta:{suffix:"EXT"},createQuery:()=>{assert$7(!1)},deleteQuery:()=>{assert$7(!1)},beginQuery:()=>{assert$7(!1)},endQuery:()=>{},getQuery(tt,et){return this.getQueryObject(tt,et)},getQueryParameter(tt,et){return this.getQueryObject(tt,et)},getQueryObject:()=>{}}},WEBGL2_CONTEXT_OVERRIDES={readBuffer:(tt,et,nt)=>{isWebGL2$1(tt)&&et(nt)},getVertexAttrib:(tt,et,nt,rt)=>{const{webgl2:it,ext:st}=getExtensionData(tt,ANGLE_instanced_arrays);let ot;switch(rt){case 35069:ot=it?void 0:!1;break;case 35070:ot=!it&&!st?0:void 0;break}return ot!==void 0?ot:et(nt,rt)},getProgramParameter:(tt,et,nt,rt)=>{if(!isWebGL2$1(tt))switch(rt){case 35967:return 35981;case 35971:return 0;case 35382:return 0}return et(nt,rt)},getInternalformatParameter:(tt,et,nt,rt,it)=>{if(!isWebGL2$1(tt))switch(it){case 32937:return new Int32Array([0])}return tt.getInternalformatParameter(nt,rt,it)},getTexParameter(tt,et,nt,rt){switch(rt){case 34046:const{extensions:it}=tt.luma,st=it[EXT_texture_filter_anisotropic];rt=st&&st.TEXTURE_MAX_ANISOTROPY_EXT||34046;break}return et(nt,rt)},getParameter:getParameterPolyfill,hint(tt,et,nt,rt){return et(nt,rt)}};function polyfillContext(tt){tt.luma=tt.luma||{};const{luma:et}=tt;return et.polyfilled||(polyfillVertexArrayObject(tt),initializeExtensions(tt),installPolyfills(tt,WEBGL2_CONTEXT_POLYFILLS),installOverrides(tt,{target:et,target2:tt}),et.polyfilled=!0),tt}globalThis.polyfillContext=polyfillContext;function initializeExtensions(tt){tt.luma.extensions={};const et=tt.getSupportedExtensions()||[];for(const nt of et)tt.luma[nt]=tt.getExtension(nt)}function installOverrides(tt,et){let{target:nt,target2:rt}=et;Object.keys(WEBGL2_CONTEXT_OVERRIDES).forEach(it=>{if(typeof WEBGL2_CONTEXT_OVERRIDES[it]=="function"){const st=tt[it]?tt[it].bind(tt):()=>{},ot=WEBGL2_CONTEXT_OVERRIDES[it].bind(null,tt,st);nt[it]=ot,rt[it]=ot}})}function installPolyfills(tt,et){for(const nt of Object.getOwnPropertyNames(et))nt!=="overrides"&&polyfillExtension(tt,{extension:nt,target:tt.luma,target2:tt})}function polyfillExtension(tt,et){let{extension:nt,target:rt,target2:it}=et;const st=WEBGL2_CONTEXT_POLYFILLS[nt];assert$7(st);const{meta:ot={}}=st,{suffix:at=""}=ot,lt=tt.getExtension(nt);for(const ut of Object.keys(st)){const ft="".concat(ut).concat(at);let dt=null;ut==="meta"||typeof tt[ut]=="function"||(lt&&typeof lt[ft]=="function"?dt=function(){return lt[ft](...arguments)}:typeof st[ut]=="function"&&(dt=st[ut].bind(rt))),dt&&(rt[ut]=dt,it[ut]=dt)}}const GL_PARAMETER_DEFAULTS={[3042]:!1,[32773]:new Float32Array([0,0,0,0]),[32777]:32774,[34877]:32774,[32969]:1,[32968]:0,[32971]:1,[32970]:0,[3106]:new Float32Array([0,0,0,0]),[3107]:[!0,!0,!0,!0],[2884]:!1,[2885]:1029,[2929]:!1,[2931]:1,[2932]:513,[2928]:new Float32Array([0,1]),[2930]:!0,[3024]:!0,[36006]:null,[2886]:2305,[33170]:4352,[2849]:1,[32823]:!1,[32824]:0,[10752]:0,[32938]:1,[32939]:!1,[3089]:!1,[3088]:new Int32Array([0,0,1024,1024]),[2960]:!1,[2961]:0,[2968]:4294967295,[36005]:4294967295,[2962]:519,[2967]:0,[2963]:4294967295,[34816]:519,[36003]:0,[36004]:4294967295,[2964]:7680,[2965]:7680,[2966]:7680,[34817]:7680,[34818]:7680,[34819]:7680,[2978]:[0,0,1024,1024],[3333]:4,[3317]:4,[37440]:!1,[37441]:!1,[37443]:37444,[35723]:4352,[36010]:null,[35977]:!1,[3330]:0,[3332]:0,[3331]:0,[3314]:0,[32878]:0,[3316]:0,[3315]:0,[32877]:0},enable=(tt,et,nt)=>et?tt.enable(nt):tt.disable(nt),hint=(tt,et,nt)=>tt.hint(nt,et),pixelStorei=(tt,et,nt)=>tt.pixelStorei(nt,et),drawFramebuffer=(tt,et)=>{const nt=isWebGL2$1(tt)?36009:36160;return tt.bindFramebuffer(nt,et)},readFramebuffer=(tt,et)=>tt.bindFramebuffer(36008,et);function isArray$8(tt){return Array.isArray(tt)||ArrayBuffer.isView(tt)}const GL_PARAMETER_SETTERS={[3042]:enable,[32773]:(tt,et)=>tt.blendColor(...et),[32777]:"blendEquation",[34877]:"blendEquation",[32969]:"blendFunc",[32968]:"blendFunc",[32971]:"blendFunc",[32970]:"blendFunc",[3106]:(tt,et)=>tt.clearColor(...et),[3107]:(tt,et)=>tt.colorMask(...et),[2884]:enable,[2885]:(tt,et)=>tt.cullFace(et),[2929]:enable,[2931]:(tt,et)=>tt.clearDepth(et),[2932]:(tt,et)=>tt.depthFunc(et),[2928]:(tt,et)=>tt.depthRange(...et),[2930]:(tt,et)=>tt.depthMask(et),[3024]:enable,[35723]:hint,[36006]:drawFramebuffer,[2886]:(tt,et)=>tt.frontFace(et),[33170]:hint,[2849]:(tt,et)=>tt.lineWidth(et),[32823]:enable,[32824]:"polygonOffset",[10752]:"polygonOffset",[35977]:enable,[32938]:"sampleCoverage",[32939]:"sampleCoverage",[3089]:enable,[3088]:(tt,et)=>tt.scissor(...et),[2960]:enable,[2961]:(tt,et)=>tt.clearStencil(et),[2968]:(tt,et)=>tt.stencilMaskSeparate(1028,et),[36005]:(tt,et)=>tt.stencilMaskSeparate(1029,et),[2962]:"stencilFuncFront",[2967]:"stencilFuncFront",[2963]:"stencilFuncFront",[34816]:"stencilFuncBack",[36003]:"stencilFuncBack",[36004]:"stencilFuncBack",[2964]:"stencilOpFront",[2965]:"stencilOpFront",[2966]:"stencilOpFront",[34817]:"stencilOpBack",[34818]:"stencilOpBack",[34819]:"stencilOpBack",[2978]:(tt,et)=>tt.viewport(...et),[3333]:pixelStorei,[3317]:pixelStorei,[37440]:pixelStorei,[37441]:pixelStorei,[37443]:pixelStorei,[3330]:pixelStorei,[3332]:pixelStorei,[3331]:pixelStorei,[36010]:readFramebuffer,[3314]:pixelStorei,[32878]:pixelStorei,[3316]:pixelStorei,[3315]:pixelStorei,[32877]:pixelStorei,framebuffer:(tt,et)=>{const nt=et&&"handle"in et?et.handle:et;return tt.bindFramebuffer(36160,nt)},blend:(tt,et)=>et?tt.enable(3042):tt.disable(3042),blendColor:(tt,et)=>tt.blendColor(...et),blendEquation:(tt,et)=>{et=isArray$8(et)?et:[et,et],tt.blendEquationSeparate(...et)},blendFunc:(tt,et)=>{et=isArray$8(et)&&et.length===2?[...et,...et]:et,tt.blendFuncSeparate(...et)},clearColor:(tt,et)=>tt.clearColor(...et),clearDepth:(tt,et)=>tt.clearDepth(et),clearStencil:(tt,et)=>tt.clearStencil(et),colorMask:(tt,et)=>tt.colorMask(...et),cull:(tt,et)=>et?tt.enable(2884):tt.disable(2884),cullFace:(tt,et)=>tt.cullFace(et),depthTest:(tt,et)=>et?tt.enable(2929):tt.disable(2929),depthFunc:(tt,et)=>tt.depthFunc(et),depthMask:(tt,et)=>tt.depthMask(et),depthRange:(tt,et)=>tt.depthRange(...et),dither:(tt,et)=>et?tt.enable(3024):tt.disable(3024),derivativeHint:(tt,et)=>{tt.hint(35723,et)},frontFace:(tt,et)=>tt.frontFace(et),mipmapHint:(tt,et)=>tt.hint(33170,et),lineWidth:(tt,et)=>tt.lineWidth(et),polygonOffsetFill:(tt,et)=>et?tt.enable(32823):tt.disable(32823),polygonOffset:(tt,et)=>tt.polygonOffset(...et),sampleCoverage:(tt,et)=>tt.sampleCoverage(...et),scissorTest:(tt,et)=>et?tt.enable(3089):tt.disable(3089),scissor:(tt,et)=>tt.scissor(...et),stencilTest:(tt,et)=>et?tt.enable(2960):tt.disable(2960),stencilMask:(tt,et)=>{et=isArray$8(et)?et:[et,et];const[nt,rt]=et;tt.stencilMaskSeparate(1028,nt),tt.stencilMaskSeparate(1029,rt)},stencilFunc:(tt,et)=>{et=isArray$8(et)&&et.length===3?[...et,...et]:et;const[nt,rt,it,st,ot,at]=et;tt.stencilFuncSeparate(1028,nt,rt,it),tt.stencilFuncSeparate(1029,st,ot,at)},stencilOp:(tt,et)=>{et=isArray$8(et)&&et.length===3?[...et,...et]:et;const[nt,rt,it,st,ot,at]=et;tt.stencilOpSeparate(1028,nt,rt,it),tt.stencilOpSeparate(1029,st,ot,at)},viewport:(tt,et)=>tt.viewport(...et)};function getValue$2(tt,et,nt){return et[tt]!==void 0?et[tt]:nt[tt]}const GL_COMPOSITE_PARAMETER_SETTERS={blendEquation:(tt,et,nt)=>tt.blendEquationSeparate(getValue$2(32777,et,nt),getValue$2(34877,et,nt)),blendFunc:(tt,et,nt)=>tt.blendFuncSeparate(getValue$2(32969,et,nt),getValue$2(32968,et,nt),getValue$2(32971,et,nt),getValue$2(32970,et,nt)),polygonOffset:(tt,et,nt)=>tt.polygonOffset(getValue$2(32824,et,nt),getValue$2(10752,et,nt)),sampleCoverage:(tt,et,nt)=>tt.sampleCoverage(getValue$2(32938,et,nt),getValue$2(32939,et,nt)),stencilFuncFront:(tt,et,nt)=>tt.stencilFuncSeparate(1028,getValue$2(2962,et,nt),getValue$2(2967,et,nt),getValue$2(2963,et,nt)),stencilFuncBack:(tt,et,nt)=>tt.stencilFuncSeparate(1029,getValue$2(34816,et,nt),getValue$2(36003,et,nt),getValue$2(36004,et,nt)),stencilOpFront:(tt,et,nt)=>tt.stencilOpSeparate(1028,getValue$2(2964,et,nt),getValue$2(2965,et,nt),getValue$2(2966,et,nt)),stencilOpBack:(tt,et,nt)=>tt.stencilOpSeparate(1029,getValue$2(34817,et,nt),getValue$2(34818,et,nt),getValue$2(34819,et,nt))},GL_HOOKED_SETTERS={enable:(tt,et)=>tt({[et]:!0}),disable:(tt,et)=>tt({[et]:!1}),pixelStorei:(tt,et,nt)=>tt({[et]:nt}),hint:(tt,et,nt)=>tt({[et]:nt}),bindFramebuffer:(tt,et,nt)=>{switch(et){case 36160:return tt({[36006]:nt,[36010]:nt});case 36009:return tt({[36006]:nt});case 36008:return tt({[36010]:nt});default:return null}},blendColor:(tt,et,nt,rt,it)=>tt({[32773]:new Float32Array([et,nt,rt,it])}),blendEquation:(tt,et)=>tt({[32777]:et,[34877]:et}),blendEquationSeparate:(tt,et,nt)=>tt({[32777]:et,[34877]:nt}),blendFunc:(tt,et,nt)=>tt({[32969]:et,[32968]:nt,[32971]:et,[32970]:nt}),blendFuncSeparate:(tt,et,nt,rt,it)=>tt({[32969]:et,[32968]:nt,[32971]:rt,[32970]:it}),clearColor:(tt,et,nt,rt,it)=>tt({[3106]:new Float32Array([et,nt,rt,it])}),clearDepth:(tt,et)=>tt({[2931]:et}),clearStencil:(tt,et)=>tt({[2961]:et}),colorMask:(tt,et,nt,rt,it)=>tt({[3107]:[et,nt,rt,it]}),cullFace:(tt,et)=>tt({[2885]:et}),depthFunc:(tt,et)=>tt({[2932]:et}),depthRange:(tt,et,nt)=>tt({[2928]:new Float32Array([et,nt])}),depthMask:(tt,et)=>tt({[2930]:et}),frontFace:(tt,et)=>tt({[2886]:et}),lineWidth:(tt,et)=>tt({[2849]:et}),polygonOffset:(tt,et,nt)=>tt({[32824]:et,[10752]:nt}),sampleCoverage:(tt,et,nt)=>tt({[32938]:et,[32939]:nt}),scissor:(tt,et,nt,rt,it)=>tt({[3088]:new Int32Array([et,nt,rt,it])}),stencilMask:(tt,et)=>tt({[2968]:et,[36005]:et}),stencilMaskSeparate:(tt,et,nt)=>tt({[et===1028?2968:36005]:nt}),stencilFunc:(tt,et,nt,rt)=>tt({[2962]:et,[2967]:nt,[2963]:rt,[34816]:et,[36003]:nt,[36004]:rt}),stencilFuncSeparate:(tt,et,nt,rt,it)=>tt({[et===1028?2962:34816]:nt,[et===1028?2967:36003]:rt,[et===1028?2963:36004]:it}),stencilOp:(tt,et,nt,rt)=>tt({[2964]:et,[2965]:nt,[2966]:rt,[34817]:et,[34818]:nt,[34819]:rt}),stencilOpSeparate:(tt,et,nt,rt,it)=>tt({[et===1028?2964:34817]:nt,[et===1028?2965:34818]:rt,[et===1028?2966:34819]:it}),viewport:(tt,et,nt,rt,it)=>tt({[2978]:[et,nt,rt,it]})},isEnabled=(tt,et)=>tt.isEnabled(et),GL_PARAMETER_GETTERS={[3042]:isEnabled,[2884]:isEnabled,[2929]:isEnabled,[3024]:isEnabled,[32823]:isEnabled,[32926]:isEnabled,[32928]:isEnabled,[3089]:isEnabled,[2960]:isEnabled,[35977]:isEnabled};function isObjectEmpty$1(tt){for(const et in tt)return!1;return!0}function deepArrayEqual(tt,et){if(tt===et)return!0;const nt=Array.isArray(tt)||ArrayBuffer.isView(tt),rt=Array.isArray(et)||ArrayBuffer.isView(et);if(nt&&rt&&tt.length===et.length){for(let it=0;it<tt.length;++it)if(tt[it]!==et[it])return!1;return!0}return!1}function installGetterOverride(tt,et){const nt=tt[et].bind(tt);tt[et]=function(){const it=arguments.length<=0?void 0:arguments[0];return it in tt.state.cache?tt.state.enable?tt.state.cache[it]:nt(...arguments):nt(...arguments)},Object.defineProperty(tt[et],"name",{value:"".concat(et,"-from-cache"),configurable:!1})}function installSetterSpy(tt,et,nt){const rt=tt[et].bind(tt);tt[et]=function(){for(var st=arguments.length,ot=new Array(st),at=0;at<st;at++)ot[at]=arguments[at];const{valueChanged:lt,oldValue:ut}=nt(tt.state._updateCache,...ot);return lt&&rt(...ot),ut},Object.defineProperty(tt[et],"name",{value:"".concat(et,"-to-cache"),configurable:!1})}function installProgramSpy(tt){const et=tt.useProgram.bind(tt);tt.useProgram=function(rt){tt.state.program!==rt&&(et(rt),tt.state.program=rt)}}class GLState{constructor(et){let{copyState:nt=!1,log:rt=()=>{}}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=et,this.program=null,this.stateStack=[],this.enable=!0,this.cache=nt?getParameters(et):Object.assign({},GL_PARAMETER_DEFAULTS),this.log=rt,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){assert$7(this.stateStack.length>0);const et=this.stateStack[this.stateStack.length-1];setParameters(this.gl,et),this.stateStack.pop()}_updateCache(et){let nt=!1,rt;const it=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const st in et){assert$7(st!==void 0);const ot=et[st],at=this.cache[st];deepArrayEqual(ot,at)||(nt=!0,rt=at,it&&!(st in it)&&(it[st]=at),this.cache[st]=ot)}return{valueChanged:nt,oldValue:rt}}}function trackContextState(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{enable:nt=!0,copyState:rt}=et;if(assert$7(rt!==void 0),!tt.state){const{polyfillContext:it}=globalThis;it&&it(tt),tt.state=new GLState(tt,{copyState:rt}),installProgramSpy(tt);for(const st in GL_HOOKED_SETTERS){const ot=GL_HOOKED_SETTERS[st];installSetterSpy(tt,st,ot)}installGetterOverride(tt,"getParameter"),installGetterOverride(tt,"isEnabled")}return tt.state.enable=nt,tt}function pushContextState(tt){tt.state||trackContextState(tt,{copyState:!1}),tt.state.push()}function popContextState(tt){assert$7(tt.state),tt.state.pop()}function setParameters(tt,et){if(assert$7(isWebGL(tt),"setParameters requires a WebGL context"),isObjectEmpty$1(et))return;const nt={};for(const it in et){const st=Number(it),ot=GL_PARAMETER_SETTERS[it];ot&&(typeof ot=="string"?nt[ot]=!0:ot(tt,et[it],st))}const rt=tt.state&&tt.state.cache;if(rt)for(const it in nt){const st=GL_COMPOSITE_PARAMETER_SETTERS[it];st(tt,et,rt)}}function getParameters(tt,et){if(et=et||GL_PARAMETER_DEFAULTS,typeof et=="number"){const it=et,st=GL_PARAMETER_GETTERS[it];return st?st(tt,it):tt.getParameter(it)}const nt=Array.isArray(et)?et:Object.keys(et),rt={};for(const it of nt){const st=GL_PARAMETER_GETTERS[it];rt[it]=st?st(tt,Number(it)):tt.getParameter(Number(it))}return rt}function resetParameters(tt){setParameters(tt,GL_PARAMETER_DEFAULTS)}function withParameters(tt,et,nt){if(isObjectEmpty$1(et))return nt(tt);const{nocatch:rt=!0}=et;pushContextState(tt),setParameters(tt,et);let it;if(rt)it=nt(tt),popContextState(tt);else try{it=nt(tt)}finally{popContextState(tt)}return it}function cssToDeviceRatio(tt){const{luma:et}=tt;if(tt.canvas&&et){const{clientWidth:nt}=et.canvasSizeInfo;return nt?tt.drawingBufferWidth/nt:1}return 1}function cssToDevicePixels(tt,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const rt=cssToDeviceRatio(tt),it=tt.drawingBufferWidth,st=tt.drawingBufferHeight;return scalePixels$1(et,rt,it,st,nt)}function getDevicePixelRatio(tt){const et=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(tt)?tt<=0?1:tt:tt?et:1}function scalePixels$1(tt,et,nt,rt,it){const st=scaleX(tt[0],et,nt);let ot=scaleY(tt[1],et,rt,it),at=scaleX(tt[0]+1,et,nt);const lt=at===nt-1?at:at-1;at=scaleY(tt[1]+1,et,rt,it);let ut;return it?(at=at===0?at:at+1,ut=ot,ot=at):ut=at===rt-1?at:at-1,{x:st,y:ot,width:Math.max(lt-st+1,1),height:Math.max(ut-ot+1,1)}}function scaleX(tt,et,nt){return Math.min(Math.round(tt*et),nt-1)}function scaleY(tt,et,nt,rt){return rt?Math.max(0,nt-1-Math.round(tt*et)):Math.min(Math.round(tt*et),nt-1)}const isBrowser$2=isBrowser$3(),isPage$1=isBrowser$2&&typeof document<"u",CONTEXT_DEFAULTS={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function createGLContext(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};assert$7(isBrowser$2,`createGLContext only available in the browser.
Create your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils`),tt=Object.assign({},CONTEXT_DEFAULTS,tt);const{width:et,height:nt}=tt;function rt(at){if(tt.throwOnError)throw new Error(at);return console.error(at),null}tt.onError=rt;let it;const{canvas:st}=tt,ot=getCanvas({canvas:st,width:et,height:nt,onError:rt});return it=createBrowserContext(ot,tt),it?(it=instrumentGLContext(it,tt),logInfo(it),it):null}function instrumentGLContext(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!tt||tt._instrumented)return tt;tt._version=tt._version||getVersion(tt),tt.luma=tt.luma||{},tt.luma.canvasSizeInfo=tt.luma.canvasSizeInfo||{},et=Object.assign({},CONTEXT_DEFAULTS,et);const{manageState:nt,debug:rt}=et;return nt&&trackContextState(tt,{copyState:!1,log:function(){for(var it=arguments.length,st=new Array(it),ot=0;ot<it;ot++)st[ot]=arguments[ot];return log$3.log(1,...st)()}}),isBrowser$2&&rt&&(globalThis.makeDebugContext?(tt=globalThis.makeDebugContext(tt,et),log$3.level=Math.max(log$3.level,1)):log$3.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),tt._instrumented=!0,tt}function getContextDebugInfo(tt){const et=tt.getParameter(7936),nt=tt.getParameter(7937),rt=tt.getExtension("WEBGL_debug_renderer_info"),it=rt&&tt.getParameter(rt.UNMASKED_VENDOR_WEBGL||7936),st=rt&&tt.getParameter(rt.UNMASKED_RENDERER_WEBGL||7937);return{vendor:it||et,renderer:st||nt,vendorMasked:et,rendererMasked:nt,version:tt.getParameter(7938),shadingLanguageVersion:tt.getParameter(35724)}}function resizeGLContext(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tt.canvas){const rt=getDevicePixelRatio(et.useDevicePixels);setDevicePixelRatio(tt,rt,et);return}const nt=tt.getExtension("STACKGL_resize_drawingbuffer");nt&&"width"in et&&"height"in et&&nt.resize(et.width,et.height)}function createBrowserContext(tt,et){const{onError:nt}=et;let rt=null;const it=lt=>rt=lt.statusMessage||rt;tt.addEventListener("webglcontextcreationerror",it,!1);const{webgl1:st=!0,webgl2:ot=!0}=et;let at=null;return ot&&(at=at||tt.getContext("webgl2",et),at=at||tt.getContext("experimental-webgl2",et)),st&&(at=at||tt.getContext("webgl",et),at=at||tt.getContext("experimental-webgl",et)),tt.removeEventListener("webglcontextcreationerror",it,!1),at?(et.onContextLost&&tt.addEventListener("webglcontextlost",et.onContextLost,!1),et.onContextRestored&&tt.addEventListener("webglcontextrestored",et.onContextRestored,!1),at):nt("Failed to create ".concat(ot&&!st?"WebGL2":"WebGL"," context: ").concat(rt||"Unknown error"))}function getCanvas(tt){let{canvas:et,width:nt=800,height:rt=600,onError:it}=tt,st;return typeof et=="string"?(isPage$1&&document.readyState==="complete"||it("createGLContext called on canvas '".concat(et,"' before page was loaded")),st=document.getElementById(et)):et?st=et:(st=document.createElement("canvas"),st.id="lumagl-canvas",st.style.width=Number.isFinite(nt)?"".concat(nt,"px"):"100%",st.style.height=Number.isFinite(rt)?"".concat(rt,"px"):"100%",document.body.insertBefore(st,document.body.firstChild)),st}function logInfo(tt){const et=isWebGL2$1(tt)?"WebGL2":"WebGL1",nt=getContextDebugInfo(tt),rt=nt?"(".concat(nt.vendor,",").concat(nt.renderer,")"):"",it=tt.debug?" debug":"";log$3.info(1,"".concat(et).concat(it," context ").concat(rt))()}function getVersion(tt){return typeof WebGL2RenderingContext<"u"&&tt instanceof WebGL2RenderingContext?2:1}function setDevicePixelRatio(tt,et,nt){let rt="width"in nt?nt.width:tt.canvas.clientWidth,it="height"in nt?nt.height:tt.canvas.clientHeight;(!rt||!it)&&(log$3.log(1,"Canvas clientWidth/clientHeight is 0")(),et=1,rt=tt.canvas.width||1,it=tt.canvas.height||1),tt.luma=tt.luma||{},tt.luma.canvasSizeInfo=tt.luma.canvasSizeInfo||{};const st=tt.luma.canvasSizeInfo;if(st.clientWidth!==rt||st.clientHeight!==it||st.devicePixelRatio!==et){let ot=et;const at=Math.floor(rt*ot),lt=Math.floor(it*ot);tt.canvas.width=at,tt.canvas.height=lt,(tt.drawingBufferWidth!==at||tt.drawingBufferHeight!==lt)&&(log$3.warn("Device pixel ratio clamped")(),ot=Math.min(tt.drawingBufferWidth/rt,tt.drawingBufferHeight/it),tt.canvas.width=Math.floor(rt*ot),tt.canvas.height=Math.floor(it*ot)),Object.assign(tt.luma.canvasSizeInfo,{clientWidth:rt,clientHeight:it,devicePixelRatio:et})}}const VERSION$5="8.5.19",STARTUP_MESSAGE="set luma.log.level=1 (or higher) to trace rendering";class StatsManager{constructor(){this.stats=new Map}get(et){return this.stats.has(et)||this.stats.set(et,new Stats({id:et})),this.stats.get(et)}}const lumaStats=new StatsManager;if(globalThis.luma&&globalThis.luma.VERSION!==VERSION$5)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(VERSION$5));globalThis.luma||(isBrowser$3()&&log$3.log(1,"luma.gl ".concat(VERSION$5," - ").concat(STARTUP_MESSAGE))(),globalThis.luma=globalThis.luma||{VERSION:VERSION$5,version:VERSION$5,log:log$3,stats:lumaStats,globals:{modules:{},nodeIO:{}}});function requestAnimationFrame$1(tt){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(tt):setTimeout(tt,1e3/60)}function cancelAnimationFrame$1(tt){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(tt):clearTimeout(tt)}function assert$6(tt,et){if(!tt)throw new Error(et||"luma.gl: assertion failed.")}function getKeyValue(tt,et){if(typeof et!="string")return et;const nt=Number(et);if(!isNaN(nt))return nt;et=et.replace(/^.*\./,"");const rt=tt[et];return assert$6(rt!==void 0,"Accessing undefined constant GL.".concat(et)),rt}function getKey(tt,et){et=Number(et);for(const nt in tt)if(tt[nt]===et)return"GL.".concat(nt);return String(et)}const uidCounters={};function uid(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"id";uidCounters[tt]=uidCounters[tt]||1;const et=uidCounters[tt]++;return"".concat(tt,"-").concat(et)}function isPowerOfTwo(tt){return assert$6(typeof tt=="number","Input must be a number"),tt&&(tt&tt-1)===0}function isObjectEmpty(tt){let et=!0;for(const nt in tt){et=!1;break}return et}function stubRemovedMethods(tt,et,nt,rt){const it="See luma.gl ".concat(nt," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),st=Object.getPrototypeOf(tt);rt.forEach(ot=>{st.methodName||(st[ot]=()=>{throw log$3.removed("Calling removed method ".concat(et,".").concat(ot,": "),it)(),new Error(ot)})})}const ERR_RESOURCE_METHOD_UNDEFINED="Resource subclass must define virtual methods";let Resource$1=class{get[Symbol.toStringTag](){return"Resource"}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGLContext(et);const{id:rt,userData:it={}}=nt;this.gl=et,this.gl2=et,this.id=rt||uid(this[Symbol.toStringTag]),this.userData=it,this._bound=!1,this._handle=nt.handle,this._handle===void 0&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:et=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,nt&&et&&nt.filter(Boolean).forEach(rt=>rt.delete()),this}bind(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.handle;if(typeof et!="function")return this._bindHandle(et),this;let nt;return this._bound?nt=et():(this._bindHandle(this.handle),this._bound=!0,nt=et(),this._bound=!1,this._bindHandle(null)),nt}unbind(){this.bind(null)}getParameter(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};et=getKeyValue(this.gl,et),assert$6(et);const it=(this.constructor.PARAMETERS||{})[et];if(it){const st=isWebGL2$1(this.gl);if(!((!("webgl2"in it)||st)&&(!("extension"in it)||this.gl.getExtension(it.extension)))){const at=it.webgl1,lt="webgl2"in it?it.webgl2:it.webgl1;return st?lt:at}}return this._getParameter(et,nt)}getParameters(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{parameters:nt,keys:rt}=et,it=this.constructor.PARAMETERS||{},st=isWebGL2$1(this.gl),ot={},at=nt||Object.keys(it);for(const lt of at){const ut=it[lt];if(ut&&(!("webgl2"in ut)||st)&&(!("extension"in ut)||this.gl.getExtension(ut.extension))){const dt=rt?getKey(this.gl,lt):lt;ot[dt]=this.getParameter(lt,et),rt&&ut.type==="GLenum"&&(ot[dt]=getKey(this.gl,ot[dt]))}}return ot}setParameter(et,nt){et=getKeyValue(this.gl,et),assert$6(et);const it=(this.constructor.PARAMETERS||{})[et];if(it){const st=isWebGL2$1(this.gl);if(!((!("webgl2"in it)||st)&&(!("extension"in it)||this.gl.getExtension(it.extension))))throw new Error("Parameter not available on this platform");it.type==="GLenum"&&(nt=getKeyValue(nt))}return this._setParameter(et,nt),this}setParameters(et){for(const nt in et)this.setParameter(nt,et[nt]);return this}stubRemovedMethods(et,nt,rt){return stubRemovedMethods(this,et,nt,rt)}initialize(et){}_createHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_deleteHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_bindHandle(et){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_getOptsFromHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_getParameter(et,nt){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_setParameter(et,nt){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const et=this[Symbol.toStringTag],nt=lumaStats.get("Resource Counts");nt.get("Resources Created").incrementCount(),nt.get("".concat(et,"s Created")).incrementCount(),nt.get("".concat(et,"s Active")).incrementCount()}_removeStats(){const et=this[Symbol.toStringTag];lumaStats.get("Resource Counts").get("".concat(et,"s Active")).decrementCount()}_trackAllocatedMemory(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(et,nt),this._trackAllocatedMemoryForContext(et,nt,this.gl.canvas&&this.gl.canvas.id),this.byteLength=et}_trackAllocatedMemoryForContext(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag],rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const it=lumaStats.get("Memory Usage".concat(rt));it.get("GPU Memory").addCount(et),it.get("".concat(nt," Memory")).addCount(et)}_trackDeallocatedMemory(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(et),this._trackDeallocatedMemoryForContext(et,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag],nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const rt=lumaStats.get("Memory Usage".concat(nt));rt.get("GPU Memory").subtractCount(this.byteLength),rt.get("".concat(et," Memory")).subtractCount(this.byteLength)}};const ERR_TYPE_DEDUCTION="Failed to deduce GL constant from typed array";function getGLTypeFromTypedArray(tt){switch(ArrayBuffer.isView(tt)?tt.constructor:tt){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(ERR_TYPE_DEDUCTION)}}function getTypedArrayFromGLType(tt){let{clamped:et=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(tt){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return et?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function flipRows(tt){let{data:et,width:nt,height:rt,bytesPerPixel:it=4,temp:st}=tt;const ot=nt*it;st=st||new Uint8Array(ot);for(let at=0;at<rt/2;++at){const lt=at*ot,ut=(rt-at-1)*ot;st.set(et.subarray(lt,lt+ot)),et.copyWithin(lt,ut,ut+ot),et.set(st,ut)}}function scalePixels(tt){let{data:et,width:nt,height:rt}=tt;const it=Math.round(nt/2),st=Math.round(rt/2),ot=new Uint8Array(it*st*4);for(let at=0;at<st;at++)for(let lt=0;lt<it;lt++)for(let ut=0;ut<4;ut++)ot[(at*it+lt)*4+ut]=et[(at*2*nt+lt*2)*4+ut];return{data:ot,width:it,height:st}}function checkProps(tt,et,nt){const{removedProps:rt={},deprecatedProps:it={},replacedProps:st={}}=nt;for(const at in rt)if(at in et){const ut=rt[at]?"".concat(tt,".").concat(rt[at]):"N/A";log$3.removed("".concat(tt,".").concat(at),ut)()}for(const at in it)if(at in et){const lt=it[at];log$3.deprecated("".concat(tt,".").concat(at),"".concat(tt,".").concat(lt))()}let ot=null;for(const at in st)if(at in et){const lt=st[at];log$3.deprecated("".concat(tt,".").concat(at),"".concat(tt,".").concat(lt))(),ot=ot||Object.assign({},et),ot[lt]=et[at],delete ot[at]}return ot||et}const DEFAULT_ACCESSOR_VALUES={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},PROP_CHECKS={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class Accessor{static getBytesPerElement(et){return getTypedArrayFromGLType(et.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(et){return assert$6(et.size),getTypedArrayFromGLType(et.type||5126).BYTES_PER_ELEMENT*et.size}static resolve(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return new Accessor(DEFAULT_ACCESSOR_VALUES,...nt)}constructor(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];nt.forEach(it=>this._assign(it)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return Accessor.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return Accessor.getBytesPerVertex(this)}_assign(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et=checkProps("Accessor",et,PROP_CHECKS),et.type!==void 0&&(this.type=et.type,(et.type===5124||et.type===5125)&&(this.integer=!0)),et.size!==void 0&&(this.size=et.size),et.offset!==void 0&&(this.offset=et.offset),et.stride!==void 0&&(this.stride=et.stride),et.normalized!==void 0&&(this.normalized=et.normalized),et.integer!==void 0&&(this.integer=et.integer),et.divisor!==void 0&&(this.divisor=et.divisor),et.buffer!==void 0&&(this.buffer=et.buffer),et.index!==void 0&&(typeof et.index=="boolean"?this.index=et.index?1:0:this.index=et.index),et.instanced!==void 0&&(this.divisor=et.instanced?1:0),et.isInstanced!==void 0&&(this.divisor=et.isInstanced?1:0),this}}const DEBUG_DATA_LENGTH=10,DEPRECATED_PROPS={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},PROP_CHECKS_INITIALIZE={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:DEPRECATED_PROPS},PROP_CHECKS_SET_PROPS={removedProps:DEPRECATED_PROPS};let Buffer$1=class extends Resource$1{get[Symbol.toStringTag](){return"Buffer"}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(et,nt),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=nt.target||(this.gl.webgl2?36662:34962),this.initialize(nt),Object.seal(this)}getElementCount(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/Accessor.getBytesPerElement(et))}getVertexCount(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/Accessor.getBytesPerVertex(et))}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ArrayBuffer.isView(et)&&(et={data:et}),Number.isFinite(et)&&(et={byteLength:et}),et=checkProps("Buffer",et,PROP_CHECKS_INITIALIZE),this.usage=et.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},et,et.accessor)),et.data?this._setData(et.data,et.offset,et.byteLength):this._setByteLength(et.byteLength||0),this}setProps(et){return et=checkProps("Buffer",et,PROP_CHECKS_SET_PROPS),"accessor"in et&&this.setAccessor(et.accessor),this}setAccessor(et){return et=Object.assign({},et),delete et.buffer,this.accessor=new Accessor(et),this}reallocate(et){return et>this.byteLength?(this._setByteLength(et),!0):(this.bytesUsed=et,!1)}setData(et){return this.initialize(et)}subData(et){ArrayBuffer.isView(et)&&(et={data:et});const{data:nt,offset:rt=0,srcOffset:it=0}=et,st=et.byteLength||et.length;assert$6(nt);const ot=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(ot,this.handle),it!==0||st!==void 0?(assertWebGL2Context(this.gl),this.gl.bufferSubData(this.target,rt,nt,it,st)):this.gl.bufferSubData(ot,rt,nt),this.gl.bindBuffer(ot,null),this.debugData=null,this._inferType(nt),this}copyData(et){let{sourceBuffer:nt,readOffset:rt=0,writeOffset:it=0,size:st}=et;const{gl:ot}=this;return assertWebGL2Context(ot),ot.bindBuffer(36662,nt.handle),ot.bindBuffer(36663,this.handle),ot.copyBufferSubData(36662,36663,rt,it,st),ot.bindBuffer(36662,null),ot.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:et=null,srcByteOffset:nt=0,dstOffset:rt=0,length:it=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};assertWebGL2Context(this.gl);const st=getTypedArrayFromGLType(this.accessor.type||5126,{clamped:!1}),ot=this._getAvailableElementCount(nt),at=rt;let lt,ut;et?(ut=et.length,lt=ut-at):(lt=Math.min(ot,it||ot),ut=at+lt);const ft=Math.min(ot,lt);return it=it||ft,assert$6(it<=ft),et=et||new st(ut),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,nt,et,rt,it),this.gl.bindBuffer(36662,null),et}bind(){let{target:et=this.target,index:nt=this.accessor&&this.accessor.index,offset:rt=0,size:it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et===35345||et===35982?it!==void 0?this.gl.bindBufferRange(et,nt,this.handle,rt,it):(assert$6(rt===0),this.gl.bindBufferBase(et,nt,this.handle)):this.gl.bindBuffer(et,this.handle),this}unbind(){let{target:et=this.target,index:nt=this.accessor&&this.accessor.index}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et===35345||et===35982?this.gl.bindBufferBase(et,nt,null):this.gl.bindBuffer(et,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(DEBUG_DATA_LENGTH,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et.byteLength+nt;assert$6(ArrayBuffer.isView(et)),this._trackDeallocatedMemory();const it=this._getTarget();this.gl.bindBuffer(it,this.handle),this.gl.bufferData(it,rt,this.usage),this.gl.bufferSubData(it,nt,et),this.gl.bindBuffer(it,null),this.debugData=et.slice(0,DEBUG_DATA_LENGTH),this.bytesUsed=rt,this._trackAllocatedMemory(rt);const st=getGLTypeFromTypedArray(et);return assert$6(st),this.setAccessor(new Accessor(this.accessor,{type:st})),this}_setByteLength(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.usage;assert$6(et>=0),this._trackDeallocatedMemory();let rt=et;et===0&&(rt=new Float32Array(0));const it=this._getTarget();return this.gl.bindBuffer(it,this.handle),this.gl.bufferData(it,rt,nt),this.gl.bindBuffer(it,null),this.usage=nt,this.debugData=null,this.bytesUsed=et,this._trackAllocatedMemory(et),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(et){const nt=getTypedArrayFromGLType(this.accessor.type||5126,{clamped:!1}),rt=et/nt.BYTES_PER_ELEMENT;return this.getElementCount()-rt}_inferType(et){this.accessor.type||this.setAccessor(new Accessor(this.accessor,{type:getGLTypeFromTypedArray(et)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(et){this.gl.bindBuffer(this.target,this.handle);const nt=this.gl.getBufferParameter(this.target,et);return this.gl.bindBuffer(this.target,null),nt}get type(){return log$3.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return log$3.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(et){return log$3.deprecated("setByteLength","reallocate")(),this.reallocate(et)}updateAccessor(et){return log$3.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new Accessor(this.accessor,et),this}};const TEXTURE_FORMATS={[6407]:{dataFormat:6407,types:[5121,33635]},[6408]:{dataFormat:6408,types:[5121,32819,32820]},[6406]:{dataFormat:6406,types:[5121]},[6409]:{dataFormat:6409,types:[5121]},[6410]:{dataFormat:6410,types:[5121]},[33326]:{dataFormat:6403,types:[5126],gl2:!0},[33328]:{dataFormat:33319,types:[5126],gl2:!0},[34837]:{dataFormat:6407,types:[5126],gl2:!0},[34836]:{dataFormat:6408,types:[5126],gl2:!0}},DATA_FORMAT_CHANNELS={[6403]:1,[36244]:1,[33319]:2,[33320]:2,[6407]:3,[36248]:3,[6408]:4,[36249]:4,[6402]:1,[34041]:1,[6406]:1,[6409]:1,[6410]:2},TYPE_SIZES={[5126]:4,[5125]:4,[5124]:4,[5123]:2,[5122]:2,[5131]:2,[5120]:1,[5121]:1};function isFormatSupported$1(tt,et){const nt=TEXTURE_FORMATS[et];if(!nt)return!1;if(nt.gl1===void 0&&nt.gl2===void 0)return!0;const rt=isWebGL2$1(tt)&&nt.gl2||nt.gl1;return typeof rt=="string"?tt.getExtension(rt):rt}function isLinearFilteringSupported(tt,et){const nt=TEXTURE_FORMATS[et];switch(nt&&nt.types[0]){case 5126:return tt.getExtension("OES_texture_float_linear");case 5131:return tt.getExtension("OES_texture_half_float_linear");default:return!0}}const NPOT_MIN_FILTERS=[9729,9728],WebGLBuffer=globalThis.WebGLBuffer||function(){};class Texture extends Resource$1{get[Symbol.toStringTag](){return"Texture"}static isSupported(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{format:rt,linearFiltering:it}=nt;let st=!0;return rt&&(st=st&&isFormatSupported$1(et,rt),st=st&&(!it||isLinearFilteringSupported(et,rt))),st}constructor(et,nt){const{id:rt=uid("texture"),handle:it,target:st}=nt;super(et,{id:rt,handle:it}),this.target=st,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=et.data;if(nt instanceof Promise)return nt.then(vt=>this.initialize(Object.assign({},et,{pixels:vt,data:vt}))),this;const rt=typeof HTMLVideoElement<"u"&&nt instanceof HTMLVideoElement;if(rt&&nt.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,nt.addEventListener("loadeddata",()=>this.initialize(et)),this;const{pixels:it=null,format:st=6408,border:ot=0,recreate:at=!1,parameters:lt={},pixelStore:ut={},textureUnit:ft=void 0}=et;nt||(nt=it);let{width:dt,height:ht,dataFormat:mt,type:xt,compressed:_t=!1,mipmaps:At=!0}=et;const{depth:gt=0}=et;return{width:dt,height:ht,compressed:_t,dataFormat:mt,type:xt}=this._deduceParameters({format:st,type:xt,dataFormat:mt,compressed:_t,data:nt,width:dt,height:ht}),this.width=dt,this.height=ht,this.depth=gt,this.format=st,this.type=xt,this.dataFormat=mt,this.border=ot,this.textureUnit=ft,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),At&&this._isNPOT()&&(log$3.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),At=!1,this._updateForNPOT(lt)),this.mipmaps=At,this.setImageData({data:nt,width:dt,height:ht,depth:gt,format:st,type:xt,dataFormat:mt,border:ot,mipmaps:At,parameters:ut,compressed:_t}),At&&this.generateMipmap(),this.setParameters(lt),at&&(this.data=nt),rt&&(this._video={video:nt,parameters:lt,lastTime:nt.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?nt.currentTime:-1}),this}update(){if(this._video){const{video:et,parameters:nt,lastTime:rt}=this._video;if(rt===et.currentTime||et.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:et,parameters:nt}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=et.currentTime}}resize(et){let{height:nt,width:rt,mipmaps:it=!1}=et;return rt!==this.width||nt!==this.height?this.initialize({width:rt,height:nt,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:it}):this}generateMipmap(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isNPOT()?(log$3.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),withParameters(this.gl,et,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(et){this._trackDeallocatedMemory("Texture");const{target:nt=this.target,pixels:rt=null,level:it=0,format:st=this.format,border:ot=this.border,offset:at=0,parameters:lt={}}=et;let{data:ut=null,type:ft=this.type,width:dt=this.width,height:ht=this.height,dataFormat:mt=this.dataFormat,compressed:xt=!1}=et;ut||(ut=rt),{type:ft,dataFormat:mt,compressed:xt,width:dt,height:ht}=this._deduceParameters({format:st,type:ft,dataFormat:mt,compressed:xt,data:ut,width:dt,height:ht});const{gl:_t}=this;_t.bindTexture(this.target,this.handle);let At=null;({data:ut,dataType:At}=this._getDataType({data:ut,compressed:xt}));let gt,vt=0;if(withParameters(this.gl,lt,()=>{switch(At){case"null":_t.texImage2D(nt,it,st,dt,ht,ot,mt,ft,ut);break;case"typed-array":_t.texImage2D(nt,it,st,dt,ht,ot,mt,ft,ut,at);break;case"buffer":gt=assertWebGL2Context(_t),gt.bindBuffer(35052,ut.handle||ut),gt.texImage2D(nt,it,st,dt,ht,ot,mt,ft,at),gt.bindBuffer(35052,null);break;case"browser-object":isWebGL2$1(_t)?_t.texImage2D(nt,it,st,dt,ht,ot,mt,ft,ut):_t.texImage2D(nt,it,st,mt,ft,ut);break;case"compressed":for(const[Et,yt]of ut.entries())_t.compressedTexImage2D(nt,Et,yt.format,yt.width,yt.height,ot,yt.data),vt+=yt.levelSize;break;default:assert$6(!1,"Unknown image data type")}}),At==="compressed")this._trackAllocatedMemory(vt,"Texture");else if(ut&&ut.byteLength)this._trackAllocatedMemory(ut.byteLength,"Texture");else{const Et=DATA_FORMAT_CHANNELS[this.dataFormat]||4,yt=TYPE_SIZES[this.type]||1;this._trackAllocatedMemory(this.width*this.height*Et*yt,"Texture")}return this.loaded=!0,this}setSubImageData(et){let{target:nt=this.target,pixels:rt=null,data:it=null,x:st=0,y:ot=0,width:at=this.width,height:lt=this.height,level:ut=0,format:ft=this.format,type:dt=this.type,dataFormat:ht=this.dataFormat,compressed:mt=!1,offset:xt=0,border:_t=this.border,parameters:At={}}=et;if({type:dt,dataFormat:ht,compressed:mt,width:at,height:lt}=this._deduceParameters({format:ft,type:dt,dataFormat:ht,compressed:mt,data:it,width:at,height:lt}),assert$6(this.depth===0,"texSubImage not supported for 3D textures"),it||(it=rt),it&&it.data){const gt=it;it=gt.data,at=gt.shape[0],lt=gt.shape[1]}it instanceof Buffer$1&&(it=it.handle),this.gl.bindTexture(this.target,this.handle),withParameters(this.gl,At,()=>{if(mt)this.gl.compressedTexSubImage2D(nt,ut,st,ot,at,lt,ft,it);else if(it===null)this.gl.texSubImage2D(nt,ut,st,ot,at,lt,ht,dt,null);else if(ArrayBuffer.isView(it))this.gl.texSubImage2D(nt,ut,st,ot,at,lt,ht,dt,it,xt);else if(it instanceof WebGLBuffer){const gt=assertWebGL2Context(this.gl);gt.bindBuffer(35052,it),gt.texSubImage2D(nt,ut,st,ot,at,lt,ht,dt,xt),gt.bindBuffer(35052,null)}else isWebGL2$1(this.gl)?assertWebGL2Context(this.gl).texSubImage2D(nt,ut,st,ot,at,lt,ht,dt,it):this.gl.texSubImage2D(nt,ut,st,ot,ht,dt,it)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return log$3.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:nt}=this;return et!==void 0&&(this.textureUnit=et,nt.activeTexture(33984+et)),nt.bindTexture(this.target,this.handle),et}unbind(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:nt}=this;return et!==void 0&&(this.textureUnit=et,nt.activeTexture(33984+et)),nt.bindTexture(this.target,null),et}_getDataType(et){let{data:nt,compressed:rt=!1}=et;return rt?{data:nt,dataType:"compressed"}:nt===null?{data:nt,dataType:"null"}:ArrayBuffer.isView(nt)?{data:nt,dataType:"typed-array"}:nt instanceof Buffer$1?{data:nt.handle,dataType:"buffer"}:nt instanceof WebGLBuffer?{data:nt,dataType:"buffer"}:{data:nt,dataType:"browser-object"}}_deduceParameters(et){const{format:nt,data:rt}=et;let{width:it,height:st,dataFormat:ot,type:at,compressed:lt}=et;const ut=TEXTURE_FORMATS[nt];return ot=ot||ut&&ut.dataFormat,at=at||ut&&ut.types[0],lt=lt||ut&&ut.compressed,{width:it,height:st}=this._deduceImageSize(rt,it,st),{dataFormat:ot,type:at,compressed:lt,width:it,height:st,format:nt,data:rt}}_deduceImageSize(et,nt,rt){let it;return typeof ImageData<"u"&&et instanceof ImageData?it={width:et.width,height:et.height}:typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement?it={width:et.naturalWidth,height:et.naturalHeight}:typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement?it={width:et.width,height:et.height}:typeof ImageBitmap<"u"&&et instanceof ImageBitmap?it={width:et.width,height:et.height}:typeof HTMLVideoElement<"u"&&et instanceof HTMLVideoElement?it={width:et.videoWidth,height:et.videoHeight}:et?it={width:nt,height:rt}:it={width:nt>=0?nt:1,height:rt>=0?rt:1},assert$6(it,"Could not deduced texture size"),assert$6(nt===void 0||it.width===nt,"Deduced texture width does not match supplied width"),assert$6(rt===void 0||it.height===rt,"Deduced texture height does not match supplied height"),it}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(et){switch(et){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const nt=this.gl.getTexParameter(this.target,et);return this.gl.bindTexture(this.target,null),nt}}_setParameter(et,nt){switch(this.gl.bindTexture(this.target,this.handle),nt=this._getNPOTParam(et,nt),et){case 33082:case 33083:this.gl.texParameterf(this.handle,et,nt);break;case 4096:case 4097:assert$6(!1);break;default:this.gl.texParameteri(this.target,et,nt);break}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return isWebGL2$1(this.gl)||!this.width||!this.height?!1:!isPowerOfTwo(this.width)||!isPowerOfTwo(this.height)}_updateForNPOT(et){et[this.gl.TEXTURE_MIN_FILTER]===void 0&&(et[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),et[this.gl.TEXTURE_WRAP_S]===void 0&&(et[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),et[this.gl.TEXTURE_WRAP_T]===void 0&&(et[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(et,nt){if(this._isNPOT())switch(et){case 10241:NPOT_MIN_FILTERS.indexOf(nt)===-1&&(nt=9729);break;case 10242:case 10243:nt!==33071&&(nt=33071);break}return nt}}let pathPrefix="";function loadImage$1(tt,et){return assert$6(typeof tt=="string"),tt=pathPrefix+tt,new Promise((nt,rt)=>{try{const it=new Image;it.onload=()=>nt(it),it.onerror=()=>rt(new Error("Could not load image ".concat(tt,"."))),it.crossOrigin=et&&et.crossOrigin||"anonymous",it.src=tt}catch(it){rt(it)}})}class Texture2D extends Texture{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(et,nt){return Texture.isSupported(et,nt)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGLContext(et),(nt instanceof Promise||typeof nt=="string")&&(nt={data:nt}),typeof nt.data=="string"&&(nt=Object.assign({},nt,{data:loadImage$1(nt.data)})),super(et,Object.assign({},nt,{target:3553})),this.initialize(nt),Object.seal(this)}}const FACES=[34069,34070,34071,34072,34073,34074];class TextureCube extends Texture{get[Symbol.toStringTag](){return"TextureCube"}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGLContext(et),super(et,Object.assign({},nt,{target:34067})),this.initialize(nt),Object.seal(this)}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{mipmaps:nt=!0,parameters:rt={}}=et;return this.opts=et,this.setCubeMapImageData(et).then(()=>{this.loaded=!0,nt&&this.generateMipmap(et),this.setParameters(rt)}),this}subImage(et){let{face:nt,data:rt,x:it=0,y:st=0,mipmapLevel:ot=0}=et;return this._subImage({target:nt,data:rt,x:it,y:st,mipmapLevel:ot})}async setCubeMapImageData(et){let{width:nt,height:rt,pixels:it,data:st,border:ot=0,format:at=6408,type:lt=5121}=et;const{gl:ut}=this,ft=it||st,dt=await Promise.all(FACES.map(ht=>{const mt=ft[ht];return Promise.all(Array.isArray(mt)?mt:[mt])}));this.bind(),FACES.forEach((ht,mt)=>{dt[mt].length>1&&this.opts.mipmaps!==!1&&log$3.warn("".concat(this.id," has mipmap and multiple LODs."))(),dt[mt].forEach((xt,_t)=>{nt&&rt?ut.texImage2D(ht,_t,at,nt,rt,ot,at,lt,xt):ut.texImage2D(ht,_t,at,at,lt,xt)})}),this.unbind()}setImageDataForFace(et){const{face:nt,width:rt,height:it,pixels:st,data:ot,border:at=0,format:lt=6408,type:ut=5121}=et,{gl:ft}=this,dt=st||ot;return this.bind(),dt instanceof Promise?dt.then(ht=>this.setImageDataForFace(Object.assign({},et,{face:nt,data:ht,pixels:ht}))):this.width||this.height?ft.texImage2D(nt,0,lt,rt,it,at,lt,ut,dt):ft.texImage2D(nt,0,lt,lt,ut,dt),this}}TextureCube.FACES=FACES;class Texture3D extends Texture{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(et){return isWebGL2$1(et)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGL2Context(et),nt=Object.assign({depth:1},nt,{target:32879,unpackFlipY:!1}),super(et,nt),this.initialize(nt),Object.seal(this)}setImageData(et){let{level:nt=0,dataFormat:rt=6408,width:it,height:st,depth:ot=1,border:at=0,format:lt,type:ut=5121,offset:ft=0,data:dt,parameters:ht={}}=et;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),withParameters(this.gl,ht,()=>{ArrayBuffer.isView(dt)&&this.gl.texImage3D(this.target,nt,rt,it,st,ot,at,lt,ut,dt),dt instanceof Buffer$1&&(this.gl.bindBuffer(35052,dt.handle),this.gl.texImage3D(this.target,nt,rt,it,st,ot,at,lt,ut,ft))}),dt&&dt.byteLength)this._trackAllocatedMemory(dt.byteLength,"Texture");else{const mt=DATA_FORMAT_CHANNELS[this.dataFormat]||4,xt=TYPE_SIZES[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*mt*xt,"Texture")}return this.loaded=!0,this}}const EXT_FLOAT_WEBGL2="EXT_color_buffer_float",RENDERBUFFER_FORMATS={[33189]:{bpp:2},[33190]:{gl2:!0,bpp:3},[36012]:{gl2:!0,bpp:4},[36168]:{bpp:1},[34041]:{bpp:4},[35056]:{gl2:!0,bpp:4},[36013]:{gl2:!0,bpp:5},[32854]:{bpp:2},[36194]:{bpp:2},[32855]:{bpp:2},[33321]:{gl2:!0,bpp:1},[33330]:{gl2:!0,bpp:1},[33329]:{gl2:!0,bpp:1},[33332]:{gl2:!0,bpp:2},[33331]:{gl2:!0,bpp:2},[33334]:{gl2:!0,bpp:4},[33333]:{gl2:!0,bpp:4},[33323]:{gl2:!0,bpp:2},[33336]:{gl2:!0,bpp:2},[33335]:{gl2:!0,bpp:2},[33338]:{gl2:!0,bpp:4},[33337]:{gl2:!0,bpp:4},[33340]:{gl2:!0,bpp:8},[33339]:{gl2:!0,bpp:8},[32849]:{gl2:!0,bpp:3},[32856]:{gl2:!0,bpp:4},[32857]:{gl2:!0,bpp:4},[36220]:{gl2:!0,bpp:4},[36238]:{gl2:!0,bpp:4},[36975]:{gl2:!0,bpp:4},[36214]:{gl2:!0,bpp:8},[36232]:{gl2:!0,bpp:8},[36226]:{gl2:!0,bpp:16},[36208]:{gl2:!0,bpp:16},[33325]:{gl2:EXT_FLOAT_WEBGL2,bpp:2},[33327]:{gl2:EXT_FLOAT_WEBGL2,bpp:4},[34842]:{gl2:EXT_FLOAT_WEBGL2,bpp:8},[33326]:{gl2:EXT_FLOAT_WEBGL2,bpp:4},[33328]:{gl2:EXT_FLOAT_WEBGL2,bpp:8},[34836]:{gl2:EXT_FLOAT_WEBGL2,bpp:16},[35898]:{gl2:EXT_FLOAT_WEBGL2,bpp:4}};function isFormatSupported(tt,et,nt){const rt=nt[et];if(!rt)return!1;const it=isWebGL2$1(tt)&&rt.gl2||rt.gl1;return typeof it=="string"?tt.getExtension(it):it}class Renderbuffer extends Resource$1{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(et){let{format:nt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{format:null};return!nt||isFormatSupported(et,nt,RENDERBUFFER_FORMATS)}static getSamplesForFormat(et,nt){let{format:rt}=nt;return et.getInternalformatParameter(36161,rt,32937)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(et,nt),this.initialize(nt),Object.seal(this)}initialize(et){let{format:nt,width:rt=1,height:it=1,samples:st=0}=et;return assert$6(nt,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),st!==0&&isWebGL2$1(this.gl)?this.gl.renderbufferStorageMultisample(36161,st,nt,rt,it):this.gl.renderbufferStorage(36161,nt,rt,it),this.format=nt,this.width=rt,this.height=it,this.samples=st,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*RENDERBUFFER_FORMATS[this.format].bpp),this}resize(et){let{width:nt,height:rt}=et;return nt!==this.width||rt!==this.height?this.initialize({width:nt,height:rt,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(et){this.gl.bindRenderbuffer(36161,et)}_syncHandle(et){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(et){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,et)}}const GL_DEPTH_BUFFER_BIT=256,GL_STENCIL_BUFFER_BIT=1024,GL_COLOR_BUFFER_BIT=16384,GL_COLOR=6144,GL_DEPTH=6145,GL_STENCIL=6146,GL_DEPTH_STENCIL=34041,ERR_ARGUMENTS="clear: bad arguments";function clear(tt){let{framebuffer:et=null,color:nt=null,depth:rt=null,stencil:it=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const st={};et&&(st.framebuffer=et);let ot=0;nt&&(ot|=GL_COLOR_BUFFER_BIT,nt!==!0&&(st.clearColor=nt)),rt&&(ot|=GL_DEPTH_BUFFER_BIT,rt!==!0&&(st.clearDepth=rt)),it&&(ot|=GL_STENCIL_BUFFER_BIT,rt!==!0&&(st.clearStencil=rt)),assert$6(ot!==0,ERR_ARGUMENTS),withParameters(tt,st,()=>{tt.clear(ot)})}function clearBuffer(tt){let{framebuffer:et=null,buffer:nt=GL_COLOR,drawBuffer:rt=0,value:it=[0,0,0,0]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGL2Context(tt),withParameters(tt,{framebuffer:et},()=>{switch(nt){case GL_COLOR:switch(it.constructor){case Int32Array:tt.clearBufferiv(nt,rt,it);break;case Uint32Array:tt.clearBufferuiv(nt,rt,it);break;case Float32Array:default:tt.clearBufferfv(nt,rt,it)}break;case GL_DEPTH:tt.clearBufferfv(GL_DEPTH,0,[it]);break;case GL_STENCIL:tt.clearBufferiv(GL_STENCIL,0,[it]);break;case GL_DEPTH_STENCIL:const[st,ot]=it;tt.clearBufferfi(GL_DEPTH_STENCIL,0,st,ot);break;default:assert$6(!1,ERR_ARGUMENTS)}})}function glFormatToComponents(tt){switch(tt){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return assert$6(!1),0}}function readPixelsToArray(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{sourceX:nt=0,sourceY:rt=0,sourceFormat:it=6408}=et;let{sourceAttachment:st=36064,target:ot=null,sourceWidth:at,sourceHeight:lt,sourceType:ut}=et;const{framebuffer:ft,deleteFramebuffer:dt}=getFramebuffer$1(tt);assert$6(ft);const{gl:ht,handle:mt,attachments:xt}=ft;at=at||ft.width,lt=lt||ft.height,st===36064&&mt===null&&(st=1028),assert$6(xt[st]),ut=ut||xt[st].type,ot=getPixelArray(ot,ut,it,at,lt),ut=ut||getGLTypeFromTypedArray(ot);const _t=ht.bindFramebuffer(36160,mt);return ht.readPixels(nt,rt,at,lt,it,ut,ot),ht.bindFramebuffer(36160,_t||null),dt&&ft.delete(),ot}function copyToDataUrl(tt){let{sourceAttachment:et=36064,targetMaxHeight:nt=Number.MAX_SAFE_INTEGER}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=readPixelsToArray(tt,{sourceAttachment:et}),{width:it,height:st}=tt;for(;st>nt;)({data:rt,width:it,height:st}=scalePixels({data:rt,width:it,height:st}));flipRows({data:rt,width:it,height:st});const ot=document.createElement("canvas");ot.width=it,ot.height=st;const at=ot.getContext("2d"),lt=at.createImageData(it,st);return lt.data.set(rt),at.putImageData(lt,0,0),ot.toDataURL()}function getFramebuffer$1(tt){return tt instanceof Framebuffer?{framebuffer:tt,deleteFramebuffer:!1}:{framebuffer:toFramebuffer(tt),deleteFramebuffer:!0}}function getPixelArray(tt,et,nt,rt,it){if(tt)return tt;et=et||5121;const st=getTypedArrayFromGLType(et,{clamped:!1}),ot=glFormatToComponents(nt);return new st(rt*it*ot)}const FEATURES$1={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};function checkFloat32ColorAttachment(tt){const et=new Texture2D(tt,{format:6408,type:5126,dataFormat:6408}),nt=new Framebuffer(tt,{id:"test-framebuffer",check:!1,attachments:{[36064]:et}}),rt=nt.getStatus();return et.delete(),nt.delete(),rt===36053}const WEBGL_FEATURES$1={[FEATURES$1.WEBGL2]:[!1,!0],[FEATURES$1.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[FEATURES$1.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[FEATURES$1.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[FEATURES$1.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[FEATURES$1.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[FEATURES$1.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[FEATURES$1.FLOAT_BLEND]:["EXT_float_blend"],[FEATURES$1.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[FEATURES$1.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[FEATURES$1.TEXTURE_FLOAT]:["OES_texture_float",!0],[FEATURES$1.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[FEATURES$1.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[FEATURES$1.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[FEATURES$1.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[FEATURES$1.COLOR_ATTACHMENT_RGBA32F]:[checkFloat32ColorAttachment,"EXT_color_buffer_float"],[FEATURES$1.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[FEATURES$1.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[FEATURES$1.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[FEATURES$1.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[FEATURES$1.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[FEATURES$1.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]},LOG_UNSUPPORTED_FEATURE=2;function hasFeature(tt,et){return hasFeatures$1(tt,et)}function hasFeatures$1(tt,et){return et=Array.isArray(et)?et:[et],et.every(nt=>isFeatureSupported(tt,nt))}function getFeatures(tt){tt.luma=tt.luma||{},tt.luma.caps=tt.luma.caps||{};for(const et in WEBGL_FEATURES$1)tt.luma.caps[et]===void 0&&(tt.luma.caps[et]=isFeatureSupported(tt,et));return tt.luma.caps}function isFeatureSupported(tt,et){return tt.luma=tt.luma||{},tt.luma.caps=tt.luma.caps||{},tt.luma.caps[et]===void 0&&(tt.luma.caps[et]=queryFeature(tt,et)),tt.luma.caps[et]||log$3.log(LOG_UNSUPPORTED_FEATURE,"Feature: ".concat(et," not supported"))(),tt.luma.caps[et]}function queryFeature(tt,et){const nt=WEBGL_FEATURES$1[et];assert$6(nt,et);let rt;const it=isWebGL2$1(tt)&&nt[1]||nt[0];if(typeof it=="function")rt=it(tt);else if(Array.isArray(it)){rt=!0;for(const st of it)rt=rt&&!!tt.getExtension(st)}else typeof it=="string"?rt=!!tt.getExtension(it):typeof it=="boolean"?rt=it:assert$6(!1);return rt}const ERR_MULTIPLE_RENDERTARGETS="Multiple render targets not supported";class Framebuffer extends Resource$1{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{colorBufferFloat:rt,colorBufferHalfFloat:it}=nt;let st=!0;return rt&&(st=!!(et.getExtension("EXT_color_buffer_float")||et.getExtension("WEBGL_color_buffer_float")||et.getExtension("OES_texture_float"))),it&&(st=st&&!!(et.getExtension("EXT_color_buffer_float")||et.getExtension("EXT_color_buffer_half_float"))),st}static getDefaultFramebuffer(et){return et.luma=et.luma||{},et.luma.defaultFramebuffer=et.luma.defaultFramebuffer||new Framebuffer(et,{id:"default-framebuffer",handle:null,attachments:{}}),et.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const et=assertWebGL2Context(this.gl);return et.getParameter(et.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const et=assertWebGL2Context(this.gl);return et.getParameter(et.MAX_DRAW_BUFFERS)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(et,nt),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(nt),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(et){let{width:nt=1,height:rt=1,attachments:it=null,color:st=!0,depth:ot=!0,stencil:at=!1,check:lt=!0,readBuffer:ut=void 0,drawBuffers:ft=void 0}=et;if(assert$6(nt>=0&&rt>=0,"Width and height need to be integers"),this.width=nt,this.height=rt,it)for(const dt in it){const ht=it[dt];(Array.isArray(ht)?ht[0]:ht).resize({width:nt,height:rt})}else it=this._createDefaultAttachments(st,ot,at,nt,rt);this.update({clearAttachments:!0,attachments:it,readBuffer:ut,drawBuffers:ft}),it&&lt&&this.checkStatus()}delete(){for(const et of this.ownResources)et.delete();return super.delete(),this}update(et){let{attachments:nt={},readBuffer:rt,drawBuffers:it,clearAttachments:st=!1,resizeAttachments:ot=!0}=et;this.attach(nt,{clearAttachments:st,resizeAttachments:ot});const{gl:at}=this,lt=at.bindFramebuffer(36160,this.handle);return rt&&this._setReadBuffer(rt),it&&this._setDrawBuffers(it),at.bindFramebuffer(36160,lt||null),this}resize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{width:nt,height:rt}=et;if(this.handle===null)return assert$6(nt===void 0&&rt===void 0),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;nt===void 0&&(nt=this.gl.drawingBufferWidth),rt===void 0&&(rt=this.gl.drawingBufferHeight),nt!==this.width&&rt!==this.height&&log$3.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(nt,"x").concat(rt))();for(const it in this.attachments)this.attachments[it].resize({width:nt,height:rt});return this.width=nt,this.height=rt,this}attach(et){let{clearAttachments:nt=!1,resizeAttachments:rt=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const it={};nt&&Object.keys(this.attachments).forEach(ot=>{it[ot]=null}),Object.assign(it,et);const st=this.gl.bindFramebuffer(36160,this.handle);for(const ot in it){assert$6(ot!==void 0,"Misspelled framebuffer binding point?");const at=Number(ot),lt=it[at];let ut=lt;if(!ut)this._unattach(at);else if(ut instanceof Renderbuffer)this._attachRenderbuffer({attachment:at,renderbuffer:ut});else if(Array.isArray(lt)){const[ft,dt=0,ht=0]=lt;ut=ft,this._attachTexture({attachment:at,texture:ft,layer:dt,level:ht})}else this._attachTexture({attachment:at,texture:ut,layer:0,level:0});rt&&ut&&ut.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,st||null),Object.assign(this.attachments,et),Object.keys(this.attachments).filter(ot=>!this.attachments[ot]).forEach(ot=>{delete this.attachments[ot]})}checkStatus(){const et=this.getStatus();if(et!==36053)throw new Error(_getFrameBufferStatus(et));return this}getStatus(){const{gl:et}=this,nt=et.bindFramebuffer(36160,this.handle),rt=et.checkFramebufferStatus(36160);return et.bindFramebuffer(36160,nt||null),rt}clear(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{color:nt,depth:rt,stencil:it,drawBuffers:st=[]}=et,ot=this.gl.bindFramebuffer(36160,this.handle);return(nt||rt||it)&&clear(this.gl,{color:nt,depth:rt,stencil:it}),st.forEach((at,lt)=>{clearBuffer(this.gl,{drawBuffer:lt,value:at})}),this.gl.bindFramebuffer(36160,ot||null),this}readPixels(){return log$3.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return log$3.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return log$3.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return log$3.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return log$3.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return log$3.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(et){let{attachments:nt=[],x:rt=0,y:it=0,width:st,height:ot}=et;const at=assertWebGL2Context(this.gl),lt=at.bindFramebuffer(36008,this.handle);return rt===0&&it===0&&st===void 0&&ot===void 0?at.invalidateFramebuffer(36008,nt):at.invalidateFramebuffer(36008,nt,rt,it,st,ot),at.bindFramebuffer(36008,lt),this}getAttachmentParameter(et,nt,rt){let it=this._getAttachmentParameterFallback(nt);return it===null&&(this.gl.bindFramebuffer(36160,this.handle),it=this.gl.getFramebufferAttachmentParameter(36160,et,nt),this.gl.bindFramebuffer(36160,null)),rt&&it>1e3&&(it=getKey(this.gl,it)),it}getAttachmentParameters(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:36064,nt=arguments.length>1?arguments[1]:void 0,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const it={};for(const st of rt){const ot=nt?getKey(this.gl,st):st;it[ot]=this.getAttachmentParameter(et,st,nt)}return it}getParameters(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const nt=Object.keys(this.attachments),rt={};for(const it of nt){const st=Number(it),ot=et?getKey(this.gl,st):st;rt[ot]=this.getAttachmentParameters(st,et)}return rt}show(){return typeof window<"u"&&window.open(copyToDataUrl(this),"luma-debug-texture"),this}log(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(et>log$3.level||typeof window>"u")return this;nt=nt||"Framebuffer ".concat(this.id);const rt=copyToDataUrl(this,{targetMaxHeight:100});return log$3.image({logLevel:et,message:nt,image:rt},nt)(),this}bind(){let{target:et=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(et,this.handle),this}unbind(){let{target:et=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(et,null),this}_createDefaultAttachments(et,nt,rt,it,st){let ot=null;return et&&(ot=ot||{},ot[36064]=new Texture2D(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:it,height:st,mipmaps:!1,parameters:{[10241]:9729,[10240]:9729,[10242]:33071,[10243]:33071}}),this.ownResources.push(ot[36064])),nt&&rt?(ot=ot||{},ot[33306]=new Renderbuffer(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:it,height:111}),this.ownResources.push(ot[33306])):nt?(ot=ot||{},ot[36096]=new Renderbuffer(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:it,height:st}),this.ownResources.push(ot[36096])):rt&&assert$6(!1),ot}_unattach(et){const nt=this.attachments[et];nt&&(nt instanceof Renderbuffer?this.gl.framebufferRenderbuffer(36160,et,36161,null):this.gl.framebufferTexture2D(36160,et,3553,null,0),delete this.attachments[et])}_attachRenderbuffer(et){let{attachment:nt=36064,renderbuffer:rt}=et;const{gl:it}=this;it.framebufferRenderbuffer(36160,nt,36161,rt.handle),this.attachments[nt]=rt}_attachTexture(et){let{attachment:nt=36064,texture:rt,layer:it,level:st}=et;const{gl:ot}=this;switch(ot.bindTexture(rt.target,rt.handle),rt.target){case 35866:case 32879:assertWebGL2Context(ot).framebufferTextureLayer(36160,nt,rt.target,st,it);break;case 34067:const lt=mapIndexToCubeMapFace(it);ot.framebufferTexture2D(36160,nt,lt,rt.handle,st);break;case 3553:ot.framebufferTexture2D(36160,nt,3553,rt.handle,st);break;default:assert$6(!1,"Illegal texture type")}ot.bindTexture(rt.target,null),this.attachments[nt]=rt}_setReadBuffer(et){const nt=getWebGL2Context(this.gl);nt?nt.readBuffer(et):assert$6(et===36064||et===1029,ERR_MULTIPLE_RENDERTARGETS),this.readBuffer=et}_setDrawBuffers(et){const{gl:nt}=this,rt=assertWebGL2Context(nt);if(rt)rt.drawBuffers(et);else{const it=nt.getExtension("WEBGL_draw_buffers");it?it.drawBuffersWEBGL(et):assert$6(et.length===1&&(et[0]===36064||et[0]===1029),ERR_MULTIPLE_RENDERTARGETS)}this.drawBuffers=et}_getAttachmentParameterFallback(et){const nt=getFeatures(this.gl);switch(et){case 36052:return nt.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return nt.WEBGL2?null:8;case 33297:return nt.WEBGL2?null:5125;case 33296:return!nt.WEBGL2&&!nt.EXT_sRGB?9729:null;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(et){return this.gl.bindFramebuffer(36160,et)}}function mapIndexToCubeMapFace(tt){return tt<34069?tt+34069:tt}function _getFrameBufferStatus(tt){return(Framebuffer.STATUS||{})[tt]||"Framebuffer error ".concat(tt)}const FRAMEBUFFER_ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];Framebuffer.ATTACHMENT_PARAMETERS=FRAMEBUFFER_ATTACHMENT_PARAMETERS;function cloneTextureFrom(tt,et){assert$6(tt instanceof Texture2D||tt instanceof TextureCube||tt instanceof Texture3D);const nt=tt.constructor,{gl:rt,width:it,height:st,format:ot,type:at,dataFormat:lt,border:ut,mipmaps:ft}=tt,dt=Object.assign({width:it,height:st,format:ot,type:at,dataFormat:lt,border:ut,mipmaps:ft},et);return new nt(rt,dt)}function toFramebuffer(tt,et){const{gl:nt,width:rt,height:it,id:st}=tt;return new Framebuffer(nt,Object.assign({},et,{id:"framebuffer-for-".concat(st),width:rt,height:it,attachments:{[36064]:tt}}))}function getShaderName$1(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unnamed";const nt=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,rt=tt.match(nt);return rt?rt[1]:et}const GL_FRAGMENT_SHADER=35632,GL_VERTEX_SHADER=35633;function getShaderTypeName(tt){switch(tt){case GL_FRAGMENT_SHADER:return"fragment";case GL_VERTEX_SHADER:return"vertex";default:return"unknown type"}}function parseGLSLCompilerError(tt,et,nt,rt){const it=tt.split(/\r?\n/),st={},ot={},at=rt||getShaderName$1(et)||"(unnamed)",lt="".concat(getShaderTypeName(nt)," shader ").concat(at);for(let ft=0;ft<it.length;ft++){const dt=it[ft];if(dt.length<=1)continue;const ht=dt.split(":"),mt=ht[0],xt=parseInt(ht[2],10);if(isNaN(xt))throw new Error("GLSL compilation error in ".concat(lt,": ").concat(tt));mt!=="WARNING"?st[xt]=dt:ot[xt]=dt}const ut=addLineNumbers(et);return{shaderName:lt,errors:formatErrors(st,ut),warnings:formatErrors(ot,ut)}}function formatErrors(tt,et){let nt="";for(let rt=0;rt<et.length;rt++){const it=et[rt];if(!(!tt[rt+3]&&!tt[rt+2]&&!tt[rt+1])&&(nt+="".concat(it,`
`),tt[rt+1])){const st=tt[rt+1],ot=st.split(":",3),at=ot[0],lt=parseInt(ot[1],10)||0,ut=st.substring(ot.join(":").length+1).trim();nt+=padLeft("^^^ ".concat(at,": ").concat(ut,`

`),lt)}}return nt}function addLineNumbers(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:": ";const rt=tt.split(/\r?\n/),it=String(rt.length+et-1).length;return rt.map((st,ot)=>{const at=String(ot+et),lt=at.length;return padLeft(at,it-lt)+nt+st})}function padLeft(tt,et){let nt="";for(let rt=0;rt<et;++rt)nt+=" ";return"".concat(nt).concat(tt)}function getShaderVersion(tt){let et=100;const nt=tt.match(/[^\s]+/g);if(nt.length>=2&&nt[0]==="#version"){const rt=parseInt(nt[1],10);Number.isFinite(rt)&&(et=rt)}return et}const ERR_SOURCE="Shader: GLSL source code must be a JavaScript string";class Shader extends Resource$1{get[Symbol.toStringTag](){return"Shader"}static getTypeName(et){switch(et){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return assert$6(!1),"unknown"}}constructor(et,nt){assertWebGLContext(et),assert$6(typeof nt.source=="string",ERR_SOURCE);const rt=getShaderName$1(nt.source,null)||nt.id||uid("unnamed ".concat(Shader.getTypeName(nt.shaderType)));super(et,{id:rt}),this.shaderType=nt.shaderType,this.source=nt.source,this.initialize(nt)}initialize(et){let{source:nt}=et;const rt=getShaderName$1(nt,null);rt&&(this.id=uid(rt)),this._compile(nt)}getParameter(et){return this.gl.getShaderParameter(this.handle,et)}toString(){return"".concat(Shader.getTypeName(this.shaderType),":").concat(this.id)}getName(){return getShaderName$1(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const et=this.gl.getExtension("WEBGL_debug_shaders");return et?et.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.source;if(et.startsWith("#version ")||(et=`#version 100
`.concat(et)),this.source=et,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const rt=this.gl.getShaderInfoLog(this.handle),{shaderName:it,errors:st,warnings:ot}=parseGLSLCompilerError(rt,this.source,this.shaderType,this.id);throw log$3.error("GLSL compilation errors in ".concat(it,`
`).concat(st))(),log$3.warn("GLSL compilation warnings in ".concat(it,`
`).concat(ot))(),new Error("GLSL compilation errors in ".concat(it))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class VertexShader extends Shader{get[Symbol.toStringTag](){return"VertexShader"}constructor(et,nt){typeof nt=="string"&&(nt={source:nt}),super(et,Object.assign({},nt,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class FragmentShader extends Shader{get[Symbol.toStringTag](){return"FragmentShader"}constructor(et,nt){typeof nt=="string"&&(nt={source:nt}),super(et,Object.assign({},nt,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const UNIFORM_SETTERS={[5126]:getArraySetter.bind(null,"uniform1fv",toFloatArray,1,setVectorUniform),[35664]:getArraySetter.bind(null,"uniform2fv",toFloatArray,2,setVectorUniform),[35665]:getArraySetter.bind(null,"uniform3fv",toFloatArray,3,setVectorUniform),[35666]:getArraySetter.bind(null,"uniform4fv",toFloatArray,4,setVectorUniform),[5124]:getArraySetter.bind(null,"uniform1iv",toIntArray,1,setVectorUniform),[35667]:getArraySetter.bind(null,"uniform2iv",toIntArray,2,setVectorUniform),[35668]:getArraySetter.bind(null,"uniform3iv",toIntArray,3,setVectorUniform),[35669]:getArraySetter.bind(null,"uniform4iv",toIntArray,4,setVectorUniform),[35670]:getArraySetter.bind(null,"uniform1iv",toIntArray,1,setVectorUniform),[35671]:getArraySetter.bind(null,"uniform2iv",toIntArray,2,setVectorUniform),[35672]:getArraySetter.bind(null,"uniform3iv",toIntArray,3,setVectorUniform),[35673]:getArraySetter.bind(null,"uniform4iv",toIntArray,4,setVectorUniform),[35674]:getArraySetter.bind(null,"uniformMatrix2fv",toFloatArray,4,setMatrixUniform),[35675]:getArraySetter.bind(null,"uniformMatrix3fv",toFloatArray,9,setMatrixUniform),[35676]:getArraySetter.bind(null,"uniformMatrix4fv",toFloatArray,16,setMatrixUniform),[35678]:getSamplerSetter,[35680]:getSamplerSetter,[5125]:getArraySetter.bind(null,"uniform1uiv",toUIntArray,1,setVectorUniform),[36294]:getArraySetter.bind(null,"uniform2uiv",toUIntArray,2,setVectorUniform),[36295]:getArraySetter.bind(null,"uniform3uiv",toUIntArray,3,setVectorUniform),[36296]:getArraySetter.bind(null,"uniform4uiv",toUIntArray,4,setVectorUniform),[35685]:getArraySetter.bind(null,"uniformMatrix2x3fv",toFloatArray,6,setMatrixUniform),[35686]:getArraySetter.bind(null,"uniformMatrix2x4fv",toFloatArray,8,setMatrixUniform),[35687]:getArraySetter.bind(null,"uniformMatrix3x2fv",toFloatArray,6,setMatrixUniform),[35688]:getArraySetter.bind(null,"uniformMatrix3x4fv",toFloatArray,12,setMatrixUniform),[35689]:getArraySetter.bind(null,"uniformMatrix4x2fv",toFloatArray,8,setMatrixUniform),[35690]:getArraySetter.bind(null,"uniformMatrix4x3fv",toFloatArray,12,setMatrixUniform),[35678]:getSamplerSetter,[35680]:getSamplerSetter,[35679]:getSamplerSetter,[35682]:getSamplerSetter,[36289]:getSamplerSetter,[36292]:getSamplerSetter,[36293]:getSamplerSetter,[36298]:getSamplerSetter,[36299]:getSamplerSetter,[36300]:getSamplerSetter,[36303]:getSamplerSetter,[36306]:getSamplerSetter,[36307]:getSamplerSetter,[36308]:getSamplerSetter,[36311]:getSamplerSetter},FLOAT_ARRAY={},INT_ARRAY={},UINT_ARRAY={},array1=[0];function toTypedArray$1(tt,et,nt,rt){et===1&&typeof tt=="boolean"&&(tt=tt?1:0),Number.isFinite(tt)&&(array1[0]=tt,tt=array1);const it=tt.length;if(it%et&&log$3.warn("Uniform size should be multiples of ".concat(et),tt)(),tt instanceof nt)return tt;let st=rt[it];st||(st=new nt(it),rt[it]=st);for(let ot=0;ot<it;ot++)st[ot]=tt[ot];return st}function toFloatArray(tt,et){return toTypedArray$1(tt,et,Float32Array,FLOAT_ARRAY)}function toIntArray(tt,et){return toTypedArray$1(tt,et,Int32Array,INT_ARRAY)}function toUIntArray(tt,et){return toTypedArray$1(tt,et,Uint32Array,UINT_ARRAY)}function getUniformSetter(tt,et,nt){const rt=UNIFORM_SETTERS[nt.type];if(!rt)throw new Error("Unknown GLSL uniform type ".concat(nt.type));return rt().bind(null,tt,et)}function parseUniformName(tt){if(tt[tt.length-1]!=="]")return{name:tt,length:1,isArray:!1};const et=/([^[]*)(\[[0-9]+\])?/,nt=tt.match(et);if(!nt||nt.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(tt));return{name:nt[1],length:nt[2]||1,isArray:!!nt[2]}}function checkUniformValues(tt,et,nt){for(const rt in tt){const it=tt[rt];if((!nt||!!nt[rt])&&!checkUniformValue(it))throw et=et?"".concat(et," "):"",console.error("".concat(et," Bad uniform ").concat(rt),it),new Error("".concat(et," Bad uniform ").concat(rt))}return!0}function checkUniformValue(tt){return Array.isArray(tt)||ArrayBuffer.isView(tt)?checkUniformArray(tt):isFinite(tt)||tt===!0||tt===!1||tt instanceof Texture||tt instanceof Renderbuffer?!0:tt instanceof Framebuffer?!!tt.texture:!1}function copyUniform(tt,et,nt){if(Array.isArray(nt)||ArrayBuffer.isView(nt))if(tt[et]){const rt=tt[et];for(let it=0,st=nt.length;it<st;++it)rt[it]=nt[it]}else tt[et]=nt.slice();else tt[et]=nt}function checkUniformArray(tt){if(tt.length===0)return!1;const et=Math.min(tt.length,16);for(let nt=0;nt<et;++nt)if(!Number.isFinite(tt[nt]))return!1;return!0}function getSamplerSetter(){let tt=null;return(et,nt,rt)=>{const it=tt!==rt;return it&&(et.uniform1i(nt,rt),tt=rt),it}}function getArraySetter(tt,et,nt,rt){let it=null,st=null;return(ot,at,lt)=>{const ut=et(lt,nt),ft=ut.length;let dt=!1;if(it===null)it=new Float32Array(ft),st=ft,dt=!0;else{assert$6(st===ft,"Uniform length cannot change.");for(let ht=0;ht<ft;++ht)if(ut[ht]!==it[ht]){dt=!0;break}}return dt&&(rt(ot,tt,at,ut),it.set(ut)),dt}}function setVectorUniform(tt,et,nt,rt){tt[et](nt,rt)}function setMatrixUniform(tt,et,nt,rt){tt[et](nt,!1,rt)}const GL_BYTE=5120,GL_UNSIGNED_BYTE=5121,GL_SHORT=5122,GL_UNSIGNED_SHORT=5123,GL_POINTS=0,GL_LINES=1,GL_LINE_LOOP=2,GL_LINE_STRIP=3,GL_TRIANGLES=4,GL_TRIANGLE_STRIP=5,GL_TRIANGLE_FAN=6,GL_FLOAT=5126,GL_FLOAT_VEC2=35664,GL_FLOAT_VEC3=35665,GL_FLOAT_VEC4=35666,GL_INT=5124,GL_INT_VEC2=35667,GL_INT_VEC3=35668,GL_INT_VEC4=35669,GL_UNSIGNED_INT=5125,GL_UNSIGNED_INT_VEC2=36294,GL_UNSIGNED_INT_VEC3=36295,GL_UNSIGNED_INT_VEC4=36296,GL_BOOL=35670,GL_BOOL_VEC2=35671,GL_BOOL_VEC3=35672,GL_BOOL_VEC4=35673,GL_FLOAT_MAT2=35674,GL_FLOAT_MAT3=35675,GL_FLOAT_MAT4=35676,GL_FLOAT_MAT2x3=35685,GL_FLOAT_MAT2x4=35686,GL_FLOAT_MAT3x2=35687,GL_FLOAT_MAT3x4=35688,GL_FLOAT_MAT4x2=35689,GL_FLOAT_MAT4x3=35690,COMPOSITE_GL_TYPES={[GL_FLOAT]:[GL_FLOAT,1,"float"],[GL_FLOAT_VEC2]:[GL_FLOAT,2,"vec2"],[GL_FLOAT_VEC3]:[GL_FLOAT,3,"vec3"],[GL_FLOAT_VEC4]:[GL_FLOAT,4,"vec4"],[GL_INT]:[GL_INT,1,"int"],[GL_INT_VEC2]:[GL_INT,2,"ivec2"],[GL_INT_VEC3]:[GL_INT,3,"ivec3"],[GL_INT_VEC4]:[GL_INT,4,"ivec4"],[GL_UNSIGNED_INT]:[GL_UNSIGNED_INT,1,"uint"],[GL_UNSIGNED_INT_VEC2]:[GL_UNSIGNED_INT,2,"uvec2"],[GL_UNSIGNED_INT_VEC3]:[GL_UNSIGNED_INT,3,"uvec3"],[GL_UNSIGNED_INT_VEC4]:[GL_UNSIGNED_INT,4,"uvec4"],[GL_BOOL]:[GL_FLOAT,1,"bool"],[GL_BOOL_VEC2]:[GL_FLOAT,2,"bvec2"],[GL_BOOL_VEC3]:[GL_FLOAT,3,"bvec3"],[GL_BOOL_VEC4]:[GL_FLOAT,4,"bvec4"],[GL_FLOAT_MAT2]:[GL_FLOAT,8,"mat2"],[GL_FLOAT_MAT2x3]:[GL_FLOAT,8,"mat2x3"],[GL_FLOAT_MAT2x4]:[GL_FLOAT,8,"mat2x4"],[GL_FLOAT_MAT3]:[GL_FLOAT,12,"mat3"],[GL_FLOAT_MAT3x2]:[GL_FLOAT,12,"mat3x2"],[GL_FLOAT_MAT3x4]:[GL_FLOAT,12,"mat3x4"],[GL_FLOAT_MAT4]:[GL_FLOAT,16,"mat4"],[GL_FLOAT_MAT4x2]:[GL_FLOAT,16,"mat4x2"],[GL_FLOAT_MAT4x3]:[GL_FLOAT,16,"mat4x3"]};function getPrimitiveDrawMode(tt){switch(tt){case GL_POINTS:return GL_POINTS;case GL_LINES:return GL_LINES;case GL_LINE_STRIP:return GL_LINES;case GL_LINE_LOOP:return GL_LINES;case GL_TRIANGLES:return GL_TRIANGLES;case GL_TRIANGLE_STRIP:return GL_TRIANGLES;case GL_TRIANGLE_FAN:return GL_TRIANGLES;default:return assert$6(!1),0}}function decomposeCompositeGLType(tt){const et=COMPOSITE_GL_TYPES[tt];if(!et)return null;const[nt,rt]=et;return{type:nt,components:rt}}function getCompositeGLType(tt,et){switch(tt){case GL_BYTE:case GL_UNSIGNED_BYTE:case GL_SHORT:case GL_UNSIGNED_SHORT:tt=GL_FLOAT;break}for(const nt in COMPOSITE_GL_TYPES){const[rt,it,st]=COMPOSITE_GL_TYPES[nt];if(rt===tt&&it===et)return{glType:nt,name:st}}return null}class ProgramConfiguration{constructor(et){this.id=et.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(et),this._readVaryingsFromProgram(et)}getAttributeInfo(et){const nt=Number(et);return Number.isFinite(nt)?this.attributeInfosByLocation[nt]:this.attributeInfosByName[et]||null}getAttributeLocation(et){const nt=this.getAttributeInfo(et);return nt?nt.location:-1}getAttributeAccessor(et){const nt=this.getAttributeInfo(et);return nt?nt.accessor:null}getVaryingInfo(et){const nt=Number(et);return Number.isFinite(nt)?this.varyingInfos[nt]:this.varyingInfosByName[et]||null}getVaryingIndex(et){const nt=this.getVaryingInfo();return nt?nt.location:-1}getVaryingAccessor(et){const nt=this.getVaryingInfo();return nt?nt.accessor:null}_readAttributesFromProgram(et){const{gl:nt}=et,rt=nt.getProgramParameter(et.handle,35721);for(let it=0;it<rt;it++){const{name:st,type:ot,size:at}=nt.getActiveAttrib(et.handle,it),lt=nt.getAttribLocation(et.handle,st);lt>=0&&this._addAttribute(lt,st,ot,at)}this.attributeInfos.sort((it,st)=>it.location-st.location)}_readVaryingsFromProgram(et){const{gl:nt}=et;if(!isWebGL2$1(nt))return;const rt=nt.getProgramParameter(et.handle,35971);for(let it=0;it<rt;it++){const{name:st,type:ot,size:at}=nt.getTransformFeedbackVarying(et.handle,it);this._addVarying(it,st,ot,at)}this.varyingInfos.sort((it,st)=>it.location-st.location)}_addAttribute(et,nt,rt,it){const{type:st,components:ot}=decomposeCompositeGLType(rt),at={type:st,size:it*ot};this._inferProperties(et,nt,at);const lt={location:et,name:nt,accessor:new Accessor(at)};this.attributeInfos.push(lt),this.attributeInfosByLocation[et]=lt,this.attributeInfosByName[lt.name]=lt}_inferProperties(et,nt,rt){/instance/i.test(nt)&&(rt.divisor=1)}_addVarying(et,nt,rt,it){const{type:st,components:ot}=decomposeCompositeGLType(rt),at=new Accessor({type:st,size:it*ot}),lt={location:et,name:nt,accessor:at};this.varyingInfos.push(lt),this.varyingInfosByName[lt.name]=lt}}const LOG_PROGRAM_PERF_PRIORITY=4,GL_SEPARATE_ATTRIBS=35981,V6_DEPRECATED_METHODS=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class Program extends Resource$1{get[Symbol.toStringTag](){return"Program"}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(et,nt),this.stubRemovedMethods("Program","v6.0",V6_DEPRECATED_METHODS),this._isCached=!1,this.initialize(nt),Object.seal(this),this._setId(nt.id)}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{hash:nt,vs:rt,fs:it,varyings:st,bufferMode:ot=GL_SEPARATE_ATTRIBS}=et;return this.hash=nt||"",this.vs=typeof rt=="string"?new VertexShader(this.gl,{id:"".concat(et.id,"-vs"),source:rt}):rt,this.fs=typeof it=="string"?new FragmentShader(this.gl,{id:"".concat(et.id,"-fs"),source:it}):it,assert$6(this.vs instanceof VertexShader),assert$6(this.fs instanceof FragmentShader),this.uniforms={},this._textureUniforms={},st&&st.length>0&&(assertWebGL2Context(this.gl),this.varyings=st,this.gl2.transformFeedbackVaryings(this.handle,st,ot)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new ProgramConfiguration(this),this.setProps(et)}delete(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isCached?this:super.delete(et)}setProps(et){return"uniforms"in et&&this.setUniforms(et.uniforms),this}draw(et){let{logPriority:nt,drawMode:rt=4,vertexCount:it,offset:st=0,start:ot,end:at,isIndexed:lt=!1,indexType:ut=5123,instanceCount:ft=0,isInstanced:dt=ft>0,vertexArray:ht=null,transformFeedback:mt,framebuffer:xt,parameters:_t={},uniforms:At,samplers:gt}=et;if((At||gt)&&(log$3.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(At||{})),log$3.priority>=nt){const vt=xt?xt.id:"default",Et="mode=".concat(getKey(this.gl,rt)," verts=").concat(it," ")+"instances=".concat(ft," indexType=").concat(getKey(this.gl,ut)," ")+"isInstanced=".concat(dt," isIndexed=").concat(lt," ")+"Framebuffer=".concat(vt);log$3.log(nt,Et)()}return assert$6(ht),this.gl.useProgram(this.handle),!this._areTexturesRenderable()||it===0||dt&&ft===0?!1:(ht.bindForDraw(it,ft,()=>{if(xt!==void 0&&(_t=Object.assign({},_t,{framebuffer:xt})),mt){const vt=getPrimitiveDrawMode(rt);mt.begin(vt)}this._bindTextures(),withParameters(this.gl,_t,()=>{lt&&dt?this.gl2.drawElementsInstanced(rt,it,ut,st,ft):lt&&isWebGL2$1(this.gl)&&!isNaN(ot)&&!isNaN(at)?this.gl2.drawRangeElements(rt,ot,at,it,ut,st):lt?this.gl.drawElements(rt,it,ut,st):dt?this.gl2.drawArraysInstanced(rt,st,it,ft):this.gl.drawArrays(rt,st,it)}),mt&&mt.end()}),!0)}setUniforms(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};log$3.priority>=2&&checkUniformValues(et,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const nt in et){const rt=et[nt],it=this._uniformSetters[nt];if(it){let st=rt,ot=!1;if(st instanceof Framebuffer&&(st=st.texture),st instanceof Texture)if(ot=this.uniforms[nt]!==rt,ot){it.textureIndex===void 0&&(it.textureIndex=this._textureIndexCounter++);const at=st,{textureIndex:lt}=it;at.bind(lt),st=lt,this._textureUniforms[nt]=at}else st=it.textureIndex;else this._textureUniforms[nt]&&delete this._textureUniforms[nt];(it(st)||ot)&&copyUniform(this.uniforms,nt,rt)}}return this}_areTexturesRenderable(){let et=!0;for(const nt in this._textureUniforms){const rt=this._textureUniforms[nt];rt.update(),et=et&&rt.loaded}return et}_bindTextures(){for(const et in this._textureUniforms){const nt=this._uniformSetters[et].textureIndex;this._textureUniforms[et].bind(nt)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(et){const nt=this.gl.getAttachedShaders(et),rt={};for(const it of nt)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:rt.vs=new VertexShader({handle:it});break;case 35632:rt.fs=new FragmentShader({handle:it});break}return rt}_getParameter(et){return this.gl.getProgramParameter(this.handle,et)}_setId(et){if(!et){const nt=this._getName();this.id=uid(nt)}}_getName(){let et=this.vs.getName()||this.fs.getName();return et=et.replace(/shader/i,""),et=et?"".concat(et,"-program"):"program",et}_compileAndLink(){const{gl:et}=this;if(et.attachShader(this.handle,this.vs.handle),et.attachShader(this.handle,this.fs.handle),log$3.time(LOG_PROGRAM_PERF_PRIORITY,"linkProgram for ".concat(this._getName()))(),et.linkProgram(this.handle),log$3.timeEnd(LOG_PROGRAM_PERF_PRIORITY,"linkProgram for ".concat(this._getName()))(),et.debug||log$3.level>0){if(!et.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(et.getProgramInfoLog(this.handle)));if(et.validateProgram(this.handle),!et.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(et.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:et}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let nt=0;nt<this._uniformCount;nt++){const rt=this.gl.getActiveUniform(this.handle,nt),{name:it}=parseUniformName(rt.name);let st=et.getUniformLocation(this.handle,it);if(this._uniformSetters[it]=getUniformSetter(et,st,rt),rt.size>1)for(let ot=0;ot<rt.size;ot++)st=et.getUniformLocation(this.handle,"".concat(it,"[").concat(ot,"]")),this._uniformSetters["".concat(it,"[").concat(ot,"]")]=getUniformSetter(et,st,rt)}this._textureIndexCounter=0}getActiveUniforms(et,nt){return this.gl2.getActiveUniforms(this.handle,et,nt)}getUniformBlockIndex(et){return this.gl2.getUniformBlockIndex(this.handle,et)}getActiveUniformBlockParameter(et,nt){return this.gl2.getActiveUniformBlockParameter(this.handle,et,nt)}uniformBlockBinding(et,nt){this.gl2.uniformBlockBinding(this.handle,et,nt)}}const GL_QUERY_RESULT=34918,GL_QUERY_RESULT_AVAILABLE=34919,GL_TIME_ELAPSED_EXT=35007,GL_GPU_DISJOINT_EXT=36795,GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,GL_ANY_SAMPLES_PASSED=35887,GL_ANY_SAMPLES_PASSED_CONSERVATIVE=36202;class Query extends Resource$1{get[Symbol.toStringTag](){return"Query"}static isSupported(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const rt=isWebGL2$1(et),it=hasFeatures$1(et,FEATURES$1.TIMER_QUERY);let st=rt||it;for(const ot of nt)switch(ot){case"queries":st=st&&rt;break;case"timers":st=st&&it;break;default:assert$6(!1)}return st}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(et,nt),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(GL_TIME_ELAPSED_EXT)}beginOcclusionQuery(){let{conservative:et=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.begin(et?GL_ANY_SAMPLES_PASSED_CONSERVATIVE:GL_ANY_SAMPLES_PASSED)}beginTransformFeedbackQuery(){return this.begin(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN)}begin(et){return this._queryPending?this:(this.target=et,this.gl2.beginQuery(this.target,this.handle),this)}end(){return this._queryPending?this:(this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this)}isResultAvailable(){if(!this._queryPending)return!1;const et=this.gl2.getQueryParameter(this.handle,GL_QUERY_RESULT_AVAILABLE);return et&&(this._queryPending=!1),et}isTimerDisjoint(){return this.gl2.getParameter(GL_GPU_DISJOINT_EXT)}getResult(){return this.gl2.getQueryParameter(this.handle,GL_QUERY_RESULT)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let nt=0;return this._pollingPromise=new Promise((rt,it)=>{const st=()=>{this.isResultAvailable()?(rt(this.getResult()),this._pollingPromise=null):nt++>et?(it("Timed out"),this._pollingPromise=null):requestAnimationFrame(st)};requestAnimationFrame(st)}),this._pollingPromise}_createHandle(){return Query.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}class TransformFeedback extends Resource$1{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(et){return isWebGL2$1(et)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertWebGL2Context(et),super(et,nt),this.initialize(nt),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,isObjectEmpty(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(et),this}setProps(et){"program"in et&&(this.configuration=et.program&&et.program.configuration),"configuration"in et&&(this.configuration=et.configuration),"bindOnUse"in et&&(et=et.bindOnUse),"buffers"in et&&this.setBuffers(et.buffers)}setBuffers(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.bind(()=>{for(const nt in et)this.setBuffer(nt,et[nt])}),this}setBuffer(et,nt){const rt=this._getVaryingIndex(et),{buffer:it,byteSize:st,byteOffset:ot}=this._getBufferParams(nt);return rt<0?(this.unused[et]=it,log$3.warn("".concat(this.id," unused varying buffer ").concat(et))(),this):(this.buffers[rt]=nt,this.bindOnUse||this._bindBuffer(rt,it,ot,st),this)}begin(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(et),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(et){let nt,rt,it;return et instanceof Buffer$1?it=et:(it=et.buffer,rt=et.byteSize,nt=et.byteOffset),(nt!==void 0||rt!==void 0)&&(nt=nt||0,rt=rt||it.byteLength-nt),{buffer:it,byteOffset:nt,byteSize:rt}}_getVaryingInfo(et){return this.configuration&&this.configuration.getVaryingInfo(et)}_getVaryingIndex(et){if(this.configuration)return this.configuration.getVaryingInfo(et).location;const nt=Number(et);return Number.isFinite(nt)?nt:-1}_bindBuffers(){if(this.bindOnUse)for(const et in this.buffers){const{buffer:nt,byteSize:rt,byteOffset:it}=this._getBufferParams(this.buffers[et]);this._bindBuffer(et,nt,it,rt)}}_unbindBuffers(){if(this.bindOnUse)for(const et in this.buffers)this._bindBuffer(et,null)}_bindBuffer(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,it=arguments.length>3?arguments[3]:void 0;const st=nt&&nt.handle;return!st||it===void 0?this.gl.bindBufferBase(35982,et,st):this.gl.bindBufferRange(35982,et,st,rt,it),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(et){this.gl.bindTransformFeedback(36386,this.handle)}}let arrayBuffer=null;function getScratchArrayBuffer(tt){return(!arrayBuffer||arrayBuffer.byteLength<tt)&&(arrayBuffer=new ArrayBuffer(tt)),arrayBuffer}function getScratchArray(tt,et){const nt=getScratchArrayBuffer(tt.BYTES_PER_ELEMENT*et);return new tt(nt,0,et)}function fillArray$1(tt){let{target:et,source:nt,start:rt=0,count:it=1}=tt;const st=nt.length,ot=it*st;let at=0;for(let lt=rt;at<st;at++)et[lt++]=nt[at];for(;at<ot;)at<ot-at?(et.copyWithin(rt+at,rt,rt+at),at*=2):(et.copyWithin(rt+at,rt,rt+ot-at),at=ot);return et}const ERR_ELEMENTS="elements must be GL.ELEMENT_ARRAY_BUFFER";class VertexArrayObject extends Resource$1{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(et){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).constantAttributeZero?isWebGL2$1(et)||getBrowser$1()==="Chrome":!0}static getDefaultArray(et){return et.luma=et.luma||{},et.luma.defaultVertexArray||(et.luma.defaultVertexArray=new VertexArrayObject(et,{handle:null,isDefaultArray:!0})),et.luma.defaultVertexArray}static getMaxAttributes(et){return VertexArrayObject.MAX_ATTRIBUTES=VertexArrayObject.MAX_ATTRIBUTES||et.getParameter(34921),VertexArrayObject.MAX_ATTRIBUTES}static setConstant(et,nt,rt){switch(rt.constructor){case Float32Array:VertexArrayObject._setConstantFloatArray(et,nt,rt);break;case Int32Array:VertexArrayObject._setConstantIntArray(et,nt,rt);break;case Uint32Array:VertexArrayObject._setConstantUintArray(et,nt,rt);break;default:assert$6(!1)}}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=nt.id||nt.program&&nt.program.id;super(et,Object.assign({},nt,{id:rt})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=nt.isDefaultArray||!1,this.gl2=et,this.initialize(nt),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return VertexArrayObject.getMaxAttributes(this.gl)}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.setProps(et)}setProps(et){return this}setElementBuffer(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return assert$6(!et||et.target===34963,ERR_ELEMENTS),this.bind(()=>{this.gl.bindBuffer(34963,et?et.handle:null)}),this}setBuffer(et,nt,rt){if(nt.target===34963)return this.setElementBuffer(nt,rt);const{size:it,type:st,stride:ot,offset:at,normalized:lt,integer:ut,divisor:ft}=rt,{gl:dt,gl2:ht}=this;return et=Number(et),this.bind(()=>{dt.bindBuffer(34962,nt.handle),ut?(assert$6(isWebGL2$1(dt)),ht.vertexAttribIPointer(et,it,st,ot,at)):dt.vertexAttribPointer(et,it,st,lt,ot,at),dt.enableVertexAttribArray(et),ht.vertexAttribDivisor(et,ft||0)}),this}enable(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return!nt&&et===0&&!VertexArrayObject.isSupported(this.gl,{constantAttributeZero:!0})||(et=Number(et),this.bind(()=>nt?this.gl.enableVertexAttribArray(et):this.gl.disableVertexAttribArray(et))),this}getConstantBuffer(et,nt){const rt=this._normalizeConstantArrayValue(nt),it=rt.byteLength*et,st=rt.length*et;let ot=!this.buffer;if(this.buffer=this.buffer||new Buffer$1(this.gl,it),ot=ot||this.buffer.reallocate(it),ot=ot||!this._compareConstantArrayValues(rt,this.bufferValue),ot){const at=getScratchArray(nt.constructor,st);fillArray$1({target:at,source:rt,start:0,count:st}),this.buffer.subData(at),this.bufferValue=nt}return this.buffer}_normalizeConstantArrayValue(et){return Array.isArray(et)?new Float32Array(et):et}_compareConstantArrayValues(et,nt){if(!et||!nt||et.length!==nt.length||et.constructor!==nt.constructor)return!1;for(let rt=0;rt<et.length;++rt)if(et[rt]!==nt[rt])return!1;return!0}static _setConstantFloatArray(et,nt,rt){switch(rt.length){case 1:et.vertexAttrib1fv(nt,rt);break;case 2:et.vertexAttrib2fv(nt,rt);break;case 3:et.vertexAttrib3fv(nt,rt);break;case 4:et.vertexAttrib4fv(nt,rt);break;default:assert$6(!1)}}static _setConstantIntArray(et,nt,rt){switch(assert$6(isWebGL2$1(et)),rt.length){case 1:et.vertexAttribI1iv(nt,rt);break;case 2:et.vertexAttribI2iv(nt,rt);break;case 3:et.vertexAttribI3iv(nt,rt);break;case 4:et.vertexAttribI4iv(nt,rt);break;default:assert$6(!1)}}static _setConstantUintArray(et,nt,rt){switch(assert$6(isWebGL2$1(et)),rt.length){case 1:et.vertexAttribI1uiv(nt,rt);break;case 2:et.vertexAttribI2uiv(nt,rt);break;case 3:et.vertexAttribI3uiv(nt,rt);break;case 4:et.vertexAttribI4uiv(nt,rt);break;default:assert$6(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(et){return this.gl2.deleteVertexArray(et),[this.elements]}_bindHandle(et){this.gl2.bindVertexArray(et)}_getParameter(et,nt){let{location:rt}=nt;return assert$6(Number.isFinite(rt)),this.bind(()=>{switch(et){case 34373:return this.gl.getVertexAttribOffset(rt,et);default:return this.gl.getVertexAttrib(rt,et)}})}}const ERR_ATTRIBUTE_TYPE="VertexArray: attributes must be Buffers or constants (i.e. typed array)",MULTI_LOCATION_ATTRIBUTE_REGEXP=/^(.+)__LOCATION_([0-9]+)$/,DEPRECATIONS_V6=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class VertexArray{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=nt.id||nt.program&&nt.program.id;this.id=rt,this.gl=et,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new VertexArrayObject(et),stubRemovedMethods(this,"VertexArray","v6.0",DEPRECATIONS_V6),this.initialize(nt),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(et)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:et}=this.vertexArrayObject;return this.values=new Array(et).fill(null),this.accessors=new Array(et).fill(null),this.unused={},this.drawParams=null,this}setProps(et){return"program"in et&&(this.configuration=et.program&&et.program.configuration),"configuration"in et&&(this.configuration=et.configuration),"attributes"in et&&this.setAttributes(et.attributes),"elements"in et&&this.setElementBuffer(et.elements),"bindOnUse"in et&&(et=et.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(et){return Object.assign(this.attributes,et),this.vertexArrayObject.bind(()=>{for(const nt in et){const rt=et[nt];this._setAttribute(nt,rt)}this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.elements=et,this.elementsAccessor=nt,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(et,nt),this}setBuffer(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(nt.target===34963)return this.setElementBuffer(nt,rt);const{location:it,accessor:st}=this._resolveLocationAndAccessor(et,nt,nt.accessor,rt);return it>=0&&(this.values[it]=nt,this.accessors[it]=st,this.clearDrawParams(),this.vertexArrayObject.setBuffer(it,nt,st)),this}setConstant(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{location:it,accessor:st}=this._resolveLocationAndAccessor(et,nt,Object.assign({size:nt.length},rt));return it>=0&&(nt=this.vertexArrayObject._normalizeConstantArrayValue(nt),this.values[it]=nt,this.accessors[it]=st,this.clearDrawParams(),this.vertexArrayObject.enable(it,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Buffer$1(this.gl,{accessor:{size:4}});for(let et=0;et<this.vertexArrayObject.MAX_ATTRIBUTES;et++)this.values[et]instanceof Buffer$1&&(this.gl.disableVertexAttribArray(et),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(et,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let et=0;et<this.vertexArrayObject.MAX_ATTRIBUTES;et++){const nt=this.values[et];nt instanceof Buffer$1&&this.setBuffer(et,nt)}}),this}bindForDraw(et,nt,rt){let it;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(et,nt),it=rt()}),it}_resolveLocationAndAccessor(et,nt,rt,it){const st={location:-1,accessor:null},{location:ot,name:at}=this._getAttributeIndex(et);if(!Number.isFinite(ot)||ot<0)return this.unused[et]=nt,log$3.once(3,()=>"unused value ".concat(et," in ").concat(this.id))(),st;const lt=this._getAttributeInfo(at||ot);if(!lt)return st;const ut=this.accessors[ot]||{},ft=Accessor.resolve(lt.accessor,ut,rt,it),{size:dt,type:ht}=ft;return assert$6(Number.isFinite(dt)&&Number.isFinite(ht)),{location:ot,accessor:ft}}_getAttributeInfo(et){return this.configuration&&this.configuration.getAttributeInfo(et)}_getAttributeIndex(et){const nt=Number(et);if(Number.isFinite(nt))return{location:nt};const rt=MULTI_LOCATION_ATTRIBUTE_REGEXP.exec(et),it=rt?rt[1]:et,st=rt?Number(rt[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(it)+st,name:it}:{location:-1}}_setAttribute(et,nt){if(nt instanceof Buffer$1)this.setBuffer(et,nt);else if(Array.isArray(nt)&&nt.length&&nt[0]instanceof Buffer$1){const rt=nt[0],it=nt[1];this.setBuffer(et,rt,it)}else if(ArrayBuffer.isView(nt)||Array.isArray(nt)){const rt=nt;this.setConstant(et,rt)}else if(nt.buffer instanceof Buffer$1){const rt=nt;this.setBuffer(et,rt.buffer,rt)}else throw new Error(ERR_ATTRIBUTE_TYPE)}_setConstantAttributes(et,nt){const rt=Math.max(et|0,nt|0);let it=this.values[0];ArrayBuffer.isView(it)&&this._setConstantAttributeZero(it,rt);for(let st=1;st<this.vertexArrayObject.MAX_ATTRIBUTES;st++)it=this.values[st],ArrayBuffer.isView(it)&&this._setConstantAttribute(st,it)}_setConstantAttributeZero(et,nt){if(VertexArrayObject.isSupported(this.gl,{constantAttributeZero:!0})){this._setConstantAttribute(0,et);return}const rt=this.vertexArrayObject.getConstantBuffer(nt,et);this.vertexArrayObject.setBuffer(0,rt,this.accessors[0])}_setConstantAttribute(et,nt){VertexArrayObject.setConstant(this.gl,et,nt)}_updateDrawParams(){const et={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let nt=0;nt<this.vertexArrayObject.MAX_ATTRIBUTES;nt++)this._updateDrawParamsForLocation(et,nt);return this.elements&&(et.elementCount=this.elements.getElementCount(this.elements.accessor),et.isIndexed=!0,et.indexType=this.elementsAccessor.type||this.elements.accessor.type,et.indexOffset=this.elementsAccessor.offset||0),et.indexCount===1/0&&(et.indexCount=0),et.vertexCount===1/0&&(et.vertexCount=0),et.instanceCount===1/0&&(et.instanceCount=0),et}_updateDrawParamsForLocation(et,nt){const rt=this.values[nt],it=this.accessors[nt];if(!rt)return;const{divisor:st}=it,ot=st>0;if(et.isInstanced=et.isInstanced||ot,rt instanceof Buffer$1){const at=rt;if(ot){const lt=at.getVertexCount(it);et.instanceCount=Math.min(et.instanceCount,lt)}else{const lt=at.getVertexCount(it);et.vertexCount=Math.min(et.vertexCount,lt)}}}setElements(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return log$3.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(et,nt)}}function formatArrayValue(tt,et){const{maxElts:nt=16,size:rt=1}=et;let it="[";for(let ot=0;ot<tt.length&&ot<nt;++ot)ot>0&&(it+=",".concat(ot%rt===0?" ":"")),it+=formatValue$1(tt[ot],et);const st=tt.length>nt?"...":"]";return"".concat(it).concat(st)}function formatValue$1(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const nt=1e-16,{isInteger:rt=!1}=et;if(Array.isArray(tt)||ArrayBuffer.isView(tt))return formatArrayValue(tt,et);if(!Number.isFinite(tt))return String(tt);if(Math.abs(tt)<nt)return rt?"0":"0.";if(rt||Math.abs(tt)>100&&Math.abs(tt)<1e4)return tt.toFixed(0);const it=tt.toPrecision(2);return it.indexOf(".0")===it.length-2?it.slice(0,-1):it}function getDebugTableForUniforms(tt){let{header:et="Uniforms",program:nt,uniforms:rt,undefinedOnly:it=!1}=tt;assert$6(nt);const st=".*_.*",ot=".*Matrix",at=nt._uniformSetters,lt={},ut=Object.keys(at).sort();let ft=0;for(const mt of ut)!mt.match(st)&&!mt.match(ot)&&addUniformToTable({table:lt,header:et,uniforms:rt,uniformName:mt,undefinedOnly:it})&&ft++;for(const mt of ut)mt.match(ot)&&addUniformToTable({table:lt,header:et,uniforms:rt,uniformName:mt,undefinedOnly:it})&&ft++;for(const mt of ut)lt[mt]||addUniformToTable({table:lt,header:et,uniforms:rt,uniformName:mt,undefinedOnly:it})&&ft++;let dt=0;const ht={};if(!it)for(const mt in rt){const xt=rt[mt];lt[mt]||(dt++,ht[mt]={Type:"NOT USED: ".concat(xt),[et]:formatValue$1(xt)})}return{table:lt,count:ft,unusedTable:ht,unusedCount:dt}}function addUniformToTable(tt){let{table:et,header:nt,uniforms:rt,uniformName:it,undefinedOnly:st}=tt;const ot=rt[it],at=isUniformDefined(ot);return!st||!at?(et[it]={[nt]:at?formatValue$1(ot):"N/A","Uniform Type":at?ot:"NOT PROVIDED"},!0):!1}function isUniformDefined(tt){return tt!=null}function getDebugTableForVertexArray(tt){let{vertexArray:et,header:nt="Attributes"}=tt;if(!et.configuration)return{};const rt={};et.elements&&(rt.ELEMENT_ARRAY_BUFFER=getDebugTableRow(et,et.elements,null,nt));const it=et.values;for(const st in it){const ot=et._getAttributeInfo(st);if(ot){let at="".concat(st,": ").concat(ot.name);const lt=et.accessors[ot.location];lt&&(at="".concat(st,": ").concat(getGLSLDeclaration$1(ot.name,lt))),rt[at]=getDebugTableRow(et,it[st],lt,nt)}}return rt}function getDebugTableRow(tt,et,nt,rt){const{gl:it}=tt;if(!et)return{[rt]:"null","Format ":"N/A"};let st="NOT PROVIDED",ot=1,at=0,lt=0,ut,ft,dt;if(nt&&(st=nt.type,ot=nt.size,st=String(st).replace("Array",""),ut=st.indexOf("nt")!==-1),et instanceof Buffer$1){const ht=et,{data:mt,changed:xt}=ht.getDebugData();ft=xt?"*":"",dt=mt,lt=ht.byteLength,at=lt/mt.BYTES_PER_ELEMENT/ot;let _t;if(nt){const At=nt.divisor>0;_t="".concat(At?"I ":"P "," ").concat(at," (x").concat(ot,"=").concat(lt," bytes ").concat(getKey(it,st),")")}else ut=!0,_t="".concat(lt," bytes");return{[rt]:"".concat(ft).concat(formatValue$1(dt,{size:ot,isInteger:ut})),"Format ":_t}}return dt=et,ot=et.length,st=String(et.constructor.name).replace("Array",""),ut=st.indexOf("nt")!==-1,{[rt]:"".concat(formatValue$1(dt,{size:ot,isInteger:ut})," (constant)"),"Format ":"".concat(ot,"x").concat(st," (constant)")}}function getGLSLDeclaration$1(tt,et){const{type:nt,size:rt}=et,it=getCompositeGLType(nt,rt);return it?"".concat(tt," (").concat(it.name,")"):tt}function getDebugTableForProgramConfiguration(tt){const et={},nt="Accessors for ".concat(tt.id);for(const rt of tt.attributeInfos)if(rt){const it=getGLSLDeclaration(rt);et["in ".concat(it)]={[nt]:JSON.stringify(rt.accessor)}}for(const rt of tt.varyingInfos)if(rt){const it=getGLSLDeclaration(rt);et["out ".concat(it)]={[nt]:JSON.stringify(rt.accessor)}}return et}function getGLSLDeclaration(tt){const{type:et,size:nt}=tt.accessor,rt=getCompositeGLType(et,nt);return rt?"".concat(rt.name," ").concat(tt.name):tt.name}const isPage=isBrowser$3()&&typeof document<"u";let statIdCounter=0;class AnimationLoop{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{onCreateContext:nt=At=>createGLContext(At),onAddHTML:rt=null,onInitialize:it=()=>{},onRender:st=()=>{},onFinalize:ot=()=>{},onError:at,gl:lt=null,glOptions:ut={},debug:ft=!1,createFramebuffer:dt=!1,autoResizeViewport:ht=!0,autoResizeDrawingBuffer:mt=!0,stats:xt=lumaStats.get("animation-loop-".concat(statIdCounter++))}=et;let{useDevicePixels:_t=!0}=et;"useDevicePixelRatio"in et&&(log$3.deprecated("useDevicePixelRatio","useDevicePixels")(),_t=et.useDevicePixelRatio),this.props={onCreateContext:nt,onAddHTML:rt,onInitialize:it,onRender:st,onFinalize:ot,onError:at,gl:lt,glOptions:ut,debug:ft,createFramebuffer:dt},this.gl=lt,this.needsRedraw=null,this.timeline=null,this.stats=xt,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:ht,autoResizeDrawingBuffer:mt,useDevicePixels:_t}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(et){return assert$6(typeof et=="string"),this.needsRedraw=this.needsRedraw||et,this}setProps(et){return"autoResizeViewport"in et&&(this.autoResizeViewport=et.autoResizeViewport),"autoResizeDrawingBuffer"in et&&(this.autoResizeDrawingBuffer=et.autoResizeDrawingBuffer),"useDevicePixels"in et&&(this.useDevicePixels=et.useDevicePixels),this}start(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._running)return this;this._running=!0;const nt=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(et),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=Query.isSupported(this.gl,["timers"])?new Query(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(rt=>{this._running&&(this._addCallbackData(rt||{}),rt!==!1&&this._startLoop())});return this.props.onError&&nt.catch(this.props.onError),this}redraw(){return this.isContextLost()?this:(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this)}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(et){return this.timeline=et,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(et=>{this._resolveNextFrame=et})),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const rt=document.getElementById(et);return rt?Number(rt.value):nt}setViewParameters(){return log$3.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const et=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(et))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(et)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=isPage?new Promise((et,nt)=>{if(isPage&&document.readyState==="complete"){et(document);return}window.addEventListener("load",()=>{et(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(et){this.display&&(this.display.delete(),this.display.animationLoop=null),et&&(et.animationLoop=this),this.display=et}_cancelAnimationFrame(et){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(et):cancelAnimationFrame$1(et)}_requestAnimationFrame(et){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(et):requestAnimationFrame$1(et)}_renderFrame(){if(this.display){this.display._renderFrame(...arguments);return}this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:et,height:nt,aspect:rt}=this._getSizeAndAspect();(et!==this.animationProps.width||nt!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),rt!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=et,this.animationProps.height=nt,this.animationProps.aspect=rt,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(et){typeof et=="object"&&et!==null&&(this.animationProps=Object.assign({},this.animationProps,et))}_createWebGLContext(et){if(this.offScreen=et.canvas&&typeof OffscreenCanvas<"u"&&et.canvas instanceof OffscreenCanvas,et=Object.assign({},et,this.props.glOptions),this.gl=this.props.gl?instrumentGLContext(this.props.gl,et):this.onCreateContext(et),!isWebGL(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");resetParameters(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const et=document.createElement("div");document.body.appendChild(et),et.style.position="relative";const nt=document.createElement("div");nt.style.position="absolute",nt.style.left="10px",nt.style.bottom="10px",nt.style.width="300px",nt.style.background="white",et.appendChild(this.gl.canvas),et.appendChild(nt);const rt=this.props.onAddHTML(nt);rt&&(nt.innerHTML=rt)}}_getSizeAndAspect(){const et=this.gl.drawingBufferWidth,nt=this.gl.drawingBufferHeight;let rt=1;const{canvas:it}=this.gl;return it&&it.clientHeight?rt=it.clientWidth/it.clientHeight:et>0&&nt>0&&(rt=et/nt),{width:et,height:nt,aspect:rt}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&resizeGLContext(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new Framebuffer(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:et}=this.gl;et&&(et.addEventListener("mousemove",this._onMousemove),et.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(et){this.animationProps._mousePosition=[et.offsetX,et.offsetY]}_onMouseleave(et){this.animationProps._mousePosition=null}}const VERTEX_SHADER$1="vs",FRAGMENT_SHADER$1="fs";function assert$5(tt,et){if(!tt)throw new Error(et||"shadertools: assertion failed.")}const TYPE_DEFINITIONS$1={number:{validate(tt,et){return Number.isFinite(tt)&&(!("max"in et)||tt<=et.max)&&(!("min"in et)||tt>=et.min)}},array:{validate(tt,et){return Array.isArray(tt)||ArrayBuffer.isView(tt)}}};function parsePropTypes$1(tt){const et={};for(const nt in tt){const rt=tt[nt],it=parsePropType$1(rt);et[nt]=it}return et}function parsePropType$1(tt){let et=getTypeOf$1(tt);return et==="object"?tt?"type"in tt?Object.assign({},tt,TYPE_DEFINITIONS$1[tt.type]):"value"in tt?(et=getTypeOf$1(tt.value),Object.assign({type:et},tt,TYPE_DEFINITIONS$1[et])):{type:"object",value:tt}:{type:"object",value:null}:Object.assign({type:et,value:tt},TYPE_DEFINITIONS$1[et])}function getTypeOf$1(tt){return Array.isArray(tt)||ArrayBuffer.isView(tt)?"array":typeof tt}const VERTEX_SHADER="vs",FRAGMENT_SHADER="fs";class ShaderModule{constructor(et){let{name:nt,vs:rt,fs:it,dependencies:st=[],uniforms:ot,getUniforms:at,deprecations:lt=[],defines:ut={},inject:ft={},vertexShader:dt,fragmentShader:ht}=et;assert$5(typeof nt=="string"),this.name=nt,this.vs=rt||dt,this.fs=it||ht,this.getModuleUniforms=at,this.dependencies=st,this.deprecations=this._parseDeprecationDefinitions(lt),this.defines=ut,this.injections=normalizeInjections(ft),ot&&(this.uniforms=parsePropTypes$1(ot))}getModuleSource(et){let nt;switch(et){case VERTEX_SHADER:nt=this.vs||"";break;case FRAGMENT_SHADER:nt=this.fs||"";break;default:assert$5(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),`
`).concat(nt,"// END MODULE_").concat(this.name,`

`)}getUniforms(et,nt){return this.getModuleUniforms?this.getModuleUniforms(et,nt):this.uniforms?this._defaultGetUniforms(et):{}}getDefines(){return this.defines}checkDeprecations(et,nt){this.deprecations.forEach(rt=>{rt.regex.test(et)&&(rt.deprecated?nt.deprecated(rt.old,rt.new)():nt.removed(rt.old,rt.new)())})}_parseDeprecationDefinitions(et){return et.forEach(nt=>{switch(nt.type){case"function":nt.regex=new RegExp("\\b".concat(nt.old,"\\("));break;default:nt.regex=new RegExp("".concat(nt.type," ").concat(nt.old,";"))}}),et}_defaultGetUniforms(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt={},rt=this.uniforms;for(const it in rt){const st=rt[it];it in et&&!st.private?(st.validate&&assert$5(st.validate(et[it],st),"".concat(this.name,": invalid ").concat(it)),nt[it]=et[it]):nt[it]=st.value}return nt}}function normalizeShaderModule(tt){if(!tt.normalized&&(tt.normalized=!0,tt.uniforms&&!tt.getUniforms)){const et=new ShaderModule(tt);tt.getUniforms=et.getUniforms.bind(et)}return tt}function normalizeInjections(tt){const et={vs:{},fs:{}};for(const nt in tt){let rt=tt[nt];const it=nt.slice(0,2);typeof rt=="string"&&(rt={order:0,injection:rt}),et[it][nt]=rt}return et}function resolveModules(tt){return getShaderDependencies(instantiateModules(tt))}function getShaderDependencies(tt){const et={},nt={};return getDependencyGraph({modules:tt,level:0,moduleMap:et,moduleDepth:nt}),Object.keys(nt).sort((rt,it)=>nt[it]-nt[rt]).map(rt=>et[rt])}function getDependencyGraph(tt){let{modules:et,level:nt,moduleMap:rt,moduleDepth:it}=tt;if(nt>=5)throw new Error("Possible loop in shader dependency graph");for(const st of et)rt[st.name]=st,(it[st.name]===void 0||it[st.name]<nt)&&(it[st.name]=nt);for(const st of et)st.dependencies&&getDependencyGraph({modules:st.dependencies,level:nt+1,moduleMap:rt,moduleDepth:it})}function instantiateModules(tt,et){return tt.map(nt=>(nt instanceof ShaderModule||(assert$5(typeof nt!="string","Shader module use by name is deprecated. Import shader module '".concat(nt,"' and use it directly.")),assert$5(nt.name,"shader module has no name"),nt=new ShaderModule(nt),nt.dependencies=instantiateModules(nt.dependencies)),nt))}function isOldIE(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const et=typeof window<"u"?window.navigator||{}:{},nt=tt.userAgent||et.userAgent||"",rt=nt.indexOf("MSIE ")!==-1,it=nt.indexOf("Trident/")!==-1;return rt||it}const GL_VENDOR=7936,GL_RENDERER=7937,GL_VERSION=7938,GL_SHADING_LANGUAGE_VERSION=35724,WEBGL_FEATURES={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},FEATURES={};Object.keys(WEBGL_FEATURES).forEach(tt=>{FEATURES[tt]=tt});function isWebGL2(tt){return typeof WebGL2RenderingContext<"u"&&tt instanceof WebGL2RenderingContext?!0:!!(tt&&tt._version===2)}function getContextInfo(tt){const et=tt.getExtension("WEBGL_debug_renderer_info"),nt=tt.getParameter(et&&et.UNMASKED_VENDOR_WEBGL||GL_VENDOR),rt=tt.getParameter(et&&et.UNMASKED_RENDERER_WEBGL||GL_RENDERER);return{gpuVendor:identifyGPUVendor(nt,rt),vendor:nt,renderer:rt,version:tt.getParameter(GL_VERSION),shadingLanguageVersion:tt.getParameter(GL_SHADING_LANGUAGE_VERSION)}}function identifyGPUVendor(tt,et){return tt.match(/NVIDIA/i)||et.match(/NVIDIA/i)?"NVIDIA":tt.match(/INTEL/i)||et.match(/INTEL/i)?"INTEL":tt.match(/AMD/i)||et.match(/AMD/i)||tt.match(/ATI/i)||et.match(/ATI/i)?"AMD":"UNKNOWN GPU"}const compiledGlslExtensions={};function canCompileGLGSExtension(tt,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const rt=WEBGL_FEATURES[et];if(assert$5(rt,et),!isOldIE(nt))return!0;if(et in compiledGlslExtensions)return compiledGlslExtensions[et];const it=rt[0],st=nt.behavior||"enable",ot="#extension GL_".concat(it," : ").concat(st,`
void main(void) {}`),at=tt.createShader(35633);tt.shaderSource(at,ot),tt.compileShader(at);const lt=tt.getShaderParameter(at,35713);return tt.deleteShader(at),compiledGlslExtensions[et]=lt,lt}function getFeature(tt,et){const nt=WEBGL_FEATURES[et];assert$5(nt,et);const rt=isWebGL2(tt)&&nt[1]||nt[0],it=typeof rt=="string"?!!tt.getExtension(rt):rt;return assert$5(it===!1||it===!0),it}function hasFeatures(tt,et){return et=Array.isArray(et)?et:[et],et.every(nt=>getFeature(tt,nt))}function getPlatformShaderDefines(tt){switch(getContextInfo(tt).gpuVendor.toLowerCase()){case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function getVersionDefines(tt,et,nt){let rt=`#if (__VERSION__ > 120)

# define FEATURE_GLSL_DERIVATIVES
# define FEATURE_GLSL_DRAW_BUFFERS
# define FEATURE_GLSL_FRAG_DEPTH
# define FEATURE_GLSL_TEXTURE_LOD

// DEPRECATED FLAGS, remove in v9
# define FRAG_DEPTH
# define DERIVATIVES
# define DRAW_BUFFERS
# define TEXTURE_LOD

#endif // __VERSION
`;return hasFeatures(tt,FEATURES.GLSL_FRAG_DEPTH)&&(rt+=`
// FRAG_DEPTH => gl_FragDepth is available
#ifdef GL_EXT_frag_depth
#extension GL_EXT_frag_depth : enable
# define FEATURE_GLSL_FRAG_DEPTH
# define FRAG_DEPTH
# define gl_FragDepth gl_FragDepthEXT
#endif
`),hasFeatures(tt,FEATURES.GLSL_DERIVATIVES)&&canCompileGLGSExtension(tt,FEATURES.GLSL_DERIVATIVES)&&(rt+=`
// DERIVATIVES => dxdF, dxdY and fwidth are available
#ifdef GL_OES_standard_derivatives
#extension GL_OES_standard_derivatives : enable
# define FEATURE_GLSL_DERIVATIVES
# define DERIVATIVES
#endif
`),hasFeatures(tt,FEATURES.GLSL_FRAG_DATA)&&canCompileGLGSExtension(tt,FEATURES.GLSL_FRAG_DATA,{behavior:"require"})&&(rt+=`
// DRAW_BUFFERS => gl_FragData[] is available
#ifdef GL_EXT_draw_buffers
#extension GL_EXT_draw_buffers : require
#define FEATURE_GLSL_DRAW_BUFFERS
#define DRAW_BUFFERS
#endif
`),hasFeatures(tt,FEATURES.GLSL_TEXTURE_LOD)&&(rt+=`// TEXTURE_LOD => texture2DLod etc are available
#ifdef GL_EXT_shader_texture_lod
#extension GL_EXT_shader_texture_lod : enable

# define FEATURE_GLSL_TEXTURE_LOD
# define TEXTURE_LOD

#endif
`),rt}const MODULE_INJECTORS_VS=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,MODULE_INJECTORS_FS=`#ifdef MODULE_MATERIAL
  gl_FragColor = material_filterColor(gl_FragColor);
#endif

#ifdef MODULE_LIGHTING
  gl_FragColor = lighting_filterColor(gl_FragColor);
#endif

#ifdef MODULE_FOG
  gl_FragColor = fog_filterColor(gl_FragColor);
#endif

#ifdef MODULE_PICKING
  gl_FragColor = picking_filterHighlightColor(gl_FragColor);
  gl_FragColor = picking_filterPickingColor(gl_FragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,MODULE_INJECTORS={[VERTEX_SHADER$1]:MODULE_INJECTORS_VS,[FRAGMENT_SHADER$1]:MODULE_INJECTORS_FS},DECLARATION_INJECT_MARKER="__LUMA_INJECT_DECLARATIONS__",REGEX_START_OF_MAIN$1=/void\s+main\s*\([^)]*\)\s*\{\n?/,REGEX_END_OF_MAIN=/}\n?[^{}]*$/,fragments=[];function injectShader(tt,et,nt){let rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const it=et===VERTEX_SHADER$1;for(const st in nt){const ot=nt[st];ot.sort((lt,ut)=>lt.order-ut.order),fragments.length=ot.length;for(let lt=0,ut=ot.length;lt<ut;++lt)fragments[lt]=ot[lt].injection;const at="".concat(fragments.join(`
`),`
`);switch(st){case"vs:#decl":it&&(tt=tt.replace(DECLARATION_INJECT_MARKER,at));break;case"vs:#main-start":it&&(tt=tt.replace(REGEX_START_OF_MAIN$1,lt=>lt+at));break;case"vs:#main-end":it&&(tt=tt.replace(REGEX_END_OF_MAIN,lt=>at+lt));break;case"fs:#decl":it||(tt=tt.replace(DECLARATION_INJECT_MARKER,at));break;case"fs:#main-start":it||(tt=tt.replace(REGEX_START_OF_MAIN$1,lt=>lt+at));break;case"fs:#main-end":it||(tt=tt.replace(REGEX_END_OF_MAIN,lt=>at+lt));break;default:tt=tt.replace(st,lt=>lt+at)}}return tt=tt.replace(DECLARATION_INJECT_MARKER,""),rt&&(tt=tt.replace(/\}\s*$/,st=>st+MODULE_INJECTORS[et])),tt}function combineInjects(tt){const et={};return assert$5(Array.isArray(tt)&&tt.length>1),tt.forEach(nt=>{for(const rt in nt)et[rt]=et[rt]?"".concat(et[rt],`
`).concat(nt[rt]):nt[rt]}),et}function testVariable(tt){return new RegExp("\\b".concat(tt,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const ES300_REPLACEMENTS=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ES300_VERTEX_REPLACEMENTS=[...ES300_REPLACEMENTS,[testVariable("attribute"),"in $1"],[testVariable("varying"),"out $1"]],ES300_FRAGMENT_REPLACEMENTS=[...ES300_REPLACEMENTS,[testVariable("varying"),"in $1"]],ES100_REPLACEMENTS=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],ES100_VERTEX_REPLACEMENTS=[...ES100_REPLACEMENTS,[testVariable("in"),"attribute $1"],[testVariable("out"),"varying $1"]],ES100_FRAGMENT_REPLACEMENTS=[...ES100_REPLACEMENTS,[testVariable("in"),"varying $1"]],ES100_FRAGMENT_OUTPUT_NAME="gl_FragColor",ES300_FRAGMENT_OUTPUT_REGEX=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,REGEX_START_OF_MAIN=/void\s+main\s*\([^)]*\)\s*\{\n?/;function transpileShader(tt,et,nt){switch(et){case 300:return nt?convertShader(tt,ES300_VERTEX_REPLACEMENTS):convertFragmentShaderTo300(tt);case 100:return nt?convertShader(tt,ES100_VERTEX_REPLACEMENTS):convertFragmentShaderTo100(tt);default:throw new Error("unknown GLSL version ".concat(et))}}function convertShader(tt,et){for(const[nt,rt]of et)tt=tt.replace(nt,rt);return tt}function convertFragmentShaderTo300(tt){tt=convertShader(tt,ES300_FRAGMENT_REPLACEMENTS);const et=tt.match(ES300_FRAGMENT_OUTPUT_REGEX);if(et){const nt=et[1];tt=tt.replace(new RegExp("\\b".concat(ES100_FRAGMENT_OUTPUT_NAME,"\\b"),"g"),nt)}else{const nt="fragmentColor";tt=tt.replace(REGEX_START_OF_MAIN,rt=>"out vec4 ".concat(nt,`;
`).concat(rt)).replace(new RegExp("\\b".concat(ES100_FRAGMENT_OUTPUT_NAME,"\\b"),"g"),nt)}return tt}function convertFragmentShaderTo100(tt){tt=convertShader(tt,ES100_FRAGMENT_REPLACEMENTS);const et=tt.match(ES300_FRAGMENT_OUTPUT_REGEX);if(et){const nt=et[1];tt=tt.replace(ES300_FRAGMENT_OUTPUT_REGEX,"").replace(new RegExp("\\b".concat(nt,"\\b"),"g"),ES100_FRAGMENT_OUTPUT_NAME)}return tt}const INJECT_SHADER_DECLARATIONS=`

`.concat(DECLARATION_INJECT_MARKER,`

`),SHADER_TYPE={[VERTEX_SHADER$1]:"vertex",[FRAGMENT_SHADER$1]:"fragment"},FRAGMENT_SHADER_PROLOGUE=`precision highp float;

`;function assembleShaders(tt,et){const{vs:nt,fs:rt}=et,it=resolveModules(et.modules||[]);return{gl:tt,vs:assembleShader(tt,Object.assign({},et,{source:nt,type:VERTEX_SHADER$1,modules:it})),fs:assembleShader(tt,Object.assign({},et,{source:rt,type:FRAGMENT_SHADER$1,modules:it})),getUniforms:assembleGetUniforms(it)}}function assembleShader(tt,et){let{id:nt,source:rt,type:it,modules:st,defines:ot={},hookFunctions:at=[],inject:lt={},transpileToGLSL100:ut=!1,prologue:ft=!0,log:dt}=et;assert$5(typeof rt=="string","shader source must be a string");const ht=it===VERTEX_SHADER$1,mt=rt.split(`
`);let xt=100,_t="",At=rt;mt[0].indexOf("#version ")===0?(xt=300,_t=mt[0],At=mt.slice(1).join(`
`)):_t="#version ".concat(xt);const gt={};st.forEach(Rt=>{Object.assign(gt,Rt.getDefines())}),Object.assign(gt,ot);let vt=ft?"".concat(_t,`
`).concat(getShaderName({id:nt,source:rt,type:it}),`
`).concat(getShaderType({type:it}),`
`).concat(getPlatformShaderDefines(tt),`
`).concat(getVersionDefines(tt),`
`).concat(getApplicationDefines(gt),`
`).concat(ht?"":FRAGMENT_SHADER_PROLOGUE,`
`):"".concat(_t,`
`);const Et=normalizeHookFunctions(at),yt={},wt={},Ct={};for(const Rt in lt){const It=typeof lt[Rt]=="string"?{injection:lt[Rt],order:0}:lt[Rt],$t=Rt.match(/^(v|f)s:(#)?([\w-]+)$/);if($t){const Ft=$t[2],Bt=$t[3];Ft?Bt==="decl"?wt[Rt]=[It]:Ct[Rt]=[It]:yt[Rt]=[It]}else Ct[Rt]=[It]}for(const Rt of st){dt&&Rt.checkDeprecations(At,dt);const It=Rt.getModuleSource(it,xt);vt+=It;const $t=Rt.injections[it];for(const Ft in $t){const Bt=Ft.match(/^(v|f)s:#([\w-]+)$/);if(Bt){const Xt=Bt[2]==="decl"?wt:Ct;Xt[Ft]=Xt[Ft]||[],Xt[Ft].push($t[Ft])}else yt[Ft]=yt[Ft]||[],yt[Ft].push($t[Ft])}}return vt+=INJECT_SHADER_DECLARATIONS,vt=injectShader(vt,it,wt),vt+=getHookFunctions(Et[it],yt),vt+=At,vt=injectShader(vt,it,Ct),vt=transpileShader(vt,ut?100:xt,ht),vt}function assembleGetUniforms(tt){return function(nt){const rt={};for(const it of tt){const st=it.getUniforms(nt,rt);Object.assign(rt,st)}return rt}}function getShaderType(tt){let{type:et}=tt;return`
#define SHADER_TYPE_`.concat(SHADER_TYPE[et].toUpperCase(),`
`)}function getShaderName(tt){let{id:et,source:nt,type:rt}=tt;return et&&typeof et=="string"&&nt.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME `.concat(et,"_").concat(SHADER_TYPE[rt],`

`):""}function getApplicationDefines(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=0,nt="";for(const rt in tt){et===0&&(nt+=`
// APPLICATION DEFINES
`),et++;const it=tt[rt];(it||Number.isFinite(it))&&(nt+="#define ".concat(rt.toUpperCase()," ").concat(tt[rt],`
`))}return et===0&&(nt+=`
`),nt}function getHookFunctions(tt,et){let nt="";for(const rt in tt){const it=tt[rt];if(nt+="void ".concat(it.signature,` {
`),it.header&&(nt+="  ".concat(it.header)),et[rt]){const st=et[rt];st.sort((ot,at)=>ot.order-at.order);for(const ot of st)nt+="  ".concat(ot.injection,`
`)}it.footer&&(nt+="  ".concat(it.footer)),nt+=`}
`}return nt}function normalizeHookFunctions(tt){const et={vs:{},fs:{}};return tt.forEach(nt=>{let rt;typeof nt!="string"?(rt=nt,nt=rt.hook):rt={},nt=nt.trim();const[it,st]=nt.split(":"),ot=nt.replace(/\(.+/,"");et[it][ot]=Object.assign(rt,{signature:st})}),et}const FS100="void main() {gl_FragColor = vec4(0);}",FS_GLES=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,FS300=`#version 300 es
`.concat(FS_GLES);function getQualifierDetails(tt,et){et=Array.isArray(et)?et:[et];const nt=tt.replace(/^\s+/,"").split(/\s+/),[rt,it,st]=nt;if(!et.includes(rt)||!it||!st)return null;const ot=st.split(";")[0];return{qualifier:rt,type:it,name:ot}}function getPassthroughFS(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{version:et=100,input:nt,inputType:rt,output:it}=tt;if(!nt)return et===300?FS300:et>300?"#version ".concat(et,`
`).concat(FS_GLES):FS100;const st=convertToVec4(nt,rt);return et>=300?"#version ".concat(et," ").concat(et===300?"es":"",`
in `).concat(rt," ").concat(nt,`;
out vec4 `).concat(it,`;
void main() {
  `).concat(it," = ").concat(st,`;
}`):"varying ".concat(rt," ").concat(nt,`;
void main() {
  gl_FragColor = `).concat(st,`;
}`)}function typeToChannelSuffix(tt){switch(tt){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return assert$5(!1),null}}function typeToChannelCount(tt){switch(tt){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return assert$5(!1),null}}function convertToVec4(tt,et){switch(et){case"float":return"vec4(".concat(tt,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(tt,", 0.0, 1.0)");case"vec3":return"vec4(".concat(tt,", 1.0)");case"vec4":return tt;default:return assert$5(!1),null}}const fp32shader=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,fp32={name:"fp32",vs:fp32shader,fs:null};function assert$4(tt,et){if(!tt)throw new Error("math.gl assertion ".concat(et))}const RADIANS_TO_DEGREES$2=1/Math.PI*180,DEGREES_TO_RADIANS$6=1/180*Math.PI,config={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function formatValue(tt,{precision:et=config.precision}={}){return tt=round$1(tt),"".concat(parseFloat(tt.toPrecision(et)))}function isArray$7(tt){return Array.isArray(tt)||ArrayBuffer.isView(tt)&&!(tt instanceof DataView)}function radians(tt,et){return map(tt,nt=>nt*DEGREES_TO_RADIANS$6,et)}function degrees(tt,et){return map(tt,nt=>nt*RADIANS_TO_DEGREES$2,et)}function clamp$2(tt,et,nt){return map(tt,rt=>Math.max(et,Math.min(nt,rt)))}function lerp$5(tt,et,nt){return isArray$7(tt)?tt.map((rt,it)=>lerp$5(rt,et[it],nt)):nt*et+(1-nt)*tt}function equals(tt,et,nt){const rt=config.EPSILON;nt&&(config.EPSILON=nt);try{if(tt===et)return!0;if(isArray$7(tt)&&isArray$7(et)){if(tt.length!==et.length)return!1;for(let it=0;it<tt.length;++it)if(!equals(tt[it],et[it]))return!1;return!0}return tt&&tt.equals?tt.equals(et):et&&et.equals?et.equals(tt):typeof tt=="number"&&typeof et=="number"?Math.abs(tt-et)<=config.EPSILON*Math.max(1,Math.abs(tt),Math.abs(et)):!1}finally{config.EPSILON=rt}}function round$1(tt){return Math.round(tt/config.EPSILON)*config.EPSILON}function duplicateArray(tt){return tt.clone?tt.clone():new Array(tt.length)}function map(tt,et,nt){if(isArray$7(tt)){const rt=tt;nt=nt||duplicateArray(rt);for(let it=0;it<nt.length&&it<rt.length;++it)nt[it]=et(tt[it],it,nt);return nt}return et(tt)}function _extendableBuiltin(tt){function et(){var nt=Reflect.construct(tt,Array.from(arguments));return Object.setPrototypeOf(nt,Object.getPrototypeOf(this)),nt}return et.prototype=Object.create(tt.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(et,tt):et.__proto__=tt,et}class MathArray extends _extendableBuiltin(Array){clone(){return new this.constructor().copy(this)}fromArray(et,nt=0){for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]=et[rt+nt];return this.check()}toArray(et=[],nt=0){for(let rt=0;rt<this.ELEMENTS;++rt)et[nt+rt]=this[rt];return et}from(et){return Array.isArray(et)?this.copy(et):this.fromObject(et)}to(et){return et===this?this:isArray$7(et)?this.toArray(et):this.toObject(et)}toTarget(et){return et?this.to(et):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(config)}formatString(et){let nt="";for(let rt=0;rt<this.ELEMENTS;++rt)nt+=(rt>0?", ":"")+formatValue(this[rt],et);return"".concat(et.printTypes?this.constructor.name:"","[").concat(nt,"]")}equals(et){if(!et||this.length!==et.length)return!1;for(let nt=0;nt<this.ELEMENTS;++nt)if(!equals(this[nt],et[nt]))return!1;return!0}exactEquals(et){if(!et||this.length!==et.length)return!1;for(let nt=0;nt<this.ELEMENTS;++nt)if(this[nt]!==et[nt])return!1;return!0}negate(){for(let et=0;et<this.ELEMENTS;++et)this[et]=-this[et];return this.check()}lerp(et,nt,rt){if(rt===void 0)return this.lerp(this,et,nt);for(let it=0;it<this.ELEMENTS;++it){const st=et[it];this[it]=st+rt*(nt[it]-st)}return this.check()}min(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]=Math.min(et[nt],this[nt]);return this.check()}max(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]=Math.max(et[nt],this[nt]);return this.check()}clamp(et,nt){for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]=Math.min(Math.max(this[rt],et[rt]),nt[rt]);return this.check()}add(...et){for(const nt of et)for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]+=nt[rt];return this.check()}subtract(...et){for(const nt of et)for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]-=nt[rt];return this.check()}scale(et){if(typeof et=="number")for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]*=et;else for(let nt=0;nt<this.ELEMENTS&&nt<et.length;++nt)this[nt]*=et[nt];return this.check()}multiplyByScalar(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]*=et;return this.check()}check(){if(config.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let et=this.length===this.ELEMENTS;for(let nt=0;nt<this.ELEMENTS;++nt)et=et&&Number.isFinite(this[nt]);return et}sub(et){return this.subtract(et)}setScalar(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]=et;return this.check()}addScalar(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]+=et;return this.check()}subScalar(et){return this.addScalar(-et)}multiplyScalar(et){for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]*=et;return this.check()}divideScalar(et){return this.multiplyByScalar(1/et)}clampScalar(et,nt){for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]=Math.min(Math.max(this[rt],et),nt);return this.check()}get elements(){return this}}function validateVector(tt,et){if(tt.length!==et)return!1;for(let nt=0;nt<tt.length;++nt)if(!Number.isFinite(tt[nt]))return!1;return!0}function checkNumber(tt){if(!Number.isFinite(tt))throw new Error("Invalid number ".concat(tt));return tt}function checkVector(tt,et,nt=""){if(config.debug&&!validateVector(tt,et))throw new Error("math.gl: ".concat(nt," some fields set to invalid numbers'"));return tt}class Vector extends MathArray{get x(){return this[0]}set x(et){this[0]=checkNumber(et)}get y(){return this[1]}set y(et){this[1]=checkNumber(et)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let et=0;for(let nt=0;nt<this.ELEMENTS;++nt)et+=this[nt]*this[nt];return et}magnitudeSquared(){return this.lengthSquared()}distance(et){return Math.sqrt(this.distanceSquared(et))}distanceSquared(et){let nt=0;for(let rt=0;rt<this.ELEMENTS;++rt){const it=this[rt]-et[rt];nt+=it*it}return checkNumber(nt)}dot(et){let nt=0;for(let rt=0;rt<this.ELEMENTS;++rt)nt+=this[rt]*et[rt];return checkNumber(nt)}normalize(){const et=this.magnitude();if(et!==0)for(let nt=0;nt<this.ELEMENTS;++nt)this[nt]/=et;return this.check()}multiply(...et){for(const nt of et)for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]*=nt[rt];return this.check()}divide(...et){for(const nt of et)for(let rt=0;rt<this.ELEMENTS;++rt)this[rt]/=nt[rt];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(et){return this.distance(et)}distanceToSquared(et){return this.distanceSquared(et)}getComponent(et){return assert$4(et>=0&&et<this.ELEMENTS,"index is out of range"),checkNumber(this[et])}setComponent(et,nt){return assert$4(et>=0&&et<this.ELEMENTS,"index is out of range"),this[et]=nt,this.check()}addVectors(et,nt){return this.copy(et).add(nt)}subVectors(et,nt){return this.copy(et).subtract(nt)}multiplyVectors(et,nt){return this.copy(et).multiply(nt)}addScaledVector(et,nt){return this.add(new this.constructor(et).multiplyScalar(nt))}}var EPSILON$3=1e-6,ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var tt=0,et=arguments.length;et--;)tt+=arguments[et]*arguments[et];return Math.sqrt(tt)});function create$4(){var tt=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(tt[0]=0,tt[1]=0),tt}function add$3(tt,et,nt){return tt[0]=et[0]+nt[0],tt[1]=et[1]+nt[1],tt}function subtract$1(tt,et,nt){return tt[0]=et[0]-nt[0],tt[1]=et[1]-nt[1],tt}function scale$5(tt,et,nt){return tt[0]=et[0]*nt,tt[1]=et[1]*nt,tt}function length$3(tt){var et=tt[0],nt=tt[1];return Math.hypot(et,nt)}function negate$1(tt,et){return tt[0]=-et[0],tt[1]=-et[1],tt}function lerp$4(tt,et,nt,rt){var it=et[0],st=et[1];return tt[0]=it+rt*(nt[0]-it),tt[1]=st+rt*(nt[1]-st),tt}function transformMat3$1(tt,et,nt){var rt=et[0],it=et[1];return tt[0]=nt[0]*rt+nt[3]*it+nt[6],tt[1]=nt[1]*rt+nt[4]*it+nt[7],tt}function transformMat4$2(tt,et,nt){var rt=et[0],it=et[1];return tt[0]=nt[0]*rt+nt[4]*it+nt[12],tt[1]=nt[1]*rt+nt[5]*it+nt[13],tt}var sub$1=subtract$1;(function(){var tt=create$4();return function(et,nt,rt,it,st,ot){var at,lt;for(nt||(nt=2),rt||(rt=0),it?lt=Math.min(it*nt+rt,et.length):lt=et.length,at=rt;at<lt;at+=nt)tt[0]=et[at],tt[1]=et[at+1],st(tt,tt,ot),et[at]=tt[0],et[at+1]=tt[1];return et}})();function vec2_transformMat4AsVector(tt,et,nt){const rt=et[0],it=et[1],st=nt[3]*rt+nt[7]*it||1;return tt[0]=(nt[0]*rt+nt[4]*it)/st,tt[1]=(nt[1]*rt+nt[5]*it)/st,tt}function vec3_transformMat4AsVector(tt,et,nt){const rt=et[0],it=et[1],st=et[2],ot=nt[3]*rt+nt[7]*it+nt[11]*st||1;return tt[0]=(nt[0]*rt+nt[4]*it+nt[8]*st)/ot,tt[1]=(nt[1]*rt+nt[5]*it+nt[9]*st)/ot,tt[2]=(nt[2]*rt+nt[6]*it+nt[10]*st)/ot,tt}function vec3_transformMat2(tt,et,nt){const rt=et[0],it=et[1];return tt[0]=nt[0]*rt+nt[2]*it,tt[1]=nt[1]*rt+nt[3]*it,tt[2]=et[2],tt}function vec4_transformMat2(tt,et,nt){const rt=et[0],it=et[1];return tt[0]=nt[0]*rt+nt[2]*it,tt[1]=nt[1]*rt+nt[3]*it,tt[2]=et[2],tt[3]=et[3],tt}function vec4_transformMat3(tt,et,nt){const rt=et[0],it=et[1],st=et[2];return tt[0]=nt[0]*rt+nt[3]*it+nt[6]*st,tt[1]=nt[1]*rt+nt[4]*it+nt[7]*st,tt[2]=nt[2]*rt+nt[5]*it+nt[8]*st,tt[3]=et[3],tt}function create$3(){var tt=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function length$2(tt){var et=tt[0],nt=tt[1],rt=tt[2];return Math.hypot(et,nt,rt)}function fromValues(tt,et,nt){var rt=new ARRAY_TYPE(3);return rt[0]=tt,rt[1]=et,rt[2]=nt,rt}function subtract(tt,et,nt){return tt[0]=et[0]-nt[0],tt[1]=et[1]-nt[1],tt[2]=et[2]-nt[2],tt}function squaredLength$2(tt){var et=tt[0],nt=tt[1],rt=tt[2];return et*et+nt*nt+rt*rt}function negate(tt,et){return tt[0]=-et[0],tt[1]=-et[1],tt[2]=-et[2],tt}function normalize$2(tt,et){var nt=et[0],rt=et[1],it=et[2],st=nt*nt+rt*rt+it*it;return st>0&&(st=1/Math.sqrt(st)),tt[0]=et[0]*st,tt[1]=et[1]*st,tt[2]=et[2]*st,tt}function dot$2(tt,et){return tt[0]*et[0]+tt[1]*et[1]+tt[2]*et[2]}function cross(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=nt[0],at=nt[1],lt=nt[2];return tt[0]=it*lt-st*at,tt[1]=st*ot-rt*lt,tt[2]=rt*at-it*ot,tt}function lerp$3(tt,et,nt,rt){var it=et[0],st=et[1],ot=et[2];return tt[0]=it+rt*(nt[0]-it),tt[1]=st+rt*(nt[1]-st),tt[2]=ot+rt*(nt[2]-ot),tt}function transformMat4$1(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=nt[3]*rt+nt[7]*it+nt[11]*st+nt[15];return ot=ot||1,tt[0]=(nt[0]*rt+nt[4]*it+nt[8]*st+nt[12])/ot,tt[1]=(nt[1]*rt+nt[5]*it+nt[9]*st+nt[13])/ot,tt[2]=(nt[2]*rt+nt[6]*it+nt[10]*st+nt[14])/ot,tt}function transformMat3(tt,et,nt){var rt=et[0],it=et[1],st=et[2];return tt[0]=rt*nt[0]+it*nt[3]+st*nt[6],tt[1]=rt*nt[1]+it*nt[4]+st*nt[7],tt[2]=rt*nt[2]+it*nt[5]+st*nt[8],tt}function transformQuat$1(tt,et,nt){var rt=nt[0],it=nt[1],st=nt[2],ot=nt[3],at=et[0],lt=et[1],ut=et[2],ft=it*ut-st*lt,dt=st*at-rt*ut,ht=rt*lt-it*at,mt=it*ht-st*dt,xt=st*ft-rt*ht,_t=rt*dt-it*ft,At=ot*2;return ft*=At,dt*=At,ht*=At,mt*=2,xt*=2,_t*=2,tt[0]=at+ft+mt,tt[1]=lt+dt+xt,tt[2]=ut+ht+_t,tt}function rotateX$2(tt,et,nt,rt){var it=[],st=[];return it[0]=et[0]-nt[0],it[1]=et[1]-nt[1],it[2]=et[2]-nt[2],st[0]=it[0],st[1]=it[1]*Math.cos(rt)-it[2]*Math.sin(rt),st[2]=it[1]*Math.sin(rt)+it[2]*Math.cos(rt),tt[0]=st[0]+nt[0],tt[1]=st[1]+nt[1],tt[2]=st[2]+nt[2],tt}function rotateY$2(tt,et,nt,rt){var it=[],st=[];return it[0]=et[0]-nt[0],it[1]=et[1]-nt[1],it[2]=et[2]-nt[2],st[0]=it[2]*Math.sin(rt)+it[0]*Math.cos(rt),st[1]=it[1],st[2]=it[2]*Math.cos(rt)-it[0]*Math.sin(rt),tt[0]=st[0]+nt[0],tt[1]=st[1]+nt[1],tt[2]=st[2]+nt[2],tt}function rotateZ$2(tt,et,nt,rt){var it=[],st=[];return it[0]=et[0]-nt[0],it[1]=et[1]-nt[1],it[2]=et[2]-nt[2],st[0]=it[0]*Math.cos(rt)-it[1]*Math.sin(rt),st[1]=it[0]*Math.sin(rt)+it[1]*Math.cos(rt),st[2]=it[2],tt[0]=st[0]+nt[0],tt[1]=st[1]+nt[1],tt[2]=st[2]+nt[2],tt}function angle(tt,et){var nt=tt[0],rt=tt[1],it=tt[2],st=et[0],ot=et[1],at=et[2],lt=Math.sqrt(nt*nt+rt*rt+it*it),ut=Math.sqrt(st*st+ot*ot+at*at),ft=lt*ut,dt=ft&&dot$2(tt,et)/ft;return Math.acos(Math.min(Math.max(dt,-1),1))}var sub=subtract,len=length$2,sqrLen=squaredLength$2;(function(){var tt=create$3();return function(et,nt,rt,it,st,ot){var at,lt;for(nt||(nt=3),rt||(rt=0),it?lt=Math.min(it*nt+rt,et.length):lt=et.length,at=rt;at<lt;at+=nt)tt[0]=et[at],tt[1]=et[at+1],tt[2]=et[at+2],st(tt,tt,ot),et[at]=tt[0],et[at+1]=tt[1],et[at+2]=tt[2];return et}})();const ORIGIN=[0,0,0];let ZERO$2;class Vector3 extends Vector{static get ZERO(){return ZERO$2||(ZERO$2=new Vector3(0,0,0),Object.freeze(ZERO$2)),ZERO$2}constructor(et=0,nt=0,rt=0){super(-0,-0,-0),arguments.length===1&&isArray$7(et)?this.copy(et):(config.debug&&(checkNumber(et),checkNumber(nt),checkNumber(rt)),this[0]=et,this[1]=nt,this[2]=rt)}set(et,nt,rt){return this[0]=et,this[1]=nt,this[2]=rt,this.check()}copy(et){return this[0]=et[0],this[1]=et[1],this[2]=et[2],this.check()}fromObject(et){return config.debug&&(checkNumber(et.x),checkNumber(et.y),checkNumber(et.z)),this[0]=et.x,this[1]=et.y,this[2]=et.z,this.check()}toObject(et){return et.x=this[0],et.y=this[1],et.z=this[2],et}get ELEMENTS(){return 3}get z(){return this[2]}set z(et){this[2]=checkNumber(et)}angle(et){return angle(this,et)}cross(et){return cross(this,this,et),this.check()}rotateX({radians:et,origin:nt=ORIGIN}){return rotateX$2(this,this,nt,et),this.check()}rotateY({radians:et,origin:nt=ORIGIN}){return rotateY$2(this,this,nt,et),this.check()}rotateZ({radians:et,origin:nt=ORIGIN}){return rotateZ$2(this,this,nt,et),this.check()}transform(et){return this.transformAsPoint(et)}transformAsPoint(et){return transformMat4$1(this,this,et),this.check()}transformAsVector(et){return vec3_transformMat4AsVector(this,this,et),this.check()}transformByMatrix3(et){return transformMat3(this,this,et),this.check()}transformByMatrix2(et){return vec3_transformMat2(this,this,et),this.check()}transformByQuaternion(et){return transformQuat$1(this,this,et),this.check()}}let ZERO$1;class Vector4 extends Vector{static get ZERO(){return ZERO$1||(ZERO$1=new Vector4(0,0,0,0),Object.freeze(ZERO$1)),ZERO$1}constructor(et=0,nt=0,rt=0,it=0){super(-0,-0,-0,-0),isArray$7(et)&&arguments.length===1?this.copy(et):(config.debug&&(checkNumber(et),checkNumber(nt),checkNumber(rt),checkNumber(it)),this[0]=et,this[1]=nt,this[2]=rt,this[3]=it)}set(et,nt,rt,it){return this[0]=et,this[1]=nt,this[2]=rt,this[3]=it,this.check()}copy(et){return this[0]=et[0],this[1]=et[1],this[2]=et[2],this[3]=et[3],this.check()}fromObject(et){return config.debug&&(checkNumber(et.x),checkNumber(et.y),checkNumber(et.z),checkNumber(et.w)),this[0]=et.x,this[1]=et.y,this[2]=et.z,this[3]=et.w,this}toObject(et){return et.x=this[0],et.y=this[1],et.z=this[2],et.w=this[3],et}get ELEMENTS(){return 4}get z(){return this[2]}set z(et){this[2]=checkNumber(et)}get w(){return this[3]}set w(et){this[3]=checkNumber(et)}transform(et){return transformMat4$1(this,this,et),this.check()}transformByMatrix3(et){return vec4_transformMat3(this,this,et),this.check()}transformByMatrix2(et){return vec4_transformMat2(this,this,et),this.check()}transformByQuaternion(et){return transformQuat$1(this,this,et),this.check()}applyMatrix4(et){return et.transform(this,this),this}}class Matrix extends MathArray{toString(){let et="[";if(config.printRowMajor){et+="row-major:";for(let nt=0;nt<this.RANK;++nt)for(let rt=0;rt<this.RANK;++rt)et+=" ".concat(this[rt*this.RANK+nt])}else{et+="column-major:";for(let nt=0;nt<this.ELEMENTS;++nt)et+=" ".concat(this[nt])}return et+="]",et}getElementIndex(et,nt){return nt*this.RANK+et}getElement(et,nt){return this[nt*this.RANK+et]}setElement(et,nt,rt){return this[nt*this.RANK+et]=checkNumber(rt),this}getColumn(et,nt=new Array(this.RANK).fill(-0)){const rt=et*this.RANK;for(let it=0;it<this.RANK;++it)nt[it]=this[rt+it];return nt}setColumn(et,nt){const rt=et*this.RANK;for(let it=0;it<this.RANK;++it)this[rt+it]=nt[it];return this}}function create$2(){var tt=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(tt[1]=0,tt[2]=0,tt[3]=0,tt[5]=0,tt[6]=0,tt[7]=0),tt[0]=1,tt[4]=1,tt[8]=1,tt}function transpose$1(tt,et){if(tt===et){var nt=et[1],rt=et[2],it=et[5];tt[1]=et[3],tt[2]=et[6],tt[3]=nt,tt[5]=et[7],tt[6]=rt,tt[7]=it}else tt[0]=et[0],tt[1]=et[3],tt[2]=et[6],tt[3]=et[1],tt[4]=et[4],tt[5]=et[7],tt[6]=et[2],tt[7]=et[5],tt[8]=et[8];return tt}function invert$2(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=et[4],at=et[5],lt=et[6],ut=et[7],ft=et[8],dt=ft*ot-at*ut,ht=-ft*st+at*lt,mt=ut*st-ot*lt,xt=nt*dt+rt*ht+it*mt;return xt?(xt=1/xt,tt[0]=dt*xt,tt[1]=(-ft*rt+it*ut)*xt,tt[2]=(at*rt-it*ot)*xt,tt[3]=ht*xt,tt[4]=(ft*nt-it*lt)*xt,tt[5]=(-at*nt+it*st)*xt,tt[6]=mt*xt,tt[7]=(-ut*nt+rt*lt)*xt,tt[8]=(ot*nt-rt*st)*xt,tt):null}function determinant$1(tt){var et=tt[0],nt=tt[1],rt=tt[2],it=tt[3],st=tt[4],ot=tt[5],at=tt[6],lt=tt[7],ut=tt[8];return et*(ut*st-ot*lt)+nt*(-ut*it+ot*at)+rt*(lt*it-st*at)}function multiply$2(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3],at=et[4],lt=et[5],ut=et[6],ft=et[7],dt=et[8],ht=nt[0],mt=nt[1],xt=nt[2],_t=nt[3],At=nt[4],gt=nt[5],vt=nt[6],Et=nt[7],yt=nt[8];return tt[0]=ht*rt+mt*ot+xt*ut,tt[1]=ht*it+mt*at+xt*ft,tt[2]=ht*st+mt*lt+xt*dt,tt[3]=_t*rt+At*ot+gt*ut,tt[4]=_t*it+At*at+gt*ft,tt[5]=_t*st+At*lt+gt*dt,tt[6]=vt*rt+Et*ot+yt*ut,tt[7]=vt*it+Et*at+yt*ft,tt[8]=vt*st+Et*lt+yt*dt,tt}function translate$2(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3],at=et[4],lt=et[5],ut=et[6],ft=et[7],dt=et[8],ht=nt[0],mt=nt[1];return tt[0]=rt,tt[1]=it,tt[2]=st,tt[3]=ot,tt[4]=at,tt[5]=lt,tt[6]=ht*rt+mt*ot+ut,tt[7]=ht*it+mt*at+ft,tt[8]=ht*st+mt*lt+dt,tt}function rotate$1(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3],at=et[4],lt=et[5],ut=et[6],ft=et[7],dt=et[8],ht=Math.sin(nt),mt=Math.cos(nt);return tt[0]=mt*rt+ht*ot,tt[1]=mt*it+ht*at,tt[2]=mt*st+ht*lt,tt[3]=mt*ot-ht*rt,tt[4]=mt*at-ht*it,tt[5]=mt*lt-ht*st,tt[6]=ut,tt[7]=ft,tt[8]=dt,tt}function scale$4(tt,et,nt){var rt=nt[0],it=nt[1];return tt[0]=rt*et[0],tt[1]=rt*et[1],tt[2]=rt*et[2],tt[3]=it*et[3],tt[4]=it*et[4],tt[5]=it*et[5],tt[6]=et[6],tt[7]=et[7],tt[8]=et[8],tt}function fromQuat$1(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=nt+nt,at=rt+rt,lt=it+it,ut=nt*ot,ft=rt*ot,dt=rt*at,ht=it*ot,mt=it*at,xt=it*lt,_t=st*ot,At=st*at,gt=st*lt;return tt[0]=1-dt-xt,tt[3]=ft-gt,tt[6]=ht+At,tt[1]=ft+gt,tt[4]=1-ut-xt,tt[7]=mt-_t,tt[2]=ht-At,tt[5]=mt+_t,tt[8]=1-ut-dt,tt}var INDICES$1;(function(tt){tt[tt.COL0ROW0=0]="COL0ROW0",tt[tt.COL0ROW1=1]="COL0ROW1",tt[tt.COL0ROW2=2]="COL0ROW2",tt[tt.COL1ROW0=3]="COL1ROW0",tt[tt.COL1ROW1=4]="COL1ROW1",tt[tt.COL1ROW2=5]="COL1ROW2",tt[tt.COL2ROW0=6]="COL2ROW0",tt[tt.COL2ROW1=7]="COL2ROW1",tt[tt.COL2ROW2=8]="COL2ROW2"})(INDICES$1||(INDICES$1={}));const IDENTITY_MATRIX$2=Object.freeze([1,0,0,0,1,0,0,0,1]);class Matrix3 extends Matrix{static get IDENTITY(){return getIdentityMatrix$1()}static get ZERO(){return getZeroMatrix$1()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return INDICES$1}constructor(et,...nt){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(et)?this.copy(et):nt.length>0?this.copy([et,...nt]):this.identity()}copy(et){return this[0]=et[0],this[1]=et[1],this[2]=et[2],this[3]=et[3],this[4]=et[4],this[5]=et[5],this[6]=et[6],this[7]=et[7],this[8]=et[8],this.check()}identity(){return this.copy(IDENTITY_MATRIX$2)}fromObject(et){return this.check()}fromQuaternion(et){return fromQuat$1(this,et),this.check()}set(et,nt,rt,it,st,ot,at,lt,ut){return this[0]=et,this[1]=nt,this[2]=rt,this[3]=it,this[4]=st,this[5]=ot,this[6]=at,this[7]=lt,this[8]=ut,this.check()}setRowMajor(et,nt,rt,it,st,ot,at,lt,ut){return this[0]=et,this[1]=it,this[2]=at,this[3]=nt,this[4]=st,this[5]=lt,this[6]=rt,this[7]=ot,this[8]=ut,this.check()}determinant(){return determinant$1(this)}transpose(){return transpose$1(this,this),this.check()}invert(){return invert$2(this,this),this.check()}multiplyLeft(et){return multiply$2(this,et,this),this.check()}multiplyRight(et){return multiply$2(this,this,et),this.check()}rotate(et){return rotate$1(this,this,et),this.check()}scale(et){return Array.isArray(et)?scale$4(this,this,et):scale$4(this,this,[et,et]),this.check()}translate(et){return translate$2(this,this,et),this.check()}transform(et,nt){let rt;switch(et.length){case 2:rt=transformMat3$1(nt||[-0,-0],et,this);break;case 3:rt=transformMat3(nt||[-0,-0,-0],et,this);break;case 4:rt=vec4_transformMat3(nt||[-0,-0,-0,-0],et,this);break;default:throw new Error("Illegal vector")}return checkVector(rt,et.length),rt}transformVector(et,nt){return this.transform(et,nt)}transformVector2(et,nt){return this.transform(et,nt)}transformVector3(et,nt){return this.transform(et,nt)}}let ZERO_MATRIX3,IDENTITY_MATRIX3;function getZeroMatrix$1(){return ZERO_MATRIX3||(ZERO_MATRIX3=new Matrix3([0,0,0,0,0,0,0,0,0]),Object.freeze(ZERO_MATRIX3)),ZERO_MATRIX3}function getIdentityMatrix$1(){return IDENTITY_MATRIX3||(IDENTITY_MATRIX3=new Matrix3,Object.freeze(IDENTITY_MATRIX3)),IDENTITY_MATRIX3}function identity$1(tt){return tt[0]=1,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=1,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=1,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt}function transpose(tt,et){if(tt===et){var nt=et[1],rt=et[2],it=et[3],st=et[6],ot=et[7],at=et[11];tt[1]=et[4],tt[2]=et[8],tt[3]=et[12],tt[4]=nt,tt[6]=et[9],tt[7]=et[13],tt[8]=rt,tt[9]=st,tt[11]=et[14],tt[12]=it,tt[13]=ot,tt[14]=at}else tt[0]=et[0],tt[1]=et[4],tt[2]=et[8],tt[3]=et[12],tt[4]=et[1],tt[5]=et[5],tt[6]=et[9],tt[7]=et[13],tt[8]=et[2],tt[9]=et[6],tt[10]=et[10],tt[11]=et[14],tt[12]=et[3],tt[13]=et[7],tt[14]=et[11],tt[15]=et[15];return tt}function invert$1(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=et[4],at=et[5],lt=et[6],ut=et[7],ft=et[8],dt=et[9],ht=et[10],mt=et[11],xt=et[12],_t=et[13],At=et[14],gt=et[15],vt=nt*at-rt*ot,Et=nt*lt-it*ot,yt=nt*ut-st*ot,wt=rt*lt-it*at,Ct=rt*ut-st*at,Rt=it*ut-st*lt,It=ft*_t-dt*xt,$t=ft*At-ht*xt,Ft=ft*gt-mt*xt,Bt=dt*At-ht*_t,Nt=dt*gt-mt*_t,Xt=ht*gt-mt*At,nn=vt*Xt-Et*Nt+yt*Bt+wt*Ft-Ct*$t+Rt*It;return nn?(nn=1/nn,tt[0]=(at*Xt-lt*Nt+ut*Bt)*nn,tt[1]=(it*Nt-rt*Xt-st*Bt)*nn,tt[2]=(_t*Rt-At*Ct+gt*wt)*nn,tt[3]=(ht*Ct-dt*Rt-mt*wt)*nn,tt[4]=(lt*Ft-ot*Xt-ut*$t)*nn,tt[5]=(nt*Xt-it*Ft+st*$t)*nn,tt[6]=(At*yt-xt*Rt-gt*Et)*nn,tt[7]=(ft*Rt-ht*yt+mt*Et)*nn,tt[8]=(ot*Nt-at*Ft+ut*It)*nn,tt[9]=(rt*Ft-nt*Nt-st*It)*nn,tt[10]=(xt*Ct-_t*yt+gt*vt)*nn,tt[11]=(dt*yt-ft*Ct-mt*vt)*nn,tt[12]=(at*$t-ot*Bt-lt*It)*nn,tt[13]=(nt*Bt-rt*$t+it*It)*nn,tt[14]=(_t*Et-xt*wt-At*vt)*nn,tt[15]=(ft*wt-dt*Et+ht*vt)*nn,tt):null}function determinant(tt){var et=tt[0],nt=tt[1],rt=tt[2],it=tt[3],st=tt[4],ot=tt[5],at=tt[6],lt=tt[7],ut=tt[8],ft=tt[9],dt=tt[10],ht=tt[11],mt=tt[12],xt=tt[13],_t=tt[14],At=tt[15],gt=et*ot-nt*st,vt=et*at-rt*st,Et=et*lt-it*st,yt=nt*at-rt*ot,wt=nt*lt-it*ot,Ct=rt*lt-it*at,Rt=ut*xt-ft*mt,It=ut*_t-dt*mt,$t=ut*At-ht*mt,Ft=ft*_t-dt*xt,Bt=ft*At-ht*xt,Nt=dt*At-ht*_t;return gt*Nt-vt*Bt+Et*Ft+yt*$t-wt*It+Ct*Rt}function multiply$1(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3],at=et[4],lt=et[5],ut=et[6],ft=et[7],dt=et[8],ht=et[9],mt=et[10],xt=et[11],_t=et[12],At=et[13],gt=et[14],vt=et[15],Et=nt[0],yt=nt[1],wt=nt[2],Ct=nt[3];return tt[0]=Et*rt+yt*at+wt*dt+Ct*_t,tt[1]=Et*it+yt*lt+wt*ht+Ct*At,tt[2]=Et*st+yt*ut+wt*mt+Ct*gt,tt[3]=Et*ot+yt*ft+wt*xt+Ct*vt,Et=nt[4],yt=nt[5],wt=nt[6],Ct=nt[7],tt[4]=Et*rt+yt*at+wt*dt+Ct*_t,tt[5]=Et*it+yt*lt+wt*ht+Ct*At,tt[6]=Et*st+yt*ut+wt*mt+Ct*gt,tt[7]=Et*ot+yt*ft+wt*xt+Ct*vt,Et=nt[8],yt=nt[9],wt=nt[10],Ct=nt[11],tt[8]=Et*rt+yt*at+wt*dt+Ct*_t,tt[9]=Et*it+yt*lt+wt*ht+Ct*At,tt[10]=Et*st+yt*ut+wt*mt+Ct*gt,tt[11]=Et*ot+yt*ft+wt*xt+Ct*vt,Et=nt[12],yt=nt[13],wt=nt[14],Ct=nt[15],tt[12]=Et*rt+yt*at+wt*dt+Ct*_t,tt[13]=Et*it+yt*lt+wt*ht+Ct*At,tt[14]=Et*st+yt*ut+wt*mt+Ct*gt,tt[15]=Et*ot+yt*ft+wt*xt+Ct*vt,tt}function translate$1(tt,et,nt){var rt=nt[0],it=nt[1],st=nt[2],ot,at,lt,ut,ft,dt,ht,mt,xt,_t,At,gt;return et===tt?(tt[12]=et[0]*rt+et[4]*it+et[8]*st+et[12],tt[13]=et[1]*rt+et[5]*it+et[9]*st+et[13],tt[14]=et[2]*rt+et[6]*it+et[10]*st+et[14],tt[15]=et[3]*rt+et[7]*it+et[11]*st+et[15]):(ot=et[0],at=et[1],lt=et[2],ut=et[3],ft=et[4],dt=et[5],ht=et[6],mt=et[7],xt=et[8],_t=et[9],At=et[10],gt=et[11],tt[0]=ot,tt[1]=at,tt[2]=lt,tt[3]=ut,tt[4]=ft,tt[5]=dt,tt[6]=ht,tt[7]=mt,tt[8]=xt,tt[9]=_t,tt[10]=At,tt[11]=gt,tt[12]=ot*rt+ft*it+xt*st+et[12],tt[13]=at*rt+dt*it+_t*st+et[13],tt[14]=lt*rt+ht*it+At*st+et[14],tt[15]=ut*rt+mt*it+gt*st+et[15]),tt}function scale$3(tt,et,nt){var rt=nt[0],it=nt[1],st=nt[2];return tt[0]=et[0]*rt,tt[1]=et[1]*rt,tt[2]=et[2]*rt,tt[3]=et[3]*rt,tt[4]=et[4]*it,tt[5]=et[5]*it,tt[6]=et[6]*it,tt[7]=et[7]*it,tt[8]=et[8]*st,tt[9]=et[9]*st,tt[10]=et[10]*st,tt[11]=et[11]*st,tt[12]=et[12],tt[13]=et[13],tt[14]=et[14],tt[15]=et[15],tt}function rotate(tt,et,nt,rt){var it=rt[0],st=rt[1],ot=rt[2],at=Math.hypot(it,st,ot),lt,ut,ft,dt,ht,mt,xt,_t,At,gt,vt,Et,yt,wt,Ct,Rt,It,$t,Ft,Bt,Nt,Xt,nn,sn;return at<EPSILON$3?null:(at=1/at,it*=at,st*=at,ot*=at,lt=Math.sin(nt),ut=Math.cos(nt),ft=1-ut,dt=et[0],ht=et[1],mt=et[2],xt=et[3],_t=et[4],At=et[5],gt=et[6],vt=et[7],Et=et[8],yt=et[9],wt=et[10],Ct=et[11],Rt=it*it*ft+ut,It=st*it*ft+ot*lt,$t=ot*it*ft-st*lt,Ft=it*st*ft-ot*lt,Bt=st*st*ft+ut,Nt=ot*st*ft+it*lt,Xt=it*ot*ft+st*lt,nn=st*ot*ft-it*lt,sn=ot*ot*ft+ut,tt[0]=dt*Rt+_t*It+Et*$t,tt[1]=ht*Rt+At*It+yt*$t,tt[2]=mt*Rt+gt*It+wt*$t,tt[3]=xt*Rt+vt*It+Ct*$t,tt[4]=dt*Ft+_t*Bt+Et*Nt,tt[5]=ht*Ft+At*Bt+yt*Nt,tt[6]=mt*Ft+gt*Bt+wt*Nt,tt[7]=xt*Ft+vt*Bt+Ct*Nt,tt[8]=dt*Xt+_t*nn+Et*sn,tt[9]=ht*Xt+At*nn+yt*sn,tt[10]=mt*Xt+gt*nn+wt*sn,tt[11]=xt*Xt+vt*nn+Ct*sn,et!==tt&&(tt[12]=et[12],tt[13]=et[13],tt[14]=et[14],tt[15]=et[15]),tt)}function rotateX$1(tt,et,nt){var rt=Math.sin(nt),it=Math.cos(nt),st=et[4],ot=et[5],at=et[6],lt=et[7],ut=et[8],ft=et[9],dt=et[10],ht=et[11];return et!==tt&&(tt[0]=et[0],tt[1]=et[1],tt[2]=et[2],tt[3]=et[3],tt[12]=et[12],tt[13]=et[13],tt[14]=et[14],tt[15]=et[15]),tt[4]=st*it+ut*rt,tt[5]=ot*it+ft*rt,tt[6]=at*it+dt*rt,tt[7]=lt*it+ht*rt,tt[8]=ut*it-st*rt,tt[9]=ft*it-ot*rt,tt[10]=dt*it-at*rt,tt[11]=ht*it-lt*rt,tt}function rotateY$1(tt,et,nt){var rt=Math.sin(nt),it=Math.cos(nt),st=et[0],ot=et[1],at=et[2],lt=et[3],ut=et[8],ft=et[9],dt=et[10],ht=et[11];return et!==tt&&(tt[4]=et[4],tt[5]=et[5],tt[6]=et[6],tt[7]=et[7],tt[12]=et[12],tt[13]=et[13],tt[14]=et[14],tt[15]=et[15]),tt[0]=st*it-ut*rt,tt[1]=ot*it-ft*rt,tt[2]=at*it-dt*rt,tt[3]=lt*it-ht*rt,tt[8]=st*rt+ut*it,tt[9]=ot*rt+ft*it,tt[10]=at*rt+dt*it,tt[11]=lt*rt+ht*it,tt}function rotateZ$1(tt,et,nt){var rt=Math.sin(nt),it=Math.cos(nt),st=et[0],ot=et[1],at=et[2],lt=et[3],ut=et[4],ft=et[5],dt=et[6],ht=et[7];return et!==tt&&(tt[8]=et[8],tt[9]=et[9],tt[10]=et[10],tt[11]=et[11],tt[12]=et[12],tt[13]=et[13],tt[14]=et[14],tt[15]=et[15]),tt[0]=st*it+ut*rt,tt[1]=ot*it+ft*rt,tt[2]=at*it+dt*rt,tt[3]=lt*it+ht*rt,tt[4]=ut*it-st*rt,tt[5]=ft*it-ot*rt,tt[6]=dt*it-at*rt,tt[7]=ht*it-lt*rt,tt}function fromQuat(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=nt+nt,at=rt+rt,lt=it+it,ut=nt*ot,ft=rt*ot,dt=rt*at,ht=it*ot,mt=it*at,xt=it*lt,_t=st*ot,At=st*at,gt=st*lt;return tt[0]=1-dt-xt,tt[1]=ft+gt,tt[2]=ht-At,tt[3]=0,tt[4]=ft-gt,tt[5]=1-ut-xt,tt[6]=mt+_t,tt[7]=0,tt[8]=ht+At,tt[9]=mt-_t,tt[10]=1-ut-dt,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt}function frustum(tt,et,nt,rt,it,st,ot){var at=1/(nt-et),lt=1/(it-rt),ut=1/(st-ot);return tt[0]=st*2*at,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=st*2*lt,tt[6]=0,tt[7]=0,tt[8]=(nt+et)*at,tt[9]=(it+rt)*lt,tt[10]=(ot+st)*ut,tt[11]=-1,tt[12]=0,tt[13]=0,tt[14]=ot*st*2*ut,tt[15]=0,tt}function perspectiveNO(tt,et,nt,rt,it){var st=1/Math.tan(et/2),ot;return tt[0]=st/nt,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=st,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[11]=-1,tt[12]=0,tt[13]=0,tt[15]=0,it!=null&&it!==1/0?(ot=1/(rt-it),tt[10]=(it+rt)*ot,tt[14]=2*it*rt*ot):(tt[10]=-1,tt[14]=-2*rt),tt}var perspective=perspectiveNO;function orthoNO(tt,et,nt,rt,it,st,ot){var at=1/(et-nt),lt=1/(rt-it),ut=1/(st-ot);return tt[0]=-2*at,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=-2*lt,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=2*ut,tt[11]=0,tt[12]=(et+nt)*at,tt[13]=(it+rt)*lt,tt[14]=(ot+st)*ut,tt[15]=1,tt}var ortho=orthoNO;function lookAt(tt,et,nt,rt){var it,st,ot,at,lt,ut,ft,dt,ht,mt,xt=et[0],_t=et[1],At=et[2],gt=rt[0],vt=rt[1],Et=rt[2],yt=nt[0],wt=nt[1],Ct=nt[2];return Math.abs(xt-yt)<EPSILON$3&&Math.abs(_t-wt)<EPSILON$3&&Math.abs(At-Ct)<EPSILON$3?identity$1(tt):(ft=xt-yt,dt=_t-wt,ht=At-Ct,mt=1/Math.hypot(ft,dt,ht),ft*=mt,dt*=mt,ht*=mt,it=vt*ht-Et*dt,st=Et*ft-gt*ht,ot=gt*dt-vt*ft,mt=Math.hypot(it,st,ot),mt?(mt=1/mt,it*=mt,st*=mt,ot*=mt):(it=0,st=0,ot=0),at=dt*ot-ht*st,lt=ht*it-ft*ot,ut=ft*st-dt*it,mt=Math.hypot(at,lt,ut),mt?(mt=1/mt,at*=mt,lt*=mt,ut*=mt):(at=0,lt=0,ut=0),tt[0]=it,tt[1]=at,tt[2]=ft,tt[3]=0,tt[4]=st,tt[5]=lt,tt[6]=dt,tt[7]=0,tt[8]=ot,tt[9]=ut,tt[10]=ht,tt[11]=0,tt[12]=-(it*xt+st*_t+ot*At),tt[13]=-(at*xt+lt*_t+ut*At),tt[14]=-(ft*xt+dt*_t+ht*At),tt[15]=1,tt)}function create$1(){var tt=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=0),tt}function add$2(tt,et,nt){return tt[0]=et[0]+nt[0],tt[1]=et[1]+nt[1],tt[2]=et[2]+nt[2],tt[3]=et[3]+nt[3],tt}function scale$2(tt,et,nt){return tt[0]=et[0]*nt,tt[1]=et[1]*nt,tt[2]=et[2]*nt,tt[3]=et[3]*nt,tt}function length$1(tt){var et=tt[0],nt=tt[1],rt=tt[2],it=tt[3];return Math.hypot(et,nt,rt,it)}function squaredLength$1(tt){var et=tt[0],nt=tt[1],rt=tt[2],it=tt[3];return et*et+nt*nt+rt*rt+it*it}function normalize$1(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=nt*nt+rt*rt+it*it+st*st;return ot>0&&(ot=1/Math.sqrt(ot)),tt[0]=nt*ot,tt[1]=rt*ot,tt[2]=it*ot,tt[3]=st*ot,tt}function dot$1(tt,et){return tt[0]*et[0]+tt[1]*et[1]+tt[2]*et[2]+tt[3]*et[3]}function lerp$2(tt,et,nt,rt){var it=et[0],st=et[1],ot=et[2],at=et[3];return tt[0]=it+rt*(nt[0]-it),tt[1]=st+rt*(nt[1]-st),tt[2]=ot+rt*(nt[2]-ot),tt[3]=at+rt*(nt[3]-at),tt}function transformMat4(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3];return tt[0]=nt[0]*rt+nt[4]*it+nt[8]*st+nt[12]*ot,tt[1]=nt[1]*rt+nt[5]*it+nt[9]*st+nt[13]*ot,tt[2]=nt[2]*rt+nt[6]*it+nt[10]*st+nt[14]*ot,tt[3]=nt[3]*rt+nt[7]*it+nt[11]*st+nt[15]*ot,tt}function transformQuat(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=nt[0],at=nt[1],lt=nt[2],ut=nt[3],ft=ut*rt+at*st-lt*it,dt=ut*it+lt*rt-ot*st,ht=ut*st+ot*it-at*rt,mt=-ot*rt-at*it-lt*st;return tt[0]=ft*ut+mt*-ot+dt*-lt-ht*-at,tt[1]=dt*ut+mt*-at+ht*-ot-ft*-lt,tt[2]=ht*ut+mt*-lt+ft*-at-dt*-ot,tt[3]=et[3],tt}(function(){var tt=create$1();return function(et,nt,rt,it,st,ot){var at,lt;for(nt||(nt=4),rt||(rt=0),it?lt=Math.min(it*nt+rt,et.length):lt=et.length,at=rt;at<lt;at+=nt)tt[0]=et[at],tt[1]=et[at+1],tt[2]=et[at+2],tt[3]=et[at+3],st(tt,tt,ot),et[at]=tt[0],et[at+1]=tt[1],et[at+2]=tt[2],et[at+3]=tt[3];return et}})();var INDICES;(function(tt){tt[tt.COL0ROW0=0]="COL0ROW0",tt[tt.COL0ROW1=1]="COL0ROW1",tt[tt.COL0ROW2=2]="COL0ROW2",tt[tt.COL0ROW3=3]="COL0ROW3",tt[tt.COL1ROW0=4]="COL1ROW0",tt[tt.COL1ROW1=5]="COL1ROW1",tt[tt.COL1ROW2=6]="COL1ROW2",tt[tt.COL1ROW3=7]="COL1ROW3",tt[tt.COL2ROW0=8]="COL2ROW0",tt[tt.COL2ROW1=9]="COL2ROW1",tt[tt.COL2ROW2=10]="COL2ROW2",tt[tt.COL2ROW3=11]="COL2ROW3",tt[tt.COL3ROW0=12]="COL3ROW0",tt[tt.COL3ROW1=13]="COL3ROW1",tt[tt.COL3ROW2=14]="COL3ROW2",tt[tt.COL3ROW3=15]="COL3ROW3"})(INDICES||(INDICES={}));const DEFAULT_FOVY=45*Math.PI/180,DEFAULT_ASPECT=1,DEFAULT_NEAR=.1,DEFAULT_FAR=500,IDENTITY_MATRIX$1=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Matrix4 extends Matrix{static get IDENTITY(){return getIdentityMatrix()}static get ZERO(){return getZeroMatrix()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return INDICES}constructor(et){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(et)?this.copy(et):this.identity()}copy(et){return this[0]=et[0],this[1]=et[1],this[2]=et[2],this[3]=et[3],this[4]=et[4],this[5]=et[5],this[6]=et[6],this[7]=et[7],this[8]=et[8],this[9]=et[9],this[10]=et[10],this[11]=et[11],this[12]=et[12],this[13]=et[13],this[14]=et[14],this[15]=et[15],this.check()}set(et,nt,rt,it,st,ot,at,lt,ut,ft,dt,ht,mt,xt,_t,At){return this[0]=et,this[1]=nt,this[2]=rt,this[3]=it,this[4]=st,this[5]=ot,this[6]=at,this[7]=lt,this[8]=ut,this[9]=ft,this[10]=dt,this[11]=ht,this[12]=mt,this[13]=xt,this[14]=_t,this[15]=At,this.check()}setRowMajor(et,nt,rt,it,st,ot,at,lt,ut,ft,dt,ht,mt,xt,_t,At){return this[0]=et,this[1]=st,this[2]=ut,this[3]=mt,this[4]=nt,this[5]=ot,this[6]=ft,this[7]=xt,this[8]=rt,this[9]=at,this[10]=dt,this[11]=_t,this[12]=it,this[13]=lt,this[14]=ht,this[15]=At,this.check()}toRowMajor(et){return et[0]=this[0],et[1]=this[4],et[2]=this[8],et[3]=this[12],et[4]=this[1],et[5]=this[5],et[6]=this[9],et[7]=this[13],et[8]=this[2],et[9]=this[6],et[10]=this[10],et[11]=this[14],et[12]=this[3],et[13]=this[7],et[14]=this[11],et[15]=this[15],et}identity(){return this.copy(IDENTITY_MATRIX$1)}fromObject(et){return this.check()}fromQuaternion(et){return fromQuat(this,et),this.check()}frustum(et){const{left:nt,right:rt,bottom:it,top:st,near:ot=DEFAULT_NEAR,far:at=DEFAULT_FAR}=et;return at===1/0?computeInfinitePerspectiveOffCenter(this,nt,rt,it,st,ot):frustum(this,nt,rt,it,st,ot,at),this.check()}lookAt(et){const{eye:nt,center:rt=[0,0,0],up:it=[0,1,0]}=et;return lookAt(this,nt,rt,it),this.check()}ortho(et){const{left:nt,right:rt,bottom:it,top:st,near:ot=DEFAULT_NEAR,far:at=DEFAULT_FAR}=et;return ortho(this,nt,rt,it,st,ot,at),this.check()}orthographic(et){const{fovy:nt=DEFAULT_FOVY,aspect:rt=DEFAULT_ASPECT,focalDistance:it=1,near:st=DEFAULT_NEAR,far:ot=DEFAULT_FAR}=et;checkRadians(nt);const at=nt/2,lt=it*Math.tan(at),ut=lt*rt;return this.ortho({left:-ut,right:ut,bottom:-lt,top:lt,near:st,far:ot})}perspective(et){const{fovy:nt=45*Math.PI/180,aspect:rt=1,near:it=.1,far:st=500}=et;return checkRadians(nt),perspective(this,nt,rt,it,st),this.check()}determinant(){return determinant(this)}getScale(et=[-0,-0,-0]){return et[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),et[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),et[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),et}getTranslation(et=[-0,-0,-0]){return et[0]=this[12],et[1]=this[13],et[2]=this[14],et}getRotation(et,nt){et=et||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],nt=nt||[-0,-0,-0];const rt=this.getScale(nt),it=1/rt[0],st=1/rt[1],ot=1/rt[2];return et[0]=this[0]*it,et[1]=this[1]*st,et[2]=this[2]*ot,et[3]=0,et[4]=this[4]*it,et[5]=this[5]*st,et[6]=this[6]*ot,et[7]=0,et[8]=this[8]*it,et[9]=this[9]*st,et[10]=this[10]*ot,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,et}getRotationMatrix3(et,nt){et=et||[-0,-0,-0,-0,-0,-0,-0,-0,-0],nt=nt||[-0,-0,-0];const rt=this.getScale(nt),it=1/rt[0],st=1/rt[1],ot=1/rt[2];return et[0]=this[0]*it,et[1]=this[1]*st,et[2]=this[2]*ot,et[3]=this[4]*it,et[4]=this[5]*st,et[5]=this[6]*ot,et[6]=this[8]*it,et[7]=this[9]*st,et[8]=this[10]*ot,et}transpose(){return transpose(this,this),this.check()}invert(){return invert$1(this,this),this.check()}multiplyLeft(et){return multiply$1(this,et,this),this.check()}multiplyRight(et){return multiply$1(this,this,et),this.check()}rotateX(et){return rotateX$1(this,this,et),this.check()}rotateY(et){return rotateY$1(this,this,et),this.check()}rotateZ(et){return rotateZ$1(this,this,et),this.check()}rotateXYZ(et){return this.rotateX(et[0]).rotateY(et[1]).rotateZ(et[2])}rotateAxis(et,nt){return rotate(this,this,et,nt),this.check()}scale(et){return scale$3(this,this,Array.isArray(et)?et:[et,et,et]),this.check()}translate(et){return translate$1(this,this,et),this.check()}transform(et,nt){return et.length===4?(nt=transformMat4(nt||[-0,-0,-0,-0],et,this),checkVector(nt,4),nt):this.transformAsPoint(et,nt)}transformAsPoint(et,nt){const{length:rt}=et;let it;switch(rt){case 2:it=transformMat4$2(nt||[-0,-0],et,this);break;case 3:it=transformMat4$1(nt||[-0,-0,-0],et,this);break;default:throw new Error("Illegal vector")}return checkVector(it,et.length),it}transformAsVector(et,nt){let rt;switch(et.length){case 2:rt=vec2_transformMat4AsVector(nt||[-0,-0],et,this);break;case 3:rt=vec3_transformMat4AsVector(nt||[-0,-0,-0],et,this);break;default:throw new Error("Illegal vector")}return checkVector(rt,et.length),rt}transformPoint(et,nt){return this.transformAsPoint(et,nt)}transformVector(et,nt){return this.transformAsPoint(et,nt)}transformDirection(et,nt){return this.transformAsVector(et,nt)}makeRotationX(et){return this.identity().rotateX(et)}makeTranslation(et,nt,rt){return this.identity().translate([et,nt,rt])}}let ZERO,IDENTITY$1;function getZeroMatrix(){return ZERO||(ZERO=new Matrix4([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ZERO)),ZERO}function getIdentityMatrix(){return IDENTITY$1||(IDENTITY$1=new Matrix4,Object.freeze(IDENTITY$1)),IDENTITY$1}function checkRadians(tt){if(tt>Math.PI*2)throw Error("expected radians")}function computeInfinitePerspectiveOffCenter(tt,et,nt,rt,it,st){const ot=2*st/(nt-et),at=2*st/(it-rt),lt=(nt+et)/(nt-et),ut=(it+rt)/(it-rt),ft=-1,dt=-1,ht=-2*st;return tt[0]=ot,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=at,tt[6]=0,tt[7]=0,tt[8]=lt,tt[9]=ut,tt[10]=ft,tt[11]=dt,tt[12]=0,tt[13]=0,tt[14]=ht,tt[15]=0,tt}function create(){var tt=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt[3]=1,tt}function identity(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=1,tt}function setAxisAngle(tt,et,nt){nt=nt*.5;var rt=Math.sin(nt);return tt[0]=rt*et[0],tt[1]=rt*et[1],tt[2]=rt*et[2],tt[3]=Math.cos(nt),tt}function multiply(tt,et,nt){var rt=et[0],it=et[1],st=et[2],ot=et[3],at=nt[0],lt=nt[1],ut=nt[2],ft=nt[3];return tt[0]=rt*ft+ot*at+it*ut-st*lt,tt[1]=it*ft+ot*lt+st*at-rt*ut,tt[2]=st*ft+ot*ut+rt*lt-it*at,tt[3]=ot*ft-rt*at-it*lt-st*ut,tt}function rotateX(tt,et,nt){nt*=.5;var rt=et[0],it=et[1],st=et[2],ot=et[3],at=Math.sin(nt),lt=Math.cos(nt);return tt[0]=rt*lt+ot*at,tt[1]=it*lt+st*at,tt[2]=st*lt-it*at,tt[3]=ot*lt-rt*at,tt}function rotateY(tt,et,nt){nt*=.5;var rt=et[0],it=et[1],st=et[2],ot=et[3],at=Math.sin(nt),lt=Math.cos(nt);return tt[0]=rt*lt-st*at,tt[1]=it*lt+ot*at,tt[2]=st*lt+rt*at,tt[3]=ot*lt-it*at,tt}function rotateZ(tt,et,nt){nt*=.5;var rt=et[0],it=et[1],st=et[2],ot=et[3],at=Math.sin(nt),lt=Math.cos(nt);return tt[0]=rt*lt+it*at,tt[1]=it*lt-rt*at,tt[2]=st*lt+ot*at,tt[3]=ot*lt-st*at,tt}function calculateW(tt,et){var nt=et[0],rt=et[1],it=et[2];return tt[0]=nt,tt[1]=rt,tt[2]=it,tt[3]=Math.sqrt(Math.abs(1-nt*nt-rt*rt-it*it)),tt}function slerp(tt,et,nt,rt){var it=et[0],st=et[1],ot=et[2],at=et[3],lt=nt[0],ut=nt[1],ft=nt[2],dt=nt[3],ht,mt,xt,_t,At;return mt=it*lt+st*ut+ot*ft+at*dt,mt<0&&(mt=-mt,lt=-lt,ut=-ut,ft=-ft,dt=-dt),1-mt>EPSILON$3?(ht=Math.acos(mt),xt=Math.sin(ht),_t=Math.sin((1-rt)*ht)/xt,At=Math.sin(rt*ht)/xt):(_t=1-rt,At=rt),tt[0]=_t*it+At*lt,tt[1]=_t*st+At*ut,tt[2]=_t*ot+At*ft,tt[3]=_t*at+At*dt,tt}function invert(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=nt*nt+rt*rt+it*it+st*st,at=ot?1/ot:0;return tt[0]=-nt*at,tt[1]=-rt*at,tt[2]=-it*at,tt[3]=st*at,tt}function conjugate(tt,et){return tt[0]=-et[0],tt[1]=-et[1],tt[2]=-et[2],tt[3]=et[3],tt}function fromMat3(tt,et){var nt=et[0]+et[4]+et[8],rt;if(nt>0)rt=Math.sqrt(nt+1),tt[3]=.5*rt,rt=.5/rt,tt[0]=(et[5]-et[7])*rt,tt[1]=(et[6]-et[2])*rt,tt[2]=(et[1]-et[3])*rt;else{var it=0;et[4]>et[0]&&(it=1),et[8]>et[it*3+it]&&(it=2);var st=(it+1)%3,ot=(it+2)%3;rt=Math.sqrt(et[it*3+it]-et[st*3+st]-et[ot*3+ot]+1),tt[it]=.5*rt,rt=.5/rt,tt[3]=(et[st*3+ot]-et[ot*3+st])*rt,tt[st]=(et[st*3+it]+et[it*3+st])*rt,tt[ot]=(et[ot*3+it]+et[it*3+ot])*rt}return tt}var add$1=add$2,scale$1=scale$2,dot=dot$1,lerp$1=lerp$2,length=length$1,squaredLength=squaredLength$1,normalize=normalize$1,rotationTo=function(){var tt=create$3(),et=fromValues(1,0,0),nt=fromValues(0,1,0);return function(rt,it,st){var ot=dot$2(it,st);return ot<-.999999?(cross(tt,et,it),len(tt)<1e-6&&cross(tt,nt,it),normalize$2(tt,tt),setAxisAngle(rt,tt,Math.PI),rt):ot>.999999?(rt[0]=0,rt[1]=0,rt[2]=0,rt[3]=1,rt):(cross(tt,it,st),rt[0]=tt[0],rt[1]=tt[1],rt[2]=tt[2],rt[3]=1+ot,normalize(rt,rt))}}();(function(){var tt=create(),et=create();return function(nt,rt,it,st,ot,at){return slerp(tt,rt,ot,at),slerp(et,it,st,at),slerp(nt,tt,et,2*at*(1-at)),nt}})();(function(){var tt=create$2();return function(et,nt,rt,it){return tt[0]=rt[0],tt[3]=rt[1],tt[6]=rt[2],tt[1]=it[0],tt[4]=it[1],tt[7]=it[2],tt[2]=-nt[0],tt[5]=-nt[1],tt[8]=-nt[2],normalize(et,fromMat3(et,tt))}})();const IDENTITY_QUATERNION=[0,0,0,1];class Quaternion extends MathArray{constructor(et=0,nt=0,rt=0,it=1){super(-0,-0,-0,-0),Array.isArray(et)&&arguments.length===1?this.copy(et):this.set(et,nt,rt,it)}copy(et){return this[0]=et[0],this[1]=et[1],this[2]=et[2],this[3]=et[3],this.check()}set(et,nt,rt,it){return this[0]=et,this[1]=nt,this[2]=rt,this[3]=it,this.check()}fromObject(et){return this[0]=et.x,this[1]=et.y,this[2]=et.z,this[3]=et.w,this.check()}fromMatrix3(et){return fromMat3(this,et),this.check()}fromAxisRotation(et,nt){return setAxisAngle(this,et,nt),this.check()}identity(){return identity(this),this.check()}setAxisAngle(et,nt){return this.fromAxisRotation(et,nt)}get ELEMENTS(){return 4}get x(){return this[0]}set x(et){this[0]=checkNumber(et)}get y(){return this[1]}set y(et){this[1]=checkNumber(et)}get z(){return this[2]}set z(et){this[2]=checkNumber(et)}get w(){return this[3]}set w(et){this[3]=checkNumber(et)}len(){return length(this)}lengthSquared(){return squaredLength(this)}dot(et){return dot(this,et)}rotationTo(et,nt){return rotationTo(this,et,nt),this.check()}add(et){return add$1(this,this,et),this.check()}calculateW(){return calculateW(this,this),this.check()}conjugate(){return conjugate(this,this),this.check()}invert(){return invert(this,this),this.check()}lerp(et,nt,rt){return rt===void 0?this.lerp(this,et,nt):(lerp$1(this,et,nt,rt),this.check())}multiplyRight(et){return multiply(this,this,et),this.check()}multiplyLeft(et){return multiply(this,et,this),this.check()}normalize(){const et=this.len(),nt=et>0?1/et:0;return this[0]=this[0]*nt,this[1]=this[1]*nt,this[2]=this[2]*nt,this[3]=this[3]*nt,et===0&&(this[3]=1),this.check()}rotateX(et){return rotateX(this,this,et),this.check()}rotateY(et){return rotateY(this,this,et),this.check()}rotateZ(et){return rotateZ(this,this,et),this.check()}scale(et){return scale$1(this,this,et),this.check()}slerp(et,nt,rt){let it,st,ot;switch(arguments.length){case 1:({start:it=IDENTITY_QUATERNION,target:st,ratio:ot}=et);break;case 2:it=this,st=et,ot=nt;break;default:it=et,st=nt,ot=rt}return slerp(this,it,st,ot),this.check()}transformVector4(et,nt=new Vector4){return transformQuat(nt,et,this),checkVector(nt,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(et,nt){return this.setAxisAngle(et,nt)}premultiply(et){return this.multiplyLeft(et)}multiply(et){return this.multiplyRight(et)}}const EPSILON$2=1e-6,EARTH_RADIUS_METERS=6371e3;class SphericalCoordinates{constructor({phi:et=0,theta:nt=0,radius:rt=1,bearing:it,pitch:st,altitude:ot,radiusScale:at=EARTH_RADIUS_METERS}={}){_defineProperty$4(this,"phi",void 0),_defineProperty$4(this,"theta",void 0),_defineProperty$4(this,"radius",void 0),_defineProperty$4(this,"radiusScale",void 0),this.phi=et,this.theta=nt,this.radius=rt||ot||1,this.radiusScale=at||1,it!==void 0&&(this.bearing=it),st!==void 0&&(this.pitch=st),this.check()}toString(){return this.formatString(config)}formatString({printTypes:et=!1}){const nt=formatValue;return"".concat(et?"Spherical":"","[rho:").concat(nt(this.radius),",theta:").concat(nt(this.theta),",phi:").concat(nt(this.phi),"]")}equals(et){return equals(this.radius,et.radius)&&equals(this.theta,et.theta)&&equals(this.phi,et.phi)}exactEquals(et){return this.radius===et.radius&&this.theta===et.theta&&this.phi===et.phi}get bearing(){return 180-degrees(this.phi)}set bearing(et){this.phi=Math.PI-radians(et)}get pitch(){return degrees(this.theta)}set pitch(et){this.theta=radians(et)}get longitude(){return degrees(this.phi)}get latitude(){return degrees(this.theta)}get lng(){return degrees(this.phi)}get lat(){return degrees(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(et,nt,rt){return this.radius=et,this.phi=nt,this.theta=rt,this.check()}clone(){return new SphericalCoordinates().copy(this)}copy(et){return this.radius=et.radius,this.phi=et.phi,this.theta=et.theta,this.check()}fromLngLatZ([et,nt,rt]){return this.radius=1+rt/this.radiusScale,this.phi=radians(nt),this.theta=radians(et),this.check()}fromVector3(et){return this.radius=length$2(et),this.radius>0&&(this.theta=Math.atan2(et[0],et[1]),this.phi=Math.acos(clamp$2(et[2]/this.radius,-1,1))),this.check()}toVector3(){return new Vector3(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(EPSILON$2,Math.min(Math.PI-EPSILON$2,this.phi)),this}check(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}const lightingShader$1=`#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))

struct AmbientLight {
 vec3 color;
};

struct PointLight {
 vec3 color;
 vec3 position;
 vec3 attenuation;
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform AmbientLight lighting_uAmbientLight;
uniform PointLight lighting_uPointLight[MAX_LIGHTS];
uniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];
uniform int lighting_uPointLightCount;
uniform int lighting_uDirectionalLightCount;

uniform bool lighting_uEnabled;

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

#endif
`,INITIAL_MODULE_OPTIONS$2={lightSources:{}};function convertColor(){let{color:tt=[0,0,0],intensity:et=1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return tt.map(nt=>nt*et/255)}function getLightSourceUniforms(tt){let{ambientLight:et,pointLights:nt=[],directionalLights:rt=[]}=tt;const it={};return et?it["lighting_uAmbientLight.color"]=convertColor(et):it["lighting_uAmbientLight.color"]=[0,0,0],nt.forEach((st,ot)=>{it["lighting_uPointLight[".concat(ot,"].color")]=convertColor(st),it["lighting_uPointLight[".concat(ot,"].position")]=st.position,it["lighting_uPointLight[".concat(ot,"].attenuation")]=st.attenuation||[1,0,0]}),it.lighting_uPointLightCount=nt.length,rt.forEach((st,ot)=>{it["lighting_uDirectionalLight[".concat(ot,"].color")]=convertColor(st),it["lighting_uDirectionalLight[".concat(ot,"].direction")]=st.direction}),it.lighting_uDirectionalLightCount=rt.length,it}function getUniforms$3(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:INITIAL_MODULE_OPTIONS$2;if("lightSources"in tt){const{ambientLight:et,pointLights:nt,directionalLights:rt}=tt.lightSources||{};return et||nt&&nt.length>0||rt&&rt.length>0?Object.assign({},getLightSourceUniforms({ambientLight:et,pointLights:nt,directionalLights:rt}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in tt){const et={pointLights:[],directionalLights:[]};for(const nt of tt.lights||[])switch(nt.type){case"ambient":et.ambientLight=nt;break;case"directional":et.directionalLights.push(nt);break;case"point":et.pointLights.push(nt);break}return getUniforms$3({lightSources:et})}return{}}const lights={name:"lights",vs:lightingShader$1,fs:lightingShader$1,getUniforms:getUniforms$3,defines:{MAX_LIGHTS:3}},DEFAULT_HIGHLIGHT_COLOR=new Uint8Array([0,255,255,255]),DEFAULT_MODULE_OPTIONS={pickingSelectedColor:null,pickingHighlightColor:DEFAULT_HIGHLIGHT_COLOR,pickingActive:!1,pickingAttribute:!1};function getUniforms$2(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DEFAULT_MODULE_OPTIONS;const et={};if(tt.pickingSelectedColor!==void 0)if(!tt.pickingSelectedColor)et.picking_uSelectedColorValid=0;else{const nt=tt.pickingSelectedColor.slice(0,3);et.picking_uSelectedColorValid=1,et.picking_uSelectedColor=nt}if(tt.pickingHighlightColor){const nt=Array.from(tt.pickingHighlightColor,rt=>rt/255);Number.isFinite(nt[3])||(nt[3]=1),et.picking_uHighlightColor=nt}return tt.pickingActive!==void 0&&(et.picking_uActive=!!tt.pickingActive,et.picking_uAttribute=!!tt.pickingAttribute),et}const vs$8=`uniform bool picking_uActive;
uniform bool picking_uAttribute;
uniform vec3 picking_uSelectedColor;
uniform bool picking_uSelectedColorValid;

out vec4 picking_vRGBcolor_Avalid;

const float COLOR_SCALE = 1. / 255.;

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.001;
}

bool isVertexPicked(vec3 vertexColor) {
  return
    picking_uSelectedColorValid &&
    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));
}

void picking_setPickingColor(vec3 pickingColor) {
  if (picking_uActive) {
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!picking_uAttribute) {
      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;
    }
  } else {
    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.r = value;
  }
}
void picking_setPickingAttribute(vec2 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}
void picking_setPickingAttribute(vec3 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,fs$5=`uniform bool picking_uActive;
uniform vec3 picking_uSelectedColor;
uniform vec4 picking_uHighlightColor;

in vec4 picking_vRGBcolor_Avalid;
vec4 picking_filterHighlightColor(vec4 color) {
  if (picking_uActive) {
    return color;
  }
  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    float highLightAlpha = picking_uHighlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}
vec4 picking_filterPickingColor(vec4 color) {
  if (picking_uActive) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}
vec4 picking_filterColor(vec4 color) {
  vec4 highightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highightColor);
}

`,picking$1={name:"picking",vs:vs$8,fs:fs$5,getUniforms:getUniforms$2},lightingShader=`
uniform float lighting_uAmbient;
uniform float lighting_uDiffuse;
uniform float lighting_uShininess;
uniform vec3  lighting_uSpecularColor;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
    vec3 halfway_direction = normalize(light_direction + view_direction);
    float lambertian = dot(light_direction, normal_worldspace);
    float specular = 0.0;
    if (lambertian > 0.0) {
      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
      specular = pow(specular_angle, lighting_uShininess);
    }
    lambertian = max(lambertian, 0.0);
    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);
    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}

vec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = vec3(0, 0, 0);
  vec3 surfaceColor = vec3(0, 0, 0);

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}
`,INITIAL_MODULE_OPTIONS$1={};function getMaterialUniforms(tt){const{ambient:et=.35,diffuse:nt=.6,shininess:rt=32,specularColor:it=[30,30,30]}=tt;return{lighting_uAmbient:et,lighting_uDiffuse:nt,lighting_uShininess:rt,lighting_uSpecularColor:it.map(st=>st/255)}}function getUniforms$1(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:INITIAL_MODULE_OPTIONS$1;if(!("material"in tt))return{};const{material:et}=tt;return et?getMaterialUniforms(et):{lighting_uEnabled:!1}}const gouraudLighting={name:"gouraud-lighting",dependencies:[lights],vs:lightingShader,defines:{LIGHTING_VERTEX:1},getUniforms:getUniforms$1},phongLighting={name:"phong-lighting",dependencies:[lights],fs:lightingShader,defines:{LIGHTING_FRAGMENT:1},getUniforms:getUniforms$1},vs$7=`uniform mat4 u_MVPMatrix;
uniform mat4 u_ModelMatrix;
uniform mat4 u_NormalMatrix;

varying vec3 pbr_vPosition;
varying vec2 pbr_vUV;

#ifdef HAS_NORMALS
# ifdef HAS_TANGENTS
varying mat3 pbr_vTBN;
# else
varying vec3 pbr_vNormal;
# endif
#endif

void pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)
{
  vec4 pos = u_ModelMatrix * position;
  pbr_vPosition = vec3(pos.xyz) / pos.w;

#ifdef HAS_NORMALS
#ifdef HAS_TANGENTS
  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));
  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));
  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;
  pbr_vTBN = mat3(tangentW, bitangentW, normalW);
#else
  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));
#endif
#endif

#ifdef HAS_UV
  pbr_vUV = uv;
#else
  pbr_vUV = vec2(0.,0.);
#endif
}
`,fs$4=`#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)
# error PBR fragment shader: Texture LOD is not available
#endif

#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)
# error PBR fragment shader: Derivatives are not available
#endif


#if (__VERSION__ < 300)
  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)
#else
  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)
#endif

precision highp float;

uniform bool pbr_uUnlit;

#ifdef USE_IBL
uniform samplerCube u_DiffuseEnvSampler;
uniform samplerCube u_SpecularEnvSampler;
uniform sampler2D u_brdfLUT;
uniform vec2 u_ScaleIBLAmbient;
#endif

#ifdef HAS_BASECOLORMAP
uniform sampler2D u_BaseColorSampler;
#endif
#ifdef HAS_NORMALMAP
uniform sampler2D u_NormalSampler;
uniform float u_NormalScale;
#endif
#ifdef HAS_EMISSIVEMAP
uniform sampler2D u_EmissiveSampler;
uniform vec3 u_EmissiveFactor;
#endif
#ifdef HAS_METALROUGHNESSMAP
uniform sampler2D u_MetallicRoughnessSampler;
#endif
#ifdef HAS_OCCLUSIONMAP
uniform sampler2D u_OcclusionSampler;
uniform float u_OcclusionStrength;
#endif

#ifdef ALPHA_CUTOFF
uniform float u_AlphaCutoff;
#endif

uniform vec2 u_MetallicRoughnessValues;
uniform vec4 u_BaseColorFactor;

uniform vec3 u_Camera;
#ifdef PBR_DEBUG
uniform vec4 u_ScaleDiffBaseMR;
uniform vec4 u_ScaleFGDSpec;
#endif

varying vec3 pbr_vPosition;

varying vec2 pbr_vUV;

#ifdef HAS_NORMALS
#ifdef HAS_TANGENTS
varying mat3 pbr_vTBN;
#else
varying vec3 pbr_vNormal;
#endif
#endif


struct PBRInfo
{
  float NdotL;
  float NdotV;
  float NdotH;
  float LdotH;
  float VdotH;
  float perceptualRoughness;
  float metalness;
  vec3 reflectance0;
  vec3 reflectance90;
  float alphaRoughness;
  vec3 diffuseColor;
  vec3 specularColor;
  vec3 n;
  vec3 v;
};

const float M_PI = 3.141592653589793;
const float c_MinRoughness = 0.04;

vec4 SRGBtoLINEAR(vec4 srgbIn)
{
#ifdef MANUAL_SRGB
#ifdef SRGB_FAST_APPROXIMATION
  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
#else
  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
#endif
  return vec4(linOut,srgbIn.w);;
#else
  return srgbIn;
#endif
}

vec3 getNormal()
{
#ifndef HAS_TANGENTS
  vec3 pos_dx = dFdx(pbr_vPosition);
  vec3 pos_dy = dFdy(pbr_vPosition);
  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));
  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));
  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

#ifdef HAS_NORMALS
  vec3 ng = normalize(pbr_vNormal);
#else
  vec3 ng = cross(pos_dx, pos_dy);
#endif

  t = normalize(t - ng * dot(ng, t));
  vec3 b = normalize(cross(ng, t));
  mat3 tbn = mat3(t, b, ng);
#else
  mat3 tbn = pbr_vTBN;
#endif

#ifdef HAS_NORMALMAP
  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;
  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));
#else
  vec3 n = normalize(tbn[2].xyz);
#endif

  return n;
}


#ifdef USE_IBL
vec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)
{
  float mipCount = 9.0;
  float lod = (pbrInputs.perceptualRoughness * mipCount);
  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,
    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;
  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;

#ifdef USE_TEX_LOD
  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;
#else
  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;
#endif

  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;
  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);
  diffuse *= u_ScaleIBLAmbient.x;
  specular *= u_ScaleIBLAmbient.y;

  return diffuse + specular;
}
#endif


vec3 diffuse(PBRInfo pbrInputs)
{
  return pbrInputs.diffuseColor / M_PI;
}

vec3 specularReflection(PBRInfo pbrInputs)
{
  return pbrInputs.reflectance0 +
    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *
    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);
}



float geometricOcclusion(PBRInfo pbrInputs)
{
  float NdotL = pbrInputs.NdotL;
  float NdotV = pbrInputs.NdotV;
  float r = pbrInputs.alphaRoughness;

  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
  return attenuationL * attenuationV;
}





float microfacetDistribution(PBRInfo pbrInputs)
{
  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;
  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;
  return roughnessSq / (M_PI * f * f);
}

void PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {
  pbrInputs.NdotL = 1.0;
  pbrInputs.NdotH = 0.0;
  pbrInputs.LdotH = 0.0;
  pbrInputs.VdotH = 1.0;
}

void PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {
  vec3 n = pbrInputs.n;
  vec3 v = pbrInputs.v;
  vec3 l = normalize(lightDirection);
  vec3 h = normalize(l+v);

  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);
  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);
  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);
  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);
}

void PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {
  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);
  PBRInfo_setDirectionalLight(pbrInputs, light_direction);
}

vec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {
  vec3 F = specularReflection(pbrInputs);
  float G = geometricOcclusion(pbrInputs);
  float D = microfacetDistribution(pbrInputs);
  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);
  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);
  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);
}

vec4 pbr_filterColor(vec4 colorUnused)
{
#ifdef HAS_BASECOLORMAP
  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;
#else
  vec4 baseColor = u_BaseColorFactor;
#endif

#ifdef ALPHA_CUTOFF
  if (baseColor.a < u_AlphaCutoff) {
    discard;
  }
#endif

  vec3 color = vec3(0, 0, 0);

  if(pbr_uUnlit){
    color.rgb = baseColor.rgb;
  }
  else{


    float perceptualRoughness = u_MetallicRoughnessValues.y;
    float metallic = u_MetallicRoughnessValues.x;
#ifdef HAS_METALROUGHNESSMAP

    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);
    perceptualRoughness = mrSample.g * perceptualRoughness;
    metallic = mrSample.b * metallic;
#endif
    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
    metallic = clamp(metallic, 0.0, 1.0);

    float alphaRoughness = perceptualRoughness * perceptualRoughness;

    vec3 f0 = vec3(0.04);
    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
    diffuseColor *= 1.0 - metallic;
    vec3 specularColor = mix(f0, baseColor.rgb, metallic);
    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);



    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
    vec3 specularEnvironmentR0 = specularColor.rgb;
    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

    vec3 n = getNormal();
    vec3 v = normalize(u_Camera - pbr_vPosition);

    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
    vec3 reflection = -normalize(reflect(v, n));

    PBRInfo pbrInputs = PBRInfo(
      0.0,
      NdotV,
      0.0,
      0.0,
      0.0,
      perceptualRoughness,
      metallic,
      specularEnvironmentR0,
      specularEnvironmentR90,
      alphaRoughness,
      diffuseColor,
      specularColor,
      n,
      v
    );

#ifdef USE_LIGHTS
    PBRInfo_setAmbientLight(pbrInputs);
    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);
    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {
      if (i < lighting_uDirectionalLightCount) {
        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);
        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);
      }
    }
    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {
      if (i < lighting_uPointLightCount) {
        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);
        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));
        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);
      }
    }
#endif
#ifdef USE_IBL
    color += getIBLContribution(pbrInputs, n, reflection);
#endif
#ifdef HAS_OCCLUSIONMAP
    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;
    color = mix(color, color * ao, u_OcclusionStrength);
#endif

#ifdef HAS_EMISSIVEMAP
    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;
    color += emissive;
#endif

#ifdef PBR_DEBUG





    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);
    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);
    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);
#endif

  }

  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
}
`,pbr={name:"pbr",vs:vs$7,fs:fs$4,defines:{LIGHTING_FRAGMENT:1},dependencies:[lights]},vs$6=`attribute float transform_elementID;
vec2 transform_getPixelSizeHalf(vec2 size) {
  return vec2(1.) / (2. * size);
}

vec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {
  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);
  float xIndex = transform_elementID - (yIndex * texSize[0]);
  return vec2(xIndex, yIndex);
}
vec2 transform_getTexCoord(vec2 size) {
  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);
  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);
  vec2 coord = indices / size + pixelSizeHalf;
  return coord;
}
vec2 transform_getPos(vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);
  return pos;
}
vec4 transform_getInput(sampler2D texSampler, vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec4 textureColor = texture2D(texSampler, texCoord);
  return textureColor;
}
`,transform={name:"transform",vs:vs$6,fs:null};class ProgramManager{static getDefaultProgramManager(et){return et.luma=et.luma||{},et.luma.defaultProgramManager=et.luma.defaultProgramManager||new ProgramManager(et),et.luma.defaultProgramManager}constructor(et){this.gl=et,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(et){this._defaultModules.find(nt=>nt.name===et.name)||this._defaultModules.push(et),this.stateHash++}removeDefaultModule(et){const nt=typeof et=="string"?et:et.name;this._defaultModules=this._defaultModules.filter(rt=>rt.name!==nt),this.stateHash++}addShaderHook(et,nt){nt&&(et=Object.assign(nt,{hook:et})),this._hookFunctions.push(et),this.stateHash++}get(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{vs:nt="",fs:rt="",defines:it={},inject:st={},varyings:ot=[],bufferMode:at=35981,transpileToGLSL100:lt=!1}=et,ut=this._getModuleList(et.modules),ft=this._getHash(nt),dt=this._getHash(rt),ht=ut.map(Et=>this._getHash(Et.name)).sort(),mt=ot.map(Et=>this._getHash(Et)),xt=Object.keys(it).sort(),_t=Object.keys(st).sort(),At=[],gt=[];for(const Et of xt)At.push(this._getHash(Et)),At.push(this._getHash(it[Et]));for(const Et of _t)gt.push(this._getHash(Et)),gt.push(this._getHash(st[Et]));const vt="".concat(ft,"/").concat(dt,"D").concat(At.join("/"),"M").concat(ht.join("/"),"I").concat(gt.join("/"),"V").concat(mt.join("/"),"H").concat(this.stateHash,"B").concat(at).concat(lt?"T":"");if(!this._programCache[vt]){const Et=assembleShaders(this.gl,{vs:nt,fs:rt,modules:ut,inject:st,defines:it,hookFunctions:this._hookFunctions,transpileToGLSL100:lt});this._programCache[vt]=new Program(this.gl,{hash:vt,vs:Et.vs,fs:Et.fs,varyings:ot,bufferMode:at}),this._getUniforms[vt]=Et.getUniforms||(yt=>{}),this._useCounts[vt]=0}return this._useCounts[vt]++,this._programCache[vt]}getUniforms(et){return this._getUniforms[et.hash]||null}release(et){const nt=et.hash;this._useCounts[nt]--,this._useCounts[nt]===0&&(this._programCache[nt].delete(),delete this._programCache[nt],delete this._getUniforms[nt],delete this._useCounts[nt])}_getHash(et){return this._hashes[et]===void 0&&(this._hashes[et]=this._hashCounter++),this._hashes[et]}_getModuleList(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const nt=new Array(this._defaultModules.length+et.length),rt={};let it=0;for(let st=0,ot=this._defaultModules.length;st<ot;++st){const at=this._defaultModules[st],lt=at.name;nt[it++]=at,rt[lt]=!0}for(let st=0,ot=et.length;st<ot;++st){const at=et[st],lt=at.name;rt[lt]||(nt[it++]=at,rt[lt]=!0)}return nt.length=it,nt}}const GLTF_TO_LUMA_ATTRIBUTE_MAP={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function getBuffersFromGeometry(tt,et,nt){const rt={};let it=et.indices;for(const st in et.attributes){const ot=et.attributes[st],at=mapAttributeName(st,nt);if(st==="indices")it=ot;else if(ot.constant)rt[at]=ot.value;else{const lt=ot.value,ut={...ot};delete ut.value,rt[at]=[new Buffer$1(tt,lt),ut],inferAttributeAccessor(st,ut)}}if(it){const st=it.value||it;assert$6(st instanceof Uint16Array||st instanceof Uint32Array,'attribute array for "indices" must be of integer type');const ot={size:1,isIndexed:it.isIndexed===void 0?!0:it.isIndexed};rt.indices=[new Buffer$1(tt,{data:st,target:34963}),ot]}return rt}function mapAttributeName(tt,et){const{attributeMap:nt=GLTF_TO_LUMA_ATTRIBUTE_MAP}=et||{};return nt&&nt[tt]||tt}function inferAttributeAccessor(tt,et){let nt;switch(tt){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":nt="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":nt="vectors";break}switch(nt){case"vectors":et.size=et.size||3;break;case"uvs":et.size=et.size||2;break}assert$6(Number.isFinite(et.size),"attribute ".concat(tt," needs size"))}const LOG_DRAW_PRIORITY=2,LOG_DRAW_TIMEOUT=1e4,ERR_MODEL_PARAMS="Model needs drawMode and vertexCount",NOOP=()=>{},DRAW_PARAMS={};class Model{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{id:rt=uid("model")}=nt;assert$6(isWebGL(et)),this.id=rt,this.gl=et,this.id=nt.id||uid("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(nt)}initialize(et){this.props={},this.programManager=et.programManager||ProgramManager.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:nt=null,vs:rt,fs:it,modules:st,defines:ot,inject:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft}=et;this.programProps={program:nt,vs:rt,fs:it,modules:st,defines:ot,inject:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(et.moduleSettings))),this.drawMode=et.drawMode!==void 0?et.drawMode:4,this.vertexCount=et.vertexCount||0,this.geometryBuffers={},this.isInstanced=et.isInstanced||et.instanced||et.instanceCount>0,this._setModelProps(et),this.geometry={},assert$6(this.drawMode!==void 0&&Number.isFinite(this.vertexCount),ERR_MODEL_PARAMS)}setProps(et){this._setModelProps(et)}delete(){for(const et in this._attributes)this._attributes[et]!==this.attributes[et]&&this._attributes[et].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(et){const{program:nt,vs:rt,fs:it,modules:st,defines:ot,inject:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft}=et;this.programProps={program:nt,vs:rt,fs:it,modules:st,defines:ot,inject:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(et){return this.drawMode=et,this}setVertexCount(et){return assert$6(Number.isFinite(et)),this.vertexCount=et,this}setInstanceCount(et){return assert$6(Number.isFinite(et)),this.instanceCount=et,this}setGeometry(et){return this.drawMode=et.drawMode,this.vertexCount=et.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=getBuffersFromGeometry(this.gl,et),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(isObjectEmpty(et))return this;const nt={};for(const rt in et){const it=et[rt];nt[rt]=it.getValue?it.getValue():it}return this.vertexArray.setAttributes(nt),this}setUniforms(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(this.uniforms,et),this}getModuleUniforms(et){this._checkProgram();const nt=this.programManager.getUniforms(this.program);return nt?nt(et):{}}updateModuleSettings(et){const nt=this.getModuleUniforms(et||{});return this.setUniforms(nt)}clear(et){return clear(this.program.gl,et),this}draw(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._checkProgram();const{moduleSettings:nt=null,framebuffer:rt,uniforms:it={},attributes:st={},transformFeedback:ot=this.transformFeedback,parameters:at={},vertexArray:lt=this.vertexArray}=et;this.setAttributes(st),this.updateModuleSettings(nt),this.setUniforms(it);let ut;log$3.priority>=LOG_DRAW_PRIORITY&&(ut=this._logDrawCallStart(LOG_DRAW_PRIORITY));const ft=this.vertexArray.getDrawParams(),{isIndexed:dt=ft.isIndexed,indexType:ht=ft.indexType,indexOffset:mt=ft.indexOffset,vertexArrayInstanced:xt=ft.isInstanced}=this.props;xt&&!this.isInstanced&&log$3.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:_t,instanceCount:At}=this,{onBeforeRender:gt=NOOP,onAfterRender:vt=NOOP}=this.props;gt(),this.program.setUniforms(this.uniforms);const Et=this.program.draw(Object.assign(DRAW_PARAMS,et,{logPriority:ut,uniforms:null,framebuffer:rt,parameters:at,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:lt,transformFeedback:ot,isIndexed:dt,indexType:ht,isInstanced:_t,instanceCount:At,offset:dt?mt:0}));return vt(),log$3.priority>=LOG_DRAW_PRIORITY&&this._logDrawCallEnd(ut,lt,rt),Et}transform(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{discard:nt=!0,feedbackBuffers:rt,unbindModels:it=[]}=et;let{parameters:st}=et;rt&&this._setFeedbackBuffers(rt),nt&&(st=Object.assign({},st,{[35977]:nt})),it.forEach(ot=>ot.vertexArray.unbindBuffers());try{this.draw(Object.assign({},et,{parameters:st}))}finally{it.forEach(ot=>ot.vertexArray.bindBuffers())}return this}render(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return log$3.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(et).draw()}_setModelProps(et){Object.assign(this.props,et),"uniforms"in et&&this.setUniforms(et.uniforms),"pickable"in et&&(this.pickable=et.pickable),"instanceCount"in et&&(this.instanceCount=et.instanceCount),"geometry"in et&&this.setGeometry(et.geometry),"attributes"in et&&this.setAttributes(et.attributes),"_feedbackBuffers"in et&&this._setFeedbackBuffers(et._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:nt}=this.programProps;if(nt)this._managedProgram=!1;else{const{vs:rt,fs:it,modules:st,inject:ot,defines:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft}=this.programProps;nt=this.programManager.get({vs:rt,fs:it,modules:st,inject:ot,defines:at,varyings:lt,bufferMode:ut,transpileToGLSL100:ft}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}assert$6(nt instanceof Program,"Model needs a program"),this._programDirty=!1,nt!==this.program&&(this.program=nt,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new VertexArray(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const et in this.geometryBuffers){const nt=this.geometryBuffers[et][0]||this.geometryBuffers[et];nt instanceof Buffer$1&&nt.delete()}}_setAnimationProps(et){this.animated&&assert$6(et,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(isObjectEmpty(et))return this;const{gl:nt}=this.program;return this.transformFeedback=this.transformFeedback||new TransformFeedback(nt,{program:this.program}),this.transformFeedback.setBuffers(et),this}_logDrawCallStart(et){const nt=et>3?0:LOG_DRAW_TIMEOUT;if(!(Date.now()-this.lastLogTime<nt))return this.lastLogTime=Date.now(),log$3.group(LOG_DRAW_PRIORITY,">>> DRAWING MODEL ".concat(this.id),{collapsed:log$3.level<=2})(),et}_logDrawCallEnd(et,nt,rt,it){if(et===void 0)return;const st=getDebugTableForVertexArray({vertexArray:nt,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:ot,unusedTable:at,unusedCount:lt}=getDebugTableForUniforms({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,rt)}),{table:ut,count:ft}=getDebugTableForUniforms({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,rt),undefinedOnly:!0});ft>0&&log$3.log("MISSING UNIFORMS",Object.keys(ut))(),lt>0&&log$3.log("UNUSED UNIFORMS",Object.keys(at))();const dt=getDebugTableForProgramConfiguration(this.vertexArray.configuration);log$3.table(et,st)(),log$3.table(et,ot)(),log$3.table(et+1,dt)(),it&&it.log({logLevel:LOG_DRAW_PRIORITY,message:"Rendered to ".concat(it.id)}),log$3.groupEnd(LOG_DRAW_PRIORITY)()}}class BufferTransform{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=et,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(nt),Object.seal(this)}setupResources(et){for(const nt of this.bindings)this._setupTransformFeedback(nt,et)}updateModelProps(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyings:nt}=this;return nt.length>0&&(et=Object.assign({},et,{varyings:nt})),et}getDrawOptions(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt=this.bindings[this.currentIndex],{sourceBuffers:rt,transformFeedback:it}=nt;return{attributes:Object.assign({},rt,et.attributes),transformFeedback:it}}swap(){return this.feedbackMap?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(et)}getBuffer(et){const{feedbackBuffers:nt}=this.bindings[this.currentIndex],rt=et?nt[et]:null;return rt?rt instanceof Buffer$1?rt:rt.buffer:null}getData(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyingName:nt}=et,rt=this.getBuffer(nt);return rt?rt.getData():null}delete(){for(const et in this.resources)this.resources[et].delete()}_initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(et),this.varyings=et.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&assert$6(isWebGL2$1(this.gl))}_getFeedbackBuffers(et){const{sourceBuffers:nt={}}=et,rt={};if(this.bindings[this.currentIndex]&&Object.assign(rt,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const it in this.feedbackMap){const st=this.feedbackMap[it];it in nt&&(rt[st]=it)}Object.assign(rt,et.feedbackBuffers);for(const it in rt){const st=rt[it];if(typeof st=="string"){const ot=nt[st],{byteLength:at,usage:lt,accessor:ut}=ot;rt[it]=this._createNewBuffer(it,{byteLength:at,usage:lt,accessor:ut})}}return rt}_setupBuffers(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:nt=null}=et;Object.assign(this.feedbackMap,et.feedbackMap);const rt=this._getFeedbackBuffers(et);this._updateBindings({sourceBuffers:nt,feedbackBuffers:rt})}_setupTransformFeedback(et,nt){let{model:rt}=nt;const{program:it}=rt;et.transformFeedback=new TransformFeedback(this.gl,{program:it,buffers:et.feedbackBuffers})}_updateBindings(et){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],et),this.feedbackMap){const{sourceBuffers:nt,feedbackBuffers:rt}=this._swapBuffers(this.bindings[this.currentIndex]),it=this._getNextIndex();this.bindings[it]=this._updateBinding(this.bindings[it],{sourceBuffers:nt,feedbackBuffers:rt})}}_updateBinding(et,nt){return et?(Object.assign(et.sourceBuffers,nt.sourceBuffers),Object.assign(et.feedbackBuffers,nt.feedbackBuffers),et.transformFeedback&&et.transformFeedback.setBuffers(et.feedbackBuffers),et):{sourceBuffers:Object.assign({},nt.sourceBuffers),feedbackBuffers:Object.assign({},nt.feedbackBuffers)}}_swapBuffers(et){if(!this.feedbackMap)return null;const nt=Object.assign({},et.sourceBuffers),rt=Object.assign({},et.feedbackBuffers);for(const it in this.feedbackMap){const st=this.feedbackMap[it];nt[it]=et.feedbackBuffers[st],rt[st]=et.sourceBuffers[it],assert$6(rt[st]instanceof Buffer$1)}return{sourceBuffers:nt,feedbackBuffers:rt}}_createNewBuffer(et,nt){const rt=new Buffer$1(this.gl,nt);return this.resources[et]&&this.resources[et].delete(),this.resources[et]=rt,rt}_getNextIndex(){return(this.currentIndex+1)%2}}const SAMPLER_UNIFORM_PREFIX="transform_uSampler_",SIZE_UNIFORM_PREFIX="transform_uSize_",VS_POS_VARIABLE="transform_position";function updateForTextures(tt){let{vs:et,sourceTextureMap:nt,targetTextureVarying:rt,targetTexture:it}=tt,ot=Object.keys(nt).length,at=null;const lt={};let ut=et,ft={};if(ot>0||rt){const dt=ut.split(`
`),ht=dt.slice();if(dt.forEach((mt,xt,_t)=>{if(ot>0){const At=processAttributeDefinition(mt,nt);if(At){const{updatedLine:gt,inject:vt}=At;ht[xt]=gt,ft=combineInjects([ft,vt]),Object.assign(lt,At.samplerTextureMap),ot--}}rt&&!at&&(at=getVaryingType(mt,rt))}),rt){assert$6(it);const mt="".concat(SIZE_UNIFORM_PREFIX).concat(rt),xt="uniform vec2 ".concat(mt,`;
`),_t="     vec2 ".concat(VS_POS_VARIABLE," = transform_getPos(").concat(mt,`);
     gl_Position = vec4(`).concat(VS_POS_VARIABLE,`, 0, 1.);
`);ft=combineInjects([ft,{"vs:#decl":xt,"vs:#main-start":_t}])}ut=ht.join(`
`)}return{vs:ut,targetTextureType:at,inject:ft,samplerTextureMap:lt}}function getSizeUniforms(tt){let{sourceTextureMap:et,targetTextureVarying:nt,targetTexture:rt}=tt;const it={};let st,ot;nt&&({width:st,height:ot}=rt,it["".concat(SIZE_UNIFORM_PREFIX).concat(nt)]=[st,ot]);for(const at in et)({width:st,height:ot}=et[at]),it["".concat(SIZE_UNIFORM_PREFIX).concat(at)]=[st,ot];return it}function getAttributeDefinition(tt){return getQualifierDetails(tt,["attribute","in"])}function getSamplerDeclerations(tt){const et="".concat(SAMPLER_UNIFORM_PREFIX).concat(tt),nt="".concat(SIZE_UNIFORM_PREFIX).concat(tt),rt="  uniform sampler2D ".concat(et,`;
  uniform vec2 `).concat(nt,";");return{samplerName:et,sizeName:nt,uniformDeclerations:rt}}function getVaryingType(tt,et){const nt=getQualifierDetails(tt,["varying","out"]);return nt&&nt.name===et?nt.type:null}function processAttributeDefinition(tt,et){const nt={},rt=getAttributeDefinition(tt);if(!rt)return null;const{type:it,name:st}=rt;if(st&&et[st]){const ot="// ".concat(tt," => Replaced by Transform with a sampler"),{samplerName:at,sizeName:lt,uniformDeclerations:ut}=getSamplerDeclerations(st),ft=typeToChannelSuffix(it),dt="  ".concat(it," ").concat(st," = transform_getInput(").concat(at,", ").concat(lt,").").concat(ft,`;
`);return nt[at]=st,{updatedLine:ot,inject:{"vs:#decl":ut,"vs:#main-start":dt},samplerTextureMap:nt}}return null}const SRC_TEX_PARAMETER_OVERRIDES={[10241]:9728,[10240]:9728,[10242]:33071,[10243]:33071},FS_OUTPUT_VARIABLE="transform_output";class TextureTransform{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=et,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(nt),Object.seal(this)}updateModelProps(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt=this._processVertexShader(et);return Object.assign({},et,nt)}getDrawOptions(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:nt,sourceTextures:rt,framebuffer:it,targetTexture:st}=this.bindings[this.currentIndex],ot=Object.assign({},nt,et.attributes),at=Object.assign({},et.uniforms),lt=Object.assign({},et.parameters);let ut=et.discard;if(this.hasSourceTextures||this.hasTargetTexture){ot.transform_elementID=this.elementIDBuffer;for(const dt in this.samplerTextureMap){const ht=this.samplerTextureMap[dt];at[dt]=rt[ht]}this._setSourceTextureParameters();const ft=getSizeUniforms({sourceTextureMap:rt,targetTextureVarying:this.targetTextureVarying,targetTexture:st});Object.assign(at,ft)}return this.hasTargetTexture&&(ut=!1,lt.viewport=[0,0,it.width,it.height]),{attributes:ot,framebuffer:it,uniforms:at,discard:ut,parameters:lt}}swap(){return this._swapTexture?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupTextures(et)}getTargetTexture(){const{targetTexture:et}=this.bindings[this.currentIndex];return et}getData(){let{packed:et=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{framebuffer:nt}=this.bindings[this.currentIndex],rt=readPixelsToArray(nt);if(!et)return rt;const it=rt.constructor,st=typeToChannelCount(this.targetTextureType),ot=new it(rt.length*st/4);let at=0;for(let lt=0;lt<rt.length;lt+=4)for(let ut=0;ut<st;ut++)ot[at++]=rt[lt+ut];return ot}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{_targetTextureVarying:nt,_swapTexture:rt}=et;this._swapTexture=rt,this.targetTextureVarying=nt,this.hasTargetTexture=nt,this._setupTextures(et)}_createTargetTexture(et){const{sourceTextures:nt,textureOrReference:rt}=et;if(rt instanceof Texture2D)return rt;const it=nt[rt];return it?(this._targetRefTexName=rt,this._createNewTexture(it)):null}_setupTextures(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:nt,_sourceTextures:rt={},_targetTexture:it}=et,st=this._createTargetTexture({sourceTextures:rt,textureOrReference:it});this.hasSourceTextures=this.hasSourceTextures||rt&&Object.keys(rt).length>0,this._updateBindings({sourceBuffers:nt,sourceTextures:rt,targetTexture:st}),"elementCount"in et&&this._updateElementIDBuffer(et.elementCount)}_updateElementIDBuffer(et){if(typeof et!="number"||this.elementCount>=et)return;const nt=new Float32Array(et);nt.forEach((rt,it,st)=>{st[it]=it}),this.elementIDBuffer?this.elementIDBuffer.setData({data:nt}):this.elementIDBuffer=new Buffer$1(this.gl,{data:nt,accessor:{size:1}}),this.elementCount=et}_updateBindings(et){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],et),this._swapTexture){const{sourceTextures:nt,targetTexture:rt}=this._swapTextures(this.bindings[this.currentIndex]),it=this._getNextIndex();this.bindings[it]=this._updateBinding(this.bindings[it],{sourceTextures:nt,targetTexture:rt})}}_updateBinding(et,nt){const{sourceBuffers:rt,sourceTextures:it,targetTexture:st}=nt;if(et||(et={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(et.sourceTextures,it),Object.assign(et.sourceBuffers,rt),st){et.targetTexture=st;const{width:ot,height:at}=st,{framebuffer:lt}=et;lt?(lt.update({attachments:{[36064]:st},resizeAttachments:!1}),lt.resize({width:ot,height:at})):et.framebuffer=new Framebuffer(this.gl,{id:"transform-framebuffer",width:ot,height:at,attachments:{[36064]:st}})}return et}_setSourceTextureParameters(){const et=this.currentIndex,{sourceTextures:nt}=this.bindings[et];for(const rt in nt)nt[rt].setParameters(SRC_TEX_PARAMETER_OVERRIDES)}_swapTextures(et){if(!this._swapTexture)return null;const nt=Object.assign({},et.sourceTextures);nt[this._swapTexture]=et.targetTexture;const rt=et.sourceTextures[this._swapTexture];return{sourceTextures:nt,targetTexture:rt}}_createNewTexture(et){const nt=cloneTextureFrom(et,{parameters:{[10241]:9728,[10240]:9728,[10242]:33071,[10243]:33071},pixelStore:{[37440]:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=nt,nt}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceTextures:nt,targetTexture:rt}=this.bindings[this.currentIndex],{vs:it,uniforms:st,targetTextureType:ot,inject:at,samplerTextureMap:lt}=updateForTextures({vs:et.vs,sourceTextureMap:nt,targetTextureVarying:this.targetTextureVarying,targetTexture:rt}),ut=combineInjects([et.inject||{},at]);this.targetTextureType=ot,this.samplerTextureMap=lt;const ft=et._fs||getPassthroughFS({version:getShaderVersion(it),input:this.targetTextureVarying,inputType:ot,output:FS_OUTPUT_VARIABLE}),dt=this.hasSourceTextures||this.targetTextureVarying?[transform].concat(et.modules||[]):et.modules;return{vs:it,fs:ft,modules:dt,uniforms:st,inject:ut}}}class Transform{static isSupported(et){return isWebGL2$1(et)}constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=et,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(nt),Object.seal(this)}delete(){const{model:et,bufferTransform:nt,textureTransform:rt}=this;et&&et.delete(),nt&&nt.delete(),rt&&rt.delete()}run(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{clearRenderTarget:nt=!0}=et,rt=this._updateDrawOptions(et);nt&&rt.framebuffer&&rt.framebuffer.clear({color:!0}),this.model.transform(rt)}swap(){let et=!1;const nt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const rt of nt)et=et||rt.swap();assert$6(et,"Nothing to swap")}getBuffer(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(et)}getData(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const rt of nt){const it=rt.getData(et);if(it)return it}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};"elementCount"in et&&this.model.setVertexCount(et.elementCount);const nt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const rt of nt)rt.update(et)}_initialize(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{gl:nt}=this;this._buildResourceTransforms(nt,et),et=this._updateModelProps(et),this.model=new Model(nt,Object.assign({},et,{fs:et.fs||getPassthroughFS({version:getShaderVersion(et.vs)}),id:et.id||"transform-model",drawMode:et.drawMode||0,vertexCount:et.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(et){let nt=Object.assign({},et);const rt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const it of rt)nt=it.updateModelProps(nt);return nt}_buildResourceTransforms(et,nt){canCreateBufferTransform(nt)&&(this.bufferTransform=new BufferTransform(et,nt)),canCreateTextureTransform(nt)&&(this.textureTransform=new TextureTransform(et,nt)),assert$6(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(et){let nt=Object.assign({},et);const rt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const it of rt)nt=Object.assign(nt,it.getDrawOptions(nt));return nt}}function canCreateBufferTransform(tt){return!!(!isObjectEmpty(tt.feedbackBuffers)||!isObjectEmpty(tt.feedbackMap)||tt.varyings&&tt.varyings.length>0)}function canCreateTextureTransform(tt){return!!(!isObjectEmpty(tt._sourceTextures)||tt._targetTexture||tt._targetTextureVarying)}const DRAW_MODE={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Geometry{static get DRAW_MODE(){return DRAW_MODE}constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:nt=uid("geometry"),drawMode:rt=DRAW_MODE.TRIANGLES,attributes:it={},indices:st=null,vertexCount:ot=null}=et;this.id=nt,this.drawMode=rt|0,this.attributes={},this.userData={},this._setAttributes(it,st),this.vertexCount=ot||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(et){return"Geometry ".concat(this.id," attribute ").concat(et)}_setAttributes(et,nt){nt&&(this.indices=ArrayBuffer.isView(nt)?{value:nt,size:1}:nt);for(const rt in et){let it=et[rt];it=ArrayBuffer.isView(it)?{value:it}:it,assert$6(ArrayBuffer.isView(it.value),"".concat(this._print(rt),": must be typed array or object with value as typed array")),(rt==="POSITION"||rt==="positions")&&!it.size&&(it.size=3),rt==="indices"?(assert$6(!this.indices),this.indices=it):this.attributes[rt]=it}return this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(et,nt){if(nt)return nt.value.length;let rt=1/0;for(const it in et){const st=et[it],{value:ot,size:at,constant:lt}=st;!lt&&ot&&at>=1&&(rt=Math.min(rt,ot.length/at))}return assert$6(Number.isFinite(rt)),rt}}let channelHandles=1,animationHandles=1;class Timeline{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(et){const{delay:nt=0,duration:rt=Number.POSITIVE_INFINITY,rate:it=1,repeat:st=1}=et,ot=channelHandles++,at={time:0,delay:nt,duration:rt,rate:it,repeat:st};return this._setChannelTime(at,this.time),this.channels.set(ot,at),ot}removeChannel(et){this.channels.delete(et);for(const[nt,rt]of this.animations)rt.channel===et&&this.detachAnimation(nt)}isFinished(et){const nt=this.channels.get(et);return nt===void 0?!1:this.time>=nt.delay+nt.duration*nt.repeat}getTime(et){if(et===void 0)return this.time;const nt=this.channels.get(et);return nt===void 0?-1:nt.time}setTime(et){this.time=Math.max(0,et);const nt=this.channels.values();for(const it of nt)this._setChannelTime(it,this.time);const rt=this.animations.values();for(const it of rt){const{animation:st,channel:ot}=it;st.setTime(this.getTime(ot))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(et,nt){const rt=animationHandles++;return this.animations.set(rt,{animation:et,channel:nt}),et.setTime(this.getTime(nt)),rt}detachAnimation(et){this.animations.delete(et)}update(et){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=et),this.setTime(this.time+(et-this.lastEngineTime)),this.lastEngineTime=et)}_setChannelTime(et,nt){const rt=nt-et.delay,it=et.duration*et.repeat;rt>=it?et.time=et.duration*et.rate:(et.time=Math.max(0,rt)%et.duration,et.time*=et.rate)}}const CLIPSPACE_VERTEX_SHADER=`attribute vec2 aClipSpacePosition;
attribute vec2 aTexCoord;
attribute vec2 aCoordinate;

varying vec2 position;
varying vec2 coordinate;
varying vec2 uv;

void main(void) {
  gl_Position = vec4(aClipSpacePosition, 0., 1.);
  position = aClipSpacePosition;
  coordinate = aCoordinate;
  uv = aTexCoord;
}
`,POSITIONS=[-1,-1,1,-1,-1,1,1,1];class ClipSpace extends Model{constructor(et,nt){const rt=POSITIONS.map(it=>it===-1?0:it);super(et,Object.assign({},nt,{vs:CLIPSPACE_VERTEX_SHADER,geometry:new Geometry({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(POSITIONS)},aTexCoord:{size:2,value:new Float32Array(rt)},aCoordinate:{size:2,value:new Float32Array(rt)}}})})),this.setVertexCount(4)}}const DEFAULT_LIGHT_COLOR$2=[255,255,255],DEFAULT_LIGHT_INTENSITY$2=1;let idCount$2=0;class AmbientLight{constructor(et={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"color",void 0),_defineProperty$4(this,"intensity",void 0),_defineProperty$4(this,"type","ambient");const{color:nt=DEFAULT_LIGHT_COLOR$2}=et,{intensity:rt=DEFAULT_LIGHT_INTENSITY$2}=et;this.id=et.id||"ambient-".concat(idCount$2++),this.color=nt,this.intensity=rt}}const DEFAULT_LIGHT_COLOR$1=[255,255,255],DEFAULT_LIGHT_INTENSITY$1=1,DEFAULT_LIGHT_DIRECTION=[0,0,-1];let idCount$1=0;class DirectionalLight{constructor(et={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"color",void 0),_defineProperty$4(this,"intensity",void 0),_defineProperty$4(this,"type","directional"),_defineProperty$4(this,"direction",void 0),_defineProperty$4(this,"shadow",void 0);const{color:nt=DEFAULT_LIGHT_COLOR$1}=et,{intensity:rt=DEFAULT_LIGHT_INTENSITY$1}=et,{direction:it=DEFAULT_LIGHT_DIRECTION}=et,{_shadow:st=!1}=et;this.id=et.id||"directional-".concat(idCount$1++),this.color=nt,this.intensity=rt,this.type="directional",this.direction=new Vector3(it).normalize().toArray(),this.shadow=st}getProjectedLight(et){return this}}class Pass{constructor(et,nt={id:"pass"}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"props",void 0);const{id:rt}=nt;this.id=rt,this.gl=et,this.props={...nt}}setProps(et){Object.assign(this.props,et)}render(et){}cleanup(){}}class LayersPass extends Pass{constructor(...et){super(...et),_defineProperty$4(this,"_lastRenderIndex",-1)}render(et){const nt=this.gl;return setParameters(nt,{framebuffer:et.target}),this._drawLayers(et)}_drawLayers(et){const{target:nt,moduleParameters:rt,viewports:it,views:st,onViewportActive:ot,clearStack:at=!0,clearCanvas:lt=!0}=et;et.pass=et.pass||"unknown";const ut=this.gl;lt&&clearGLCanvas(ut,nt),at&&(this._lastRenderIndex=-1);const ft=[];for(const dt of it){const ht=st&&st[dt.id];ot==null||ot(dt);const mt=this._getDrawLayerParams(dt,et),xt=dt.subViewports||[dt];for(const _t of xt){const At=this._drawLayersInViewport(ut,{target:nt,moduleParameters:rt,viewport:_t,view:ht,pass:et.pass,layers:et.layers},mt);ft.push(At)}}return ft}_getDrawLayerParams(et,{layers:nt,pass:rt,isPicking:it=!1,layerFilter:st,cullRect:ot,effects:at,moduleParameters:lt},ut=!1){const ft=[],dt=layerIndexResolver(this._lastRenderIndex+1),ht={layer:nt[0],viewport:et,isPicking:it,renderPass:rt,cullRect:ot},mt={};for(let xt=0;xt<nt.length;xt++){const _t=nt[xt],At=this._shouldDrawLayer(_t,ht,st,mt),gt={shouldDrawLayer:At};At&&!ut&&(gt.layerRenderIndex=dt(_t,At),gt.moduleParameters=this._getModuleParameters(_t,at,rt,lt),gt.layerParameters=this.getLayerParameters(_t,xt,et)),ft[xt]=gt}return ft}_drawLayersInViewport(et,{layers:nt,moduleParameters:rt,pass:it,target:st,viewport:ot,view:at},lt){const ut=getGLViewport(et,{moduleParameters:rt,target:st,viewport:ot});if(at&&at.props.clear){const dt=at.props.clear===!0?{color:!0,depth:!0}:at.props.clear;withParameters(et,{scissorTest:!0,scissor:ut},()=>clear(et,dt))}const ft={totalCount:nt.length,visibleCount:0,compositeCount:0,pickableCount:0};setParameters(et,{viewport:ut});for(let dt=0;dt<nt.length;dt++){const ht=nt[dt],{shouldDrawLayer:mt,layerRenderIndex:xt,moduleParameters:_t,layerParameters:At}=lt[dt];if(mt&&ht.props.pickable&&ft.pickableCount++,ht.isComposite)ft.compositeCount++;else if(mt){ft.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,xt),_t.viewport=ot;try{ht._drawLayer({moduleParameters:_t,uniforms:{layerIndex:xt},parameters:At})}catch(gt){ht.raiseError(gt,"drawing ".concat(ht," to ").concat(it))}}}return ft}shouldDrawLayer(et){return!0}getModuleParameters(et,nt){return null}getLayerParameters(et,nt,rt){return et.props.parameters}_shouldDrawLayer(et,nt,rt,it){if(!(et.props.visible&&this.shouldDrawLayer(et)))return!1;nt.layer=et;let ot=et.parent;for(;ot;){if(!ot.props.visible||!ot.filterSubLayer(nt))return!1;nt.layer=ot,ot=ot.parent}if(rt){const at=nt.layer.id;if(at in it||(it[at]=rt(nt)),!it[at])return!1}return et.activateViewport(nt.viewport),!0}_getModuleParameters(et,nt,rt,it){var st;const ot=Object.assign(Object.create(((st=et.internalState)===null||st===void 0?void 0:st.propsInTransition)||et.props),{autoWrapLongitude:et.wrapLongitude,viewport:et.context.viewport,mousePosition:et.context.mousePosition,pickingActive:0,devicePixelRatio:cssToDeviceRatio(this.gl)});if(nt)for(const lt of nt){var at;Object.assign(ot,(at=lt.getModuleParameters)===null||at===void 0?void 0:at.call(lt,et))}return Object.assign(ot,this.getModuleParameters(et,nt),it)}}function layerIndexResolver(tt=0,et={}){const nt={},rt=(it,st)=>{const ot=it.props._offset,at=it.id,lt=it.parent&&it.parent.id;let ut;if(lt&&!(lt in et)&&rt(it.parent,!1),lt in nt){const ft=nt[lt]=nt[lt]||layerIndexResolver(et[lt],et);ut=ft(it,st),nt[at]=ft}else Number.isFinite(ot)?(ut=ot+(et[lt]||0),nt[at]=null):ut=tt;return st&&ut>=tt&&(tt=ut+1),et[at]=ut,ut};return rt}function getGLViewport(tt,{moduleParameters:et,target:nt,viewport:rt}){const it=nt&&nt.id!=="default-framebuffer",st=et&&et.devicePixelRatio||cssToDeviceRatio(tt),ot=it?nt.height:tt.drawingBufferHeight,at=rt;return[at.x*st,ot-(at.y+at.height)*st,at.width*st,at.height*st]}function clearGLCanvas(tt,et){const nt=et?et.width:tt.drawingBufferWidth,rt=et?et.height:tt.drawingBufferHeight;setParameters(tt,{viewport:[0,0,nt,rt]}),tt.clear(16640)}class ShadowPass extends LayersPass{constructor(et,nt){super(et,nt),_defineProperty$4(this,"shadowMap",void 0),_defineProperty$4(this,"depthBuffer",void 0),_defineProperty$4(this,"fbo",void 0),this.shadowMap=new Texture2D(et,{width:1,height:1,parameters:{[10241]:9729,[10240]:9729,[10242]:33071,[10243]:33071}}),this.depthBuffer=new Renderbuffer(et,{format:33189,width:1,height:1}),this.fbo=new Framebuffer(et,{id:"shadowmap",width:1,height:1,attachments:{[36064]:this.shadowMap,[36096]:this.depthBuffer}})}render(et){const nt=this.fbo;withParameters(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const rt=et.viewports[0],it=cssToDeviceRatio(this.gl),st=rt.width*it,ot=rt.height*it;(st!==nt.width||ot!==nt.height)&&nt.resize({width:st,height:ot}),super.render({...et,target:nt,pass:"shadow"})})}shouldDrawLayer(et){return et.props.shadowEnabled!==!1}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const defines="#define SMOOTH_EDGE_RADIUS 0.5",vs$5=`
`.concat(defines,`

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`),fs$3=`
`.concat(defines,`

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`),geometry={name:"geometry",vs:vs$5,fs:fs$3},COORDINATE_SYSTEM_GLSL_CONSTANTS=Object.keys(COORDINATE_SYSTEM).map(tt=>"const int COORDINATE_SYSTEM_".concat(tt," = ").concat(COORDINATE_SYSTEM[tt],";")).join(""),PROJECTION_MODE_GLSL_CONSTANTS=Object.keys(PROJECTION_MODE).map(tt=>"const int PROJECTION_MODE_".concat(tt," = ").concat(PROJECTION_MODE[tt],";")).join(""),UNIT_GLSL_CONSTANTS=Object.keys(UNIT).map(tt=>"const int UNIT_".concat(tt.toUpperCase()," = ").concat(UNIT[tt],";")).join(""),projectShader="".concat(COORDINATE_SYSTEM_GLSL_CONSTANTS,`
`).concat(PROJECTION_MODE_GLSL_CONSTANTS,`
`).concat(UNIT_GLSL_CONSTANTS,`

uniform int project_uCoordinateSystem;
uniform int project_uProjectionMode;
uniform float project_uScale;
uniform bool project_uWrapLongitude;
uniform vec3 project_uCommonUnitsPerMeter;
uniform vec3 project_uCommonUnitsPerWorldUnit;
uniform vec3 project_uCommonUnitsPerWorldUnit2;
uniform vec4 project_uCenter;
uniform mat4 project_uModelMatrix;
uniform mat4 project_uViewProjectionMatrix;
uniform vec2 project_uViewportSize;
uniform float project_uDevicePixelRatio;
uniform float project_uFocalDistance;
uniform vec3 project_uCameraPosition;
uniform vec3 project_uCoordinateOrigin;
uniform vec3 project_uCommonOrigin;
uniform bool project_uPseudoMeters;

const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
  float y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

float project_size() {
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&
    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
    project_uPseudoMeters == false) {
    
    if (geometry.position.w == 0.0) {
      return project_size_at_latitude(geometry.worldPosition.y);
    }
  
    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    float y2 = y * y;
    float y4 = y2 * y2;
    float y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

float project_size_at_latitude(float meters, float lat) {
  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
  return meters * project_uCommonUnitsPerMeter.z * project_size();
}

vec2 project_size(vec2 meters) {
  return meters * project_uCommonUnitsPerMeter.xy * project_size();
}

vec3 project_size(vec3 meters) {
  return meters * project_uCommonUnitsPerMeter * project_size();
}

vec4 project_size(vec4 meters) {
  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
  vec3 uz = normalize(up);
  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
  vec3 uy = cross(uz, ux);
  return mat3(ux, uy, uz);
}

bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    transform = project_get_orientation_matrix(commonPosition);
    return true;
  }
  return false;
}
vec3 project_normal(vec3 vector) {
  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);
  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);
  mat3 rotation;
  if (project_needs_rotation(geometry.position.xyz, rotation)) {
    n = rotation * n;
  }
  return n;
}

vec4 project_offset_(vec4 offset) {
  float dy = offset.y;
  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;
  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
  float x = lnglat.x;
  if (project_uWrapLongitude) {
    x = mod(x + 180., 360.0) - 180.;
  }
  float y = clamp(lnglat.y, -89.9, 89.9);
  return vec2(
    radians(x) + PI,
    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

vec3 project_globe_(vec3 lnglatz) {
  float lambda = radians(lnglatz.x);
  float phi = radians(lnglatz.y);
  float cosPhi = cos(phi);
  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;

  return vec3(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
  vec4 position_world = project_uModelMatrix * position;
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_mercator_(position_world.xy),
        project_size_at_latitude(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world.xyz += project_uCoordinateOrigin;
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {
        return vec4(
          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,
          project_size(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||
    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world.xyz -= project_uCoordinateOrigin;
  }
  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_LOW);
}

vec3 project_position(vec3 position, vec3 position64Low) {
  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
  return projected_position.xyz;
}

vec3 project_position(vec3 position) {
  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

vec2 project_position(vec2 position) {
  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;
  return offset * project_uFocalDistance;
}

float project_size_to_pixel(float meters) {
  return project_size(meters) * project_uScale;
}
float project_size_to_pixel(float size, int unit) {
  if (unit == UNIT_METERS) return project_size_to_pixel(size);
  if (unit == UNIT_COMMON) return size * project_uScale;
  return size;
}
float project_pixel_size(float pixels) {
  return pixels / project_uScale;
}
vec2 project_pixel_size(vec2 pixels) {
  return pixels / project_uScale;
}
`);function isEqual$1(tt,et){if(tt===et)return!0;if(Array.isArray(tt)){const nt=tt.length;if(!et||et.length!==nt)return!1;for(let rt=0;rt<nt;rt++)if(tt[rt]!==et[rt])return!1;return!0}return!1}function memoize$1(tt){let et={},nt;return rt=>{for(const it in rt)if(!isEqual$1(rt[it],et[it])){nt=tt(rt),et=rt;break}return nt}}const ZERO_VECTOR$1=[0,0,0,0],VECTOR_TO_POINT_MATRIX$1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],IDENTITY_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],DEFAULT_PIXELS_PER_UNIT2=[0,0,0],DEFAULT_COORDINATE_ORIGIN$1=[0,0,0],getMemoizedViewportUniforms=memoize$1(calculateViewportUniforms);function getOffsetOrigin(tt,et,nt=DEFAULT_COORDINATE_ORIGIN$1){nt.length<3&&(nt=[nt[0],nt[1],0]);let rt=nt,it,st=!0;switch(et===COORDINATE_SYSTEM.LNGLAT_OFFSETS||et===COORDINATE_SYSTEM.METER_OFFSETS?it=nt:it=tt.isGeospatial?[Math.fround(tt.longitude),Math.fround(tt.latitude),0]:null,tt.projectionMode){case PROJECTION_MODE.WEB_MERCATOR:(et===COORDINATE_SYSTEM.LNGLAT||et===COORDINATE_SYSTEM.CARTESIAN)&&(it=[0,0,0],st=!1);break;case PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:et===COORDINATE_SYSTEM.LNGLAT?rt=it:et===COORDINATE_SYSTEM.CARTESIAN&&(rt=[Math.fround(tt.center[0]),Math.fround(tt.center[1]),0],it=tt.unprojectPosition(rt),rt[0]-=nt[0],rt[1]-=nt[1],rt[2]-=nt[2]);break;case PROJECTION_MODE.IDENTITY:rt=tt.position.map(Math.fround),rt[2]=rt[2]||0;break;case PROJECTION_MODE.GLOBE:st=!1,it=null;break;default:st=!1}return{geospatialOrigin:it,shaderCoordinateOrigin:rt,offsetMode:st}}function calculateMatrixAndOffset(tt,et,nt){const{viewMatrixUncentered:rt,projectionMatrix:it}=tt;let{viewMatrix:st,viewProjectionMatrix:ot}=tt,at=ZERO_VECTOR$1,lt=ZERO_VECTOR$1,ut=tt.cameraPosition;const{geospatialOrigin:ft,shaderCoordinateOrigin:dt,offsetMode:ht}=getOffsetOrigin(tt,et,nt);return ht&&(lt=tt.projectPosition(ft||dt),ut=[ut[0]-lt[0],ut[1]-lt[1],ut[2]-lt[2]],lt[3]=1,at=transformMat4([],lt,ot),st=rt||st,ot=multiply$1([],it,st),ot=multiply$1([],ot,VECTOR_TO_POINT_MATRIX$1)),{viewMatrix:st,viewProjectionMatrix:ot,projectionCenter:at,originCommon:lt,cameraPosCommon:ut,shaderCoordinateOrigin:dt,geospatialOrigin:ft}}function getUniformsFromViewport({viewport:tt,devicePixelRatio:et=1,modelMatrix:nt=null,coordinateSystem:rt=COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:it=DEFAULT_COORDINATE_ORIGIN$1,autoWrapLongitude:st=!1}){rt===COORDINATE_SYSTEM.DEFAULT&&(rt=tt.isGeospatial?COORDINATE_SYSTEM.LNGLAT:COORDINATE_SYSTEM.CARTESIAN);const ot=getMemoizedViewportUniforms({viewport:tt,devicePixelRatio:et,coordinateSystem:rt,coordinateOrigin:it});return ot.project_uWrapLongitude=st,ot.project_uModelMatrix=nt||IDENTITY_MATRIX,ot}function calculateViewportUniforms({viewport:tt,devicePixelRatio:et,coordinateSystem:nt,coordinateOrigin:rt}){const{projectionCenter:it,viewProjectionMatrix:st,originCommon:ot,cameraPosCommon:at,shaderCoordinateOrigin:lt,geospatialOrigin:ut}=calculateMatrixAndOffset(tt,nt,rt),ft=tt.getDistanceScales(),dt=[tt.width*et,tt.height*et],ht=transformMat4([],[0,0,-tt.focalDistance,1],tt.projectionMatrix)[3]||1,mt={project_uCoordinateSystem:nt,project_uProjectionMode:tt.projectionMode,project_uCoordinateOrigin:lt,project_uCommonOrigin:ot.slice(0,3),project_uCenter:it,project_uPseudoMeters:!!tt._pseudoMeters,project_uViewportSize:dt,project_uDevicePixelRatio:et,project_uFocalDistance:ht,project_uCommonUnitsPerMeter:ft.unitsPerMeter,project_uCommonUnitsPerWorldUnit:ft.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:DEFAULT_PIXELS_PER_UNIT2,project_uScale:tt.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:st,project_uModelMatrix:IDENTITY_MATRIX,project_uCameraPosition:at};if(ut){const xt=tt.getDistanceScales(ut);switch(nt){case COORDINATE_SYSTEM.METER_OFFSETS:mt.project_uCommonUnitsPerWorldUnit=xt.unitsPerMeter,mt.project_uCommonUnitsPerWorldUnit2=xt.unitsPerMeter2;break;case COORDINATE_SYSTEM.LNGLAT:case COORDINATE_SYSTEM.LNGLAT_OFFSETS:tt._pseudoMeters||(mt.project_uCommonUnitsPerMeter=xt.unitsPerMeter),mt.project_uCommonUnitsPerWorldUnit=xt.unitsPerDegree,mt.project_uCommonUnitsPerWorldUnit2=xt.unitsPerDegree2;break;case COORDINATE_SYSTEM.CARTESIAN:mt.project_uCommonUnitsPerWorldUnit=[1,1,xt.unitsPerMeter[2]],mt.project_uCommonUnitsPerWorldUnit2=[0,0,xt.unitsPerMeter2[2]];break}}return mt}const INITIAL_MODULE_OPTIONS={};function getUniforms(tt=INITIAL_MODULE_OPTIONS){return"viewport"in tt?getUniformsFromViewport(tt):{}}const project={name:"project",dependencies:[fp32,geometry],vs:projectShader,getUniforms};function createMat4$1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function transformVector$1(tt,et){const nt=transformMat4([],et,tt);return scale$2(nt,nt,1/nt[3]),nt}function mod$2(tt,et){const nt=tt%et;return nt<0?et+nt:nt}function lerp(tt,et,nt){return nt*et+(1-nt)*tt}function clamp$1(tt,et,nt){return tt<et?et:tt>nt?nt:tt}function ieLog2(tt){return Math.log(tt)*Math.LOG2E}const log2=Math.log2||ieLog2;function assert$3(tt,et){if(!tt)throw new Error(et||"@math.gl/web-mercator: assertion failed.")}const PI=Math.PI,PI_4=PI/4,DEGREES_TO_RADIANS$5=PI/180,RADIANS_TO_DEGREES$1=180/PI,TILE_SIZE$1=512,EARTH_CIRCUMFERENCE=4003e4,MAX_LATITUDE=85.051129,DEFAULT_ALTITUDE=1.5;function zoomToScale(tt){return Math.pow(2,tt)}function scaleToZoom(tt){return log2(tt)}function lngLatToWorld(tt){const[et,nt]=tt;assert$3(Number.isFinite(et)),assert$3(Number.isFinite(nt)&&nt>=-90&&nt<=90,"invalid latitude");const rt=et*DEGREES_TO_RADIANS$5,it=nt*DEGREES_TO_RADIANS$5,st=TILE_SIZE$1*(rt+PI)/(2*PI),ot=TILE_SIZE$1*(PI+Math.log(Math.tan(PI_4+it*.5)))/(2*PI);return[st,ot]}function worldToLngLat(tt){const[et,nt]=tt,rt=et/TILE_SIZE$1*(2*PI)-PI,it=2*(Math.atan(Math.exp(nt/TILE_SIZE$1*(2*PI)-PI))-PI_4);return[rt*RADIANS_TO_DEGREES$1,it*RADIANS_TO_DEGREES$1]}function getMeterZoom(tt){const{latitude:et}=tt;assert$3(Number.isFinite(et));const nt=Math.cos(et*DEGREES_TO_RADIANS$5);return scaleToZoom(EARTH_CIRCUMFERENCE*nt)-9}function unitsPerMeter(tt){const et=Math.cos(tt*DEGREES_TO_RADIANS$5);return TILE_SIZE$1/EARTH_CIRCUMFERENCE/et}function getDistanceScales$1(tt){const{latitude:et,longitude:nt,highPrecision:rt=!1}=tt;assert$3(Number.isFinite(et)&&Number.isFinite(nt));const it=TILE_SIZE$1,st=Math.cos(et*DEGREES_TO_RADIANS$5),ot=it/360,at=ot/st,lt=it/EARTH_CIRCUMFERENCE/st,ut={unitsPerMeter:[lt,lt,lt],metersPerUnit:[1/lt,1/lt,1/lt],unitsPerDegree:[ot,at,lt],degreesPerUnit:[1/ot,1/at,1/lt]};if(rt){const ft=DEGREES_TO_RADIANS$5*Math.tan(et*DEGREES_TO_RADIANS$5)/st,dt=ot*ft/2,ht=it/EARTH_CIRCUMFERENCE*ft,mt=ht/at*lt;ut.unitsPerDegree2=[0,dt,ht],ut.unitsPerMeter2=[mt,0,mt]}return ut}function addMetersToLngLat(tt,et){const[nt,rt,it]=tt,[st,ot,at]=et,{unitsPerMeter:lt,unitsPerMeter2:ut}=getDistanceScales$1({longitude:nt,latitude:rt,highPrecision:!0}),ft=lngLatToWorld(tt);ft[0]+=st*(lt[0]+ut[0]*ot),ft[1]+=ot*(lt[1]+ut[1]*ot);const dt=worldToLngLat(ft),ht=(it||0)+(at||0);return Number.isFinite(it)||Number.isFinite(at)?[dt[0],dt[1],ht]:dt}function getViewMatrix$1(tt){const{height:et,pitch:nt,bearing:rt,altitude:it,scale:st,center:ot}=tt,at=createMat4$1();translate$1(at,at,[0,0,-it]),rotateX$1(at,at,-nt*DEGREES_TO_RADIANS$5),rotateZ$1(at,at,rt*DEGREES_TO_RADIANS$5);const lt=st/et;return scale$3(at,at,[lt,lt,lt]),ot&&translate$1(at,at,negate([],ot)),at}function getProjectionParameters(tt){const{width:et,height:nt,altitude:rt,pitch:it=0,offset:st,center:ot,scale:at,nearZMultiplier:lt=1,farZMultiplier:ut=1}=tt;let{fovy:ft=altitudeToFovy(DEFAULT_ALTITUDE)}=tt;rt!==void 0&&(ft=altitudeToFovy(rt));const dt=ft*DEGREES_TO_RADIANS$5,ht=it*DEGREES_TO_RADIANS$5,mt=fovyToAltitude(ft);let xt=mt;ot&&(xt+=ot[2]*at/Math.cos(ht)/nt);const _t=dt*(.5+(st?st[1]:0)/nt),At=Math.sin(_t)*xt/Math.sin(clamp$1(Math.PI/2-ht-_t,.01,Math.PI-.01)),gt=Math.sin(ht)*At+xt,vt=xt*10,Et=Math.min(gt*ut,vt);return{fov:dt,aspect:et/nt,focalDistance:mt,near:lt,far:Et}}function altitudeToFovy(tt){return 2*Math.atan(.5/tt)*RADIANS_TO_DEGREES$1}function fovyToAltitude(tt){return .5/Math.tan(.5*tt*DEGREES_TO_RADIANS$5)}function worldToPixels(tt,et){const[nt,rt,it=0]=tt;return assert$3(Number.isFinite(nt)&&Number.isFinite(rt)&&Number.isFinite(it)),transformVector$1(et,[nt,rt,it,1])}function pixelsToWorld(tt,et,nt=0){const[rt,it,st]=tt;if(assert$3(Number.isFinite(rt)&&Number.isFinite(it),"invalid pixel coordinate"),Number.isFinite(st))return transformVector$1(et,[rt,it,st,1]);const ot=transformVector$1(et,[rt,it,0,1]),at=transformVector$1(et,[rt,it,1,1]),lt=ot[2],ut=at[2],ft=lt===ut?0:((nt||0)-lt)/(ut-lt);return lerp$4([],ot,at,ft)}function fitBounds(tt){const{width:et,height:nt,bounds:rt,minExtent:it=0,maxZoom:st=24,offset:ot=[0,0]}=tt,[[at,lt],[ut,ft]]=rt,dt=getPaddingObject(tt.padding),ht=lngLatToWorld([at,clamp$1(ft,-MAX_LATITUDE,MAX_LATITUDE)]),mt=lngLatToWorld([ut,clamp$1(lt,-MAX_LATITUDE,MAX_LATITUDE)]),xt=[Math.max(Math.abs(mt[0]-ht[0]),it),Math.max(Math.abs(mt[1]-ht[1]),it)],_t=[et-dt.left-dt.right-Math.abs(ot[0])*2,nt-dt.top-dt.bottom-Math.abs(ot[1])*2];assert$3(_t[0]>0&&_t[1]>0);const At=_t[0]/xt[0],gt=_t[1]/xt[1],vt=(dt.right-dt.left)/2/At,Et=(dt.top-dt.bottom)/2/gt,yt=[(mt[0]+ht[0])/2+vt,(mt[1]+ht[1])/2+Et],wt=worldToLngLat(yt),Ct=Math.min(st,log2(Math.abs(Math.min(At,gt))));return assert$3(Number.isFinite(Ct)),{longitude:wt[0],latitude:wt[1],zoom:Ct}}function getPaddingObject(tt=0){return typeof tt=="number"?{top:tt,bottom:tt,left:tt,right:tt}:(assert$3(Number.isFinite(tt.top)&&Number.isFinite(tt.bottom)&&Number.isFinite(tt.left)&&Number.isFinite(tt.right)),tt)}const DEGREES_TO_RADIANS$4=Math.PI/180;function getBounds(tt,et=0){const{width:nt,height:rt,unproject:it}=tt,st={targetZ:et},ot=it([0,rt],st),at=it([nt,rt],st);let lt,ut;const ft=tt.fovy?.5*tt.fovy*DEGREES_TO_RADIANS$4:Math.atan(.5/tt.altitude),dt=(90-tt.pitch)*DEGREES_TO_RADIANS$4;return ft>dt-.01?(lt=unprojectOnFarPlane(tt,0,et),ut=unprojectOnFarPlane(tt,nt,et)):(lt=it([0,0],st),ut=it([nt,0],st)),[ot,at,ut,lt]}function unprojectOnFarPlane(tt,et,nt){const{pixelUnprojectionMatrix:rt}=tt,it=transformVector$1(rt,[et,0,1,1]),st=transformVector$1(rt,[et,tt.height,1,1]),at=(nt*tt.distanceScales.unitsPerMeter[2]-it[2])/(st[2]-it[2]),lt=lerp$4([],it,st,at),ut=worldToLngLat(lt);return ut.push(nt),ut}const TILE_SIZE=512;function normalizeViewportProps(tt){const{width:et,height:nt,pitch:rt=0}=tt;let{longitude:it,latitude:st,zoom:ot,bearing:at=0}=tt;(it<-180||it>180)&&(it=mod$2(it+180,360)-180),(at<-180||at>180)&&(at=mod$2(at+180,360)-180);const lt=log2(nt/TILE_SIZE);if(ot<=lt)ot=lt,st=0;else{const ut=nt/2/Math.pow(2,ot),ft=worldToLngLat([0,ut])[1];if(st<ft)st=ft;else{const dt=worldToLngLat([0,TILE_SIZE-ut])[1];st>dt&&(st=dt)}}return{width:et,height:nt,longitude:it,latitude:st,zoom:ot,pitch:rt,bearing:at}}const EPSILON$1=.01,VIEWPORT_TRANSITION_PROPS=["longitude","latitude","zoom"],DEFAULT_OPTS$1={curve:1.414,speed:1.2};function flyToViewport(tt,et,nt,rt){const{startZoom:it,startCenterXY:st,uDelta:ot,w0:at,u1:lt,S:ut,rho:ft,rho2:dt,r0:ht}=getFlyToTransitionParams(tt,et,rt);if(lt<EPSILON$1){const yt={};for(const wt of VIEWPORT_TRANSITION_PROPS){const Ct=tt[wt],Rt=et[wt];yt[wt]=lerp(Ct,Rt,nt)}return yt}const mt=nt*ut,xt=Math.cosh(ht)/Math.cosh(ht+ft*mt),_t=at*((Math.cosh(ht)*Math.tanh(ht+ft*mt)-Math.sinh(ht))/dt)/lt,At=1/xt,gt=it+scaleToZoom(At),vt=scale$5([],ot,_t);add$3(vt,vt,st);const Et=worldToLngLat(vt);return{longitude:Et[0],latitude:Et[1],zoom:gt}}function getFlyToDuration(tt,et,nt){const rt={...DEFAULT_OPTS$1,...nt},{screenSpeed:it,speed:st,maxDuration:ot}=rt,{S:at,rho:lt}=getFlyToTransitionParams(tt,et,rt),ut=1e3*at;let ft;return Number.isFinite(it)?ft=ut/(it/lt):ft=ut/st,Number.isFinite(ot)&&ft>ot?0:ft}function getFlyToTransitionParams(tt,et,nt){nt=Object.assign({},DEFAULT_OPTS$1,nt);const rt=nt.curve,it=tt.zoom,st=[tt.longitude,tt.latitude],ot=zoomToScale(it),at=et.zoom,lt=[et.longitude,et.latitude],ut=zoomToScale(at-it),ft=lngLatToWorld(st),dt=lngLatToWorld(lt),ht=sub$1([],dt,ft),mt=Math.max(tt.width,tt.height),xt=mt/ut,_t=length$3(ht)*ot,At=Math.max(_t,EPSILON$1),gt=rt*rt,vt=(xt*xt-mt*mt+gt*gt*At*At)/(2*mt*gt*At),Et=(xt*xt-mt*mt-gt*gt*At*At)/(2*xt*gt*At),yt=Math.log(Math.sqrt(vt*vt+1)-vt),wt=Math.log(Math.sqrt(Et*Et+1)-Et),Ct=(wt-yt)/rt;return{startZoom:it,startCenterXY:ft,uDelta:ht,w0:mt,u1:_t,S:Ct,rho:rt,rho2:gt,r0:yt,r1:wt}}const vs$4=`
const int max_lights = 2;
uniform mat4 shadow_uViewProjectionMatrices[max_lights];
uniform vec4 shadow_uProjectCenters[max_lights];
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform int shadow_uLightId;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  if (shadow_uDrawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);
  }
  if (shadow_uUseShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow_uLightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,fs$2=`
const int max_lights = 2;
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;
uniform vec4 shadow_uColor;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture2D(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow_uDrawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow_uUseShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow_uLightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,getMemoizedViewportCenterPosition=memoize$1(getViewportCenterPosition),getMemoizedViewProjectionMatrices=memoize$1(getViewProjectionMatrices),DEFAULT_SHADOW_COLOR$1=[0,0,0,1],VECTOR_TO_POINT_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function screenToCommonSpace(tt,et){const[nt,rt,it]=tt,st=pixelsToWorld([nt,rt,it],et);return Number.isFinite(it)?st:[st[0],st[1],0]}function getViewportCenterPosition({viewport:tt,center:et}){return new Matrix4(tt.viewProjectionMatrix).invert().transform(et)}function getViewProjectionMatrices({viewport:tt,shadowMatrices:et}){const nt=[],rt=tt.pixelUnprojectionMatrix,it=tt.isGeospatial?void 0:1,st=[[0,0,it],[tt.width,0,it],[0,tt.height,it],[tt.width,tt.height,it],[0,0,-1],[tt.width,0,-1],[0,tt.height,-1],[tt.width,tt.height,-1]].map(ot=>screenToCommonSpace(ot,rt));for(const ot of et){const at=ot.clone().translate(new Vector3(tt.center).negate()),lt=st.map(ft=>at.transform(ft)),ut=new Matrix4().ortho({left:Math.min(...lt.map(ft=>ft[0])),right:Math.max(...lt.map(ft=>ft[0])),bottom:Math.min(...lt.map(ft=>ft[1])),top:Math.max(...lt.map(ft=>ft[1])),near:Math.min(...lt.map(ft=>-ft[2])),far:Math.max(...lt.map(ft=>-ft[2]))});nt.push(ut.multiplyRight(ot))}return nt}function createShadowUniforms(tt,et){const{shadowEnabled:nt=!0}=tt;if(!nt||!tt.shadowMatrices||!tt.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const rt={shadow_uDrawShadowMap:!!tt.drawToShadowMap,shadow_uUseShadowMap:tt.shadowMaps?tt.shadowMaps.length>0:!1,shadow_uColor:tt.shadowColor||DEFAULT_SHADOW_COLOR$1,shadow_uLightId:tt.shadowLightId||0,shadow_uLightCount:tt.shadowMatrices.length},it=getMemoizedViewportCenterPosition({viewport:tt.viewport,center:et.project_uCenter}),st=[],ot=getMemoizedViewProjectionMatrices({shadowMatrices:tt.shadowMatrices,viewport:tt.viewport}).slice();for(let at=0;at<tt.shadowMatrices.length;at++){const lt=ot[at],ut=lt.clone().translate(new Vector3(tt.viewport.center).negate());et.project_uCoordinateSystem===COORDINATE_SYSTEM.LNGLAT&&et.project_uProjectionMode===PROJECTION_MODE.WEB_MERCATOR?(ot[at]=ut,st[at]=it):(ot[at]=lt.clone().multiplyRight(VECTOR_TO_POINT_MATRIX),st[at]=ut.transform(it))}for(let at=0;at<ot.length;at++)rt["shadow_uViewProjectionMatrices[".concat(at,"]")]=ot[at],rt["shadow_uProjectCenters[".concat(at,"]")]=st[at],tt.shadowMaps&&tt.shadowMaps.length>0?rt["shadow_uShadowMap".concat(at)]=tt.shadowMaps[at]:rt["shadow_uShadowMap".concat(at)]=tt.dummyShadowMap;return rt}const shadow={name:"shadow",dependencies:[project],vs:vs$4,fs:fs$2,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:(tt={},et={})=>"viewport"in tt&&(tt.drawToShadowMap||tt.shadowMaps&&tt.shadowMaps.length>0)?createShadowUniforms(tt,et):{}},DEFAULT_AMBIENT_LIGHT_PROPS={color:[255,255,255],intensity:1},DEFAULT_DIRECTIONAL_LIGHT_PROPS=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],DEFAULT_SHADOW_COLOR=[0,0,0,200/255];class LightingEffect{constructor(et={}){_defineProperty$4(this,"id","lighting-effect"),_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"shadowColor",DEFAULT_SHADOW_COLOR),_defineProperty$4(this,"shadow",void 0),_defineProperty$4(this,"ambientLight",void 0),_defineProperty$4(this,"directionalLights",void 0),_defineProperty$4(this,"pointLights",void 0),_defineProperty$4(this,"shadowPasses",[]),_defineProperty$4(this,"shadowMaps",[]),_defineProperty$4(this,"dummyShadowMap",null),_defineProperty$4(this,"programManager",void 0),_defineProperty$4(this,"shadowMatrices",void 0),this.setProps(et)}setProps(et){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const nt in et){const rt=et[nt];switch(rt.type){case"ambient":this.ambientLight=rt;break;case"directional":this.directionalLights.push(rt);break;case"point":this.pointLights.push(rt);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(nt=>nt.shadow),this.props=et}preRender(et,{layers:nt,layerFilter:rt,viewports:it,onViewportActive:st,views:ot}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),this.shadowPasses.length===0&&this._createShadowPasses(et),this.programManager||(this.programManager=ProgramManager.getDefaultProgramManager(et),shadow&&this.programManager.addDefaultModule(shadow)),this.dummyShadowMap||(this.dummyShadowMap=new Texture2D(et,{width:1,height:1}));for(let at=0;at<this.shadowPasses.length;at++)this.shadowPasses[at].render({layers:nt,layerFilter:rt,viewports:it,onViewportActive:st,views:ot,moduleParameters:{shadowLightId:at,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(et){const nt=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return nt.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(rt=>rt.getProjectedLight({layer:et})),pointLights:this.pointLights.map(rt=>rt.getProjectedLight({layer:et}))},nt}cleanup(){for(const et of this.shadowPasses)et.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(shadow),this.programManager=null)}_calculateMatrices(){const et=[];for(const nt of this.directionalLights){const rt=new Matrix4().lookAt({eye:new Vector3(nt.direction).negate()});et.push(rt)}return et}_createShadowPasses(et){for(let nt=0;nt<this.directionalLights.length;nt++){const rt=new ShadowPass(et);this.shadowPasses[nt]=rt,this.shadowMaps[nt]=rt.shadowMap}}_applyDefaultLights(){const{ambientLight:et,pointLights:nt,directionalLights:rt}=this;!et&&nt.length===0&&rt.length===0&&(this.ambientLight=new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS),this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]),new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1])))}}class TypedArrayManager{constructor(et={}){_defineProperty$4(this,"_pool",[]),_defineProperty$4(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(et)}setOptions(et){Object.assign(this.opts,et)}allocate(et,nt,{size:rt=1,type:it,padding:st=0,copy:ot=!1,initialize:at=!1,maxCount:lt}){const ut=it||et&&et.constructor||Float32Array,ft=nt*rt+st;if(ArrayBuffer.isView(et)){if(ft<=et.length)return et;if(ft*et.BYTES_PER_ELEMENT<=et.buffer.byteLength)return new ut(et.buffer,0,ft)}let dt=1/0;lt&&(dt=lt*rt+st);const ht=this._allocate(ut,ft,at,dt);return et&&ot?ht.set(et):at||ht.fill(0,0,4),this._release(et),ht}release(et){this._release(et)}_allocate(et,nt,rt,it){let st=Math.max(Math.ceil(nt*this.opts.overAlloc),1);st>it&&(st=it);const ot=this._pool,at=et.BYTES_PER_ELEMENT*st,lt=ot.findIndex(ut=>ut.byteLength>=at);if(lt>=0){const ut=new et(ot.splice(lt,1)[0],0,st);return rt&&ut.fill(0),ut}return new et(st)}_release(et){if(!ArrayBuffer.isView(et))return;const nt=this._pool,{buffer:rt}=et,{byteLength:it}=rt,st=nt.findIndex(ot=>ot.byteLength>=it);st<0?nt.push(rt):(st>0||nt.length<this.opts.poolSize)&&nt.splice(st,0,rt),nt.length>this.opts.poolSize&&nt.shift()}}const defaultTypedArrayManager=new TypedArrayManager;function createMat4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function mod$1(tt,et){const nt=tt%et;return nt<0?et+nt:nt}function getCameraPosition(tt){return[tt[12],tt[13],tt[14]]}function getFrustumPlanes(tt){return{left:getFrustumPlane(tt[3]+tt[0],tt[7]+tt[4],tt[11]+tt[8],tt[15]+tt[12]),right:getFrustumPlane(tt[3]-tt[0],tt[7]-tt[4],tt[11]-tt[8],tt[15]-tt[12]),bottom:getFrustumPlane(tt[3]+tt[1],tt[7]+tt[5],tt[11]+tt[9],tt[15]+tt[13]),top:getFrustumPlane(tt[3]-tt[1],tt[7]-tt[5],tt[11]-tt[9],tt[15]-tt[13]),near:getFrustumPlane(tt[3]+tt[2],tt[7]+tt[6],tt[11]+tt[10],tt[15]+tt[14]),far:getFrustumPlane(tt[3]-tt[2],tt[7]-tt[6],tt[11]-tt[10],tt[15]-tt[14])}}const scratchVector$1=new Vector3;function getFrustumPlane(tt,et,nt,rt){scratchVector$1.set(tt,et,nt);const it=scratchVector$1.len();return{distance:rt/it,normal:new Vector3(-tt/it,-et/it,-nt/it)}}function fp64LowPart(tt){return tt-Math.fround(tt)}let scratchArray;function toDoublePrecisionArray(tt,et){const{size:nt=1,startIndex:rt=0}=et,it=et.endIndex!==void 0?et.endIndex:tt.length,st=(it-rt)/nt;scratchArray=defaultTypedArrayManager.allocate(scratchArray,st,{type:Float32Array,size:nt*2});let ot=rt,at=0;for(;ot<it;){for(let lt=0;lt<nt;lt++){const ut=tt[ot++];scratchArray[at+lt]=ut,scratchArray[at+lt+nt]=fp64LowPart(ut)}at+=nt*2}return scratchArray.subarray(0,st*nt*2)}function mergeBounds(tt){let et=null,nt=!1;for(const rt of tt)rt&&(et?(nt||(et=[[et[0][0],et[0][1]],[et[1][0],et[1][1]]],nt=!0),et[0][0]=Math.min(et[0][0],rt[0][0]),et[0][1]=Math.min(et[0][1],rt[0][1]),et[1][0]=Math.max(et[1][0],rt[1][0]),et[1][1]=Math.max(et[1][1],rt[1][1])):et=rt);return et}const DEGREES_TO_RADIANS$3=Math.PI/180,IDENTITY=createMat4(),ZERO_VECTOR=[0,0,0],DEFAULT_DISTANCE_SCALES={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function createProjectionMatrix({width:tt,height:et,orthographic:nt,fovyRadians:rt,focalDistance:it,padding:st,near:ot,far:at}){const lt=tt/et,ut=nt?new Matrix4().orthographic({fovy:rt,aspect:lt,focalDistance:it,near:ot,far:at}):new Matrix4().perspective({fovy:rt,aspect:lt,near:ot,far:at});if(st){const{left:ft=0,right:dt=0,top:ht=0,bottom:mt=0}=st,xt=clamp$2((ft+tt-dt)/2,0,tt)-tt/2,_t=clamp$2((ht+et-mt)/2,0,et)-et/2;ut[8]-=xt*2/tt,ut[9]+=_t*2/et}return ut}class Viewport{constructor(et={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"x",void 0),_defineProperty$4(this,"y",void 0),_defineProperty$4(this,"width",void 0),_defineProperty$4(this,"height",void 0),_defineProperty$4(this,"padding",void 0),_defineProperty$4(this,"isGeospatial",void 0),_defineProperty$4(this,"zoom",void 0),_defineProperty$4(this,"focalDistance",void 0),_defineProperty$4(this,"position",void 0),_defineProperty$4(this,"modelMatrix",void 0),_defineProperty$4(this,"distanceScales",void 0),_defineProperty$4(this,"scale",void 0),_defineProperty$4(this,"center",void 0),_defineProperty$4(this,"cameraPosition",void 0),_defineProperty$4(this,"projectionMatrix",void 0),_defineProperty$4(this,"viewMatrix",void 0),_defineProperty$4(this,"viewMatrixUncentered",void 0),_defineProperty$4(this,"viewMatrixInverse",void 0),_defineProperty$4(this,"viewProjectionMatrix",void 0),_defineProperty$4(this,"pixelProjectionMatrix",void 0),_defineProperty$4(this,"pixelUnprojectionMatrix",void 0),_defineProperty$4(this,"resolution",void 0),_defineProperty$4(this,"_frustumPlanes",{}),this.id=et.id||this.constructor.displayName||"viewport",this.x=et.x||0,this.y=et.y||0,this.width=et.width||1,this.height=et.height||1,this.zoom=et.zoom||0,this.padding=et.padding,this.distanceScales=et.distanceScales||DEFAULT_DISTANCE_SCALES,this.focalDistance=et.focalDistance||1,this.position=et.position||ZERO_VECTOR,this.modelMatrix=et.modelMatrix||null;const{longitude:nt,latitude:rt}=et;this.isGeospatial=Number.isFinite(rt)&&Number.isFinite(nt),this._initProps(et),this._initMatrices(et),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?PROJECTION_MODE.WEB_MERCATOR:PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:PROJECTION_MODE.IDENTITY}equals(et){return et instanceof Viewport?this===et?!0:et.width===this.width&&et.height===this.height&&et.scale===this.scale&&equals(et.projectionMatrix,this.projectionMatrix)&&equals(et.viewMatrix,this.viewMatrix):!1}project(et,{topLeft:nt=!0}={}){const rt=this.projectPosition(et),it=worldToPixels(rt,this.pixelProjectionMatrix),[st,ot]=it,at=nt?ot:this.height-ot;return et.length===2?[st,at]:[st,at,it[2]]}unproject(et,{topLeft:nt=!0,targetZ:rt}={}){const[it,st,ot]=et,at=nt?st:this.height-st,lt=rt&&rt*this.distanceScales.unitsPerMeter[2],ut=pixelsToWorld([it,at,ot],this.pixelUnprojectionMatrix,lt),[ft,dt,ht]=this.unprojectPosition(ut);return Number.isFinite(ot)?[ft,dt,ht]:Number.isFinite(rt)?[ft,dt,rt]:[ft,dt]}projectPosition(et){const[nt,rt]=this.projectFlat(et),it=(et[2]||0)*this.distanceScales.unitsPerMeter[2];return[nt,rt,it]}unprojectPosition(et){const[nt,rt]=this.unprojectFlat(et),it=(et[2]||0)*this.distanceScales.metersPerUnit[2];return[nt,rt,it]}projectFlat(et){if(this.isGeospatial){const nt=lngLatToWorld(et);return nt[1]=clamp$2(nt[1],-318,830),nt}return et}unprojectFlat(et){return this.isGeospatial?worldToLngLat(et):et}getBounds(et={}){const nt={targetZ:et.z||0},rt=this.unproject([0,0],nt),it=this.unproject([this.width,0],nt),st=this.unproject([0,this.height],nt),ot=this.unproject([this.width,this.height],nt);return[Math.min(rt[0],it[0],st[0],ot[0]),Math.min(rt[1],it[1],st[1],ot[1]),Math.max(rt[0],it[0],st[0],ot[0]),Math.max(rt[1],it[1],st[1],ot[1])]}getDistanceScales(et){return et?getDistanceScales$1({longitude:et[0],latitude:et[1],highPrecision:!0}):this.distanceScales}containsPixel({x:et,y:nt,width:rt=1,height:it=1}){return et<this.x+this.width&&this.x<et+rt&&nt<this.y+this.height&&this.y<nt+it}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,getFrustumPlanes(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(et,nt){return null}_initProps(et){const nt=et.longitude,rt=et.latitude;this.isGeospatial&&(Number.isFinite(et.zoom)||(this.zoom=getMeterZoom({latitude:rt})+Math.log2(this.focalDistance)),this.distanceScales=et.distanceScales||getDistanceScales$1({latitude:rt,longitude:nt}));const it=Math.pow(2,this.zoom);this.scale=it;const{position:st,modelMatrix:ot}=et;let at=ZERO_VECTOR;if(st&&(at=ot?new Matrix4(ot).transformAsVector(st,[]):st),this.isGeospatial){const lt=this.projectPosition([nt,rt,0]);this.center=new Vector3(at).scale(this.distanceScales.unitsPerMeter).add(lt)}else this.center=this.projectPosition(at)}_initMatrices(et){const{viewMatrix:nt=IDENTITY,projectionMatrix:rt=null,orthographic:it=!1,fovyRadians:st,fovy:ot=75,near:at=.1,far:lt=1e3,padding:ut=null,focalDistance:ft=1}=et;this.viewMatrixUncentered=nt,this.viewMatrix=new Matrix4().multiplyRight(nt).translate(new Vector3(this.center).negate()),this.projectionMatrix=rt||createProjectionMatrix({width:this.width,height:this.height,orthographic:it,fovyRadians:st||ot*DEGREES_TO_RADIANS$3,focalDistance:ft,padding:ut,near:at,far:lt});const dt=createMat4();multiply$1(dt,dt,this.projectionMatrix),multiply$1(dt,dt,this.viewMatrix),this.viewProjectionMatrix=dt,this.viewMatrixInverse=invert$1([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=getCameraPosition(this.viewMatrixInverse);const ht=createMat4(),mt=createMat4();scale$3(ht,ht,[this.width/2,-this.height/2,1]),translate$1(ht,ht,[1,-1,0]),multiply$1(mt,ht,this.viewProjectionMatrix),this.pixelProjectionMatrix=mt,this.pixelUnprojectionMatrix=invert$1(createMat4(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||log$4.warn("Pixel project matrix not invertible")()}}_defineProperty$4(Viewport,"displayName","Viewport");class WebMercatorViewport extends Viewport{constructor(et={}){const{latitude:nt=0,longitude:rt=0,zoom:it=0,pitch:st=0,bearing:ot=0,nearZMultiplier:at=.1,farZMultiplier:lt=1.01,orthographic:ut=!1,projectionMatrix:ft,repeat:dt=!1,worldOffset:ht=0,position:mt,padding:xt,legacyMeterSizes:_t=!1}=et;let{width:At,height:gt,altitude:vt=1.5}=et;const Et=Math.pow(2,it);At=At||1,gt=gt||1;let yt,wt=null;if(ft)vt=ft[5]/2,yt=altitudeToFovy(vt);else{et.fovy?(yt=et.fovy,vt=fovyToAltitude(yt)):yt=altitudeToFovy(vt);let Rt;if(xt){const{top:It=0,bottom:$t=0}=xt;Rt=[0,clamp$2((It+gt-$t)/2,0,gt)-gt/2]}wt=getProjectionParameters({width:At,height:gt,scale:Et,center:mt&&[0,0,mt[2]*unitsPerMeter(nt)],offset:Rt,pitch:st,fovy:yt,nearZMultiplier:at,farZMultiplier:lt})}let Ct=getViewMatrix$1({height:gt,pitch:st,bearing:ot,scale:Et,altitude:vt});ht&&(Ct=new Matrix4().translate([512*ht,0,0]).multiplyLeft(Ct)),super({...et,width:At,height:gt,viewMatrix:Ct,longitude:rt,latitude:nt,zoom:it,...wt,fovy:yt,focalDistance:vt}),_defineProperty$4(this,"longitude",void 0),_defineProperty$4(this,"latitude",void 0),_defineProperty$4(this,"pitch",void 0),_defineProperty$4(this,"bearing",void 0),_defineProperty$4(this,"altitude",void 0),_defineProperty$4(this,"fovy",void 0),_defineProperty$4(this,"orthographic",void 0),_defineProperty$4(this,"_subViewports",void 0),_defineProperty$4(this,"_pseudoMeters",void 0),this.latitude=nt,this.longitude=rt,this.zoom=it,this.pitch=st,this.bearing=ot,this.altitude=vt,this.fovy=yt,this.orthographic=ut,this._subViewports=dt?[]:null,this._pseudoMeters=_t,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const et=this.getBounds(),nt=Math.floor((et[0]+180)/360),rt=Math.ceil((et[2]-180)/360);for(let it=nt;it<=rt;it++){const st=it?new WebMercatorViewport({...this,worldOffset:it}):this;this._subViewports.push(st)}}return this._subViewports}projectPosition(et){if(this._pseudoMeters)return super.projectPosition(et);const[nt,rt]=this.projectFlat(et),it=(et[2]||0)*unitsPerMeter(et[1]);return[nt,rt,it]}unprojectPosition(et){if(this._pseudoMeters)return super.unprojectPosition(et);const[nt,rt]=this.unprojectFlat(et),it=(et[2]||0)/unitsPerMeter(rt);return[nt,rt,it]}addMetersToLngLat(et,nt){return addMetersToLngLat(et,nt)}panByPosition(et,nt){const rt=pixelsToWorld(nt,this.pixelUnprojectionMatrix),it=this.projectFlat(et),st=add$3([],it,negate$1([],rt)),ot=add$3([],this.center,st),[at,lt]=this.unprojectFlat(ot);return{longitude:at,latitude:lt}}getBounds(et={}){const nt=getBounds(this,et.z||0);return[Math.min(nt[0][0],nt[1][0],nt[2][0],nt[3][0]),Math.min(nt[0][1],nt[1][1],nt[2][1],nt[3][1]),Math.max(nt[0][0],nt[1][0],nt[2][0],nt[3][0]),Math.max(nt[0][1],nt[1][1],nt[2][1],nt[3][1])]}fitBounds(et,nt={}){const{width:rt,height:it}=this,{longitude:st,latitude:ot,zoom:at}=fitBounds({width:rt,height:it,bounds:et,...nt});return new WebMercatorViewport({width:rt,height:it,longitude:st,latitude:ot,zoom:at})}}_defineProperty$4(WebMercatorViewport,"displayName","WebMercatorViewport");const DEFAULT_COORDINATE_ORIGIN=[0,0,0];function lngLatZToWorldPosition(tt,et,nt=!1){const rt=et.projectPosition(tt);if(nt&&et instanceof WebMercatorViewport){const[it,st,ot=0]=tt,at=et.getDistanceScales([it,st]);rt[2]=ot*at.unitsPerMeter[2]}return rt}function normalizeParameters(tt){const{viewport:et,modelMatrix:nt,coordinateOrigin:rt}=tt;let{coordinateSystem:it,fromCoordinateSystem:st,fromCoordinateOrigin:ot}=tt;return it===COORDINATE_SYSTEM.DEFAULT&&(it=et.isGeospatial?COORDINATE_SYSTEM.LNGLAT:COORDINATE_SYSTEM.CARTESIAN),st===void 0&&(st=it),ot===void 0&&(ot=rt),{viewport:et,coordinateSystem:it,coordinateOrigin:rt,modelMatrix:nt,fromCoordinateSystem:st,fromCoordinateOrigin:ot}}function getWorldPosition(tt,{viewport:et,modelMatrix:nt,coordinateSystem:rt,coordinateOrigin:it,offsetMode:st}){let[ot,at,lt=0]=tt;switch(nt&&([ot,at,lt]=transformMat4([],[ot,at,lt,1],nt)),rt){case COORDINATE_SYSTEM.LNGLAT:return lngLatZToWorldPosition([ot,at,lt],et,st);case COORDINATE_SYSTEM.LNGLAT_OFFSETS:return lngLatZToWorldPosition([ot+it[0],at+it[1],lt+(it[2]||0)],et,st);case COORDINATE_SYSTEM.METER_OFFSETS:return lngLatZToWorldPosition(addMetersToLngLat(it,[ot,at,lt]),et,st);case COORDINATE_SYSTEM.CARTESIAN:default:return et.isGeospatial?[ot+it[0],at+it[1],lt+it[2]]:et.projectPosition([ot,at,lt])}}function projectPosition(tt,et){const{viewport:nt,coordinateSystem:rt,coordinateOrigin:it,modelMatrix:st,fromCoordinateSystem:ot,fromCoordinateOrigin:at}=normalizeParameters(et),{autoOffset:lt=!0}=et,{geospatialOrigin:ut=DEFAULT_COORDINATE_ORIGIN,shaderCoordinateOrigin:ft=DEFAULT_COORDINATE_ORIGIN,offsetMode:dt=!1}=lt?getOffsetOrigin(nt,rt,it):{},ht=getWorldPosition(tt,{viewport:nt,modelMatrix:st,coordinateSystem:ot,coordinateOrigin:at,offsetMode:dt});if(dt){const mt=nt.projectPosition(ut||ft);sub(ht,ht,mt)}return ht}const DEFAULT_LIGHT_COLOR=[255,255,255],DEFAULT_LIGHT_INTENSITY=1,DEFAULT_ATTENUATION=[0,0,1],DEFAULT_LIGHT_POSITION=[0,0,1];let idCount=0;class PointLight{constructor(et={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"color",void 0),_defineProperty$4(this,"intensity",void 0),_defineProperty$4(this,"type","point"),_defineProperty$4(this,"position",void 0),_defineProperty$4(this,"attenuation",void 0),_defineProperty$4(this,"projectedLight",void 0);const{color:nt=DEFAULT_LIGHT_COLOR}=et,{intensity:rt=DEFAULT_LIGHT_INTENSITY}=et,{position:it=DEFAULT_LIGHT_POSITION}=et;this.id=et.id||"point-".concat(idCount++),this.color=nt,this.intensity=rt,this.type="point",this.position=it,this.attenuation=getAttenuation(et),this.projectedLight={...this}}getProjectedLight({layer:et}){const{projectedLight:nt}=this,rt=et.context.viewport,{coordinateSystem:it,coordinateOrigin:st}=et.props,ot=projectPosition(this.position,{viewport:rt,coordinateSystem:it,coordinateOrigin:st,fromCoordinateSystem:rt.isGeospatial?COORDINATE_SYSTEM.LNGLAT:COORDINATE_SYSTEM.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return nt.color=this.color,nt.intensity=this.intensity,nt.position=ot,nt}}function getAttenuation(tt){return tt.attenuation?tt.attenuation:"intensity"in tt?[0,0,tt.intensity||0]:DEFAULT_ATTENUATION}class CameraLight extends PointLight{getProjectedLight({layer:et}){const{projectedLight:nt}=this,rt=et.context.viewport,{coordinateSystem:it,coordinateOrigin:st,modelMatrix:ot}=et.props,{project_uCameraPosition:at}=getUniformsFromViewport({viewport:rt,modelMatrix:ot,coordinateSystem:it,coordinateOrigin:st});return nt.color=this.color,nt.intensity=this.intensity,nt.position=at,nt}}const DEGREES_TO_RADIANS$2=Math.PI/180,DAY_IN_MS=1e3*60*60*24,JD1970=2440588,JD2000=2451545,e$4=DEGREES_TO_RADIANS$2*23.4397,M0=357.5291,M1=.98560028,THETA0=280.147,THETA1=360.9856235;function getSunPosition(tt,et,nt){const rt=DEGREES_TO_RADIANS$2*-nt,it=DEGREES_TO_RADIANS$2*et,st=toDays(tt),ot=getSunCoords(st),at=getSiderealTime(st,rt)-ot.rightAscension;return{azimuth:getAzimuth(at,it,ot.declination),altitude:getAltitude(at,it,ot.declination)}}function getSunDirection(tt,et,nt){const{azimuth:rt,altitude:it}=getSunPosition(tt,et,nt);return[Math.sin(rt)*Math.cos(it),Math.cos(rt)*Math.cos(it),-Math.sin(it)]}function toJulianDay(tt){return(typeof tt=="number"?tt:tt.getTime())/DAY_IN_MS-.5+JD1970}function toDays(tt){return toJulianDay(tt)-JD2000}function getRightAscension(tt,et){const nt=tt;return Math.atan2(Math.sin(nt)*Math.cos(e$4)-Math.tan(et)*Math.sin(e$4),Math.cos(nt))}function getDeclination(tt,et){const nt=tt;return Math.asin(Math.sin(et)*Math.cos(e$4)+Math.cos(et)*Math.sin(e$4)*Math.sin(nt))}function getAzimuth(tt,et,nt){const rt=tt,it=et,st=nt;return Math.atan2(Math.sin(rt),Math.cos(rt)*Math.sin(it)-Math.tan(st)*Math.cos(it))}function getAltitude(tt,et,nt){const rt=tt,it=et,st=nt;return Math.asin(Math.sin(it)*Math.sin(st)+Math.cos(it)*Math.cos(st)*Math.cos(rt))}function getSiderealTime(tt,et){return DEGREES_TO_RADIANS$2*(THETA0+THETA1*tt)-et}function getSolarMeanAnomaly(tt){return DEGREES_TO_RADIANS$2*(M0+M1*tt)}function getEclipticLongitude(tt){const et=tt,nt=DEGREES_TO_RADIANS$2*(1.9148*Math.sin(et)+.02*Math.sin(2*et)+3e-4*Math.sin(3*et)),rt=DEGREES_TO_RADIANS$2*102.9372;return et+nt+rt+Math.PI}function getSunCoords(tt){const et=getSolarMeanAnomaly(tt),nt=getEclipticLongitude(et);return{declination:getDeclination(nt,0),rightAscension:getRightAscension(nt,0)}}class SunLight extends DirectionalLight{constructor(et){super(et),_defineProperty$4(this,"timestamp",void 0),this.timestamp=et.timestamp}getProjectedLight({layer:et}){const{viewport:nt}=et.context;if(nt.resolution&&nt.resolution>0){const[it,st,ot]=getSunDirection(this.timestamp,0,0);this.direction=[it,-ot,st]}else{const{latitude:it,longitude:st}=nt;this.direction=getSunDirection(this.timestamp,it,st)}return this}}class ScreenPass extends Pass{constructor(et,nt){super(et,nt),_defineProperty$4(this,"model",void 0);const{module:rt,fs:it,id:st}=nt;this.model=new ClipSpace(et,{id:st,fs:it,modules:[rt]})}render(et){const nt=this.gl;setParameters(nt,{viewport:[0,0,nt.drawingBufferWidth,nt.drawingBufferHeight]}),withParameters(nt,{framebuffer:et.outputBuffer,clearColor:[0,0,0,0]},()=>this._renderPass(nt,et))}delete(){this.model.delete(),this.model=null}_renderPass(et,nt){const{inputBuffer:rt}=nt;clear(et,{color:!0}),this.model.draw({moduleSettings:nt.moduleSettings,uniforms:{texture:rt,texSize:[rt.width,rt.height]},parameters:{depthWrite:!1,depthTest:!1}})}}class PostProcessEffect{constructor(et,nt={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"module",void 0),_defineProperty$4(this,"passes",void 0),this.id="".concat(et.name,"-pass"),this.props=nt,normalizeShaderModule(et),this.module=et}setProps(et){this.props=et}preRender(){}postRender(et,nt){const rt=this.passes||createPasses(et,this.module,this.id);this.passes=rt;const{target:it}=nt;let st=nt.inputBuffer,ot=nt.swapBuffer;for(let at=0;at<this.passes.length;at++){it&&at===this.passes.length-1&&(ot=it),this.passes[at].render({inputBuffer:st,outputBuffer:ot,moduleSettings:this.props});const lt=ot;ot=st,st=lt}return st}cleanup(){if(this.passes){for(const et of this.passes)et.delete();this.passes=void 0}}}function createPasses(tt,et,nt){if(!et.passes){const rt=getFragmentShaderForRenderPass(et);return[new ScreenPass(tt,{id:nt,module:et,fs:rt})]}return et.passes.map((rt,it)=>{const st=getFragmentShaderForRenderPass(et,rt),ot="".concat(nt,"-").concat(it);return new ScreenPass(tt,{id:ot,module:et,fs:st})})}const FILTER_FS_TEMPLATE=tt=>`uniform sampler2D texture;
uniform vec2 texSize;

varying vec2 position;
varying vec2 coordinate;
varying vec2 uv;

void main() {
  vec2 texCoord = coordinate;

  gl_FragColor = texture2D(texture, texCoord);
  gl_FragColor = `.concat(tt,`(gl_FragColor, texSize, texCoord);
}
`),SAMPLER_FS_TEMPLATE=tt=>`uniform sampler2D texture;
uniform vec2 texSize;

varying vec2 position;
varying vec2 coordinate;
varying vec2 uv;

void main() {
  vec2 texCoord = coordinate;

  gl_FragColor = `.concat(tt,`(texture, texSize, texCoord);
}
`);function getFragmentShaderForRenderPass(tt,et=tt){if(et.filter){const nt=typeof et.filter=="string"?et.filter:"".concat(tt.name,"_filterColor");return FILTER_FS_TEMPLATE(nt)}if(et.sampler){const nt=typeof et.sampler=="string"?et.sampler:"".concat(tt.name,"_sampleColor");return SAMPLER_FS_TEMPLATE(nt)}return null}const PICKING_PARAMETERS={blendFunc:[1,0,32771,0],blendEquation:32774};class PickLayersPass extends LayersPass{constructor(...et){super(...et),_defineProperty$4(this,"pickZ",void 0),_defineProperty$4(this,"_colorEncoderState",null)}render(et){return"pickingFBO"in et?this._drawPickingBuffer(et):super.render(et)}_drawPickingBuffer({layers:et,layerFilter:nt,views:rt,viewports:it,onViewportActive:st,pickingFBO:ot,deviceRect:{x:at,y:lt,width:ut,height:ft},cullRect:dt,effects:ht,pass:mt="picking",pickZ:xt,moduleParameters:_t}){const At=this.gl;this.pickZ=xt;const gt=this._resetColorEncoder(xt),vt=withParameters(At,{scissorTest:!0,scissor:[at,lt,ut,ft],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...PICKING_PARAMETERS,blend:!xt},()=>super.render({target:ot,layers:et,layerFilter:nt,views:rt,viewports:it,onViewportActive:st,cullRect:dt,effects:ht==null?void 0:ht.filter(yt=>yt.useInPicking),pass:mt,isPicking:!0,moduleParameters:_t}));return this._colorEncoderState=null,{decodePickingColor:gt&&decodeColor.bind(null,gt),stats:vt}}shouldDrawLayer(et){const{pickable:nt,operation:rt}=et.props;return nt&&rt.includes("draw")||rt.includes("terrain")}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(et,nt,rt){const it={...et.props.parameters},{pickable:st,operation:ot}=et.props;return this._colorEncoderState?st&&ot.includes("draw")&&(Object.assign(it,PICKING_PARAMETERS),it.blend=!0,it.blendColor=encodeColor(this._colorEncoderState,et,rt)):it.blend=!1,ot.includes("terrain")&&(it.blend=!1),it}_resetColorEncoder(et){return this._colorEncoderState=et?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function encodeColor(tt,et,nt){const{byLayer:rt,byAlpha:it}=tt;let st,ot=rt.get(et);return ot?(ot.viewports.push(nt),st=ot.a):(st=rt.size+1,st<=255?(ot={a:st,layer:et,viewports:[nt]},rt.set(et,ot),it[st]=ot):(log$4.warn("Too many pickable layers, only picking the first 255")(),st=0)),[0,0,0,st/255]}function decodeColor(tt,et){const nt=tt.byAlpha[et[3]];return nt&&{pickedLayer:nt.layer,pickedViewports:nt.viewports,pickedObjectIndex:nt.layer.decodePickingColor(et)}}const LIFECYCLE={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},COMPONENT_SYMBOL=Symbol.for("component"),PROP_TYPES_SYMBOL=Symbol.for("propTypes"),DEPRECATED_PROPS_SYMBOL=Symbol.for("deprecatedProps"),ASYNC_DEFAULTS_SYMBOL=Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL_SYMBOL=Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED_SYMBOL=Symbol.for("asyncPropResolved");function flatten(tt,et=()=>!0){return Array.isArray(tt)?flattenArray(tt,et,[]):et(tt)?[tt]:[]}function flattenArray(tt,et,nt){let rt=-1;for(;++rt<tt.length;){const it=tt[rt];Array.isArray(it)?flattenArray(it,et,nt):et(it)&&nt.push(it)}return nt}function fillArray({target:tt,source:et,start:nt=0,count:rt=1}){const it=et.length,st=rt*it;let ot=0;for(let at=nt;ot<it;ot++)tt[at++]=et[ot];for(;ot<st;)ot<st-ot?(tt.copyWithin(nt+ot,nt,nt+ot),ot*=2):(tt.copyWithin(nt+ot,nt,nt+st-ot),ot=st);return tt}class Resource{constructor(et,nt,rt){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"context",void 0),_defineProperty$4(this,"isLoaded",void 0),_defineProperty$4(this,"persistent",void 0),_defineProperty$4(this,"_loadCount",0),_defineProperty$4(this,"_subscribers",new Set),_defineProperty$4(this,"_data",void 0),_defineProperty$4(this,"_loader",void 0),_defineProperty$4(this,"_error",void 0),_defineProperty$4(this,"_content",void 0),this.id=et,this.context=rt,this.setData(nt)}subscribe(et){this._subscribers.add(et)}unsubscribe(et){this._subscribers.delete(et)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(et,nt){if(et===this._data&&!nt)return;this._data=et;const rt=++this._loadCount;let it=et;typeof et=="string"&&(it=load(et)),it instanceof Promise?(this.isLoaded=!1,this._loader=it.then(st=>{this._loadCount===rt&&(this.isLoaded=!0,this._error=void 0,this._content=st)}).catch(st=>{this._loadCount===rt&&(this.isLoaded=!0,this._error=st||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=et);for(const st of this._subscribers)st.onChange(this.getData())}}class ResourceManager{constructor({gl:et,protocol:nt}){_defineProperty$4(this,"protocol",void 0),_defineProperty$4(this,"_context",void 0),_defineProperty$4(this,"_resources",void 0),_defineProperty$4(this,"_consumers",void 0),_defineProperty$4(this,"_pruneRequest",void 0),this.protocol=nt||"resource://",this._context={gl:et,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(et){return et.startsWith(this.protocol)?!0:et in this._resources}add({resourceId:et,data:nt,forceUpdate:rt=!1,persistent:it=!0}){let st=this._resources[et];st?st.setData(nt,rt):(st=new Resource(et,nt,this._context),this._resources[et]=st),st.persistent=it}remove(et){const nt=this._resources[et];nt&&(nt.delete(),delete this._resources[et])}unsubscribe({consumerId:et}){const nt=this._consumers[et];if(nt){for(const rt in nt){const it=nt[rt],st=this._resources[it.resourceId];st&&st.unsubscribe(it)}delete this._consumers[et],this.prune()}}subscribe({resourceId:et,onChange:nt,consumerId:rt,requestId:it="default"}){const{_resources:st,protocol:ot}=this;et.startsWith(ot)&&(et=et.replace(ot,""),st[et]||this.add({resourceId:et,data:null,persistent:!1}));const at=st[et];if(this._track(rt,it,at,nt),at)return at.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const et in this._resources)this._resources[et].delete()}_track(et,nt,rt,it){const st=this._consumers,ot=st[et]=st[et]||{},at=ot[nt]||{},lt=at.resourceId&&this._resources[at.resourceId];lt&&(lt.unsubscribe(at),this.prune()),rt&&(ot[nt]=at,at.onChange=it,at.resourceId=rt.id,rt.subscribe(at))}_prune(){this._pruneRequest=null;for(const et of Object.keys(this._resources)){const nt=this._resources[et];!nt.persistent&&!nt.inUse()&&(nt.delete(),delete this._resources[et])}}}const vs$3=`
vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,project32={name:"project32",dependencies:[project],vs:vs$3},picking={inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:#decl":`
uniform bool picking_uAttribute;
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}},...picking$1},DEFAULT_MODULES=[project],SHADER_HOOKS=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function createProgramManager(tt){const et=ProgramManager.getDefaultProgramManager(tt);for(const nt of DEFAULT_MODULES)et.addDefaultModule(nt);for(const nt of SHADER_HOOKS)et.addShaderHook(nt);return et}const TRACE_SET_LAYERS="layerManager.setLayers",TRACE_ACTIVATE_VIEWPORT="layerManager.activateViewport";class LayerManager{constructor(et,{deck:nt,stats:rt,viewport:it,timeline:st}={}){_defineProperty$4(this,"layers",void 0),_defineProperty$4(this,"context",void 0),_defineProperty$4(this,"resourceManager",void 0),_defineProperty$4(this,"_lastRenderedLayers",[]),_defineProperty$4(this,"_needsRedraw",!1),_defineProperty$4(this,"_needsUpdate",!1),_defineProperty$4(this,"_nextLayers",null),_defineProperty$4(this,"_debug",!1),_defineProperty$4(this,"activateViewport",ot=>{debug(TRACE_ACTIVATE_VIEWPORT,this,ot),ot&&(this.context.viewport=ot)}),this.layers=[],this.resourceManager=new ResourceManager({gl:et,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:et,deck:nt,programManager:et&&createProgramManager(et),stats:rt||new Stats({id:"deck.gl"}),viewport:it||new Viewport({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:st||new Timeline,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const et of this.layers)this._finalizeLayer(et)}needsRedraw(et={clearRedrawFlags:!1}){let nt=this._needsRedraw;et.clearRedrawFlags&&(this._needsRedraw=!1);for(const rt of this.layers){const it=rt.getNeedsRedraw(et);nt=nt||it}return nt}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(et){this._needsRedraw=this._needsRedraw||et}setNeedsUpdate(et){this._needsUpdate=this._needsUpdate||et}getLayers({layerIds:et}={}){return et?this.layers.filter(nt=>et.find(rt=>nt.id.indexOf(rt)===0)):this.layers}setProps(et){"debug"in et&&(this._debug=et.debug),"userData"in et&&(this.context.userData=et.userData),"layers"in et&&(this._nextLayers=et.layers),"onError"in et&&(this.context.onError=et.onError)}setLayers(et,nt){debug(TRACE_SET_LAYERS,this,nt,et),this._lastRenderedLayers=et;const rt=flatten(et,Boolean);for(const it of rt)it.context=this.context;this._updateLayers(this.layers,rt)}updateLayers(){const et=this.needsUpdate();et&&(this.setNeedsRedraw("updating layers: ".concat(et)),this.setLayers(this._nextLayers||this._lastRenderedLayers,et)),this._nextLayers=null}_handleError(et,nt,rt){rt.raiseError(nt,"".concat(et," of ").concat(rt))}_updateLayers(et,nt){const rt={};for(const ot of et)rt[ot.id]?log$4.warn("Multiple old layers with same id ".concat(ot.id))():rt[ot.id]=ot;const it=[];this._updateSublayersRecursively(nt,rt,it),this._finalizeOldLayers(rt);let st=!1;for(const ot of it)if(ot.hasUniformTransition()){st="Uniform transition in ".concat(ot);break}this._needsUpdate=st,this.layers=it}_updateSublayersRecursively(et,nt,rt){for(const it of et){it.context=this.context;const st=nt[it.id];st===null&&log$4.warn("Multiple new layers with same id ".concat(it.id))(),nt[it.id]=null;let ot=null;try{this._debug&&st!==it&&it.validateProps(),st?(this._transferLayerState(st,it),this._updateLayer(it)):this._initializeLayer(it),rt.push(it),ot=it.isComposite?it.getSubLayers():null}catch(at){this._handleError("matching",at,it)}ot&&this._updateSublayersRecursively(ot,nt,rt)}}_finalizeOldLayers(et){for(const nt in et){const rt=et[nt];rt&&this._finalizeLayer(rt)}}_initializeLayer(et){try{et._initialize(),et.lifecycle=LIFECYCLE.INITIALIZED}catch(nt){this._handleError("initialization",nt,et)}}_transferLayerState(et,nt){nt._transferState(et),nt.lifecycle=LIFECYCLE.MATCHED,nt!==et&&(et.lifecycle=LIFECYCLE.AWAITING_GC)}_updateLayer(et){try{et._update()}catch(nt){this._handleError("update",nt,et)}}_finalizeLayer(et){this._needsRedraw=this._needsRedraw||"finalized ".concat(et),et.lifecycle=LIFECYCLE.AWAITING_FINALIZATION;try{et._finalize(),et.lifecycle=LIFECYCLE.FINALIZED}catch(nt){this._handleError("finalization",nt,et)}}}function deepEqual$1(tt,et,nt){if(tt===et)return!0;if(!nt||!tt||!et)return!1;if(Array.isArray(tt)){if(!Array.isArray(et)||tt.length!==et.length)return!1;for(let rt=0;rt<tt.length;rt++)if(!deepEqual$1(tt[rt],et[rt],nt-1))return!1;return!0}if(Array.isArray(et))return!1;if(typeof tt=="object"&&typeof et=="object"){const rt=Object.keys(tt),it=Object.keys(et);if(rt.length!==it.length)return!1;for(const st of rt)if(!et.hasOwnProperty(st)||!deepEqual$1(tt[st],et[st],nt-1))return!1;return!0}return!1}class ViewManager{constructor(et){_defineProperty$4(this,"width",void 0),_defineProperty$4(this,"height",void 0),_defineProperty$4(this,"views",void 0),_defineProperty$4(this,"viewState",void 0),_defineProperty$4(this,"controllers",void 0),_defineProperty$4(this,"timeline",void 0),_defineProperty$4(this,"_viewports",void 0),_defineProperty$4(this,"_viewportMap",void 0),_defineProperty$4(this,"_isUpdating",void 0),_defineProperty$4(this,"_needsRedraw",void 0),_defineProperty$4(this,"_needsUpdate",void 0),_defineProperty$4(this,"_eventManager",void 0),_defineProperty$4(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=et.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=et.eventManager,this._eventCallbacks={onViewStateChange:et.onViewStateChange,onInteractionStateChange:et.onInteractionStateChange},Object.seal(this),this.setProps(et)}finalize(){for(const et in this.controllers){const nt=this.controllers[et];nt&&nt.finalize()}this.controllers={}}needsRedraw(et={clearRedrawFlags:!1}){const nt=this._needsRedraw;return et.clearRedrawFlags&&(this._needsRedraw=!1),nt}setNeedsUpdate(et){this._needsUpdate=this._needsUpdate||et,this._needsRedraw=this._needsRedraw||et}updateViewStates(){for(const et in this.controllers){const nt=this.controllers[et];nt&&nt.updateTransition()}}getViewports(et){return et?this._viewports.filter(nt=>nt.containsPixel(et)):this._viewports}getViews(){const et={};return this.views.forEach(nt=>{et[nt.id]=nt}),et}getView(et){return this.views.find(nt=>nt.id===et)}getViewState(et){const nt=typeof et=="string"?this.getView(et):et,rt=nt&&this.viewState[nt.getViewStateId()]||this.viewState;return nt?nt.filterViewState(rt):rt}getViewport(et){return this._viewportMap[et]}unproject(et,nt){const rt=this.getViewports(),it={x:et[0],y:et[1]};for(let st=rt.length-1;st>=0;--st){const ot=rt[st];if(ot.containsPixel(it)){const at=et.slice();return at[0]-=ot.x,at[1]-=ot.y,ot.unproject(at,nt)}}return null}setProps(et){et.views&&this._setViews(et.views),et.viewState&&this._setViewState(et.viewState),("width"in et||"height"in et)&&this._setSize(et.width,et.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(et,nt){(et!==this.width||nt!==this.height)&&(this.width=et,this.height=nt,this.setNeedsUpdate("Size changed"))}_setViews(et){et=flatten(et,Boolean),this._diffViews(et,this.views)&&this.setNeedsUpdate("views changed"),this.views=et}_setViewState(et){et?(!deepEqual$1(et,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=et):log$4.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(et,nt){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...nt,viewId:et})}_createController(et,nt){const rt=nt.type;return new rt({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,nt.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:st=>{var ot;return(ot=this.getView(et.id))===null||ot===void 0?void 0:ot.makeViewport({viewState:st,width:this.width,height:this.height})}})}_updateController(et,nt,rt,it){const st=et.controller;if(st&&rt){const ot={...nt,...st,id:et.id,x:rt.x,y:rt.y,width:rt.width,height:rt.height};return it||(it=this._createController(et,ot)),it&&it.setProps(ot),it}return null}_rebuildViewports(){const{views:et}=this,nt=this.controllers;this._viewports=[],this.controllers={};let rt=!1;for(let it=et.length;it--;){const st=et[it],ot=this.getViewState(st),at=st.makeViewport({viewState:ot,width:this.width,height:this.height});let lt=nt[st.id];const ut=!!st.controller;ut&&!lt&&(rt=!0),(rt||!ut)&&lt&&(lt.finalize(),lt=null),this.controllers[st.id]=this._updateController(st,ot,at,lt),at&&this._viewports.unshift(at)}for(const it in nt){const st=nt[it];st&&!this.controllers[it]&&st.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(et=>{et.id&&(this._viewportMap[et.id]=this._viewportMap[et.id]||et)})}_diffViews(et,nt){return et.length!==nt.length?!0:et.some((rt,it)=>!et[it].equals(nt[it]))}}const PERCENT_OR_PIXELS_REGEX=/([0-9]+\.?[0-9]*)(%|px)/;function parsePosition(tt){switch(typeof tt){case"number":return{position:tt,relative:!1};case"string":const et=PERCENT_OR_PIXELS_REGEX.exec(tt);if(et&&et.length>=3){const nt=et[2]==="%",rt=parseFloat(et[1]);return{position:nt?rt/100:rt,relative:nt}}default:throw new Error("Could not parse position string ".concat(tt))}}function getPosition(tt,et){return tt.relative?Math.round(tt.position*et):tt.position}function assert$2(tt,et){if(!tt)throw new Error(et||"deck.gl: assertion failed.")}class View{constructor(et){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"viewportInstance",void 0),_defineProperty$4(this,"_x",void 0),_defineProperty$4(this,"_y",void 0),_defineProperty$4(this,"_width",void 0),_defineProperty$4(this,"_height",void 0),_defineProperty$4(this,"_padding",void 0),_defineProperty$4(this,"props",void 0);const{id:nt,x:rt=0,y:it=0,width:st="100%",height:ot="100%",padding:at=null,viewportInstance:lt}=et||{};assert$2(!lt||lt instanceof Viewport),this.viewportInstance=lt,this.id=nt||this.constructor.displayName||"view",this.props={...et,id:this.id},this._x=parsePosition(rt),this._y=parsePosition(it),this._width=parsePosition(st),this._height=parsePosition(ot),this._padding=at&&{left:parsePosition(at.left||0),right:parsePosition(at.right||0),top:parsePosition(at.top||0),bottom:parsePosition(at.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(et){return this===et?!0:this.viewportInstance?et.viewportInstance?this.viewportInstance.equals(et.viewportInstance):!1:this.ViewportType===et.ViewportType&&deepEqual$1(this.props,et.props,2)}makeViewport({width:et,height:nt,viewState:rt}){if(this.viewportInstance)return this.viewportInstance;rt=this.filterViewState(rt);const it=this.getDimensions({width:et,height:nt});return!it.height||!it.width?null:new this.ViewportType({...rt,...this.props,...it})}getViewStateId(){const{viewState:et}=this.props;return typeof et=="string"?et:(et==null?void 0:et.id)||this.id}filterViewState(et){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const nt={...et};for(const rt in this.props.viewState)rt!=="id"&&(nt[rt]=this.props.viewState[rt]);return nt}return et}getDimensions({width:et,height:nt}){const rt={x:getPosition(this._x,et),y:getPosition(this._y,nt),width:getPosition(this._width,et),height:getPosition(this._height,nt)};return this._padding&&(rt.padding={left:getPosition(this._padding.left,et),top:getPosition(this._padding.top,nt),right:getPosition(this._padding.right,et),bottom:getPosition(this._padding.bottom,nt)}),rt}get controller(){const et=this.props.controller;return et?et===!0?{type:this.ControllerType}:typeof et=="function"?{type:et}:{type:this.ControllerType,...et}:null}}class Transition{constructor(et){_defineProperty$4(this,"_inProgress",void 0),_defineProperty$4(this,"_handle",void 0),_defineProperty$4(this,"_timeline",void 0),_defineProperty$4(this,"time",void 0),_defineProperty$4(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=et,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(et){var nt,rt;this.cancel(),this.settings=et,this._inProgress=!0,(nt=(rt=this.settings).onStart)===null||nt===void 0||nt.call(rt,this)}end(){if(this._inProgress){var et,nt;this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(et=(nt=this.settings).onEnd)===null||et===void 0||et.call(nt,this)}}cancel(){if(this._inProgress){var et,nt;(et=(nt=this.settings).onInterrupt)===null||et===void 0||et.call(nt,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1}}update(){var et,nt;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:rt,settings:it}=this;this._handle=rt.addChannel({delay:rt.getTime(),duration:it.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(et=(nt=this.settings).onUpdate)===null||et===void 0||et.call(nt,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const noop$2=()=>{},TRANSITION_EVENTS={BREAK:1,SNAP_TO_END:2,IGNORE:3},DEFAULT_EASING=tt=>tt,DEFAULT_INTERRUPTION=TRANSITION_EVENTS.BREAK;class TransitionManager{constructor(et){_defineProperty$4(this,"getControllerState",void 0),_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"propsInTransition",void 0),_defineProperty$4(this,"transition",void 0),_defineProperty$4(this,"onViewStateChange",void 0),_defineProperty$4(this,"onStateChange",void 0),_defineProperty$4(this,"_onTransitionUpdate",nt=>{const{time:rt,settings:{interpolator:it,startProps:st,endProps:ot,duration:at,easing:lt}}=nt,ut=lt(rt/at),ft=it.interpolateProps(st,ot,ut);this.propsInTransition=this.getControllerState({...this.props,...ft}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=et.getControllerState,this.propsInTransition=null,this.transition=new Transition(et.timeline),this.onViewStateChange=et.onViewStateChange||noop$2,this.onStateChange=et.onStateChange||noop$2}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(et){let nt=!1;const rt=this.props;if(this.props=et,!rt||this._shouldIgnoreViewportChange(rt,et))return!1;if(this._isTransitionEnabled(et)){let it=rt;if(this.transition.inProgress){const{interruption:st,endProps:ot}=this.transition.settings;it={...rt,...st===TRANSITION_EVENTS.SNAP_TO_END?ot:this.propsInTransition||rt}}this._triggerTransition(it,et),nt=!0}else this.transition.cancel();return nt}updateTransition(){this.transition.update()}_isTransitionEnabled(et){const{transitionDuration:nt,transitionInterpolator:rt}=et;return(nt>0||nt==="auto")&&!!rt}_isUpdateDueToCurrentTransition(et){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(et,this.propsInTransition):!1}_shouldIgnoreViewportChange(et,nt){return this.transition.inProgress?this.transition.settings.interruption===TRANSITION_EVENTS.IGNORE||this._isUpdateDueToCurrentTransition(nt):this._isTransitionEnabled(nt)?nt.transitionInterpolator.arePropsEqual(et,nt):!0}_triggerTransition(et,nt){const rt=this.getControllerState(et),it=this.getControllerState(nt).shortestPathFrom(rt),st=nt.transitionInterpolator,ot=st.getDuration?st.getDuration(et,nt):nt.transitionDuration;if(ot===0)return;const at=st.initializeProps(et,it);this.propsInTransition={};const lt={duration:ot,easing:nt.transitionEasing||DEFAULT_EASING,interpolator:st,interruption:nt.transitionInterruption||DEFAULT_INTERRUPTION,startProps:at.start,endProps:at.end,onStart:nt.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(nt.onTransitionInterrupt),onEnd:this._onTransitionEnd(nt.onTransitionEnd)};this.transition.start(lt),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(et){return nt=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),et==null||et(nt)}}}class TransitionInterpolator{constructor(et){_defineProperty$4(this,"_propsToCompare",void 0),_defineProperty$4(this,"_propsToExtract",void 0),_defineProperty$4(this,"_requiredProps",void 0);const{compare:nt,extract:rt,required:it}=et;this._propsToCompare=nt,this._propsToExtract=rt||nt,this._requiredProps=it}arePropsEqual(et,nt){for(const rt of this._propsToCompare)if(!(rt in et)||!(rt in nt)||!equals(et[rt],nt[rt]))return!1;return!0}initializeProps(et,nt){const rt={},it={};for(const st of this._propsToExtract)(st in et||st in nt)&&(rt[st]=et[st],it[st]=nt[st]);return this._checkRequiredProps(rt),this._checkRequiredProps(it),{start:rt,end:it}}getDuration(et,nt){return nt.transitionDuration}_checkRequiredProps(et){this._requiredProps&&this._requiredProps.forEach(nt=>{const rt=et[nt];assert$2(Number.isFinite(rt)||Array.isArray(rt),"".concat(nt," is required for transition"))})}}const DEFAULT_PROPS=["longitude","latitude","zoom","bearing","pitch"],DEFAULT_REQUIRED_PROPS=["longitude","latitude","zoom"];class LinearInterpolator extends TransitionInterpolator{constructor(et={}){const nt=Array.isArray(et)?et:et.transitionProps,rt=Array.isArray(et)?{}:et;rt.transitionProps=Array.isArray(nt)?{compare:nt,required:nt}:nt||{compare:DEFAULT_PROPS,required:DEFAULT_REQUIRED_PROPS},super(rt.transitionProps),_defineProperty$4(this,"opts",void 0),this.opts=rt}initializeProps(et,nt){const rt=super.initializeProps(et,nt),{makeViewport:it,around:st}=this.opts;if(it&&st){const ot=it(et),at=it(nt),lt=ot.unproject(st);rt.start.around=st,Object.assign(rt.end,{around:at.project(lt),aroundPosition:lt,width:nt.width,height:nt.height})}return rt}interpolateProps(et,nt,rt){const it={};for(const st of this._propsToExtract)it[st]=lerp$5(et[st]||0,nt[st]||0,rt);if(nt.aroundPosition&&this.opts.makeViewport){const st=this.opts.makeViewport({...nt,...it});Object.assign(it,st.panByPosition(nt.aroundPosition,lerp$5(et.around,nt.around,rt)))}return it}}const NO_TRANSITION_PROPS={transitionDuration:0},DEFAULT_INERTIA=300,INERTIA_EASING=tt=>1-(1-tt)*(1-tt),EVENT_TYPES={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},pinchEventWorkaround={};class Controller{constructor(et){_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"state",{}),_defineProperty$4(this,"transitionManager",void 0),_defineProperty$4(this,"eventManager",void 0),_defineProperty$4(this,"onViewStateChange",void 0),_defineProperty$4(this,"onStateChange",void 0),_defineProperty$4(this,"makeViewport",void 0),_defineProperty$4(this,"_controllerState",void 0),_defineProperty$4(this,"_events",{}),_defineProperty$4(this,"_interactionState",{isDragging:!1}),_defineProperty$4(this,"_customEvents",[]),_defineProperty$4(this,"_eventStartBlocked",null),_defineProperty$4(this,"_panMove",!1),_defineProperty$4(this,"invertPan",!1),_defineProperty$4(this,"dragMode","rotate"),_defineProperty$4(this,"inertia",0),_defineProperty$4(this,"scrollZoom",!0),_defineProperty$4(this,"dragPan",!0),_defineProperty$4(this,"dragRotate",!0),_defineProperty$4(this,"doubleClickZoom",!0),_defineProperty$4(this,"touchZoom",!0),_defineProperty$4(this,"touchRotate",!1),_defineProperty$4(this,"keyboard",!0),this.transitionManager=new TransitionManager({...et,getControllerState:nt=>new this.ControllerState(nt),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=et.eventManager,this.onViewStateChange=et.onViewStateChange||(()=>{}),this.onStateChange=et.onStateChange||(()=>{}),this.makeViewport=et.makeViewport}set events(et){this.toggleEvents(this._customEvents,!1),this.toggleEvents(et,!0),this._customEvents=et,this.props&&this.setProps(this.props)}finalize(){for(const nt in this._events)if(this._events[nt]){var et;(et=this.eventManager)===null||et===void 0||et.off(nt,this.handleEvent)}this.transitionManager.finalize()}handleEvent(et){this._controllerState=void 0;const nt=this._eventStartBlocked;switch(et.type){case"panstart":return nt?!1:this._onPanStart(et);case"panmove":return this._onPan(et);case"panend":return this._onPanEnd(et);case"pinchstart":return nt?!1:this._onPinchStart(et);case"pinchmove":return this._onPinch(et);case"pinchend":return this._onPinchEnd(et);case"tripanstart":return nt?!1:this._onTriplePanStart(et);case"tripanmove":return this._onTriplePan(et);case"tripanend":return this._onTriplePanEnd(et);case"doubletap":return this._onDoubleTap(et);case"wheel":return this._onWheel(et);case"keydown":return this._onKeyDown(et);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(et){const{x:nt,y:rt}=this.props,{offsetCenter:it}=et;return[it.x-nt,it.y-rt]}isPointInBounds(et,nt){const{width:rt,height:it}=this.props;if(nt&&nt.handled)return!1;const st=et[0]>=0&&et[0]<=rt&&et[1]>=0&&et[1]<=it;return st&&nt&&nt.stopPropagation(),st}isFunctionKeyPressed(et){const{srcEvent:nt}=et;return!!(nt.metaKey||nt.altKey||nt.ctrlKey||nt.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(et){const nt=setTimeout(()=>{this._eventStartBlocked===nt&&(this._eventStartBlocked=null)},et);this._eventStartBlocked=nt}setProps(et){et.dragMode&&(this.dragMode=et.dragMode),this.props=et,"transitionInterpolator"in et||(et.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(et);const{inertia:nt}=et;this.inertia=Number.isFinite(nt)?nt:nt===!0?DEFAULT_INERTIA:0;const{scrollZoom:rt=!0,dragPan:it=!0,dragRotate:st=!0,doubleClickZoom:ot=!0,touchZoom:at=!0,touchRotate:lt=!1,keyboard:ut=!0}=et,ft=!!this.onViewStateChange;this.toggleEvents(EVENT_TYPES.WHEEL,ft&&rt),this.toggleEvents(EVENT_TYPES.PAN,ft&&(it||st)),this.toggleEvents(EVENT_TYPES.PINCH,ft&&(at||lt)),this.toggleEvents(EVENT_TYPES.TRIPLE_PAN,ft&&lt),this.toggleEvents(EVENT_TYPES.DOUBLE_TAP,ft&&ot),this.toggleEvents(EVENT_TYPES.KEYBOARD,ft&&ut),this.scrollZoom=rt,this.dragPan=it,this.dragRotate=st,this.doubleClickZoom=ot,this.touchZoom=at,this.touchRotate=lt,this.keyboard=ut}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(et,nt){this.eventManager&&et.forEach(rt=>{this._events[rt]!==nt&&(this._events[rt]=nt,nt?this.eventManager.on(rt,this.handleEvent):this.eventManager.off(rt,this.handleEvent))})}updateViewport(et,nt=null,rt={}){const it={...et.getViewportProps(),...nt},st=this.controllerState!==et;if(this.state=et.getState(),this._setInteractionState(rt),st){const ot=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:it,interactionState:this._interactionState,oldViewState:ot})}}_onTransition(et){this.onViewStateChange({...et,interactionState:this._interactionState})}_setInteractionState(et){Object.assign(this._interactionState,et),this.onStateChange(this._interactionState)}_onPanStart(et){const nt=this.getCenter(et);if(!this.isPointInBounds(nt,et))return!1;let rt=this.isFunctionKeyPressed(et)||et.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(rt=!rt);const it=this.controllerState[rt?"panStart":"rotateStart"]({pos:nt});return this._panMove=rt,this.updateViewport(it,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onPan(et){return this.isDragging()?this._panMove?this._onPanMove(et):this._onPanRotate(et):!1}_onPanEnd(et){return this.isDragging()?this._panMove?this._onPanMoveEnd(et):this._onPanRotateEnd(et):!1}_onPanMove(et){if(!this.dragPan)return!1;const nt=this.getCenter(et),rt=this.controllerState.pan({pos:nt});return this.updateViewport(rt,NO_TRANSITION_PROPS,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(et){const{inertia:nt}=this;if(this.dragPan&&nt&&et.velocity){const rt=this.getCenter(et),it=[rt[0]+et.velocityX*nt/2,rt[1]+et.velocityY*nt/2],st=this.controllerState.pan({pos:it}).panEnd();this.updateViewport(st,{...this._getTransitionProps(),transitionDuration:nt,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:!0})}else{const rt=this.controllerState.panEnd();this.updateViewport(rt,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(et){if(!this.dragRotate)return!1;const nt=this.getCenter(et),rt=this.controllerState.rotate({pos:nt});return this.updateViewport(rt,NO_TRANSITION_PROPS,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(et){const{inertia:nt}=this;if(this.dragRotate&&nt&&et.velocity){const rt=this.getCenter(et),it=[rt[0]+et.velocityX*nt/2,rt[1]+et.velocityY*nt/2],st=this.controllerState.rotate({pos:it}).rotateEnd();this.updateViewport(st,{...this._getTransitionProps(),transitionDuration:nt,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0})}else{const rt=this.controllerState.rotateEnd();this.updateViewport(rt,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(et){if(!this.scrollZoom)return!1;et.srcEvent.preventDefault();const nt=this.getCenter(et);if(!this.isPointInBounds(nt,et))return!1;const{speed:rt=.01,smooth:it=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:st}=et;let ot=2/(1+Math.exp(-Math.abs(st*rt)));st<0&&ot!==0&&(ot=1/ot);const at=this.controllerState.zoom({pos:nt,scale:ot});return this.updateViewport(at,{...this._getTransitionProps({around:nt}),transitionDuration:it?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(et){const nt=this.getCenter(et);if(!this.isPointInBounds(nt,et))return!1;const rt=this.controllerState.rotateStart({pos:nt});return this.updateViewport(rt,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onTriplePan(et){if(!this.touchRotate||!this.isDragging())return!1;const nt=this.getCenter(et);nt[0]-=et.deltaX;const rt=this.controllerState.rotate({pos:nt});return this.updateViewport(rt,NO_TRANSITION_PROPS,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(et){if(!this.isDragging())return!1;const{inertia:nt}=this;if(this.touchRotate&&nt&&et.velocityY){const rt=this.getCenter(et),it=[rt[0],rt[1]+=et.velocityY*nt/2],st=this.controllerState.rotate({pos:it});this.updateViewport(st,{...this._getTransitionProps(),transitionDuration:nt,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0}),this.blockEvents(nt)}else{const rt=this.controllerState.rotateEnd();this.updateViewport(rt,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(et){const nt=this.getCenter(et);if(!this.isPointInBounds(nt,et))return!1;const rt=this.controllerState.zoomStart({pos:nt}).rotateStart({pos:nt});return pinchEventWorkaround._startPinchRotation=et.rotation,pinchEventWorkaround._lastPinchEvent=et,this.updateViewport(rt,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onPinch(et){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let nt=this.controllerState;if(this.touchZoom){const{scale:rt}=et,it=this.getCenter(et);nt=nt.zoom({pos:it,scale:rt})}if(this.touchRotate){const{rotation:rt}=et;nt=nt.rotate({deltaAngleX:pinchEventWorkaround._startPinchRotation-rt})}return this.updateViewport(nt,NO_TRANSITION_PROPS,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),pinchEventWorkaround._lastPinchEvent=et,!0}_onPinchEnd(et){if(!this.isDragging())return!1;const{inertia:nt}=this,{_lastPinchEvent:rt}=pinchEventWorkaround;if(this.touchZoom&&nt&&rt&&et.scale!==rt.scale){const it=this.getCenter(et);let st=this.controllerState.rotateEnd();const ot=Math.log2(et.scale),at=(ot-Math.log2(rt.scale))/(et.deltaTime-rt.deltaTime),lt=Math.pow(2,ot+at*nt/2);st=st.zoom({pos:it,scale:lt}).zoomEnd(),this.updateViewport(st,{...this._getTransitionProps({around:it}),transitionDuration:nt,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(nt)}else{const it=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(it,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return pinchEventWorkaround._startPinchRotation=null,pinchEventWorkaround._lastPinchEvent=null,!0}_onDoubleTap(et){if(!this.doubleClickZoom)return!1;const nt=this.getCenter(et);if(!this.isPointInBounds(nt,et))return!1;const rt=this.isFunctionKeyPressed(et),it=this.controllerState.zoom({pos:nt,scale:rt?.5:2});return this.updateViewport(it,this._getTransitionProps({around:nt}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(et){if(!this.keyboard)return!1;const nt=this.isFunctionKeyPressed(et),{zoomSpeed:rt,moveSpeed:it,rotateSpeedX:st,rotateSpeedY:ot}=this.keyboard===!0?{}:this.keyboard,{controllerState:at}=this;let lt;const ut={};switch(et.srcEvent.code){case"Minus":lt=nt?at.zoomOut(rt).zoomOut(rt):at.zoomOut(rt),ut.isZooming=!0;break;case"Equal":lt=nt?at.zoomIn(rt).zoomIn(rt):at.zoomIn(rt),ut.isZooming=!0;break;case"ArrowLeft":nt?(lt=at.rotateLeft(st),ut.isRotating=!0):(lt=at.moveLeft(it),ut.isPanning=!0);break;case"ArrowRight":nt?(lt=at.rotateRight(st),ut.isRotating=!0):(lt=at.moveRight(it),ut.isPanning=!0);break;case"ArrowUp":nt?(lt=at.rotateUp(ot),ut.isRotating=!0):(lt=at.moveUp(it),ut.isPanning=!0);break;case"ArrowDown":nt?(lt=at.rotateDown(ot),ut.isRotating=!0):(lt=at.moveDown(it),ut.isPanning=!0);break;default:return!1}return this.updateViewport(lt,this._getTransitionProps(),ut),!0}_getTransitionProps(et){const{transition:nt}=this;return!nt||!nt.transitionInterpolator?NO_TRANSITION_PROPS:et?{...nt,transitionInterpolator:new LinearInterpolator({...et,...nt.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:nt}}class ViewState{constructor(et,nt){_defineProperty$4(this,"_viewportProps",void 0),_defineProperty$4(this,"_state",void 0),this._viewportProps=this.applyConstraints(et),this._state=nt}getViewportProps(){return this._viewportProps}getState(){return this._state}}const PITCH_MOUSE_THRESHOLD=5,PITCH_ACCEL=1.2;class MapState extends ViewState{constructor(et){const{width:nt,height:rt,latitude:it,longitude:st,zoom:ot,bearing:at=0,pitch:lt=0,altitude:ut=1.5,position:ft=[0,0,0],maxZoom:dt=20,minZoom:ht=0,maxPitch:mt=60,minPitch:xt=0,startPanLngLat:_t,startZoomLngLat:At,startRotatePos:gt,startBearing:vt,startPitch:Et,startZoom:yt,normalize:wt=!0}=et;assert$2(Number.isFinite(st)),assert$2(Number.isFinite(it)),assert$2(Number.isFinite(ot)),super({width:nt,height:rt,latitude:it,longitude:st,zoom:ot,bearing:at,pitch:lt,altitude:ut,maxZoom:dt,minZoom:ht,maxPitch:mt,minPitch:xt,normalize:wt,position:ft},{startPanLngLat:_t,startZoomLngLat:At,startRotatePos:gt,startBearing:vt,startPitch:Et,startZoom:yt}),_defineProperty$4(this,"makeViewport",void 0),this.makeViewport=et.makeViewport}panStart({pos:et}){return this._getUpdatedState({startPanLngLat:this._unproject(et)})}pan({pos:et,startPos:nt}){const rt=this.getState().startPanLngLat||this._unproject(nt);if(!rt)return this;const st=this.makeViewport(this.getViewportProps()).panByPosition(rt,et);return this._getUpdatedState(st)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:et}){return this._getUpdatedState({startRotatePos:et,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:et,deltaAngleX:nt=0,deltaAngleY:rt=0}){const{startRotatePos:it,startBearing:st,startPitch:ot}=this.getState();if(!it||st===void 0||ot===void 0)return this;let at;return et?at=this._getNewRotation(et,it,ot,st):at={bearing:st+nt,pitch:ot+rt},this._getUpdatedState(at)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:et}){return this._getUpdatedState({startZoomLngLat:this._unproject(et),startZoom:this.getViewportProps().zoom})}zoom({pos:et,startPos:nt,scale:rt}){let{startZoom:it,startZoomLngLat:st}=this.getState();if(st||(it=this.getViewportProps().zoom,st=this._unproject(nt)||this._unproject(et)),!st)return this;const{maxZoom:ot,minZoom:at}=this.getViewportProps();let lt=it+Math.log2(rt);lt=clamp$2(lt,at,ot);const ut=this.makeViewport({...this.getViewportProps(),zoom:lt});return this._getUpdatedState({zoom:lt,...ut.panByPosition(st,et)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(et=2){return this._zoomFromCenter(et)}zoomOut(et=2){return this._zoomFromCenter(1/et)}moveLeft(et=100){return this._panFromCenter([et,0])}moveRight(et=100){return this._panFromCenter([-et,0])}moveUp(et=100){return this._panFromCenter([0,et])}moveDown(et=100){return this._panFromCenter([0,-et])}rotateLeft(et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-et})}rotateRight(et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+et})}rotateUp(et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+et})}rotateDown(et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-et})}shortestPathFrom(et){const nt=et.getViewportProps(),rt={...this.getViewportProps()},{bearing:it,longitude:st}=rt;return Math.abs(it-nt.bearing)>180&&(rt.bearing=it<0?it+360:it-360),Math.abs(st-nt.longitude)>180&&(rt.longitude=st<0?st+360:st-360),rt}applyConstraints(et){const{maxZoom:nt,minZoom:rt,zoom:it}=et;et.zoom=clamp$2(it,rt,nt);const{maxPitch:st,minPitch:ot,pitch:at}=et;et.pitch=clamp$2(at,ot,st);const{normalize:lt=!0}=et;return lt&&Object.assign(et,normalizeViewportProps(et)),et}_zoomFromCenter(et){const{width:nt,height:rt}=this.getViewportProps();return this.zoom({pos:[nt/2,rt/2],scale:et})}_panFromCenter(et){const{width:nt,height:rt}=this.getViewportProps();return this.pan({startPos:[nt/2,rt/2],pos:[nt/2+et[0],rt/2+et[1]]})}_getUpdatedState(et){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...et})}_unproject(et){const nt=this.makeViewport(this.getViewportProps());return et&&nt.unproject(et)}_getNewRotation(et,nt,rt,it){const st=et[0]-nt[0],ot=et[1]-nt[1],at=et[1],lt=nt[1],{width:ut,height:ft}=this.getViewportProps(),dt=st/ut;let ht=0;ot>0?Math.abs(ft-lt)>PITCH_MOUSE_THRESHOLD&&(ht=ot/(lt-ft)*PITCH_ACCEL):ot<0&&lt>PITCH_MOUSE_THRESHOLD&&(ht=1-at/lt),ht=clamp$2(ht,-1,1);const{minPitch:mt,maxPitch:xt}=this.getViewportProps(),_t=it+180*dt;let At=rt;return ht>0?At=rt+ht*(xt-rt):ht<0&&(At=rt-ht*(mt-rt)),{pitch:At,bearing:_t}}}class MapController extends Controller{constructor(...et){super(...et),_defineProperty$4(this,"ControllerState",MapState),_defineProperty$4(this,"transition",{transitionDuration:300,transitionInterpolator:new LinearInterpolator({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),_defineProperty$4(this,"dragMode","pan")}setProps(et){et.position=et.position||[0,0,0];const nt=this.props;super.setProps(et),(!nt||nt.height!==et.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...et,...this.state}))}}class MapView extends View{get ViewportType(){return WebMercatorViewport}get ControllerType(){return MapController}}_defineProperty$4(MapView,"displayName","MapView");const DEFAULT_LIGHTING_EFFECT=new LightingEffect;function compareEffects(tt,et){var nt,rt;const it=(nt=tt.order)!==null&&nt!==void 0?nt:1/0,st=(rt=et.order)!==null&&rt!==void 0?rt:1/0;return it-st}class EffectManager{constructor(){_defineProperty$4(this,"effects",void 0),_defineProperty$4(this,"_resolvedEffects",[]),_defineProperty$4(this,"_defaultEffects",[]),_defineProperty$4(this,"_needsRedraw",void 0),this.effects=[],this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(et){const nt=this._defaultEffects;if(!nt.find(rt=>rt.id===et.id)){const rt=nt.findIndex(it=>compareEffects(it,et)>0);rt<0?nt.push(et):nt.splice(rt,0,et),this._setEffects(this.effects)}}setProps(et){"effects"in et&&(deepEqual$1(et.effects,this.effects,1)||this._setEffects(et.effects))}needsRedraw(et={clearRedrawFlags:!1}){const nt=this._needsRedraw;return et.clearRedrawFlags&&(this._needsRedraw=!1),nt}getEffects(){return this._resolvedEffects}_setEffects(et){const nt={};for(const it of this.effects)nt[it.id]=it;const rt=[];for(const it of et){const st=nt[it.id];st&&st!==it?st.setProps?(st.setProps(it.props),rt.push(st)):(st.cleanup(),rt.push(it)):rt.push(it),delete nt[it.id]}for(const it in nt)nt[it].cleanup();this.effects=rt,this._resolvedEffects=rt.concat(this._defaultEffects),et.some(it=>it instanceof LightingEffect)||this._resolvedEffects.push(DEFAULT_LIGHTING_EFFECT),this._needsRedraw="effects changed"}finalize(){for(const et of this._resolvedEffects)et.cleanup();this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class DrawLayersPass extends LayersPass{shouldDrawLayer(et){const{operation:nt}=et.props;return nt.includes("draw")||nt.includes("terrain")}}const TRACE_RENDER_LAYERS$1="deckRenderer.renderLayers";class DeckRenderer{constructor(et){_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"layerFilter",void 0),_defineProperty$4(this,"drawPickingColors",void 0),_defineProperty$4(this,"drawLayersPass",void 0),_defineProperty$4(this,"pickLayersPass",void 0),_defineProperty$4(this,"renderCount",void 0),_defineProperty$4(this,"_needsRedraw",void 0),_defineProperty$4(this,"renderBuffers",void 0),_defineProperty$4(this,"lastPostProcessEffect",void 0),this.gl=et,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new DrawLayersPass(et),this.pickLayersPass=new PickLayersPass(et),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(et){this.layerFilter!==et.layerFilter&&(this.layerFilter=et.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==et.drawPickingColors&&(this.drawPickingColors=et.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(et){const nt=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,rt={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...et,target:et.target||Framebuffer.getDefaultFramebuffer(this.gl)};rt.effects&&this._preRender(rt.effects,rt);const it=this.lastPostProcessEffect?this.renderBuffers[0]:rt.target,st=nt.render({...rt,target:it});rt.effects&&this._postRender(rt.effects,rt),this.renderCount++,debug(TRACE_RENDER_LAYERS$1,this,st,et)}needsRedraw(et={clearRedrawFlags:!1}){const nt=this._needsRedraw;return et.clearRedrawFlags&&(this._needsRedraw=!1),nt}finalize(){const{renderBuffers:et}=this;for(const nt of et)nt.delete();et.length=0}_preRender(et,nt){this.lastPostProcessEffect=null,nt.preRenderStats=nt.preRenderStats||{};for(const rt of et)nt.preRenderStats[rt.id]=rt.preRender(this.gl,nt),rt.postRender&&(this.lastPostProcessEffect=rt.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:et}=this;et.length===0&&et.push(new Framebuffer(this.gl),new Framebuffer(this.gl));for(const nt of et)nt.resize()}_postRender(et,nt){const{renderBuffers:rt}=this,it={...nt,inputBuffer:rt[0],swapBuffer:rt[1],target:null};for(const st of et)if(st.postRender){if(st.id===this.lastPostProcessEffect){it.target=nt.target,st.postRender(this.gl,it);break}const ot=st.postRender(this.gl,it);it.inputBuffer=ot,it.swapBuffer=ot===rt[0]?rt[1]:rt[0]}}}const NO_PICKED_OBJECT={pickedColor:null,pickedObjectIndex:-1};function getClosestObject({pickedColors:tt,decodePickingColor:et,deviceX:nt,deviceY:rt,deviceRadius:it,deviceRect:st}){const{x:ot,y:at,width:lt,height:ut}=st;let ft=it*it,dt=-1,ht=0;for(let mt=0;mt<ut;mt++){const xt=mt+at-rt,_t=xt*xt;if(_t>ft)ht+=4*lt;else for(let At=0;At<lt;At++){if(tt[ht+3]-1>=0){const vt=At+ot-nt,Et=vt*vt+_t;Et<=ft&&(ft=Et,dt=ht)}ht+=4}}if(dt>=0){const mt=tt.slice(dt,dt+4),xt=et(mt);if(xt){const _t=Math.floor(dt/4/lt),At=dt/4-_t*lt;return{...xt,pickedColor:mt,pickedX:ot+At,pickedY:at+_t}}log$4.error("Picked non-existent layer. Is picking buffer corrupt?")()}return NO_PICKED_OBJECT}function getUniqueObjects({pickedColors:tt,decodePickingColor:et}){const nt=new Map;if(tt){for(let rt=0;rt<tt.length;rt+=4)if(tt[rt+3]-1>=0){const st=tt.slice(rt,rt+4),ot=st.join(",");if(!nt.has(ot)){const at=et(st);at?nt.set(ot,{...at,color:st}):log$4.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(nt.values())}function getEmptyPickingInfo({pickInfo:tt,viewports:et,pixelRatio:nt,x:rt,y:it,z:st}){let ot=et[0];et.length>1&&(ot=getViewportFromCoordinates((tt==null?void 0:tt.pickedViewports)||et,{x:rt,y:it}));let at;if(ot){const lt=[rt-ot.x,it-ot.y];st!==void 0&&(lt[2]=st),at=ot.unproject(lt)}return{color:null,layer:null,viewport:ot,index:-1,picked:!1,x:rt,y:it,pixel:[rt,it],coordinate:at,devicePixel:tt&&"pickedX"in tt?[tt.pickedX,tt.pickedY]:void 0,pixelRatio:nt}}function processPickInfo(tt){const{pickInfo:et,lastPickedInfo:nt,mode:rt,layers:it}=tt,{pickedColor:st,pickedLayer:ot,pickedObjectIndex:at}=et,lt=ot?[ot]:[];if(rt==="hover"){const dt=nt.index,ht=nt.layerId,mt=ot?ot.props.id:null;if(mt!==ht||at!==dt){if(mt!==ht){const xt=it.find(_t=>_t.props.id===ht);xt&&lt.unshift(xt)}nt.layerId=mt,nt.index=at,nt.info=null}}const ut=getEmptyPickingInfo(tt),ft=new Map;return ft.set(null,ut),lt.forEach(dt=>{let ht={...ut};dt===ot&&(ht.color=st,ht.index=at,ht.picked=!0),ht=getLayerPickingInfo({layer:dt,info:ht,mode:rt});const mt=ht.layer;dt===ot&&rt==="hover"&&(nt.info=ht),ft.set(mt.id,ht),rt==="hover"&&mt.updateAutoHighlight(ht)}),ft}function getLayerPickingInfo({layer:tt,info:et,mode:nt}){for(;tt&&et;){const rt=et.layer||null;et.sourceLayer=rt,et.layer=tt,et=tt.getPickingInfo({info:et,mode:nt,sourceLayer:rt}),tt=tt.parent}return et}function getViewportFromCoordinates(tt,et){for(let nt=tt.length-1;nt>=0;nt--){const rt=tt[nt];if(rt.containsPixel(et))return rt}return tt[0]}class DeckPicker{constructor(et){_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"pickingFBO",void 0),_defineProperty$4(this,"depthFBO",void 0),_defineProperty$4(this,"pickLayersPass",void 0),_defineProperty$4(this,"layerFilter",void 0),_defineProperty$4(this,"lastPickedInfo",void 0),_defineProperty$4(this,"_pickable",!0),this.gl=et,this.pickLayersPass=new PickLayersPass(et),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(et){"layerFilter"in et&&(this.layerFilter=et.layerFilter),"_pickable"in et&&(this._pickable=et._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(et){return this._pickClosestObject(et)}pickObjects(et){return this._pickVisibleObjects(et)}getLastPickedObject({x:et,y:nt,layers:rt,viewports:it},st=this.lastPickedInfo.info){const ot=st&&st.layer&&st.layer.id,at=st&&st.viewport&&st.viewport.id,lt=ot?rt.find(ht=>ht.id===ot):null,ut=at&&it.find(ht=>ht.id===at)||it[0],ft=ut&&ut.unproject([et-ut.x,nt-ut.y]);return{...st,...{x:et,y:nt,viewport:ut,coordinate:ft,layer:lt}}}_resizeBuffer(){var et,nt;const{gl:rt}=this;if(!this.pickingFBO&&(this.pickingFBO=new Framebuffer(rt),Framebuffer.isSupported(rt,{colorBufferFloat:!0}))){const it=new Framebuffer(rt);it.attach({[36064]:new Texture2D(rt,{format:isWebGL2$1(rt)?34836:6408,type:5126})}),this.depthFBO=it}(et=this.pickingFBO)===null||et===void 0||et.resize({width:rt.canvas.width,height:rt.canvas.height}),(nt=this.depthFBO)===null||nt===void 0||nt.resize({width:rt.canvas.width,height:rt.canvas.height})}_getPickable(et){if(this._pickable===!1)return null;const nt=et.filter(rt=>this.pickLayersPass.shouldDrawLayer(rt)&&!rt.isComposite);return nt.length?nt:null}_pickClosestObject({layers:et,views:nt,viewports:rt,x:it,y:st,radius:ot=0,depth:at=1,mode:lt="query",unproject3D:ut,onViewportActive:ft,effects:dt}){const ht=this._getPickable(et),mt=cssToDeviceRatio(this.gl);if(!ht)return{result:[],emptyInfo:getEmptyPickingInfo({viewports:rt,x:it,y:st,pixelRatio:mt})};this._resizeBuffer();const xt=cssToDevicePixels(this.gl,[it,st],!0),_t=[xt.x+Math.floor(xt.width/2),xt.y+Math.floor(xt.height/2)],At=Math.round(ot*mt),{width:gt,height:vt}=this.pickingFBO,Et=this._getPickingRect({deviceX:_t[0],deviceY:_t[1],deviceRadius:At,deviceWidth:gt,deviceHeight:vt}),yt={x:it-ot,y:st-ot,width:ot*2+1,height:ot*2+1};let wt;const Ct=[],Rt=new Set;for(let It=0;It<at;It++){let $t;if(Et){const Bt=this._drawAndSample({layers:ht,views:nt,viewports:rt,onViewportActive:ft,deviceRect:Et,cullRect:yt,effects:dt,pass:"picking:".concat(lt)});$t=getClosestObject({...Bt,deviceX:_t[0],deviceY:_t[1],deviceRadius:At,deviceRect:Et})}else $t={pickedColor:null,pickedObjectIndex:-1};let Ft;if($t.pickedLayer&&ut&&this.depthFBO){const{pickedColors:Bt}=this._drawAndSample({layers:[$t.pickedLayer],views:nt,viewports:rt,onViewportActive:ft,deviceRect:{x:$t.pickedX,y:$t.pickedY,width:1,height:1},cullRect:yt,effects:dt,pass:"picking:".concat(lt,":z")},!0);Bt[3]&&(Ft=Bt[0])}$t.pickedLayer&&It+1<at&&(Rt.add($t.pickedLayer),$t.pickedLayer.disablePickingIndex($t.pickedObjectIndex)),wt=processPickInfo({pickInfo:$t,lastPickedInfo:this.lastPickedInfo,mode:lt,layers:ht,viewports:rt,x:it,y:st,z:Ft,pixelRatio:mt});for(const Bt of wt.values())Bt.layer&&Ct.push(Bt);if(!$t.pickedColor)break}for(const It of Rt)It.restorePickingColors();return{result:Ct,emptyInfo:wt.get(null)}}_pickVisibleObjects({layers:et,views:nt,viewports:rt,x:it,y:st,width:ot=1,height:at=1,mode:lt="query",maxObjects:ut=null,onViewportActive:ft,effects:dt}){const ht=this._getPickable(et);if(!ht)return[];this._resizeBuffer();const mt=cssToDeviceRatio(this.gl),xt=cssToDevicePixels(this.gl,[it,st],!0),_t=xt.x,At=xt.y+xt.height,gt=cssToDevicePixels(this.gl,[it+ot,st+at],!0),vt=gt.x+gt.width,Et=gt.y,yt={x:_t,y:Et,width:vt-_t,height:At-Et},wt=this._drawAndSample({layers:ht,views:nt,viewports:rt,onViewportActive:ft,deviceRect:yt,cullRect:{x:it,y:st,width:ot,height:at},effects:dt,pass:"picking:".concat(lt)}),Ct=getUniqueObjects(wt),Rt=new Map,It=Number.isFinite(ut);for(let $t=0;$t<Ct.length&&!(It&&ut&&Rt.size>=ut);$t++){const Ft=Ct[$t];let Bt={color:Ft.pickedColor,layer:null,index:Ft.pickedObjectIndex,picked:!0,x:it,y:st,pixelRatio:mt};Bt=getLayerPickingInfo({layer:Ft.pickedLayer,info:Bt,mode:lt}),Rt.has(Bt.object)||Rt.set(Bt.object,Bt)}return Array.from(Rt.values())}_drawAndSample({layers:et,views:nt,viewports:rt,onViewportActive:it,deviceRect:st,cullRect:ot,effects:at,pass:lt},ut=!1){const ft=ut?this.depthFBO:this.pickingFBO,dt={layers:et,layerFilter:this.layerFilter,views:nt,viewports:rt,onViewportActive:it,pickingFBO:ft,deviceRect:st,cullRect:ot,effects:at,pass:lt,pickZ:ut,preRenderStats:{}};for(const vt of at)vt.useInPicking&&(dt.preRenderStats[vt.id]=vt.preRender(this.gl,dt));const{decodePickingColor:ht}=this.pickLayersPass.render(dt),{x:mt,y:xt,width:_t,height:At}=st,gt=new(ut?Float32Array:Uint8Array)(_t*At*4);return readPixelsToArray(ft,{sourceX:mt,sourceY:xt,sourceWidth:_t,sourceHeight:At,target:gt}),{pickedColors:gt,decodePickingColor:ht}}_getPickingRect({deviceX:et,deviceY:nt,deviceRadius:rt,deviceWidth:it,deviceHeight:st}){const ot=Math.max(0,et-rt),at=Math.max(0,nt-rt),lt=Math.min(it,et+rt+1)-ot,ut=Math.min(st,nt+rt+1)-at;return lt<=0||ut<=0?null:{x:ot,y:at,width:lt,height:ut}}}const defaultStyle={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class Tooltip{constructor(et){_defineProperty$4(this,"el",null),_defineProperty$4(this,"isVisible",!1);const nt=et.parentElement;nt&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,defaultStyle),nt.appendChild(this.el))}setTooltip(et,nt,rt){const it=this.el;if(it){if(typeof et=="string")it.innerText=et;else if(et)et.text&&(it.innerText=et.text),et.html&&(it.innerHTML=et.html),et.className&&(it.className=et.className),Object.assign(it.style,et.style);else{this.isVisible=!1,it.style.display="none";return}this.isVisible=!0,it.style.display="block",it.style.transform="translate(".concat(nt,"px, ").concat(rt,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}var hammer$1={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(tt){(function(et,nt,rt,it){var st=["","webkit","Moz","MS","ms","o"],ot=nt.createElement("div"),at="function",lt=Math.round,ut=Math.abs,ft=Date.now;function dt(cn,xn,Sn){return setTimeout(Et(cn,Sn),xn)}function ht(cn,xn,Sn){return Array.isArray(cn)?(mt(cn,Sn[xn],Sn),!0):!1}function mt(cn,xn,Sn){var Bn;if(cn)if(cn.forEach)cn.forEach(xn,Sn);else if(cn.length!==it)for(Bn=0;Bn<cn.length;)xn.call(Sn,cn[Bn],Bn,cn),Bn++;else for(Bn in cn)cn.hasOwnProperty(Bn)&&xn.call(Sn,cn[Bn],Bn,cn)}function xt(cn,xn,Sn){var Bn="DEPRECATED METHOD: "+xn+`
`+Sn+` AT 
`;return function(){var Xn=new Error("get-stack-trace"),Hn=Xn&&Xn.stack?Xn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",mr=et.console&&(et.console.warn||et.console.log);return mr&&mr.call(et.console,Bn,Hn),cn.apply(this,arguments)}}var _t;typeof Object.assign!="function"?_t=function(xn){if(xn===it||xn===null)throw new TypeError("Cannot convert undefined or null to object");for(var Sn=Object(xn),Bn=1;Bn<arguments.length;Bn++){var Xn=arguments[Bn];if(Xn!==it&&Xn!==null)for(var Hn in Xn)Xn.hasOwnProperty(Hn)&&(Sn[Hn]=Xn[Hn])}return Sn}:_t=Object.assign;var At=xt(function(xn,Sn,Bn){for(var Xn=Object.keys(Sn),Hn=0;Hn<Xn.length;)(!Bn||Bn&&xn[Xn[Hn]]===it)&&(xn[Xn[Hn]]=Sn[Xn[Hn]]),Hn++;return xn},"extend","Use `assign`."),gt=xt(function(xn,Sn){return At(xn,Sn,!0)},"merge","Use `assign`.");function vt(cn,xn,Sn){var Bn=xn.prototype,Xn;Xn=cn.prototype=Object.create(Bn),Xn.constructor=cn,Xn._super=Bn,Sn&&_t(Xn,Sn)}function Et(cn,xn){return function(){return cn.apply(xn,arguments)}}function yt(cn,xn){return typeof cn==at?cn.apply(xn&&xn[0]||it,xn):cn}function wt(cn,xn){return cn===it?xn:cn}function Ct(cn,xn,Sn){mt(Ft(xn),function(Bn){cn.addEventListener(Bn,Sn,!1)})}function Rt(cn,xn,Sn){mt(Ft(xn),function(Bn){cn.removeEventListener(Bn,Sn,!1)})}function It(cn,xn){for(;cn;){if(cn==xn)return!0;cn=cn.parentNode}return!1}function $t(cn,xn){return cn.indexOf(xn)>-1}function Ft(cn){return cn.trim().split(/\s+/g)}function Bt(cn,xn,Sn){if(cn.indexOf&&!Sn)return cn.indexOf(xn);for(var Bn=0;Bn<cn.length;){if(Sn&&cn[Bn][Sn]==xn||!Sn&&cn[Bn]===xn)return Bn;Bn++}return-1}function Nt(cn){return Array.prototype.slice.call(cn,0)}function Xt(cn,xn,Sn){for(var Bn=[],Xn=[],Hn=0;Hn<cn.length;){var mr=xn?cn[Hn][xn]:cn[Hn];Bt(Xn,mr)<0&&Bn.push(cn[Hn]),Xn[Hn]=mr,Hn++}return Sn&&(xn?Bn=Bn.sort(function(Cr,Rr){return Cr[xn]>Rr[xn]}):Bn=Bn.sort()),Bn}function nn(cn,xn){for(var Sn,Bn,Xn=xn[0].toUpperCase()+xn.slice(1),Hn=0;Hn<st.length;){if(Sn=st[Hn],Bn=Sn?Sn+Xn:xn,Bn in cn)return Bn;Hn++}return it}var sn=1;function rn(){return sn++}function Jt(cn){var xn=cn.ownerDocument||cn;return xn.defaultView||xn.parentWindow||et}var Ut=/mobile|tablet|ip(ad|hone|od)|android/i,Kt="ontouchstart"in et,Qt=nn(et,"PointerEvent")!==it,zt=Kt&&Ut.test(navigator.userAgent),Ht="touch",en="pen",an="mouse",on="kinect",Wt=25,mn=1,vn=2,En=4,Cn=8,$n=1,Fn=2,Ln=4,Mn=8,Gn=16,er=Fn|Ln,un=Mn|Gn,dn=er|un,yn=["x","y"],bn=["clientX","clientY"];function Tn(cn,xn){var Sn=this;this.manager=cn,this.callback=xn,this.element=cn.element,this.target=cn.options.inputTarget,this.domHandler=function(Bn){yt(cn.options.enable,[cn])&&Sn.handler(Bn)},this.init()}Tn.prototype={handler:function(){},init:function(){this.evEl&&Ct(this.element,this.evEl,this.domHandler),this.evTarget&&Ct(this.target,this.evTarget,this.domHandler),this.evWin&&Ct(Jt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Rt(this.element,this.evEl,this.domHandler),this.evTarget&&Rt(this.target,this.evTarget,this.domHandler),this.evWin&&Rt(Jt(this.element),this.evWin,this.domHandler)}};function Pn(cn){var xn,Sn=cn.options.inputClass;return Sn?xn=Sn:Qt?xn=Sr:zt?xn=Br:Kt?xn=cr:xn=ar,new xn(cn,Yn)}function Yn(cn,xn,Sn){var Bn=Sn.pointers.length,Xn=Sn.changedPointers.length,Hn=xn&mn&&Bn-Xn===0,mr=xn&(En|Cn)&&Bn-Xn===0;Sn.isFirst=!!Hn,Sn.isFinal=!!mr,Hn&&(cn.session={}),Sn.eventType=xn,Un(cn,Sn),cn.emit("hammer.input",Sn),cn.recognize(Sn),cn.session.prevInput=Sn}function Un(cn,xn){var Sn=cn.session,Bn=xn.pointers,Xn=Bn.length;Sn.firstInput||(Sn.firstInput=Kn(xn)),Xn>1&&!Sn.firstMultiple?Sn.firstMultiple=Kn(xn):Xn===1&&(Sn.firstMultiple=!1);var Hn=Sn.firstInput,mr=Sn.firstMultiple,yr=mr?mr.center:Hn.center,Cr=xn.center=Vn(Bn);xn.timeStamp=ft(),xn.deltaTime=xn.timeStamp-Hn.timeStamp,xn.angle=Rs(yr,Cr),xn.distance=Gr(yr,Cr),Nn(Sn,xn),xn.offsetDirection=gr(xn.deltaX,xn.deltaY);var Rr=ir(xn.deltaTime,xn.deltaX,xn.deltaY);xn.overallVelocityX=Rr.x,xn.overallVelocityY=Rr.y,xn.overallVelocity=ut(Rr.x)>ut(Rr.y)?Rr.x:Rr.y,xn.scale=mr?kn(mr.pointers,Bn):1,xn.rotation=mr?$s(mr.pointers,Bn):0,xn.maxPointers=Sn.prevInput?xn.pointers.length>Sn.prevInput.maxPointers?xn.pointers.length:Sn.prevInput.maxPointers:xn.pointers.length,rr(Sn,xn);var zr=cn.element;It(xn.srcEvent.target,zr)&&(zr=xn.srcEvent.target),xn.target=zr}function Nn(cn,xn){var Sn=xn.center,Bn=cn.offsetDelta||{},Xn=cn.prevDelta||{},Hn=cn.prevInput||{};(xn.eventType===mn||Hn.eventType===En)&&(Xn=cn.prevDelta={x:Hn.deltaX||0,y:Hn.deltaY||0},Bn=cn.offsetDelta={x:Sn.x,y:Sn.y}),xn.deltaX=Xn.x+(Sn.x-Bn.x),xn.deltaY=Xn.y+(Sn.y-Bn.y)}function rr(cn,xn){var Sn=cn.lastInterval||xn,Bn=xn.timeStamp-Sn.timeStamp,Xn,Hn,mr,yr;if(xn.eventType!=Cn&&(Bn>Wt||Sn.velocity===it)){var Cr=xn.deltaX-Sn.deltaX,Rr=xn.deltaY-Sn.deltaY,zr=ir(Bn,Cr,Rr);Hn=zr.x,mr=zr.y,Xn=ut(zr.x)>ut(zr.y)?zr.x:zr.y,yr=gr(Cr,Rr),cn.lastInterval=xn}else Xn=Sn.velocity,Hn=Sn.velocityX,mr=Sn.velocityY,yr=Sn.direction;xn.velocity=Xn,xn.velocityX=Hn,xn.velocityY=mr,xn.direction=yr}function Kn(cn){for(var xn=[],Sn=0;Sn<cn.pointers.length;)xn[Sn]={clientX:lt(cn.pointers[Sn].clientX),clientY:lt(cn.pointers[Sn].clientY)},Sn++;return{timeStamp:ft(),pointers:xn,center:Vn(xn),deltaX:cn.deltaX,deltaY:cn.deltaY}}function Vn(cn){var xn=cn.length;if(xn===1)return{x:lt(cn[0].clientX),y:lt(cn[0].clientY)};for(var Sn=0,Bn=0,Xn=0;Xn<xn;)Sn+=cn[Xn].clientX,Bn+=cn[Xn].clientY,Xn++;return{x:lt(Sn/xn),y:lt(Bn/xn)}}function ir(cn,xn,Sn){return{x:xn/cn||0,y:Sn/cn||0}}function gr(cn,xn){return cn===xn?$n:ut(cn)>=ut(xn)?cn<0?Fn:Ln:xn<0?Mn:Gn}function Gr(cn,xn,Sn){Sn||(Sn=yn);var Bn=xn[Sn[0]]-cn[Sn[0]],Xn=xn[Sn[1]]-cn[Sn[1]];return Math.sqrt(Bn*Bn+Xn*Xn)}function Rs(cn,xn,Sn){Sn||(Sn=yn);var Bn=xn[Sn[0]]-cn[Sn[0]],Xn=xn[Sn[1]]-cn[Sn[1]];return Math.atan2(Xn,Bn)*180/Math.PI}function $s(cn,xn){return Rs(xn[1],xn[0],bn)+Rs(cn[1],cn[0],bn)}function kn(cn,xn){return Gr(xn[0],xn[1],bn)/Gr(cn[0],cn[1],bn)}var or={mousedown:mn,mousemove:vn,mouseup:En},sr="mousedown",Ar="mousemove mouseup";function ar(){this.evEl=sr,this.evWin=Ar,this.pressed=!1,Tn.apply(this,arguments)}vt(ar,Tn,{handler:function(xn){var Sn=or[xn.type];Sn&mn&&xn.button===0&&(this.pressed=!0),Sn&vn&&xn.which!==1&&(Sn=En),this.pressed&&(Sn&En&&(this.pressed=!1),this.callback(this.manager,Sn,{pointers:[xn],changedPointers:[xn],pointerType:an,srcEvent:xn}))}});var Pr={pointerdown:mn,pointermove:vn,pointerup:En,pointercancel:Cn,pointerout:Cn},dr={2:Ht,3:en,4:an,5:on},xr="pointerdown",pr="pointermove pointerup pointercancel";et.MSPointerEvent&&!et.PointerEvent&&(xr="MSPointerDown",pr="MSPointerMove MSPointerUp MSPointerCancel");function Sr(){this.evEl=xr,this.evWin=pr,Tn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}vt(Sr,Tn,{handler:function(xn){var Sn=this.store,Bn=!1,Xn=xn.type.toLowerCase().replace("ms",""),Hn=Pr[Xn],mr=dr[xn.pointerType]||xn.pointerType,yr=mr==Ht,Cr=Bt(Sn,xn.pointerId,"pointerId");Hn&mn&&(xn.button===0||yr)?Cr<0&&(Sn.push(xn),Cr=Sn.length-1):Hn&(En|Cn)&&(Bn=!0),!(Cr<0)&&(Sn[Cr]=xn,this.callback(this.manager,Hn,{pointers:Sn,changedPointers:[xn],pointerType:mr,srcEvent:xn}),Bn&&Sn.splice(Cr,1))}});var Or={touchstart:mn,touchmove:vn,touchend:En,touchcancel:Cn},Ur="touchstart",Ir="touchstart touchmove touchend touchcancel";function jr(){this.evTarget=Ur,this.evWin=Ir,this.started=!1,Tn.apply(this,arguments)}vt(jr,Tn,{handler:function(xn){var Sn=Or[xn.type];if(Sn===mn&&(this.started=!0),!!this.started){var Bn=rs.call(this,xn,Sn);Sn&(En|Cn)&&Bn[0].length-Bn[1].length===0&&(this.started=!1),this.callback(this.manager,Sn,{pointers:Bn[0],changedPointers:Bn[1],pointerType:Ht,srcEvent:xn})}}});function rs(cn,xn){var Sn=Nt(cn.touches),Bn=Nt(cn.changedTouches);return xn&(En|Cn)&&(Sn=Xt(Sn.concat(Bn),"identifier",!0)),[Sn,Bn]}var Er={touchstart:mn,touchmove:vn,touchend:En,touchcancel:Cn},ps="touchstart touchmove touchend touchcancel";function Br(){this.evTarget=ps,this.targetIds={},Tn.apply(this,arguments)}vt(Br,Tn,{handler:function(xn){var Sn=Er[xn.type],Bn=is.call(this,xn,Sn);Bn&&this.callback(this.manager,Sn,{pointers:Bn[0],changedPointers:Bn[1],pointerType:Ht,srcEvent:xn})}});function is(cn,xn){var Sn=Nt(cn.touches),Bn=this.targetIds;if(xn&(mn|vn)&&Sn.length===1)return Bn[Sn[0].identifier]=!0,[Sn,Sn];var Xn,Hn,mr=Nt(cn.changedTouches),yr=[],Cr=this.target;if(Hn=Sn.filter(function(Rr){return It(Rr.target,Cr)}),xn===mn)for(Xn=0;Xn<Hn.length;)Bn[Hn[Xn].identifier]=!0,Xn++;for(Xn=0;Xn<mr.length;)Bn[mr[Xn].identifier]&&yr.push(mr[Xn]),xn&(En|Cn)&&delete Bn[mr[Xn].identifier],Xn++;if(yr.length)return[Xt(Hn.concat(yr),"identifier",!0),yr]}var ur=2500,Ls=25;function cr(){Tn.apply(this,arguments);var cn=Et(this.handler,this);this.touch=new Br(this.manager,cn),this.mouse=new ar(this.manager,cn),this.primaryTouch=null,this.lastTouches=[]}vt(cr,Tn,{handler:function(xn,Sn,Bn){var Xn=Bn.pointerType==Ht,Hn=Bn.pointerType==an;if(!(Hn&&Bn.sourceCapabilities&&Bn.sourceCapabilities.firesTouchEvents)){if(Xn)Mr.call(this,Sn,Bn);else if(Hn&&wr.call(this,Bn))return;this.callback(xn,Sn,Bn)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Mr(cn,xn){cn&mn?(this.primaryTouch=xn.changedPointers[0].identifier,js.call(this,xn)):cn&(En|Cn)&&js.call(this,xn)}function js(cn){var xn=cn.changedPointers[0];if(xn.identifier===this.primaryTouch){var Sn={x:xn.clientX,y:xn.clientY};this.lastTouches.push(Sn);var Bn=this.lastTouches,Xn=function(){var Hn=Bn.indexOf(Sn);Hn>-1&&Bn.splice(Hn,1)};setTimeout(Xn,ur)}}function wr(cn){for(var xn=cn.srcEvent.clientX,Sn=cn.srcEvent.clientY,Bn=0;Bn<this.lastTouches.length;Bn++){var Xn=this.lastTouches[Bn],Hn=Math.abs(xn-Xn.x),mr=Math.abs(Sn-Xn.y);if(Hn<=Ls&&mr<=Ls)return!0}return!1}var ys=nn(ot.style,"touchAction"),ss=ys!==it,os="compute",xs="auto",ts="manipulation",Fr="none",Jr="pan-x",hs="pan-y",Os=go();function uo(cn,xn){this.manager=cn,this.set(xn)}uo.prototype={set:function(cn){cn==os&&(cn=this.compute()),ss&&this.manager.element.style&&Os[cn]&&(this.manager.element.style[ys]=cn),this.actions=cn.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var cn=[];return mt(this.manager.recognizers,function(xn){yt(xn.options.enable,[xn])&&(cn=cn.concat(xn.getTouchAction()))}),ws(cn.join(" "))},preventDefaults:function(cn){var xn=cn.srcEvent,Sn=cn.offsetDirection;if(this.manager.session.prevented){xn.preventDefault();return}var Bn=this.actions,Xn=$t(Bn,Fr)&&!Os[Fr],Hn=$t(Bn,hs)&&!Os[hs],mr=$t(Bn,Jr)&&!Os[Jr];if(Xn){var yr=cn.pointers.length===1,Cr=cn.distance<2,Rr=cn.deltaTime<250;if(yr&&Cr&&Rr)return}if(!(mr&&Hn)&&(Xn||Hn&&Sn&er||mr&&Sn&un))return this.preventSrc(xn)},preventSrc:function(cn){this.manager.session.prevented=!0,cn.preventDefault()}};function ws(cn){if($t(cn,Fr))return Fr;var xn=$t(cn,Jr),Sn=$t(cn,hs);return xn&&Sn?Fr:xn||Sn?xn?Jr:hs:$t(cn,ts)?ts:xs}function go(){if(!ss)return!1;var cn={},xn=et.CSS&&et.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Sn){cn[Sn]=xn?et.CSS.supports("touch-action",Sn):!0}),cn}var Vr=1,Ns=2,Ts=4,eo=8,ao=eo,vo=16,Vs=32;function co(cn){this.options=_t({},this.defaults,cn||{}),this.id=rn(),this.manager=null,this.options.enable=wt(this.options.enable,!0),this.state=Vr,this.simultaneous={},this.requireFail=[]}co.prototype={defaults:{},set:function(cn){return _t(this.options,cn),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(cn){if(ht(cn,"recognizeWith",this))return this;var xn=this.simultaneous;return cn=Hr(cn,this),xn[cn.id]||(xn[cn.id]=cn,cn.recognizeWith(this)),this},dropRecognizeWith:function(cn){return ht(cn,"dropRecognizeWith",this)?this:(cn=Hr(cn,this),delete this.simultaneous[cn.id],this)},requireFailure:function(cn){if(ht(cn,"requireFailure",this))return this;var xn=this.requireFail;return cn=Hr(cn,this),Bt(xn,cn)===-1&&(xn.push(cn),cn.requireFailure(this)),this},dropRequireFailure:function(cn){if(ht(cn,"dropRequireFailure",this))return this;cn=Hr(cn,this);var xn=Bt(this.requireFail,cn);return xn>-1&&this.requireFail.splice(xn,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(cn){return!!this.simultaneous[cn.id]},emit:function(cn){var xn=this,Sn=this.state;function Bn(Xn){xn.manager.emit(Xn,cn)}Sn<eo&&Bn(xn.options.event+Bo(Sn)),Bn(xn.options.event),cn.additionalEvent&&Bn(cn.additionalEvent),Sn>=eo&&Bn(xn.options.event+Bo(Sn))},tryEmit:function(cn){if(this.canEmit())return this.emit(cn);this.state=Vs},canEmit:function(){for(var cn=0;cn<this.requireFail.length;){if(!(this.requireFail[cn].state&(Vs|Vr)))return!1;cn++}return!0},recognize:function(cn){var xn=_t({},cn);if(!yt(this.options.enable,[this,xn])){this.reset(),this.state=Vs;return}this.state&(ao|vo|Vs)&&(this.state=Vr),this.state=this.process(xn),this.state&(Ns|Ts|eo|vo)&&this.tryEmit(xn)},process:function(cn){},getTouchAction:function(){},reset:function(){}};function Bo(cn){return cn&vo?"cancel":cn&eo?"end":cn&Ts?"move":cn&Ns?"start":""}function Ks(cn){return cn==Gn?"down":cn==Mn?"up":cn==Fn?"left":cn==Ln?"right":""}function Hr(cn,xn){var Sn=xn.manager;return Sn?Sn.get(cn):cn}function Kr(){co.apply(this,arguments)}vt(Kr,co,{defaults:{pointers:1},attrTest:function(cn){var xn=this.options.pointers;return xn===0||cn.pointers.length===xn},process:function(cn){var xn=this.state,Sn=cn.eventType,Bn=xn&(Ns|Ts),Xn=this.attrTest(cn);return Bn&&(Sn&Cn||!Xn)?xn|vo:Bn||Xn?Sn&En?xn|eo:xn&Ns?xn|Ts:Ns:Vs}});function ks(){Kr.apply(this,arguments),this.pX=null,this.pY=null}vt(ks,Kr,{defaults:{event:"pan",threshold:10,pointers:1,direction:dn},getTouchAction:function(){var cn=this.options.direction,xn=[];return cn&er&&xn.push(hs),cn&un&&xn.push(Jr),xn},directionTest:function(cn){var xn=this.options,Sn=!0,Bn=cn.distance,Xn=cn.direction,Hn=cn.deltaX,mr=cn.deltaY;return Xn&xn.direction||(xn.direction&er?(Xn=Hn===0?$n:Hn<0?Fn:Ln,Sn=Hn!=this.pX,Bn=Math.abs(cn.deltaX)):(Xn=mr===0?$n:mr<0?Mn:Gn,Sn=mr!=this.pY,Bn=Math.abs(cn.deltaY))),cn.direction=Xn,Sn&&Bn>xn.threshold&&Xn&xn.direction},attrTest:function(cn){return Kr.prototype.attrTest.call(this,cn)&&(this.state&Ns||!(this.state&Ns)&&this.directionTest(cn))},emit:function(cn){this.pX=cn.deltaX,this.pY=cn.deltaY;var xn=Ks(cn.direction);xn&&(cn.additionalEvent=this.options.event+xn),this._super.emit.call(this,cn)}});function to(){Kr.apply(this,arguments)}vt(to,Kr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Fr]},attrTest:function(cn){return this._super.attrTest.call(this,cn)&&(Math.abs(cn.scale-1)>this.options.threshold||this.state&Ns)},emit:function(cn){if(cn.scale!==1){var xn=cn.scale<1?"in":"out";cn.additionalEvent=this.options.event+xn}this._super.emit.call(this,cn)}});function Zs(){co.apply(this,arguments),this._timer=null,this._input=null}vt(Zs,co,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xs]},process:function(cn){var xn=this.options,Sn=cn.pointers.length===xn.pointers,Bn=cn.distance<xn.threshold,Xn=cn.deltaTime>xn.time;if(this._input=cn,!Bn||!Sn||cn.eventType&(En|Cn)&&!Xn)this.reset();else if(cn.eventType&mn)this.reset(),this._timer=dt(function(){this.state=ao,this.tryEmit()},xn.time,this);else if(cn.eventType&En)return ao;return Vs},reset:function(){clearTimeout(this._timer)},emit:function(cn){this.state===ao&&(cn&&cn.eventType&En?this.manager.emit(this.options.event+"up",cn):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}});function To(){Kr.apply(this,arguments)}vt(To,Kr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Fr]},attrTest:function(cn){return this._super.attrTest.call(this,cn)&&(Math.abs(cn.rotation)>this.options.threshold||this.state&Ns)}});function Lr(){Kr.apply(this,arguments)}vt(Lr,Kr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:er|un,pointers:1},getTouchAction:function(){return ks.prototype.getTouchAction.call(this)},attrTest:function(cn){var xn=this.options.direction,Sn;return xn&(er|un)?Sn=cn.overallVelocity:xn&er?Sn=cn.overallVelocityX:xn&un&&(Sn=cn.overallVelocityY),this._super.attrTest.call(this,cn)&&xn&cn.offsetDirection&&cn.distance>this.options.threshold&&cn.maxPointers==this.options.pointers&&ut(Sn)>this.options.velocity&&cn.eventType&En},emit:function(cn){var xn=Ks(cn.offsetDirection);xn&&this.manager.emit(this.options.event+xn,cn),this.manager.emit(this.options.event,cn)}});function ns(){co.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}vt(ns,co,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ts]},process:function(cn){var xn=this.options,Sn=cn.pointers.length===xn.pointers,Bn=cn.distance<xn.threshold,Xn=cn.deltaTime<xn.time;if(this.reset(),cn.eventType&mn&&this.count===0)return this.failTimeout();if(Bn&&Xn&&Sn){if(cn.eventType!=En)return this.failTimeout();var Hn=this.pTime?cn.timeStamp-this.pTime<xn.interval:!0,mr=!this.pCenter||Gr(this.pCenter,cn.center)<xn.posThreshold;this.pTime=cn.timeStamp,this.pCenter=cn.center,!mr||!Hn?this.count=1:this.count+=1,this._input=cn;var yr=this.count%xn.taps;if(yr===0)return this.hasRequireFailures()?(this._timer=dt(function(){this.state=ao,this.tryEmit()},xn.interval,this),Ns):ao}return Vs},failTimeout:function(){return this._timer=dt(function(){this.state=Vs},this.options.interval,this),Vs},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ao&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Xs(cn,xn){return xn=xn||{},xn.recognizers=wt(xn.recognizers,Xs.defaults.preset),new Eo(cn,xn)}Xs.VERSION="2.0.7",Xs.defaults={domEvents:!1,touchAction:os,enable:!0,inputTarget:null,inputClass:null,preset:[[To,{enable:!1}],[to,{enable:!1},["rotate"]],[Lr,{direction:er}],[ks,{direction:er},["swipe"]],[ns],[ns,{event:"doubletap",taps:2},["tap"]],[Zs]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Vo=1,Js=2;function Eo(cn,xn){this.options=_t({},Xs.defaults,xn||{}),this.options.inputTarget=this.options.inputTarget||cn,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=cn,this.input=Pn(this),this.touchAction=new uo(this,this.options.touchAction),no(this,!0),mt(this.options.recognizers,function(Sn){var Bn=this.add(new Sn[0](Sn[1]));Sn[2]&&Bn.recognizeWith(Sn[2]),Sn[3]&&Bn.requireFailure(Sn[3])},this)}Eo.prototype={set:function(cn){return _t(this.options,cn),cn.touchAction&&this.touchAction.update(),cn.inputTarget&&(this.input.destroy(),this.input.target=cn.inputTarget,this.input.init()),this},stop:function(cn){this.session.stopped=cn?Js:Vo},recognize:function(cn){var xn=this.session;if(!xn.stopped){this.touchAction.preventDefaults(cn);var Sn,Bn=this.recognizers,Xn=xn.curRecognizer;(!Xn||Xn&&Xn.state&ao)&&(Xn=xn.curRecognizer=null);for(var Hn=0;Hn<Bn.length;)Sn=Bn[Hn],xn.stopped!==Js&&(!Xn||Sn==Xn||Sn.canRecognizeWith(Xn))?Sn.recognize(cn):Sn.reset(),!Xn&&Sn.state&(Ns|Ts|eo)&&(Xn=xn.curRecognizer=Sn),Hn++}},get:function(cn){if(cn instanceof co)return cn;for(var xn=this.recognizers,Sn=0;Sn<xn.length;Sn++)if(xn[Sn].options.event==cn)return xn[Sn];return null},add:function(cn){if(ht(cn,"add",this))return this;var xn=this.get(cn.options.event);return xn&&this.remove(xn),this.recognizers.push(cn),cn.manager=this,this.touchAction.update(),cn},remove:function(cn){if(ht(cn,"remove",this))return this;if(cn=this.get(cn),cn){var xn=this.recognizers,Sn=Bt(xn,cn);Sn!==-1&&(xn.splice(Sn,1),this.touchAction.update())}return this},on:function(cn,xn){if(cn!==it&&xn!==it){var Sn=this.handlers;return mt(Ft(cn),function(Bn){Sn[Bn]=Sn[Bn]||[],Sn[Bn].push(xn)}),this}},off:function(cn,xn){if(cn!==it){var Sn=this.handlers;return mt(Ft(cn),function(Bn){xn?Sn[Bn]&&Sn[Bn].splice(Bt(Sn[Bn],xn),1):delete Sn[Bn]}),this}},emit:function(cn,xn){this.options.domEvents&&Ao(cn,xn);var Sn=this.handlers[cn]&&this.handlers[cn].slice();if(!(!Sn||!Sn.length)){xn.type=cn,xn.preventDefault=function(){xn.srcEvent.preventDefault()};for(var Bn=0;Bn<Sn.length;)Sn[Bn](xn),Bn++}},destroy:function(){this.element&&no(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function no(cn,xn){var Sn=cn.element;if(Sn.style){var Bn;mt(cn.options.cssProps,function(Xn,Hn){Bn=nn(Sn.style,Hn),xn?(cn.oldCssProps[Bn]=Sn.style[Bn],Sn.style[Bn]=Xn):Sn.style[Bn]=cn.oldCssProps[Bn]||""}),xn||(cn.oldCssProps={})}}function Ao(cn,xn){var Sn=nt.createEvent("Event");Sn.initEvent(cn,!0,!0),Sn.gesture=xn,xn.target.dispatchEvent(Sn)}_t(Xs,{INPUT_START:mn,INPUT_MOVE:vn,INPUT_END:En,INPUT_CANCEL:Cn,STATE_POSSIBLE:Vr,STATE_BEGAN:Ns,STATE_CHANGED:Ts,STATE_ENDED:eo,STATE_RECOGNIZED:ao,STATE_CANCELLED:vo,STATE_FAILED:Vs,DIRECTION_NONE:$n,DIRECTION_LEFT:Fn,DIRECTION_RIGHT:Ln,DIRECTION_UP:Mn,DIRECTION_DOWN:Gn,DIRECTION_HORIZONTAL:er,DIRECTION_VERTICAL:un,DIRECTION_ALL:dn,Manager:Eo,Input:Tn,TouchAction:uo,TouchInput:Br,MouseInput:ar,PointerEventInput:Sr,TouchMouseInput:cr,SingleTouchInput:jr,Recognizer:co,AttrRecognizer:Kr,Tap:ns,Pan:ks,Swipe:Lr,Pinch:to,Rotate:To,Press:Zs,on:Ct,off:Rt,each:mt,merge:gt,extend:At,assign:_t,inherit:vt,bindFn:Et,prefixed:nn});var ms=typeof et<"u"?et:typeof self<"u"?self:{};ms.Hammer=Xs,typeof it=="function"&&it.amd?it(function(){return Xs}):tt.exports?tt.exports=Xs:et[rt]=Xs})(window,document,"Hammer")})(hammer$1);var hammerExports=hammer$1.exports;const hammer=getDefaultExportFromCjs(hammerExports),hammerjs=_mergeNamespaces({__proto__:null,default:hammer},[hammerExports]),INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};function some(tt,et){for(let nt=0;nt<tt.length;nt++)if(et(tt[nt]))return!0;return!1}function enhancePointerEventInput(tt){const et=tt.prototype.handler;tt.prototype.handler=function(rt){const it=this.store;rt.button>0&&rt.type==="pointerdown"&&(some(it,st=>st.pointerId===rt.pointerId)||it.push(rt)),et.call(this,rt)}}function enhanceMouseInput(tt){tt.prototype.handler=function(nt){let rt=MOUSE_INPUT_MAP[nt.type];rt&INPUT_START&&nt.button>=0&&(this.pressed=!0),rt&INPUT_MOVE&&nt.which===0&&(rt=INPUT_END),this.pressed&&(rt&INPUT_END&&(this.pressed=!1),this.callback(this.manager,rt,{pointers:[nt],changedPointers:[nt],pointerType:"mouse",srcEvent:nt}))}}enhancePointerEventInput(hammerExports.PointerEventInput);enhanceMouseInput(hammerExports.MouseInput);const Manager=hammerExports.Manager;let Input$9=class{constructor(et,nt,rt){this.element=et,this.callback=nt,this.options={enable:!0,...rt}}};const RECOGNIZERS=hammerjs?[[hammerjs.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[hammerjs.Rotate,{enable:!1}],[hammerjs.Pinch,{enable:!1}],[hammerjs.Swipe,{enable:!1}],[hammerjs.Pan,{threshold:0,enable:!1}],[hammerjs.Press,{enable:!1}],[hammerjs.Tap,{event:"doubletap",taps:2,enable:!1}],[hammerjs.Tap,{event:"anytap",enable:!1}],[hammerjs.Tap,{enable:!1}]]:null,RECOGNIZER_COMPATIBLE_MAP={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},RECOGNIZER_FALLBACK_MAP={doubletap:["tap"]},BASIC_EVENT_ALIASES={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},INPUT_EVENT_TYPES={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},EVENT_RECOGNIZER_MAP={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},GESTURE_EVENT_ALIASES={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},userAgent=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",window_=typeof window<"u"?window:global;let passiveSupported=!1;try{const tt={get passive(){return passiveSupported=!0,!0}};window_.addEventListener("test",null,tt),window_.removeEventListener("test",null)}catch{passiveSupported=!1}const firefox=userAgent.indexOf("firefox")!==-1,{WHEEL_EVENTS}=INPUT_EVENT_TYPES,EVENT_TYPE$1="wheel",WHEEL_DELTA_MAGIC_SCALER=4.000244140625,WHEEL_DELTA_PER_LINE=40,SHIFT_MULTIPLIER=.25;class WheelInput extends Input$9{constructor(et,nt,rt){super(et,nt,rt),this.handleEvent=it=>{if(!this.options.enable)return;let st=it.deltaY;window_.WheelEvent&&(firefox&&it.deltaMode===window_.WheelEvent.DOM_DELTA_PIXEL&&(st/=window_.devicePixelRatio),it.deltaMode===window_.WheelEvent.DOM_DELTA_LINE&&(st*=WHEEL_DELTA_PER_LINE)),st!==0&&st%WHEEL_DELTA_MAGIC_SCALER===0&&(st=Math.floor(st/WHEEL_DELTA_MAGIC_SCALER)),it.shiftKey&&st&&(st=st*SHIFT_MULTIPLIER),this.callback({type:EVENT_TYPE$1,center:{x:it.clientX,y:it.clientY},delta:-st,srcEvent:it,pointerType:"mouse",target:it.target})},this.events=(this.options.events||[]).concat(WHEEL_EVENTS),this.events.forEach(it=>et.addEventListener(it,this.handleEvent,passiveSupported?{passive:!1}:!1))}destroy(){this.events.forEach(et=>this.element.removeEventListener(et,this.handleEvent))}enableEventType(et,nt){et===EVENT_TYPE$1&&(this.options.enable=nt)}}const{MOUSE_EVENTS:MOUSE_EVENTS$1}=INPUT_EVENT_TYPES,MOVE_EVENT_TYPE="pointermove",OVER_EVENT_TYPE="pointerover",OUT_EVENT_TYPE="pointerout",ENTER_EVENT_TYPE="pointerenter",LEAVE_EVENT_TYPE="pointerleave";class MoveInput extends Input$9{constructor(et,nt,rt){super(et,nt,rt),this.handleEvent=st=>{this.handleOverEvent(st),this.handleOutEvent(st),this.handleEnterEvent(st),this.handleLeaveEvent(st),this.handleMoveEvent(st)},this.pressed=!1;const{enable:it}=this.options;this.enableMoveEvent=it,this.enableLeaveEvent=it,this.enableEnterEvent=it,this.enableOutEvent=it,this.enableOverEvent=it,this.events=(this.options.events||[]).concat(MOUSE_EVENTS$1),this.events.forEach(st=>et.addEventListener(st,this.handleEvent))}destroy(){this.events.forEach(et=>this.element.removeEventListener(et,this.handleEvent))}enableEventType(et,nt){et===MOVE_EVENT_TYPE&&(this.enableMoveEvent=nt),et===OVER_EVENT_TYPE&&(this.enableOverEvent=nt),et===OUT_EVENT_TYPE&&(this.enableOutEvent=nt),et===ENTER_EVENT_TYPE&&(this.enableEnterEvent=nt),et===LEAVE_EVENT_TYPE&&(this.enableLeaveEvent=nt)}handleOverEvent(et){this.enableOverEvent&&et.type==="mouseover"&&this._emit(OVER_EVENT_TYPE,et)}handleOutEvent(et){this.enableOutEvent&&et.type==="mouseout"&&this._emit(OUT_EVENT_TYPE,et)}handleEnterEvent(et){this.enableEnterEvent&&et.type==="mouseenter"&&this._emit(ENTER_EVENT_TYPE,et)}handleLeaveEvent(et){this.enableLeaveEvent&&et.type==="mouseleave"&&this._emit(LEAVE_EVENT_TYPE,et)}handleMoveEvent(et){if(this.enableMoveEvent)switch(et.type){case"mousedown":et.button>=0&&(this.pressed=!0);break;case"mousemove":et.which===0&&(this.pressed=!1),this.pressed||this._emit(MOVE_EVENT_TYPE,et);break;case"mouseup":this.pressed=!1;break}}_emit(et,nt){this.callback({type:et,center:{x:nt.clientX,y:nt.clientY},srcEvent:nt,pointerType:"mouse",target:nt.target})}}const{KEY_EVENTS}=INPUT_EVENT_TYPES,DOWN_EVENT_TYPE="keydown",UP_EVENT_TYPE="keyup";class KeyInput extends Input$9{constructor(et,nt,rt){super(et,nt,rt),this.handleEvent=it=>{const st=it.target||it.srcElement;st.tagName==="INPUT"&&st.type==="text"||st.tagName==="TEXTAREA"||(this.enableDownEvent&&it.type==="keydown"&&this.callback({type:DOWN_EVENT_TYPE,srcEvent:it,key:it.key,target:it.target}),this.enableUpEvent&&it.type==="keyup"&&this.callback({type:UP_EVENT_TYPE,srcEvent:it,key:it.key,target:it.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(KEY_EVENTS),et.tabIndex=this.options.tabIndex||0,et.style.outline="none",this.events.forEach(it=>et.addEventListener(it,this.handleEvent))}destroy(){this.events.forEach(et=>this.element.removeEventListener(et,this.handleEvent))}enableEventType(et,nt){et===DOWN_EVENT_TYPE&&(this.enableDownEvent=nt),et===UP_EVENT_TYPE&&(this.enableUpEvent=nt)}}const EVENT_TYPE="contextmenu";class ContextmenuInput extends Input$9{constructor(et,nt,rt){super(et,nt,rt),this.handleEvent=it=>{this.options.enable&&this.callback({type:EVENT_TYPE,center:{x:it.clientX,y:it.clientY},srcEvent:it,pointerType:"mouse",target:it.target})},et.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(et,nt){et===EVENT_TYPE&&(this.options.enable=nt)}}const DOWN_EVENT=1,MOVE_EVENT=2,UP_EVENT=4,MOUSE_EVENTS={pointerdown:DOWN_EVENT,pointermove:MOVE_EVENT,pointerup:UP_EVENT,mousedown:DOWN_EVENT,mousemove:MOVE_EVENT,mouseup:UP_EVENT},MOUSE_EVENT_WHICH_LEFT=1,MOUSE_EVENT_WHICH_MIDDLE=2,MOUSE_EVENT_WHICH_RIGHT=3,MOUSE_EVENT_BUTTON_LEFT=0,MOUSE_EVENT_BUTTON_MIDDLE=1,MOUSE_EVENT_BUTTON_RIGHT=2,MOUSE_EVENT_BUTTONS_LEFT_MASK=1,MOUSE_EVENT_BUTTONS_RIGHT_MASK=2,MOUSE_EVENT_BUTTONS_MIDDLE_MASK=4;function whichButtons(tt){const et=MOUSE_EVENTS[tt.srcEvent.type];if(!et)return null;const{buttons:nt,button:rt,which:it}=tt.srcEvent;let st=!1,ot=!1,at=!1;return et===UP_EVENT||et===MOVE_EVENT&&!Number.isFinite(nt)?(st=it===MOUSE_EVENT_WHICH_LEFT,ot=it===MOUSE_EVENT_WHICH_MIDDLE,at=it===MOUSE_EVENT_WHICH_RIGHT):et===MOVE_EVENT?(st=!!(nt&MOUSE_EVENT_BUTTONS_LEFT_MASK),ot=!!(nt&MOUSE_EVENT_BUTTONS_MIDDLE_MASK),at=!!(nt&MOUSE_EVENT_BUTTONS_RIGHT_MASK)):et===DOWN_EVENT&&(st=rt===MOUSE_EVENT_BUTTON_LEFT,ot=rt===MOUSE_EVENT_BUTTON_MIDDLE,at=rt===MOUSE_EVENT_BUTTON_RIGHT),{leftButton:st,middleButton:ot,rightButton:at}}function getOffsetPosition(tt,et){const nt=tt.center;if(!nt)return null;const rt=et.getBoundingClientRect(),it=rt.width/et.offsetWidth||1,st=rt.height/et.offsetHeight||1,ot={x:(nt.x-rt.left-et.clientLeft)/it,y:(nt.y-rt.top-et.clientTop)/st};return{center:nt,offsetCenter:ot}}const DEFAULT_OPTIONS$3={srcElement:"root",priority:0};class EventRegistrar{constructor(et){this.handleEvent=nt=>{if(this.isEmpty())return;const rt=this._normalizeEvent(nt);let it=nt.srcEvent.target;for(;it&&it!==rt.rootElement;){if(this._emit(rt,it),rt.handled)return;it=it.parentNode}this._emit(rt,"root")},this.eventManager=et,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(et,nt,rt,it=!1,st=!1){const{handlers:ot,handlersByElement:at}=this;let lt=DEFAULT_OPTIONS$3;typeof rt=="string"||rt&&rt.addEventListener?lt={...DEFAULT_OPTIONS$3,srcElement:rt}:rt&&(lt={...DEFAULT_OPTIONS$3,...rt});let ut=at.get(lt.srcElement);ut||(ut=[],at.set(lt.srcElement,ut));const ft={type:et,handler:nt,srcElement:lt.srcElement,priority:lt.priority};it&&(ft.once=!0),st&&(ft.passive=!0),ot.push(ft),this._active=this._active||!ft.passive;let dt=ut.length-1;for(;dt>=0&&!(ut[dt].priority>=ft.priority);)dt--;ut.splice(dt+1,0,ft)}remove(et,nt){const{handlers:rt,handlersByElement:it}=this;for(let st=rt.length-1;st>=0;st--){const ot=rt[st];if(ot.type===et&&ot.handler===nt){rt.splice(st,1);const at=it.get(ot.srcElement);at.splice(at.indexOf(ot),1),at.length===0&&it.delete(ot.srcElement)}}this._active=rt.some(st=>!st.passive)}_emit(et,nt){const rt=this.handlersByElement.get(nt);if(rt){let it=!1;const st=()=>{et.handled=!0},ot=()=>{et.handled=!0,it=!0},at=[];for(let lt=0;lt<rt.length;lt++){const{type:ut,handler:ft,once:dt}=rt[lt];if(ft({...et,type:ut,stopPropagation:st,stopImmediatePropagation:ot}),dt&&at.push(rt[lt]),it)break}for(let lt=0;lt<at.length;lt++){const{type:ut,handler:ft}=at[lt];this.remove(ut,ft)}}}_normalizeEvent(et){const nt=this.eventManager.getElement();return{...et,...whichButtons(et),...getOffsetPosition(et,nt),preventDefault:()=>{et.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:nt}}}const DEFAULT_OPTIONS$2={events:null,recognizers:null,recognizerOptions:{},Manager,touchAction:"none",tabIndex:0};class EventManager{constructor(et=null,nt){this._onBasicInput=it=>{const{srcEvent:st}=it,ot=BASIC_EVENT_ALIASES[st.type];ot&&this.manager.emit(ot,it)},this._onOtherEvent=it=>{this.manager.emit(it.type,it)},this.options={...DEFAULT_OPTIONS$2,...nt},this.events=new Map,this.setElement(et);const{events:rt}=this.options;rt&&this.on(rt)}getElement(){return this.element}setElement(et){if(this.element&&this.destroy(),this.element=et,!et)return;const{options:nt}=this,rt=nt.Manager;this.manager=new rt(et,{touchAction:nt.touchAction,recognizers:nt.recognizers||RECOGNIZERS}).on("hammer.input",this._onBasicInput),nt.recognizers||Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(it=>{const st=this.manager.get(it);st&&RECOGNIZER_COMPATIBLE_MAP[it].forEach(ot=>{st.recognizeWith(ot)})});for(const it in nt.recognizerOptions){const st=this.manager.get(it);if(st){const ot=nt.recognizerOptions[it];delete ot.enable,st.set(ot)}}this.wheelInput=new WheelInput(et,this._onOtherEvent,{enable:!1}),this.moveInput=new MoveInput(et,this._onOtherEvent,{enable:!1}),this.keyInput=new KeyInput(et,this._onOtherEvent,{enable:!1,tabIndex:nt.tabIndex}),this.contextmenuInput=new ContextmenuInput(et,this._onOtherEvent,{enable:!1});for(const[it,st]of this.events)st.isEmpty()||(this._toggleRecognizer(st.recognizerName,!0),this.manager.on(it,st.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(et,nt,rt){this._addEventHandler(et,nt,rt,!1)}once(et,nt,rt){this._addEventHandler(et,nt,rt,!0)}watch(et,nt,rt){this._addEventHandler(et,nt,rt,!1,!0)}off(et,nt){this._removeEventHandler(et,nt)}_toggleRecognizer(et,nt){const{manager:rt}=this;if(!rt)return;const it=rt.get(et);if(it&&it.options.enable!==nt){it.set({enable:nt});const st=RECOGNIZER_FALLBACK_MAP[et];st&&!this.options.recognizers&&st.forEach(ot=>{const at=rt.get(ot);nt?(at.requireFailure(et),it.dropRequireFailure(ot)):at.dropRequireFailure(et)})}this.wheelInput.enableEventType(et,nt),this.moveInput.enableEventType(et,nt),this.keyInput.enableEventType(et,nt),this.contextmenuInput.enableEventType(et,nt)}_addEventHandler(et,nt,rt,it,st){if(typeof et!="string"){rt=nt;for(const ft in et)this._addEventHandler(ft,et[ft],rt,it,st);return}const{manager:ot,events:at}=this,lt=GESTURE_EVENT_ALIASES[et]||et;let ut=at.get(lt);ut||(ut=new EventRegistrar(this),at.set(lt,ut),ut.recognizerName=EVENT_RECOGNIZER_MAP[lt]||lt,ot&&ot.on(lt,ut.handleEvent)),ut.add(et,nt,rt,it,st),ut.isEmpty()||this._toggleRecognizer(ut.recognizerName,!0)}_removeEventHandler(et,nt){if(typeof et!="string"){for(const ot in et)this._removeEventHandler(ot,et[ot]);return}const{events:rt}=this,it=GESTURE_EVENT_ALIASES[et]||et,st=rt.get(it);if(st&&(st.remove(et,nt),st.isEmpty())){const{recognizerName:ot}=st;let at=!1;for(const lt of rt.values())if(lt.recognizerName===ot&&!lt.isEmpty()){at=!0;break}at||this._toggleRecognizer(ot,!1)}}}function noop$1(){}const getCursor=({isDragging:tt})=>tt?"grabbing":"grab",defaultProps$3={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:noop$1,onResize:noop$1,onViewStateChange:noop$1,onInteractionStateChange:noop$1,onBeforeRender:noop$1,onAfterRender:noop$1,onLoad:noop$1,onError:tt=>log$4.error(tt.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor,getTooltip:null,debug:!1,drawPickingColors:!1};class Deck{constructor(et){_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"width",0),_defineProperty$4(this,"height",0),_defineProperty$4(this,"userData",{}),_defineProperty$4(this,"canvas",null),_defineProperty$4(this,"viewManager",null),_defineProperty$4(this,"layerManager",null),_defineProperty$4(this,"effectManager",null),_defineProperty$4(this,"deckRenderer",null),_defineProperty$4(this,"deckPicker",null),_defineProperty$4(this,"eventManager",null),_defineProperty$4(this,"tooltip",null),_defineProperty$4(this,"metrics",void 0),_defineProperty$4(this,"animationLoop",void 0),_defineProperty$4(this,"stats",void 0),_defineProperty$4(this,"viewState",void 0),_defineProperty$4(this,"cursorState",void 0),_defineProperty$4(this,"_needsRedraw",void 0),_defineProperty$4(this,"_pickRequest",void 0),_defineProperty$4(this,"_lastPointerDownInfo",null),_defineProperty$4(this,"_metricsCounter",void 0),_defineProperty$4(this,"_onPointerMove",nt=>{const{_pickRequest:rt}=this;if(nt.type==="pointerleave")rt.x=-1,rt.y=-1,rt.radius=0;else{if(nt.leftButton||nt.rightButton)return;{const it=nt.offsetCenter;if(!it)return;rt.x=it.x,rt.y=it.y,rt.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:rt.x,y:rt.y}),rt.event=nt}),_defineProperty$4(this,"_onEvent",nt=>{const rt=EVENTS[nt.type],it=nt.offsetCenter;if(!rt||!it||!this.layerManager)return;const st=this.layerManager.getLayers(),ot=this.deckPicker.getLastPickedObject({x:it.x,y:it.y,layers:st,viewports:this.getViewports(it)},this._lastPointerDownInfo),{layer:at}=ot,lt=at&&(at[rt.handler]||at.props[rt.handler]),ut=this.props[rt.handler];let ft=!1;lt&&(ft=lt.call(at,ot,nt)),!ft&&ut&&ut(ot,nt)}),_defineProperty$4(this,"_onPointerDown",nt=>{const rt=nt.offsetCenter,it=this._pick("pickObject","pickObject Time",{x:rt.x,y:rt.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=it.result[0]||it.emptyInfo}),this.props={...defaultProps$3,...et},et=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},et.viewState&&et.initialViewState&&log$4.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),getBrowser$1()==="IE"&&log$4.warn("IE 11 is not supported")(),this.viewState=et.initialViewState,et.gl||typeof document<"u"&&(this.canvas=this._createCanvas(et)),this.animationLoop=this._createAnimationLoop(et),this.stats=new Stats({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(et),et._typedArrayManagerProps&&defaultTypedArrayManager.setOptions(et._typedArrayManagerProps),this.animationLoop.start()}finalize(){var et,nt,rt,it,st,ot,at;if(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,(et=this.layerManager)===null||et===void 0||et.finalize(),this.layerManager=null,(nt=this.viewManager)===null||nt===void 0||nt.finalize(),this.viewManager=null,(rt=this.effectManager)===null||rt===void 0||rt.finalize(),this.effectManager=null,(it=this.deckRenderer)===null||it===void 0||it.finalize(),this.deckRenderer=null,(st=this.deckPicker)===null||st===void 0||st.finalize(),this.deckPicker=null,(ot=this.eventManager)===null||ot===void 0||ot.destroy(),this.eventManager=null,(at=this.tooltip)===null||at===void 0||at.remove(),this.tooltip=null,!this.props.canvas&&!this.props.gl&&this.canvas){var lt;(lt=this.canvas.parentElement)===null||lt===void 0||lt.removeChild(this.canvas),this.canvas=null}}setProps(et){this.stats.get("setProps Time").timeStart(),"onLayerHover"in et&&log$4.removed("onLayerHover","onHover")(),"onLayerClick"in et&&log$4.removed("onLayerClick","onClick")(),et.initialViewState&&!deepEqual$1(this.props.initialViewState,et.initialViewState,3)&&(this.viewState=et.initialViewState),Object.assign(this.props,et),this._setCanvasSize(this.props);const nt=Object.create(this.props);Object.assign(nt,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(nt),this.layerManager&&(this.viewManager.setProps(nt),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(nt),this.effectManager.setProps(nt),this.deckRenderer.setProps(nt),this.deckPicker.setProps(nt)),this.stats.get("setProps Time").timeEnd()}needsRedraw(et={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let nt=this._needsRedraw;et.clearRedrawFlags&&(this._needsRedraw=!1);const rt=this.viewManager.needsRedraw(et),it=this.layerManager.needsRedraw(et),st=this.effectManager.needsRedraw(et),ot=this.deckRenderer.needsRedraw(et);return nt=nt||rt||it||st||ot,nt}redraw(et){if(!this.layerManager)return;let nt=this.needsRedraw({clearRedrawFlags:!0});nt=et||nt,nt&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(nt):this._drawLayers(nt))}get isInitialized(){return this.viewManager!==null}getViews(){return assert$2(this.viewManager),this.viewManager.views}getViewports(et){return assert$2(this.viewManager),this.viewManager.getViewports(et)}pickObject(et){const nt=this._pick("pickObject","pickObject Time",et).result;return nt.length?nt[0]:null}pickMultipleObjects(et){return et.depth=et.depth||10,this._pick("pickObject","pickMultipleObjects Time",et).result}pickObjects(et){return this._pick("pickObjects","pickObjects Time",et)}_addResources(et,nt=!1){for(const rt in et)this.layerManager.resourceManager.add({resourceId:rt,data:et[rt],forceUpdate:nt})}_removeResources(et){for(const nt of et)this.layerManager.resourceManager.remove(nt)}_addDefaultEffect(et){this.effectManager.addDefaultEffect(et)}_pick(et,nt,rt){assert$2(this.deckPicker);const{stats:it}=this;it.get("Pick Count").incrementCount(),it.get(nt).timeStart();const st=this.deckPicker[et]({layers:this.layerManager.getLayers(rt),views:this.viewManager.getViews(),viewports:this.getViewports(rt),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...rt});return it.get(nt).timeEnd(),st}_createCanvas(et){let nt=et.canvas;return typeof nt=="string"&&(nt=document.getElementById(nt),assert$2(nt)),nt||(nt=document.createElement("canvas"),nt.id=et.id||"deckgl-overlay",(et.parent||document.body).appendChild(nt)),Object.assign(nt.style,et.style),nt}_setCanvasSize(et){if(!this.canvas)return;const{width:nt,height:rt}=et;if(nt||nt===0){const st=Number.isFinite(nt)?"".concat(nt,"px"):nt;this.canvas.style.width=st}if(rt||rt===0){var it;const st=Number.isFinite(rt)?"".concat(rt,"px"):rt;this.canvas.style.position=((it=et.style)===null||it===void 0?void 0:it.position)||"absolute",this.canvas.style.height=st}}_updateCanvasSize(){var et,nt;const{canvas:rt}=this;if(!rt)return;const it=(et=rt.clientWidth)!==null&&et!==void 0?et:rt.width,st=(nt=rt.clientHeight)!==null&&nt!==void 0?nt:rt.height;if(it!==this.width||st!==this.height){var ot;this.width=it,this.height=st,(ot=this.viewManager)===null||ot===void 0||ot.setProps({width:it,height:st}),this.props.onResize({width:it,height:st})}}_createAnimationLoop(et){const{width:nt,height:rt,gl:it,glOptions:st,debug:ot,onError:at,onBeforeRender:lt,onAfterRender:ut,useDevicePixels:ft}=et;return new AnimationLoop({width:nt,height:rt,useDevicePixels:ft,autoResizeViewport:!1,gl:it,onCreateContext:dt=>createGLContext({...st,...dt,canvas:this.canvas,debug:ot,onContextLost:()=>this._onContextLost()}),onInitialize:dt=>this._setGLContext(dt.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:lt,onAfterRender:ut,onError:at})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let et=this.props.views||[new MapView({id:"default-view"})];return et=Array.isArray(et)?et:[et],et.length&&this.props.controller&&(et[0].props.controller=this.props.controller),et}_onContextLost(){const{onError:et}=this.props;this.animationLoop&&et&&et(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:et}=this;if(et.event){const{result:rt,emptyInfo:it}=this._pick("pickObject","pickObject Time",et);this.cursorState.isHovering=rt.length>0;let st=it,ot=!1;for(const at of rt){var nt;st=at,ot=((nt=at.layer)===null||nt===void 0?void 0:nt.onHover(at,et.event))||ot}if(!ot&&this.props.onHover&&this.props.onHover(st,et.event),this.props.getTooltip&&this.tooltip){const at=this.props.getTooltip(st);this.tooltip.setTooltip(at,st.x,st.y)}et.event=null}}_updateCursor(){const et=this.props.parent||this.canvas;et&&(et.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(et){if(this.layerManager)return;this.canvas||(this.canvas=et.canvas,instrumentGLContext(et,{enable:!0,copyState:!0})),this.tooltip=new Tooltip(this.canvas),setParameters(et,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(et);const nt=new Timeline;nt.play(),this.animationLoop.attachTimeline(nt),this.eventManager=new EventManager(this.props.parent||et.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const it in EVENTS)this.eventManager.on(it,this._onEvent);this.viewManager=new ViewManager({timeline:nt,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const rt=this.viewManager.getViewports()[0];this.layerManager=new LayerManager(et,{deck:this,stats:this.stats,viewport:rt,timeline:nt}),this.effectManager=new EffectManager,this.deckRenderer=new DeckRenderer(et),this.deckPicker=new DeckPicker(et),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(et,nt){const{gl:rt}=this.layerManager.context;setParameters(rt,this.props.parameters),this.props.onBeforeRender({gl:rt}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...nt}),this.props.onAfterRender({gl:rt})}_onRenderFrame(et){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),log$4.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(et){const nt=this.props.onViewStateChange(et)||et.viewState;this.viewState&&(this.viewState={...this.viewState,[et.viewId]:nt},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(et){this.cursorState.isDragging=et.isDragging||!1,this.props.onInteractionStateChange(et)}_getFrameStats(){const{stats:et}=this;et.get("frameRate").timeEnd(),et.get("frameRate").timeStart();const nt=this.animationLoop.stats;et.get("GPU Time").addTime(nt.get("GPU Time").lastTiming),et.get("CPU Time").addTime(nt.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:et,stats:nt}=this;et.fps=nt.get("frameRate").getHz(),et.setPropsTime=nt.get("setProps Time").time,et.updateAttributesTime=nt.get("Update Attributes").time,et.framesRedrawn=nt.get("Redraw Count").count,et.pickTime=nt.get("pickObject Time").time+nt.get("pickMultipleObjects Time").time+nt.get("pickObjects Time").time,et.pickCount=nt.get("Pick Count").count,et.gpuTime=nt.get("GPU Time").time,et.cpuTime=nt.get("CPU Time").time,et.gpuTimePerFrame=nt.get("GPU Time").getAverageTime(),et.cpuTimePerFrame=nt.get("CPU Time").getAverageTime();const rt=lumaStats.get("Memory Usage");et.bufferMemory=rt.get("Buffer Memory").count,et.textureMemory=rt.get("Texture Memory").count,et.renderbufferMemory=rt.get("Renderbuffer Memory").count,et.gpuMemory=rt.get("GPU Memory").count}}_defineProperty$4(Deck,"defaultProps",defaultProps$3);_defineProperty$4(Deck,"VERSION",VERSION$6);class ShaderAttribute{constructor(et,nt){_defineProperty$4(this,"opts",void 0),_defineProperty$4(this,"source",void 0),this.opts=nt,this.source=et}get value(){return this.source.value}getValue(){const et=this.source.getBuffer(),nt=this.getAccessor();if(et)return[et,nt];const{value:rt}=this.source,{size:it}=nt;let st=rt;if(rt&&rt.length!==it){st=new Float32Array(it);const ot=nt.elementOffset||0;for(let at=0;at<it;++at)st[at]=rt[ot+at]}return st}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function glArrayFromType(tt){switch(tt){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}function getStride(tt){return tt.stride||tt.size*tt.bytesPerElement}function resolveShaderAttribute(tt,et){et.offset&&log$4.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const nt=getStride(tt),rt=et.vertexOffset!==void 0?et.vertexOffset:tt.vertexOffset||0,it=et.elementOffset||0,st=rt*nt+it*tt.bytesPerElement+(tt.offset||0);return{...et,offset:st,stride:nt}}function resolveDoublePrecisionShaderAttributes(tt,et){const nt=resolveShaderAttribute(tt,et);return{high:nt,low:{...nt,offset:nt.offset+tt.size*4}}}class DataColumn{constructor(et,nt,rt){_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"size",void 0),_defineProperty$4(this,"settings",void 0),_defineProperty$4(this,"value",void 0),_defineProperty$4(this,"doublePrecision",void 0),_defineProperty$4(this,"_buffer",void 0),_defineProperty$4(this,"state",void 0),this.gl=et,this.id=nt.id||"",this.size=nt.size||1;const it=nt.logicalType||nt.type,st=it===5130;let{defaultValue:ot}=nt;ot=Number.isFinite(ot)?[ot]:ot||new Array(this.size).fill(0);let at;st?at=5126:!it&&nt.isIndexed?at=et&&hasFeature(et,FEATURES$1.ELEMENT_INDEX_UINT32)?5125:5123:at=it||5126;let lt=glArrayFromType(it||at||5126);this.doublePrecision=st,st&&nt.fp64===!1&&(lt=Float32Array),this.value=null,this.settings={...nt,defaultType:lt,defaultValue:ot,logicalType:it,type:at,size:this.size,bytesPerElement:lt.BYTES_PER_ELEMENT},this.state={...rt,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:et,type:nt}=this.settings;this._buffer=new Buffer$1(this.gl,{id:this.id,target:et?34963:34962,accessor:{type:nt}})}return this._buffer}get byteOffset(){const et=this.getAccessor();return et.vertexOffset?et.vertexOffset*getStride(et):0}get numInstances(){return this.state.numInstances}set numInstances(et){this.state.numInstances=et}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),defaultTypedArrayManager.release(this.state.allocatedValue)}getShaderAttributes(et,nt){if(this.doublePrecision){const rt={},it=this.value instanceof Float64Array,st=resolveDoublePrecisionShaderAttributes(this.getAccessor(),nt||{});return rt[et]=new ShaderAttribute(this,st.high),rt["".concat(et,"64Low")]=it?new ShaderAttribute(this,st.low):new Float32Array(this.size),rt}if(nt){const rt=resolveShaderAttribute(this.getAccessor(),nt);return{[et]:new ShaderAttribute(this,rt)}}return{[et]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let et=null;if(this.state.constant&&this.value){const nt=Array.from(this.value);et=[nt,nt]}else{const{value:nt,numInstances:rt,size:it}=this,st=rt*it;if(nt&&st&&nt.length>=st){const ot=new Array(it).fill(1/0),at=new Array(it).fill(-1/0);for(let lt=0;lt<st;)for(let ut=0;ut<it;ut++){const ft=nt[lt++];ft<ot[ut]&&(ot[ut]=ft),ft>at[ut]&&(at[ut]=ft)}et=[ot,at]}}return this.state.bounds=et,et}setData(et){const{state:nt}=this;let rt;ArrayBuffer.isView(et)?rt={value:et}:et instanceof Buffer$1?rt={buffer:et}:rt=et;const it={...this.settings,...rt};if(nt.bufferAccessor=it,nt.bounds=null,rt.constant){let st=rt.value;if(st=this._normalizeValue(st,[],0),this.settings.normalized&&(st=this.normalizeConstant(st)),!(!nt.constant||!this._areValuesEqual(st,this.value)))return!1;nt.externalBuffer=null,nt.constant=!0,this.value=st}else if(rt.buffer){const st=rt.buffer;nt.externalBuffer=st,nt.constant=!1,this.value=rt.value||null;const ot=rt.value instanceof Float64Array;it.type=rt.type||st.accessor.type,it.bytesPerElement=st.accessor.BYTES_PER_ELEMENT*(ot?2:1),it.stride=getStride(it)}else if(rt.value){this._checkExternalBuffer(rt);let st=rt.value;nt.externalBuffer=null,nt.constant=!1,this.value=st,it.bytesPerElement=st.BYTES_PER_ELEMENT,it.stride=getStride(it);const{buffer:ot,byteOffset:at}=this;this.doublePrecision&&st instanceof Float64Array&&(st=toDoublePrecisionArray(st,it));const lt=st.byteLength+at+it.stride*2;ot.byteLength<lt&&ot.reallocate(lt),ot.setAccessor(null),ot.subData({data:st,offset:at}),it.type=rt.type||ot.accessor.type}return!0}updateSubBuffer(et={}){this.state.bounds=null;const nt=this.value,{startOffset:rt=0,endOffset:it}=et;this.buffer.subData({data:this.doublePrecision&&nt instanceof Float64Array?toDoublePrecisionArray(nt,{size:this.size,startIndex:rt,endIndex:it}):nt.subarray(rt,it),offset:rt*nt.BYTES_PER_ELEMENT+this.byteOffset})}allocate(et,nt=!1){const{state:rt}=this,it=rt.allocatedValue,st=defaultTypedArrayManager.allocate(it,et+1,{size:this.size,type:this.settings.defaultType,copy:nt});this.value=st;const{buffer:ot,byteOffset:at}=this;return ot.byteLength<st.byteLength+at&&(ot.reallocate(st.byteLength+at),nt&&it&&ot.subData({data:it instanceof Float64Array?toDoublePrecisionArray(it,this):it,offset:at})),rt.allocatedValue=st,rt.constant=!1,rt.externalBuffer=null,rt.bufferAccessor=this.settings,!0}_checkExternalBuffer(et){const{value:nt}=et;if(!ArrayBuffer.isView(nt))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const rt=this.settings.defaultType;let it=!1;if(this.doublePrecision&&(it=nt.BYTES_PER_ELEMENT<4),it)throw new Error("Attribute ".concat(this.id," does not support ").concat(nt.constructor.name));!(nt instanceof rt)&&this.settings.normalized&&!("normalized"in et)&&log$4.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(et){switch(this.settings.type){case 5120:return new Float32Array(et).map(nt=>(nt+128)/255*2-1);case 5122:return new Float32Array(et).map(nt=>(nt+32768)/65535*2-1);case 5121:return new Float32Array(et).map(nt=>nt/255);case 5123:return new Float32Array(et).map(nt=>nt/65535);default:return et}}_normalizeValue(et,nt,rt){const{defaultValue:it,size:st}=this.settings;if(Number.isFinite(et))return nt[rt]=et,nt;if(!et){let ot=st;for(;--ot>=0;)nt[rt+ot]=it[ot];return nt}switch(st){case 4:nt[rt+3]=Number.isFinite(et[3])?et[3]:it[3];case 3:nt[rt+2]=Number.isFinite(et[2])?et[2]:it[2];case 2:nt[rt+1]=Number.isFinite(et[1])?et[1]:it[1];case 1:nt[rt+0]=Number.isFinite(et[0])?et[0]:it[0];break;default:let ot=st;for(;--ot>=0;)nt[rt+ot]=Number.isFinite(et[ot])?et[ot]:it[ot]}return nt}_areValuesEqual(et,nt){if(!et||!nt)return!1;const{size:rt}=this;for(let it=0;it<rt;it++)if(et[it]!==nt[it])return!1;return!0}}const EMPTY_ARRAY$1=[],placeholderArray=[];function createIterable(tt,et=0,nt=1/0){let rt=EMPTY_ARRAY$1;const it={index:-1,data:tt,target:[]};return tt?typeof tt[Symbol.iterator]=="function"?rt=tt:tt.length>0&&(placeholderArray.length=tt.length,rt=placeholderArray):rt=EMPTY_ARRAY$1,(et>0||Number.isFinite(nt))&&(rt=(Array.isArray(rt)?rt:Array.from(rt)).slice(et,nt),it.index=et-1),{iterable:rt,objectInfo:it}}function isAsyncIterable(tt){return tt&&tt[Symbol.asyncIterator]}function getAccessorFromBuffer(tt,et){const{size:nt,stride:rt,offset:it,startIndices:st,nested:ot}=et,at=tt.BYTES_PER_ELEMENT,lt=rt?rt/at:nt,ut=it?it/at:0,ft=Math.floor((tt.length-ut)/lt);return(dt,{index:ht,target:mt})=>{if(!st){const gt=ht*lt+ut;for(let vt=0;vt<nt;vt++)mt[vt]=tt[gt+vt];return mt}const xt=st[ht],_t=st[ht+1]||ft;let At;if(ot){At=new Array(_t-xt);for(let gt=xt;gt<_t;gt++){const vt=gt*lt+ut;mt=new Array(nt);for(let Et=0;Et<nt;Et++)mt[Et]=tt[vt+Et];At[gt-xt]=mt}}else if(lt===nt)At=tt.subarray(xt*nt+ut,_t*nt+ut);else{At=new tt.constructor((_t-xt)*nt);let gt=0;for(let vt=xt;vt<_t;vt++){const Et=vt*lt+ut;for(let yt=0;yt<nt;yt++)At[gt++]=tt[Et+yt]}}return At}}const EMPTY=[],FULL=[[0,1/0]];function add(tt,et){if(tt===FULL||(et[0]<0&&(et[0]=0),et[0]>=et[1]))return tt;const nt=[],rt=tt.length;let it=0;for(let st=0;st<rt;st++){const ot=tt[st];ot[1]<et[0]?(nt.push(ot),it=st+1):ot[0]>et[1]?nt.push(ot):et=[Math.min(ot[0],et[0]),Math.max(ot[1],et[1])]}return nt.splice(it,0,et),nt}function padArrayChunk(tt){const{source:et,target:nt,start:rt=0,size:it,getData:st}=tt,ot=tt.end||nt.length,at=et.length,lt=ot-rt;if(at>lt){nt.set(et.subarray(0,lt),rt);return}if(nt.set(et,rt),!st)return;let ut=at;for(;ut<lt;){const ft=st(ut,et);for(let dt=0;dt<it;dt++)nt[rt+ut]=ft[dt]||0,ut++}}function padArray({source:tt,target:et,size:nt,getData:rt,sourceStartIndices:it,targetStartIndices:st}){if(!Array.isArray(st))return padArrayChunk({source:tt,target:et,size:nt,getData:rt}),et;let ot=0,at=0;const lt=rt&&((ft,dt)=>rt(ft+at,dt)),ut=Math.min(it.length,st.length);for(let ft=1;ft<ut;ft++){const dt=it[ft]*nt,ht=st[ft]*nt;padArrayChunk({source:tt.subarray(ot,dt),target:et,start:at,end:ht,size:nt,getData:lt}),ot=dt,at=ht}return at<et.length&&padArrayChunk({source:[],target:et,start:at,size:nt,getData:lt}),et}const DEFAULT_TRANSITION_SETTINGS={interpolation:{duration:0,easing:tt=>tt},spring:{stiffness:.05,damping:.5}};function normalizeTransitionSettings(tt,et){if(!tt)return null;Number.isFinite(tt)&&(tt={type:"interpolation",duration:tt});const nt=tt.type||"interpolation";return{...DEFAULT_TRANSITION_SETTINGS[nt],...et,...tt,type:nt}}function getSourceBufferAttribute(tt,et){const nt=et.getBuffer();return nt?[nt,{divisor:0,size:et.size,normalized:et.settings.normalized}]:et.value}function getAttributeTypeFromSize(tt){switch(tt){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(tt,'"'))}}function cycleBuffers(tt){tt.push(tt.shift())}function getAttributeBufferLength(tt,et){const{doublePrecision:nt,settings:rt,value:it,size:st}=tt,ot=nt&&it instanceof Float64Array?2:1;return(rt.noAlloc?it.length:et*st)*ot}function padBuffer({buffer:tt,numInstances:et,attribute:nt,fromLength:rt,fromStartIndices:it,getData:st=ot=>ot}){const ot=nt.doublePrecision&&nt.value instanceof Float64Array?2:1,at=nt.size*ot,lt=nt.byteOffset,ut=nt.startIndices,ft=it&&ut,dt=getAttributeBufferLength(nt,et),ht=nt.isConstant;if(!ft&&rt>=dt)return;const mt=ht?nt.value:nt.getBuffer().getData({srcByteOffset:lt});if(nt.settings.normalized&&!ht){const gt=st;st=(vt,Et)=>nt.normalizeConstant(gt(vt,Et))}const xt=ht?(gt,vt)=>st(mt,vt):(gt,vt)=>st(mt.subarray(gt,gt+at),vt),_t=tt.getData({length:rt}),At=new Float32Array(dt);padArray({source:_t,target:At,sourceStartIndices:it,targetStartIndices:ut,size:at,getData:xt}),tt.byteLength<At.byteLength+lt&&tt.reallocate(At.byteLength+lt),tt.subData({data:At,offset:lt})}class Attribute extends DataColumn{constructor(et,nt){super(et,nt,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:FULL}),_defineProperty$4(this,"constant",!1),this.settings.update=nt.update||(nt.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(et){this.state.startIndices=et}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:et=!1}={}){const nt=this.state.needsRedraw;return this.state.needsRedraw=nt&&!et,nt}getUpdateTriggers(){const{accessor:et}=this.settings;return[this.id].concat(typeof et!="function"&&et||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(et){if(!et||!this.supportsTransition())return null;const{accessor:nt}=this.settings,rt=this.settings.transition,it=Array.isArray(nt)?et[nt.find(st=>et[st])]:et[nt];return normalizeTransitionSettings(it,rt)}setNeedsUpdate(et=this.id,nt){if(this.state.needsUpdate=this.state.needsUpdate||et,this.setNeedsRedraw(et),nt){const{startRow:rt=0,endRow:it=1/0}=nt;this.state.updateRanges=add(this.state.updateRanges,[rt,it])}else this.state.updateRanges=FULL}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=EMPTY}setNeedsRedraw(et=this.id){this.state.needsRedraw=this.state.needsRedraw||et}allocate(et){const{state:nt,settings:rt}=this;return rt.noAlloc?!1:rt.update?(super.allocate(et,nt.updateRanges!==FULL),!0):!1}updateBuffer({numInstances:et,data:nt,props:rt,context:it}){if(!this.needsUpdate())return!1;const{state:{updateRanges:st},settings:{update:ot,noAlloc:at}}=this;let lt=!0;if(ot){for(const[ut,ft]of st)ot.call(it,this,{data:nt,startRow:ut,endRow:ft,props:rt,numInstances:et});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[ut,ft]of st){const dt=Number.isFinite(ut)?this.getVertexOffset(ut):0,ht=Number.isFinite(ft)?this.getVertexOffset(ft):at||!Number.isFinite(et)?this.value.length:et*this.size;super.updateSubBuffer({startOffset:dt,endOffset:ht})}this._checkAttributeArray()}else lt=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),lt}setConstantValue(et){return et===void 0||typeof et=="function"?!1:(this.setData({constant:!0,value:et})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(et){const{state:nt}=this;return et?(this.clearNeedsUpdate(),nt.lastExternalBuffer===et||(nt.lastExternalBuffer=et,this.setNeedsRedraw(),this.setData(et)),!0):(nt.lastExternalBuffer=null,!1)}setBinaryValue(et,nt=null){const{state:rt,settings:it}=this;if(!et)return rt.binaryValue=null,rt.binaryAccessor=null,!1;if(it.noAlloc)return!1;if(rt.binaryValue===et)return this.clearNeedsUpdate(),!0;if(rt.binaryValue=et,this.setNeedsRedraw(),it.transform||nt!==this.startIndices){ArrayBuffer.isView(et)&&(et={value:et});const ot=et;assert$2(ArrayBuffer.isView(ot.value),"invalid ".concat(it.accessor));const at=!!ot.size&&ot.size!==this.size;return rt.binaryAccessor=getAccessorFromBuffer(ot.value,{size:ot.size||this.size,stride:ot.stride,offset:ot.offset,startIndices:nt,nested:at}),!1}return this.clearNeedsUpdate(),this.setData(et),!0}getVertexOffset(et){const{startIndices:nt}=this;return(nt?et<nt.length?nt[et]:this.numInstances:et)*this.size}getShaderAttributes(){const et=this.settings.shaderAttributes||{[this.id]:null},nt={};for(const rt in et)Object.assign(nt,super.getShaderAttributes(rt,et[rt]));return nt}_autoUpdater(et,{data:nt,startRow:rt,endRow:it,props:st,numInstances:ot}){if(et.constant)return;const{settings:at,state:lt,value:ut,size:ft,startIndices:dt}=et,{accessor:ht,transform:mt}=at,xt=lt.binaryAccessor||(typeof ht=="function"?ht:st[ht]);assert$2(typeof xt=="function",'accessor "'.concat(ht,'" is not a function'));let _t=et.getVertexOffset(rt);const{iterable:At,objectInfo:gt}=createIterable(nt,rt,it);for(const vt of At){gt.index++;let Et=xt(vt,gt);if(mt&&(Et=mt.call(this,Et)),dt){const yt=(gt.index<dt.length-1?dt[gt.index+1]:ot)-dt[gt.index];if(Et&&Array.isArray(Et[0])){let wt=_t;for(const Ct of Et)et._normalizeValue(Ct,ut,wt),wt+=ft}else Et&&Et.length>ft?ut.set(Et,_t):(et._normalizeValue(Et,gt.target,0),fillArray({target:ut,source:gt.target,start:_t,count:yt}));_t+=yt*ft}else et._normalizeValue(Et,ut,_t),_t+=ft}}_validateAttributeUpdaters(){const{settings:et}=this;if(!(et.noAlloc||typeof et.update=="function"))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:et}=this,nt=Math.min(4,this.size);if(et&&et.length>=nt){let rt=!0;switch(nt){case 4:rt=rt&&Number.isFinite(et[3]);case 3:rt=rt&&Number.isFinite(et[2]);case 2:rt=rt&&Number.isFinite(et[1]);case 1:rt=rt&&Number.isFinite(et[0]);break;default:rt=!1}if(!rt)throw new Error("Illegal attribute generated for ".concat(this.id))}}}class GPUInterpolationTransition{constructor({gl:et,attribute:nt,timeline:rt}){_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"type","interpolation"),_defineProperty$4(this,"attributeInTransition",void 0),_defineProperty$4(this,"settings",void 0),_defineProperty$4(this,"attribute",void 0),_defineProperty$4(this,"transition",void 0),_defineProperty$4(this,"currentStartIndices",void 0),_defineProperty$4(this,"currentLength",void 0),_defineProperty$4(this,"transform",void 0),_defineProperty$4(this,"buffers",void 0),this.gl=et,this.transition=new Transition(rt),this.attribute=nt,this.attributeInTransition=new Attribute(et,nt.settings),this.currentStartIndices=nt.startIndices,this.currentLength=0,this.transform=getTransform$1(et,nt);const it={byteLength:0,usage:35050};this.buffers=[new Buffer$1(et,it),new Buffer$1(et,it)]}get inProgress(){return this.transition.inProgress}start(et,nt){if(et.duration<=0){this.transition.cancel();return}this.settings=et;const{gl:rt,buffers:it,attribute:st}=this;cycleBuffers(it);const ot={numInstances:nt,attribute:st,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:et.enter};for(const at of it)padBuffer({buffer:at,...ot});this.currentStartIndices=st.startIndices,this.currentLength=getAttributeBufferLength(st,nt),this.attributeInTransition.setData({buffer:it[1],value:st.value}),this.transition.start(et),this.transform.update({elementCount:Math.floor(this.currentLength/st.size),sourceBuffers:{aFrom:it[0],aTo:getSourceBufferAttribute(rt,st)},feedbackBuffers:{vCurrent:it[1]}})}update(){const et=this.transition.update();if(et){const{duration:nt,easing:rt}=this.settings,{time:it}=this.transition;let st=it/nt;rt&&(st=rt(st)),this.transform.run({uniforms:{time:st}})}return et}cancel(){this.transition.cancel(),this.transform.delete();for(const et of this.buffers)et.delete();this.buffers.length=0}}const vs$2=`
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
attribute ATTRIBUTE_TYPE aFrom;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, time);
  gl_Position = vec4(0.0);
}
`;function getTransform$1(tt,et){const nt=getAttributeTypeFromSize(et.size);return new Transform(tt,{vs:vs$2,defines:{ATTRIBUTE_TYPE:nt},varyings:["vCurrent"]})}class GPUSpringTransition{constructor({gl:et,attribute:nt,timeline:rt}){_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"type","spring"),_defineProperty$4(this,"attributeInTransition",void 0),_defineProperty$4(this,"settings",void 0),_defineProperty$4(this,"attribute",void 0),_defineProperty$4(this,"transition",void 0),_defineProperty$4(this,"currentStartIndices",void 0),_defineProperty$4(this,"currentLength",void 0),_defineProperty$4(this,"texture",void 0),_defineProperty$4(this,"framebuffer",void 0),_defineProperty$4(this,"transform",void 0),_defineProperty$4(this,"buffers",void 0),this.gl=et,this.type="spring",this.transition=new Transition(rt),this.attribute=nt,this.attributeInTransition=new Attribute(et,{...nt.settings,normalized:!1}),this.currentStartIndices=nt.startIndices,this.currentLength=0,this.texture=getTexture(et),this.framebuffer=getFramebuffer(et,this.texture),this.transform=getTransform(et,nt,this.framebuffer);const it={byteLength:0,usage:35050};this.buffers=[new Buffer$1(et,it),new Buffer$1(et,it),new Buffer$1(et,it)]}get inProgress(){return this.transition.inProgress}start(et,nt){const{gl:rt,buffers:it,attribute:st}=this,ot={numInstances:nt,attribute:st,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:et.enter};for(const at of it)padBuffer({buffer:at,...ot});this.settings=et,this.currentStartIndices=st.startIndices,this.currentLength=getAttributeBufferLength(st,nt),this.attributeInTransition.setData({buffer:it[1],value:st.value}),this.transition.start({...et,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/st.size),sourceBuffers:{aTo:getSourceBufferAttribute(rt,st)}})}update(){const{buffers:et,transform:nt,framebuffer:rt,transition:it}=this;if(!it.update())return!1;const ot=this.settings;return nt.update({sourceBuffers:{aPrev:et[0],aCur:et[1]},feedbackBuffers:{vNext:et[2]}}),nt.run({framebuffer:rt,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:ot.stiffness,damping:ot.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),cycleBuffers(et),this.attributeInTransition.setData({buffer:et[1],value:this.attribute.value}),readPixelsToArray(rt)[0]>0||it.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const et of this.buffers)et.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}function getTransform(tt,et,nt){const rt=getAttributeTypeFromSize(et.size);return new Transform(tt,{framebuffer:nt,vs:`
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

uniform float stiffness;
uniform float damping;
attribute ATTRIBUTE_TYPE aPrev;
attribute ATTRIBUTE_TYPE aCur;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vNext;
varying float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE spring = delta * stiffness;
  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;
  return spring + damper + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,fs:`
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

varying float vIsTransitioningFlag;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  gl_FragColor = vec4(1.0);
}`,defines:{ATTRIBUTE_TYPE:rt},varyings:["vNext"]})}function getTexture(tt){return new Texture2D(tt,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}function getFramebuffer(tt,et){return new Framebuffer(tt,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{[36064]:et}})}const TRANSITION_TYPES$1={interpolation:GPUInterpolationTransition,spring:GPUSpringTransition};class AttributeTransitionManager{constructor(et,{id:nt,timeline:rt}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"isSupported",void 0),_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"timeline",void 0),_defineProperty$4(this,"transitions",void 0),_defineProperty$4(this,"needsRedraw",void 0),_defineProperty$4(this,"numInstances",void 0),this.id=nt,this.gl=et,this.timeline=rt,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=Transform.isSupported(et)}finalize(){for(const et in this.transitions)this._removeTransition(et)}update({attributes:et,transitions:nt,numInstances:rt}){this.numInstances=rt||1;for(const it in et){const st=et[it],ot=st.getTransitionSetting(nt);ot&&this._updateAttribute(it,st,ot)}for(const it in this.transitions){const st=et[it];(!st||!st.getTransitionSetting(nt))&&this._removeTransition(it)}}hasAttribute(et){const nt=this.transitions[et];return nt&&nt.inProgress}getAttributes(){const et={};for(const nt in this.transitions){const rt=this.transitions[nt];rt.inProgress&&(et[nt]=rt.attributeInTransition)}return et}run(){if(!this.isSupported||this.numInstances===0)return!1;for(const nt in this.transitions)this.transitions[nt].update()&&(this.needsRedraw=!0);const et=this.needsRedraw;return this.needsRedraw=!1,et}_removeTransition(et){this.transitions[et].cancel(),delete this.transitions[et]}_updateAttribute(et,nt,rt){const it=this.transitions[et];let st=!it||it.type!==rt.type;if(st){if(!this.isSupported){log$4.warn("WebGL2 not supported by this browser. Transition for ".concat(et," is disabled."))();return}it&&this._removeTransition(et);const ot=TRANSITION_TYPES$1[rt.type];ot?this.transitions[et]=new ot({attribute:nt,timeline:this.timeline,gl:this.gl}):(log$4.error("unsupported transition type '".concat(rt.type,"'"))(),st=!1)}(st||nt.needsRedraw())&&(this.needsRedraw=!0,this.transitions[et].start(rt,this.numInstances))}}const TRACE_INVALIDATE="attributeManager.invalidate",TRACE_UPDATE_START="attributeManager.updateStart",TRACE_UPDATE_END="attributeManager.updateEnd",TRACE_ATTRIBUTE_UPDATE_START="attribute.updateStart",TRACE_ATTRIBUTE_ALLOCATE="attribute.allocate",TRACE_ATTRIBUTE_UPDATE_END="attribute.updateEnd";class AttributeManager{constructor(et,{id:nt="attribute-manager",stats:rt,timeline:it}={}){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"gl",void 0),_defineProperty$4(this,"attributes",void 0),_defineProperty$4(this,"updateTriggers",void 0),_defineProperty$4(this,"needsRedraw",void 0),_defineProperty$4(this,"userData",void 0),_defineProperty$4(this,"stats",void 0),_defineProperty$4(this,"attributeTransitionManager",void 0),_defineProperty$4(this,"mergeBoundsMemoized",memoize$1(mergeBounds)),this.id=nt,this.gl=et,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=rt,this.attributeTransitionManager=new AttributeTransitionManager(et,{id:"".concat(nt,"-transitions"),timeline:it}),Object.seal(this)}finalize(){for(const et in this.attributes)this.attributes[et].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(et={clearRedrawFlags:!1}){const nt=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!et.clearRedrawFlags,nt&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(et){this._add(et)}addInstanced(et){this._add(et,{instanced:1})}remove(et){for(const nt of et)this.attributes[nt]!==void 0&&(this.attributes[nt].delete(),delete this.attributes[nt])}invalidate(et,nt){const rt=this._invalidateTrigger(et,nt);debug(TRACE_INVALIDATE,this,et,rt)}invalidateAll(et){for(const nt in this.attributes)this.attributes[nt].setNeedsUpdate(nt,et);debug(TRACE_INVALIDATE,this,"all")}update({data:et,numInstances:nt,startIndices:rt=null,transitions:it,props:st={},buffers:ot={},context:at={}}){let lt=!1;debug(TRACE_UPDATE_START,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const ut in this.attributes){const ft=this.attributes[ut],dt=ft.settings.accessor;ft.startIndices=rt,ft.numInstances=nt,st[ut]&&log$4.removed("props.".concat(ut),"data.attributes.".concat(ut))(),ft.setExternalBuffer(ot[ut])||ft.setBinaryValue(typeof dt=="string"?ot[dt]:void 0,et.startIndices)||typeof dt=="string"&&!ot[dt]&&ft.setConstantValue(st[dt])||ft.needsUpdate()&&(lt=!0,this._updateAttribute({attribute:ft,numInstances:nt,data:et,props:st,context:at})),this.needsRedraw=this.needsRedraw||ft.needsRedraw()}lt&&debug(TRACE_UPDATE_END,this,nt),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:nt,transitions:it})}updateTransition(){const{attributeTransitionManager:et}=this,nt=et.run();return this.needsRedraw=this.needsRedraw||nt,nt}getAttributes(){return this.attributes}getBounds(et){const nt=et.map(rt=>{var it;return(it=this.attributes[rt])===null||it===void 0?void 0:it.getBounds()});return this.mergeBoundsMemoized(nt)}getChangedAttributes(et={clearChangedFlags:!1}){const{attributes:nt,attributeTransitionManager:rt}=this,it={...rt.getAttributes()};for(const st in nt){const ot=nt[st];ot.needsRedraw(et)&&!rt.hasAttribute(st)&&(it[st]=ot)}return it}getShaderAttributes(et,nt={}){et||(et=this.getAttributes());const rt={};for(const it in et)nt[it]||Object.assign(rt,et[it].getShaderAttributes());return rt}_add(et,nt={}){for(const rt in et){const it=et[rt];this.attributes[rt]=this._createAttribute(rt,it,nt)}this._mapUpdateTriggersToAttributes()}_createAttribute(et,nt,rt){const it={...nt,id:et,size:nt.isIndexed&&1||nt.size||1,divisor:rt.instanced?1:nt.divisor||0};return new Attribute(this.gl,it)}_mapUpdateTriggersToAttributes(){const et={};for(const nt in this.attributes)this.attributes[nt].getUpdateTriggers().forEach(it=>{et[it]||(et[it]=[]),et[it].push(nt)});this.updateTriggers=et}_invalidateTrigger(et,nt){const{attributes:rt,updateTriggers:it}=this,st=it[et];return st&&st.forEach(ot=>{const at=rt[ot];at&&at.setNeedsUpdate(at.id,nt)}),st}_updateAttribute(et){const{attribute:nt,numInstances:rt}=et;if(debug(TRACE_ATTRIBUTE_UPDATE_START,nt),nt.constant){nt.setConstantValue(nt.value);return}nt.allocate(rt)&&debug(TRACE_ATTRIBUTE_ALLOCATE,nt,rt),nt.updateBuffer(et)&&(this.needsRedraw=!0,debug(TRACE_ATTRIBUTE_UPDATE_END,nt,rt))}}class CPUInterpolationTransition extends Transition{get value(){return this._value}_onUpdate(){const{time:et,settings:{fromValue:nt,toValue:rt,duration:it,easing:st}}=this,ot=st(et/it);this._value=lerp$5(nt,rt,ot)}}const EPSILON=1e-5;function updateSpringElement(tt,et,nt,rt,it){const st=et-tt,at=(nt-et)*it,lt=-st*rt;return at+lt+st+et}function updateSpring(tt,et,nt,rt,it){if(Array.isArray(nt)){const st=[];for(let ot=0;ot<nt.length;ot++)st[ot]=updateSpringElement(tt[ot],et[ot],nt[ot],rt,it);return st}return updateSpringElement(tt,et,nt,rt,it)}function distance(tt,et){if(Array.isArray(tt)){let nt=0;for(let rt=0;rt<tt.length;rt++){const it=tt[rt]-et[rt];nt+=it*it}return Math.sqrt(nt)}return Math.abs(tt-et)}class CPUSpringTransition extends Transition{get value(){return this._currValue}_onUpdate(){const{fromValue:et,toValue:nt,damping:rt,stiffness:it}=this.settings,{_prevValue:st=et,_currValue:ot=et}=this;let at=updateSpring(st,ot,nt,rt,it);const lt=distance(at,nt),ut=distance(at,ot);lt<EPSILON&&ut<EPSILON&&(at=nt,this.end()),this._prevValue=ot,this._currValue=at}}const TRANSITION_TYPES={interpolation:CPUInterpolationTransition,spring:CPUSpringTransition};class UniformTransitionManager{constructor(et){this.transitions=new Map,this.timeline=et}get active(){return this.transitions.size>0}add(et,nt,rt,it){const{transitions:st}=this;if(st.has(et)){const lt=st.get(et),{value:ut=lt.settings.fromValue}=lt;nt=ut,this.remove(et)}if(it=normalizeTransitionSettings(it),!it)return;const ot=TRANSITION_TYPES[it.type];if(!ot){log$4.error("unsupported transition type '".concat(it.type,"'"))();return}const at=new ot(this.timeline);at.start({...it,fromValue:nt,toValue:rt}),st.set(et,at)}remove(et){const{transitions:nt}=this;nt.has(et)&&(nt.get(et).cancel(),nt.delete(et))}update(){const et={};for(const[nt,rt]of this.transitions)rt.update(),et[nt]=rt.value,rt.inProgress||this.remove(nt);return et}clear(){for(const et of this.transitions.keys())this.remove(et)}}function validateProps(tt){const et=tt[PROP_TYPES_SYMBOL];for(const nt in et){const rt=et[nt],{validate:it}=rt;if(it&&!it(tt[nt],rt))throw new Error("Invalid prop ".concat(nt,": ").concat(tt[nt]))}}function diffProps(tt,et){const nt=compareProps({newProps:tt,oldProps:et,propTypes:tt[PROP_TYPES_SYMBOL],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),rt=diffDataProps(tt,et);let it=!1;return rt||(it=diffUpdateTriggers(tt,et)),{dataChanged:rt,propsChanged:nt,updateTriggersChanged:it,extensionsChanged:diffExtensions(tt,et),transitionsChanged:diffTransitions(tt,et)}}function diffTransitions(tt,et){if(!tt.transitions)return!1;const nt={},rt=tt[PROP_TYPES_SYMBOL];let it=!1;for(const st in tt.transitions){const ot=rt[st],at=ot&&ot.type;(at==="number"||at==="color"||at==="array")&&comparePropValues(tt[st],et[st],ot)&&(nt[st]=!0,it=!0)}return it?nt:!1}function compareProps({newProps:tt,oldProps:et,ignoreProps:nt={},propTypes:rt={},triggerName:it="props"}){if(et===tt)return!1;if(typeof tt!="object"||tt===null||typeof et!="object"||et===null)return"".concat(it," changed shallowly");for(const st of Object.keys(tt))if(!(st in nt)){if(!(st in et))return"".concat(it,".").concat(st," added");const ot=comparePropValues(tt[st],et[st],rt[st]);if(ot)return"".concat(it,".").concat(st," ").concat(ot)}for(const st of Object.keys(et))if(!(st in nt)){if(!(st in tt))return"".concat(it,".").concat(st," dropped");if(!Object.hasOwnProperty.call(tt,st)){const ot=comparePropValues(tt[st],et[st],rt[st]);if(ot)return"".concat(it,".").concat(st," ").concat(ot)}}return!1}function comparePropValues(tt,et,nt){let rt=nt&&nt.equal;return rt&&!rt(tt,et,nt)||!rt&&(rt=tt&&et&&tt.equals,rt&&!rt.call(tt,et))?"changed deeply":!rt&&et!==tt?"changed shallowly":null}function diffDataProps(tt,et){if(et===null)return"oldProps is null, initial diff";let nt=!1;const{dataComparator:rt,_dataDiff:it}=tt;return rt?rt(tt.data,et.data)||(nt="Data comparator detected a change"):tt.data!==et.data&&(nt="A new data container was supplied"),nt&&it&&(nt=it(tt.data,et.data)||nt),nt}function diffUpdateTriggers(tt,et){if(et===null)return{all:!0};if("all"in tt.updateTriggers&&diffUpdateTrigger(tt,et,"all"))return{all:!0};const nt={};let rt=!1;for(const it in tt.updateTriggers)it!=="all"&&diffUpdateTrigger(tt,et,it)&&(nt[it]=!0,rt=!0);return rt?nt:!1}function diffExtensions(tt,et){if(et===null)return!0;const nt=et.extensions,{extensions:rt}=tt;if(rt===nt)return!1;if(!nt||!rt||rt.length!==nt.length)return!0;for(let it=0;it<rt.length;it++)if(!rt[it].equals(nt[it]))return!0;return!1}function diffUpdateTrigger(tt,et,nt){let rt=tt.updateTriggers[nt];rt=rt??{};let it=et.updateTriggers[nt];return it=it??{},compareProps({oldProps:it,newProps:rt,triggerName:nt})}const ERR_NOT_OBJECT="count(): argument not an object",ERR_NOT_CONTAINER="count(): argument not a container";function count(tt){if(!isObject$7(tt))throw new Error(ERR_NOT_OBJECT);if(typeof tt.count=="function")return tt.count();if(Number.isFinite(tt.size))return tt.size;if(Number.isFinite(tt.length))return tt.length;if(isPlainObject$1(tt))return Object.keys(tt).length;throw new Error(ERR_NOT_CONTAINER)}function isPlainObject$1(tt){return tt!==null&&typeof tt=="object"&&tt.constructor===Object}function isObject$7(tt){return tt!==null&&typeof tt=="object"}function mergeShaders(tt,et){if(!et)return tt;const nt={...tt,...et};if("defines"in et&&(nt.defines={...tt.defines,...et.defines}),"modules"in et&&(nt.modules=(tt.modules||[]).concat(et.modules),et.modules.some(rt=>rt.name==="project64"))){const rt=nt.modules.findIndex(it=>it.name==="project32");rt>=0&&nt.modules.splice(rt,1)}if("inject"in et)if(!tt.inject)nt.inject=et.inject;else{const rt={...tt.inject};for(const it in et.inject)rt[it]=(rt[it]||"")+et.inject[it];nt.inject=rt}return nt}const DEFAULT_TEXTURE_PARAMETERS={[10241]:9987,[10240]:9729,[10242]:33071,[10243]:33071},internalTextures={};function createTexture(tt,et,nt,rt){if(nt instanceof Texture2D)return nt;nt.constructor&&nt.constructor.name!=="Object"&&(nt={data:nt});let it=null;nt.compressed&&(it={[10241]:nt.data.length>1?9985:9729});const st=new Texture2D(et,{...nt,parameters:{...DEFAULT_TEXTURE_PARAMETERS,...it,...rt}});return internalTextures[st.id]=tt,st}function destroyTexture(tt,et){!et||!(et instanceof Texture2D)||internalTextures[et.id]===tt&&(et.delete(),delete internalTextures[et.id])}const TYPE_DEFINITIONS={boolean:{validate(tt,et){return!0},equal(tt,et,nt){return!!tt==!!et}},number:{validate(tt,et){return Number.isFinite(tt)&&(!("max"in et)||tt<=et.max)&&(!("min"in et)||tt>=et.min)}},color:{validate(tt,et){return et.optional&&!tt||isArray$6(tt)&&(tt.length===3||tt.length===4)},equal(tt,et,nt){return deepEqual$1(tt,et,1)}},accessor:{validate(tt,et){const nt=getTypeOf(tt);return nt==="function"||nt===getTypeOf(et.value)},equal(tt,et,nt){return typeof et=="function"?!0:deepEqual$1(tt,et,1)}},array:{validate(tt,et){return et.optional&&!tt||isArray$6(tt)},equal(tt,et,nt){const{compare:rt}=nt,it=Number.isInteger(rt)?rt:rt?1:0;return rt?deepEqual$1(tt,et,it):tt===et}},object:{equal(tt,et,nt){if(nt.ignore)return!0;const{compare:rt}=nt,it=Number.isInteger(rt)?rt:rt?1:0;return rt?deepEqual$1(tt,et,it):tt===et}},function:{validate(tt,et){return et.optional&&!tt||typeof tt=="function"},equal(tt,et,nt){return!nt.compare&&nt.ignore!==!1||tt===et}},data:{transform:(tt,et,nt)=>{const{dataTransform:rt}=nt.props;return rt&&tt?rt(tt):tt}},image:{transform:(tt,et,nt)=>{const rt=nt.context;return!rt||!rt.gl?null:createTexture(nt.id,rt.gl,tt,{...et.parameters,...nt.props.textureParameters})},release:(tt,et,nt)=>{destroyTexture(nt.id,tt)}}};function parsePropTypes(tt){const et={},nt={},rt={};for(const[it,st]of Object.entries(tt)){const ot=st==null?void 0:st.deprecatedFor;if(ot)rt[it]=Array.isArray(ot)?ot:[ot];else{const at=parsePropType(it,st);et[it]=at,nt[it]=at.value}}return{propTypes:et,defaultProps:nt,deprecatedProps:rt}}function parsePropType(tt,et){switch(getTypeOf(et)){case"object":return normalizePropDefinition(tt,et);case"array":return normalizePropDefinition(tt,{type:"array",value:et,compare:!1});case"boolean":return normalizePropDefinition(tt,{type:"boolean",value:et});case"number":return normalizePropDefinition(tt,{type:"number",value:et});case"function":return normalizePropDefinition(tt,{type:"function",value:et,compare:!0});default:return{name:tt,type:"unknown",value:et}}}function normalizePropDefinition(tt,et){return"type"in et?{name:tt,...TYPE_DEFINITIONS[et.type],...et}:"value"in et?{name:tt,type:getTypeOf(et.value),...et}:{name:tt,type:"object",value:et}}function isArray$6(tt){return Array.isArray(tt)||ArrayBuffer.isView(tt)}function getTypeOf(tt){return isArray$6(tt)?"array":tt===null?"null":typeof tt}function createProps(tt,et){let nt;for(let st=et.length-1;st>=0;st--){const ot=et[st];"extensions"in ot&&(nt=ot.extensions)}const rt=getPropsPrototype(tt.constructor,nt),it=Object.create(rt);it[COMPONENT_SYMBOL]=tt,it[ASYNC_ORIGINAL_SYMBOL]={},it[ASYNC_RESOLVED_SYMBOL]={};for(let st=0;st<et.length;++st){const ot=et[st];for(const at in ot)it[at]=ot[at]}return Object.freeze(it),it}const MergedDefaultPropsCacheKey="_mergedDefaultProps";function getPropsPrototype(tt,et){let nt=MergedDefaultPropsCacheKey;if(et)for(const it of et){const st=it.constructor;st&&(nt+=":".concat(st.extensionName||st.name))}const rt=getOwnProperty(tt,nt);return rt||(tt[nt]=createPropsPrototypeAndTypes(tt,et||[]))}function createPropsPrototypeAndTypes(tt,et){if(!tt.prototype)return null;const rt=Object.getPrototypeOf(tt),it=getPropsPrototype(rt),st=getOwnProperty(tt,"defaultProps")||{},ot=parsePropTypes(st),at=Object.assign(Object.create(null),it,ot.defaultProps),lt=Object.assign(Object.create(null),it==null?void 0:it[PROP_TYPES_SYMBOL],ot.propTypes),ut=Object.assign(Object.create(null),it==null?void 0:it[DEPRECATED_PROPS_SYMBOL],ot.deprecatedProps);for(const ft of et){const dt=getPropsPrototype(ft.constructor);dt&&(Object.assign(at,dt),Object.assign(lt,dt[PROP_TYPES_SYMBOL]),Object.assign(ut,dt[DEPRECATED_PROPS_SYMBOL]))}return createPropsPrototype(at,tt),addAsyncPropsToPropPrototype(at,lt),addDeprecatedPropsToPropPrototype(at,ut),at[PROP_TYPES_SYMBOL]=lt,at[DEPRECATED_PROPS_SYMBOL]=ut,et.length===0&&!hasOwnProperty$a(tt,"_propTypes")&&(tt._propTypes=lt),at}function createPropsPrototype(tt,et){const nt=getComponentName(et);Object.defineProperties(tt,{id:{writable:!0,value:nt}})}function addDeprecatedPropsToPropPrototype(tt,et){for(const nt in et)Object.defineProperty(tt,nt,{enumerable:!1,set(rt){const it="".concat(this.id,": ").concat(nt);for(const st of et[nt])hasOwnProperty$a(this,st)||(this[st]=rt);log$4.deprecated(it,et[nt].join("/"))()}})}function addAsyncPropsToPropPrototype(tt,et){const nt={},rt={};for(const it in et){const st=et[it],{name:ot,value:at}=st;st.async&&(nt[ot]=at,rt[ot]=getDescriptorForAsyncProp(ot))}tt[ASYNC_DEFAULTS_SYMBOL]=nt,tt[ASYNC_ORIGINAL_SYMBOL]={},Object.defineProperties(tt,rt)}function getDescriptorForAsyncProp(tt){return{enumerable:!0,set(et){typeof et=="string"||et instanceof Promise||isAsyncIterable(et)?this[ASYNC_ORIGINAL_SYMBOL][tt]=et:this[ASYNC_RESOLVED_SYMBOL][tt]=et},get(){if(this[ASYNC_RESOLVED_SYMBOL]){if(tt in this[ASYNC_RESOLVED_SYMBOL])return this[ASYNC_RESOLVED_SYMBOL][tt]||this[ASYNC_DEFAULTS_SYMBOL][tt];if(tt in this[ASYNC_ORIGINAL_SYMBOL]){const et=this[COMPONENT_SYMBOL]&&this[COMPONENT_SYMBOL].internalState;if(et&&et.hasAsyncProp(tt))return et.getAsyncProp(tt)||this[ASYNC_DEFAULTS_SYMBOL][tt]}}return this[ASYNC_DEFAULTS_SYMBOL][tt]}}}function hasOwnProperty$a(tt,et){return Object.prototype.hasOwnProperty.call(tt,et)}function getOwnProperty(tt,et){return hasOwnProperty$a(tt,et)&&tt[et]}function getComponentName(tt){const et=tt.componentName;return et||log$4.warn("".concat(tt.name,".componentName not specified"))(),et||tt.name}let counter$1=0;class Component{constructor(...et){_defineProperty$4(this,"id",void 0),_defineProperty$4(this,"props",void 0),_defineProperty$4(this,"count",void 0),this.props=createProps(this,et),this.id=this.props.id,this.count=counter$1++}clone(et){const{props:nt}=this,rt={};for(const it in nt[ASYNC_DEFAULTS_SYMBOL])it in nt[ASYNC_RESOLVED_SYMBOL]?rt[it]=nt[ASYNC_RESOLVED_SYMBOL][it]:it in nt[ASYNC_ORIGINAL_SYMBOL]&&(rt[it]=nt[ASYNC_ORIGINAL_SYMBOL][it]);return new this.constructor({...nt,...rt,...et})}}_defineProperty$4(Component,"componentName","Component");_defineProperty$4(Component,"defaultProps",{});const EMPTY_PROPS=Object.freeze({});class ComponentState{constructor(et){_defineProperty$4(this,"component",void 0),_defineProperty$4(this,"onAsyncPropUpdated",void 0),_defineProperty$4(this,"asyncProps",void 0),_defineProperty$4(this,"oldProps",void 0),_defineProperty$4(this,"oldAsyncProps",void 0),this.component=et,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const et in this.asyncProps){const nt=this.asyncProps[et];nt&&nt.type&&nt.type.release&&nt.type.release(nt.resolvedValue,nt.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||EMPTY_PROPS}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(et){return et in this.asyncProps}getAsyncProp(et){const nt=this.asyncProps[et];return nt&&nt.resolvedValue}isAsyncPropLoading(et){if(et){const nt=this.asyncProps[et];return!!(nt&&nt.pendingLoadCount>0&&nt.pendingLoadCount!==nt.resolvedLoadCount)}for(const nt in this.asyncProps)if(this.isAsyncPropLoading(nt))return!0;return!1}reloadAsyncProp(et,nt){this._watchPromise(et,Promise.resolve(nt))}setAsyncProps(et){this.component=et[COMPONENT_SYMBOL]||this.component;const nt=et[ASYNC_RESOLVED_SYMBOL]||{},rt=et[ASYNC_ORIGINAL_SYMBOL]||et,it=et[ASYNC_DEFAULTS_SYMBOL]||{};for(const st in nt){const ot=nt[st];this._createAsyncPropData(st,it[st]),this._updateAsyncProp(st,ot),nt[st]=this.getAsyncProp(st)}for(const st in rt){const ot=rt[st];this._createAsyncPropData(st,it[st]),this._updateAsyncProp(st,ot)}}_fetch(et,nt){return null}_onResolve(et,nt){}_onError(et,nt){}_updateAsyncProp(et,nt){if(this._didAsyncInputValueChange(et,nt)){if(typeof nt=="string"&&(nt=this._fetch(et,nt)),nt instanceof Promise){this._watchPromise(et,nt);return}if(isAsyncIterable(nt)){this._resolveAsyncIterable(et,nt);return}this._setPropValue(et,nt)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const et in this.asyncProps)Object.defineProperty(this.oldAsyncProps,et,{enumerable:!0,value:this.oldProps[et]})}}_didAsyncInputValueChange(et,nt){const rt=this.asyncProps[et];return nt===rt.resolvedValue||nt===rt.lastValue?!1:(rt.lastValue=nt,!0)}_setPropValue(et,nt){this._freezeAsyncOldProps();const rt=this.asyncProps[et];rt&&(nt=this._postProcessValue(rt,nt),rt.resolvedValue=nt,rt.pendingLoadCount++,rt.resolvedLoadCount=rt.pendingLoadCount)}_setAsyncPropValue(et,nt,rt){const it=this.asyncProps[et];it&&rt>=it.resolvedLoadCount&&nt!==void 0&&(this._freezeAsyncOldProps(),it.resolvedValue=nt,it.resolvedLoadCount=rt,this.onAsyncPropUpdated(et,nt))}_watchPromise(et,nt){const rt=this.asyncProps[et];if(rt){rt.pendingLoadCount++;const it=rt.pendingLoadCount;nt.then(st=>{this.component&&(st=this._postProcessValue(rt,st),this._setAsyncPropValue(et,st,it),this._onResolve(et,st))}).catch(st=>{this._onError(et,st)})}}async _resolveAsyncIterable(et,nt){if(et!=="data"){this._setPropValue(et,nt);return}const rt=this.asyncProps[et];if(!rt)return;rt.pendingLoadCount++;const it=rt.pendingLoadCount;let st=[],ot=0;for await(const at of nt){if(!this.component)return;const{dataTransform:lt}=this.component.props;lt?st=lt(at,st):st=st.concat(at),Object.defineProperty(st,"__diff",{enumerable:!1,value:[{startRow:ot,endRow:st.length}]}),ot=st.length,this._setAsyncPropValue(et,st,it)}this._onResolve(et,st)}_postProcessValue(et,nt){const rt=et.type;return rt&&this.component&&(rt.release&&rt.release(et.resolvedValue,rt,this.component),rt.transform)?rt.transform(nt,rt,this.component):nt}_createAsyncPropData(et,nt){if(!this.asyncProps[et]){const it=this.component&&this.component.props[PROP_TYPES_SYMBOL];this.asyncProps[et]={type:it&&it[et],lastValue:null,resolvedValue:nt,pendingLoadCount:0,resolvedLoadCount:0}}}}class LayerState extends ComponentState{constructor({attributeManager:et,layer:nt}){super(nt),_defineProperty$4(this,"attributeManager",void 0),_defineProperty$4(this,"needsRedraw",void 0),_defineProperty$4(this,"needsUpdate",void 0),_defineProperty$4(this,"subLayers",void 0),_defineProperty$4(this,"usesPickingColorCache",void 0),_defineProperty$4(this,"hasPickingBuffer",void 0),_defineProperty$4(this,"changeFlags",void 0),_defineProperty$4(this,"viewport",void 0),_defineProperty$4(this,"uniformTransitions",void 0),_defineProperty$4(this,"propsInTransition",void 0),this.attributeManager=et,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(et,nt){const rt=this.layer,it=rt==null?void 0:rt.props.fetch;return it?it(nt,{propName:et,layer:rt}):super._fetch(et,nt)}_onResolve(et,nt){const rt=this.layer;if(rt){const it=rt.props.onDataLoad;et==="data"&&it&&it(nt,{propName:et,layer:rt})}}_onError(et,nt){const rt=this.layer;rt&&rt.raiseError(nt,"loading ".concat(et," of ").concat(this.layer))}}const TRACE_CHANGE_FLAG="layer.changeFlag",TRACE_INITIALIZE="layer.initialize",TRACE_UPDATE="layer.update",TRACE_FINALIZE="layer.finalize",TRACE_MATCHED="layer.matched",MAX_PICKING_COLOR_CACHE_SIZE=2**24-1,EMPTY_ARRAY=Object.freeze([]),areViewportsEqual=memoize$1(({oldViewport:tt,viewport:et})=>tt.equals(et));let pickingColorCache=new Uint8ClampedArray(0);const defaultProps$2={data:{type:"data",value:EMPTY_ARRAY,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:tt=>tt&&tt.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(tt,{propName:et,layer:nt,loaders:rt,loadOptions:it,signal:st})=>{const{resourceManager:ot}=nt.context;if(it=it||nt.getLoadOptions(),rt=rt||nt.props.loaders,st){var at;it={...it,fetch:{...(at=it)===null||at===void 0?void 0:at.fetch,signal:st}}}let lt=ot.contains(tt);return!lt&&!it&&(ot.add({resourceId:tt,data:load(tt,rt),persistent:!1}),lt=!0),lt?ot.subscribe({resourceId:tt,onChange:ut=>{var ft;return(ft=nt.internalState)===null||ft===void 0?void 0:ft.reloadAsyncProp(et,ut)},consumerId:nt.id,requestId:et}):load(tt,rt,it)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:tt})=>[0,-tt*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Layer extends Component{constructor(...et){super(...et),_defineProperty$4(this,"internalState",null),_defineProperty$4(this,"lifecycle",LIFECYCLE.NO_STATE),_defineProperty$4(this,"context",void 0),_defineProperty$4(this,"state",void 0),_defineProperty$4(this,"parent",null)}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let et=this;for(;et.parent;)et=et.parent;return et}toString(){const et=this.constructor.layerName||this.constructor.name;return"".concat(et,"({id: '").concat(this.props.id,"'})")}project(et){assert$2(this.internalState);const nt=this.internalState.viewport||this.context.viewport,rt=getWorldPosition(et,{viewport:nt,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[it,st,ot]=worldToPixels(rt,nt.pixelProjectionMatrix);return et.length===2?[it,st]:[it,st,ot]}unproject(et){return assert$2(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(et)}projectPosition(et,nt){assert$2(this.internalState);const rt=this.internalState.viewport||this.context.viewport;return projectPosition(et,{viewport:rt,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...nt})}get isComposite(){return!1}setState(et){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,et),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(et){for(const nt of this.getModels())nt.updateModuleSettings(et)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:et}=this.props;return et===COORDINATE_SYSTEM.DEFAULT||et===COORDINATE_SYSTEM.LNGLAT||et===COORDINATE_SYSTEM.CARTESIAN}onHover(et,nt){return this.props.onHover&&this.props.onHover(et,nt)||!1}onClick(et,nt){return this.props.onClick&&this.props.onClick(et,nt)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(et,nt=[]){return nt[0]=et+1&255,nt[1]=et+1>>8&255,nt[2]=et+1>>8>>8&255,nt}decodePickingColor(et){assert$2(et instanceof Uint8Array);const[nt,rt,it]=et;return nt+rt*256+it*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:count(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var et;return(et=this.getAttributeManager())===null||et===void 0?void 0:et.getBounds(["positions","instancePositions"])}getShaders(et){for(const nt of this.props.extensions)et=mergeShaders(et,nt.getShaders.call(this,nt));return et}shouldUpdateState(et){return et.changeFlags.propsOrDataChanged}updateState(et){const nt=this.getAttributeManager(),{dataChanged:rt}=et.changeFlags;if(rt&&nt)if(Array.isArray(rt))for(const it of rt)nt.invalidateAll(it);else nt.invalidateAll();if(nt){const{props:it}=et,st=this.internalState.hasPickingBuffer,ot=Number.isInteger(it.highlightedObjectIndex)||it.pickable||it.extensions.some(at=>at.getNeedsPickingBuffer.call(this,at));if(st!==ot){this.internalState.hasPickingBuffer=ot;const{pickingColors:at,instancePickingColors:lt}=nt.attributes,ut=at||lt;ut&&(ot&&ut.constant&&(ut.constant=!1,nt.invalidate(ut.id)),!ut.value&&!ot&&(ut.constant=!0,ut.value=[0,0,0]))}}}finalizeState(et){for(const rt of this.getModels())rt.delete();const nt=this.getAttributeManager();nt&&nt.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(et){for(const nt of this.getModels())nt.draw(et)}getPickingInfo({info:et,mode:nt,sourceLayer:rt}){const{index:it}=et;return it>=0&&Array.isArray(this.props.data)&&(et.object=this.props.data[it]),et}raiseError(et,nt){var rt,it;if(nt&&(et.message="".concat(nt,": ").concat(et.message)),!((rt=(it=this.props).onError)!==null&&rt!==void 0&&rt.call(it,et))){var st,ot;(st=this.context)===null||st===void 0||(ot=st.onError)===null||ot===void 0||ot.call(st,et,this)}}getNeedsRedraw(et={clearRedrawFlags:!1}){return this._getNeedsRedraw(et)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var et;return((et=this.internalState)===null||et===void 0?void 0:et.uniformTransitions.active)||!1}activateViewport(et){if(!this.internalState)return;const nt=this.internalState.viewport;this.internalState.viewport=et,(!nt||!areViewportsEqual({oldViewport:nt,viewport:et}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(et="all"){const nt=this.getAttributeManager();nt&&(et==="all"?nt.invalidateAll():nt.invalidate(et))}updateAttributes(et){for(const nt of this.getModels())this._setModelAttributes(nt,et)}_updateAttributes(){const et=this.getAttributeManager();if(!et)return;const nt=this.props,rt=this.getNumInstances(),it=this.getStartIndices();et.update({data:nt.data,numInstances:rt,startIndices:it,props:nt,transitions:nt.transitions,buffers:nt.data.attributes,context:this});const st=et.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(st)}_updateAttributeTransition(){const et=this.getAttributeManager();et&&et.updateTransition()}_updateUniformTransition(){const{uniformTransitions:et}=this.internalState;if(et.active){const nt=et.update(),rt=Object.create(this.props);for(const it in nt)Object.defineProperty(rt,it,{value:nt[it]});return rt}return this.props}calculateInstancePickingColors(et,{numInstances:nt}){if(et.constant)return;const rt=Math.floor(pickingColorCache.length/3);if(this.internalState.usesPickingColorCache=!0,rt<nt){nt>MAX_PICKING_COLOR_CACHE_SIZE&&log$4.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),pickingColorCache=defaultTypedArrayManager.allocate(pickingColorCache,nt,{size:3,copy:!0,maxCount:Math.max(nt,MAX_PICKING_COLOR_CACHE_SIZE)});const it=Math.floor(pickingColorCache.length/3),st=[];for(let ot=rt;ot<it;ot++)this.encodePickingColor(ot,st),pickingColorCache[ot*3+0]=st[0],pickingColorCache[ot*3+1]=st[1],pickingColorCache[ot*3+2]=st[2]}et.value=pickingColorCache.subarray(0,nt*3)}_setModelAttributes(et,nt){const rt=this.getAttributeManager(),it=et.userData.excludeAttributes||{},st=rt.getShaderAttributes(nt,it);et.setAttributes(st)}disablePickingIndex(et){const nt=this.props.data;if(!("attributes"in nt)){this._disablePickingIndex(et);return}const{pickingColors:rt,instancePickingColors:it}=this.getAttributeManager().attributes,st=rt||it,ot=st&&nt.attributes&&nt.attributes[st.id];if(ot&&ot.value){const at=ot.value,lt=this.encodePickingColor(et);for(let ut=0;ut<nt.length;ut++){const ft=st.getVertexOffset(ut);at[ft]===lt[0]&&at[ft+1]===lt[1]&&at[ft+2]===lt[2]&&this._disablePickingIndex(ut)}}else this._disablePickingIndex(et)}_disablePickingIndex(et){const{pickingColors:nt,instancePickingColors:rt}=this.getAttributeManager().attributes,it=nt||rt;if(!it)return;const st=it.getVertexOffset(et),ot=it.getVertexOffset(et+1);it.buffer.subData({data:new Uint8Array(ot-st),offset:st})}restorePickingColors(){const{pickingColors:et,instancePickingColors:nt}=this.getAttributeManager().attributes,rt=et||nt;rt&&(this.internalState.usesPickingColorCache&&rt.value.buffer!==pickingColorCache.buffer&&(rt.value=pickingColorCache.subarray(0,rt.value.length)),rt.updateSubBuffer({startOffset:0}))}_initialize(){assert$2(!this.internalState),assert$2(Number.isFinite(this.props.coordinateSystem)),debug(TRACE_INITIALIZE,this);const et=this._getAttributeManager();et&&et.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new LayerState({attributeManager:et,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(log$4.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),et)}),this.internalState.uniformTransitions=new UniformTransitionManager(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const nt of this.props.extensions)nt.initializeState.call(this,this.context,nt);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(et){debug(TRACE_MATCHED,this,this===et);const{state:nt,internalState:rt}=et;this!==et&&(this.internalState=rt,this.state=nt,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const et=this.needsUpdate();if(debug(TRACE_UPDATE,this,et),!et)return;const nt=this.props,rt=this.context,it=this.internalState,st=rt.viewport,ot=this._updateUniformTransition();it.propsInTransition=ot,rt.viewport=it.viewport||st,this.props=ot;try{const at=this._getUpdateParams(),lt=this.getModels();if(rt.gl)this.updateState(at);else try{this.updateState(at)}catch{}for(const ft of this.props.extensions)ft.updateState.call(this,at,ft);const ut=this.getModels()[0]!==lt[0];this._postUpdate(at,ut)}finally{rt.viewport=st,this.props=nt,this._clearChangeFlags(),it.needsUpdate=!1,it.resetOldProps()}}_finalize(){debug(TRACE_FINALIZE,this),this.finalizeState(this.context);for(const et of this.props.extensions)et.finalizeState.call(this,this.context,et)}_drawLayer({moduleParameters:et=null,uniforms:nt={},parameters:rt={}}){this._updateAttributeTransition();const it=this.props,st=this.context;this.props=this.internalState.propsInTransition||it;const ot=this.props.opacity;nt.opacity=Math.pow(ot,1/2.2);try{et&&this.setModuleParameters(et);const{getPolygonOffset:at}=this.props,lt=at&&at(nt)||[0,0];setParameters(st.gl,{polygonOffset:lt}),withParameters(st.gl,rt,()=>{const ut={moduleParameters:et,uniforms:nt,parameters:rt,context:st};for(const ft of this.props.extensions)ft.draw.call(this,ut,ft);this.draw(ut)})}finally{this.props=it}}getChangeFlags(){var et;return(et=this.internalState)===null||et===void 0?void 0:et.changeFlags}setChangeFlags(et){if(!this.internalState)return;const{changeFlags:nt}=this.internalState;for(const it in et)if(et[it]){let st=!1;switch(it){case"dataChanged":const ot=et[it],at=nt[it];ot&&Array.isArray(at)&&(nt.dataChanged=Array.isArray(ot)?at.concat(ot):ot,st=!0);default:nt[it]||(nt[it]=et[it],st=!0)}st&&debug(TRACE_CHANGE_FLAG,this,it,et)}const rt=!!(nt.dataChanged||nt.updateTriggersChanged||nt.propsChanged||nt.extensionsChanged);nt.propsOrDataChanged=rt,nt.somethingChanged=rt||nt.viewportChanged||nt.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(et,nt){const rt=diffProps(et,nt);if(rt.updateTriggersChanged)for(const st in rt.updateTriggersChanged)rt.updateTriggersChanged[st]&&this.invalidateAttribute(st);if(rt.transitionsChanged)for(const st in rt.transitionsChanged){var it;this.internalState.uniformTransitions.add(st,nt[st],et[st],(it=et.transitions)===null||it===void 0?void 0:it[st])}return this.setChangeFlags(rt)}validateProps(){validateProps(this.props)}updateAutoHighlight(et){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(et)}_updateAutoHighlight(et){const nt={pickingSelectedColor:et.picked?et.color:null},{highlightColor:rt}=this.props;et.picked&&typeof rt=="function"&&(nt.pickingHighlightColor=rt(et)),this.setModuleParameters(nt),this.setNeedsRedraw()}_getAttributeManager(){const et=this.context;return new AttributeManager(et.gl,{id:this.props.id,stats:et.stats,timeline:et.timeline})}_postUpdate(et,nt){const{props:rt,oldProps:it}=et;this.setNeedsRedraw(),this._updateAttributes();const{model:st}=this.state;st==null||st.setInstanceCount(this.getNumInstances());const{autoHighlight:ot,highlightedObjectIndex:at,highlightColor:lt}=rt;if(nt||it.autoHighlight!==ot||it.highlightedObjectIndex!==at||it.highlightColor!==lt){const ut={};ot||(ut.pickingSelectedColor=null),Array.isArray(lt)&&(ut.pickingHighlightColor=lt),(nt||at!==it.highlightedObjectIndex)&&(ut.pickingSelectedColor=Number.isFinite(at)&&at>=0?this.encodePickingColor(at):null),this.setModuleParameters(ut)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(et){if(!this.internalState)return!1;let nt=!1;nt=nt||this.internalState.needsRedraw&&this.id;const rt=this.getAttributeManager(),it=rt?rt.getNeedsRedraw(et):!1;if(nt=nt||it,nt)for(const st of this.props.extensions)st.onNeedsRedraw.call(this,st);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!et.clearRedrawFlags,nt}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}_defineProperty$4(Layer,"defaultProps",defaultProps$2);_defineProperty$4(Layer,"layerName","Layer");const TRACE_RENDER_LAYERS="compositeLayer.renderLayers";class CompositeLayer extends Layer{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(et=>et.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(et){}setState(et){super.setState(et),this.setNeedsUpdate()}getPickingInfo({info:et}){const{object:nt}=et;return nt&&nt.__source&&nt.__source.parent&&nt.__source.parent.id===this.id&&(et.object=nt.__source.object,et.index=nt.__source.index),et}filterSubLayer(et){return!0}shouldRenderSubLayer(et,nt){return nt&&nt.length}getSubLayerClass(et,nt){const{_subLayerProps:rt}=this.props;return rt&&rt[et]&&rt[et].type||nt}getSubLayerRow(et,nt,rt){return et.__source={parent:this,object:nt,index:rt},et}getSubLayerAccessor(et){if(typeof et=="function"){const nt={index:-1,data:this.props.data,target:[]};return(rt,it)=>rt&&rt.__source?(nt.index=rt.__source.index,et(rt.__source.object,nt)):et(rt,it)}return et}getSubLayerProps(et={}){var nt;const{opacity:rt,pickable:it,visible:st,parameters:ot,getPolygonOffset:at,highlightedObjectIndex:lt,autoHighlight:ut,highlightColor:ft,coordinateSystem:dt,coordinateOrigin:ht,wrapLongitude:mt,positionFormat:xt,modelMatrix:_t,extensions:At,fetch:gt,operation:vt,_subLayerProps:Et}=this.props,yt={id:"",updateTriggers:{},opacity:rt,pickable:it,visible:st,parameters:ot,getPolygonOffset:at,highlightedObjectIndex:lt,autoHighlight:ut,highlightColor:ft,coordinateSystem:dt,coordinateOrigin:ht,wrapLongitude:mt,positionFormat:xt,modelMatrix:_t,extensions:At,fetch:gt,operation:vt},wt=Et&&et.id&&Et[et.id],Ct=wt&&wt.updateTriggers,Rt=et.id||"sublayer";if(wt){const It=this.props[PROP_TYPES_SYMBOL],$t=et.type?et.type._propTypes:{};for(const Ft in wt){const Bt=$t[Ft]||It[Ft];Bt&&Bt.type==="accessor"&&(wt[Ft]=this.getSubLayerAccessor(wt[Ft]))}}Object.assign(yt,et,wt),yt.id="".concat(this.props.id,"-").concat(Rt),yt.updateTriggers={all:(nt=this.props.updateTriggers)===null||nt===void 0?void 0:nt.all,...et.updateTriggers,...Ct};for(const It of At){const $t=It.getSubLayerProps.call(this,It);$t&&Object.assign(yt,$t,{updateTriggers:Object.assign(yt.updateTriggers,$t.updateTriggers)})}return yt}_updateAutoHighlight(et){for(const nt of this.getSubLayers())nt.updateAutoHighlight(et)}_getAttributeManager(){return null}_postUpdate(et,nt){let rt=this.internalState.subLayers;const it=!rt||this.needsUpdate();if(it){const st=this.renderLayers();rt=flatten(st,Boolean),this.internalState.subLayers=rt}debug(TRACE_RENDER_LAYERS,this,it,rt);for(const st of rt)st.parent=this}}_defineProperty$4(CompositeLayer,"layerName","CompositeLayer");const DEGREES_TO_RADIANS$1=Math.PI/180,RADIANS_TO_DEGREES=180/Math.PI,EARTH_RADIUS=6370972,GLOBE_RADIUS=256;function getDistanceScales(){const tt=GLOBE_RADIUS/EARTH_RADIUS,et=Math.PI/180*GLOBE_RADIUS;return{unitsPerMeter:[tt,tt,tt],unitsPerMeter2:[0,0,0],metersPerUnit:[1/tt,1/tt,1/tt],unitsPerDegree:[et,et,tt],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/et,1/et,1/tt]}}class GlobeViewport extends Viewport{constructor(et={}){const{latitude:nt=0,longitude:rt=0,zoom:it=0,nearZMultiplier:st=.1,farZMultiplier:ot=2,resolution:at=10}=et;let{height:lt,altitude:ut=1.5}=et;lt=lt||1,ut=Math.max(.75,ut);const ft=new Matrix4().lookAt({eye:[0,-ut,0],up:[0,0,1]}),dt=Math.pow(2,it);ft.rotateX(nt*DEGREES_TO_RADIANS$1),ft.rotateZ(-rt*DEGREES_TO_RADIANS$1),ft.scale(dt/lt);const ht=Math.atan(.5/ut),mt=GLOBE_RADIUS*2*dt/lt;super({...et,height:lt,viewMatrix:ft,longitude:rt,latitude:nt,zoom:it,distanceScales:getDistanceScales(),fovyRadians:ht*2,focalDistance:ut,near:st,far:Math.min(2,1/mt+1)*ut*ot}),_defineProperty$4(this,"longitude",void 0),_defineProperty$4(this,"latitude",void 0),_defineProperty$4(this,"resolution",void 0),this.latitude=nt,this.longitude=rt,this.resolution=at}get projectionMode(){return PROJECTION_MODE.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(et={}){const nt={targetZ:et.z||0},rt=this.unproject([0,this.height/2],nt),it=this.unproject([this.width/2,0],nt),st=this.unproject([this.width,this.height/2],nt),ot=this.unproject([this.width/2,this.height],nt);return st[0]<this.longitude&&(st[0]+=360),rt[0]>this.longitude&&(rt[0]-=360),[Math.min(rt[0],st[0],it[0],ot[0]),Math.min(rt[1],st[1],it[1],ot[1]),Math.max(rt[0],st[0],it[0],ot[0]),Math.max(rt[1],st[1],it[1],ot[1])]}unproject(et,{topLeft:nt=!0,targetZ:rt}={}){const[it,st,ot]=et,at=nt?st:this.height-st,{pixelUnprojectionMatrix:lt}=this;let ut;if(Number.isFinite(ot))ut=transformVector(lt,[it,at,ot,1]);else{const mt=transformVector(lt,[it,at,-1,1]),xt=transformVector(lt,[it,at,1,1]),_t=((rt||0)/EARTH_RADIUS+1)*GLOBE_RADIUS,At=sqrLen(sub([],mt,xt)),gt=sqrLen(mt),vt=sqrLen(xt),yt=4*((4*gt*vt-(At-gt-vt)**2)/16)/At,wt=Math.sqrt(gt-yt),Ct=Math.sqrt(Math.max(0,_t*_t-yt)),Rt=(wt-Ct)/Math.sqrt(At);ut=lerp$3([],mt,xt,Rt)}const[ft,dt,ht]=this.unprojectPosition(ut);return Number.isFinite(ot)?[ft,dt,ht]:Number.isFinite(rt)?[ft,dt,rt]:[ft,dt]}projectPosition(et){const[nt,rt,it=0]=et,st=nt*DEGREES_TO_RADIANS$1,ot=rt*DEGREES_TO_RADIANS$1,at=Math.cos(ot),lt=(it/EARTH_RADIUS+1)*GLOBE_RADIUS;return[Math.sin(st)*at*lt,-Math.cos(st)*at*lt,Math.sin(ot)*lt]}unprojectPosition(et){const[nt,rt,it]=et,st=len(et),ot=Math.asin(it/st),lt=Math.atan2(nt,-rt)*RADIANS_TO_DEGREES,ut=ot*RADIANS_TO_DEGREES,ft=(st/GLOBE_RADIUS-1)*EARTH_RADIUS;return[lt,ut,ft]}projectFlat(et){return et}unprojectFlat(et){return et}panByPosition(et,nt){const rt=this.unproject(nt);return{longitude:et[0]-rt[0]+this.longitude,latitude:et[1]-rt[1]+this.latitude}}}function transformVector(tt,et){const nt=transformMat4([],et,tt);return scale$2(nt,nt,1/nt[3]),nt}const DEGREES_TO_RADIANS=Math.PI/180;function getViewMatrix({height:tt,focalDistance:et,orbitAxis:nt,rotationX:rt,rotationOrbit:it,zoom:st}){const ot=nt==="Z"?[0,0,1]:[0,1,0],at=nt==="Z"?[0,-et,0]:[0,0,et],lt=new Matrix4().lookAt({eye:at,up:ot});lt.rotateX(rt*DEGREES_TO_RADIANS),nt==="Z"?lt.rotateZ(it*DEGREES_TO_RADIANS):lt.rotateY(it*DEGREES_TO_RADIANS);const ut=Math.pow(2,st)/tt;return lt.scale(ut),lt}class OrbitViewport extends Viewport{constructor(et){const{height:nt,projectionMatrix:rt,fovy:it=50,orbitAxis:st="Z",target:ot=[0,0,0],rotationX:at=0,rotationOrbit:lt=0,zoom:ut=0}=et,ft=rt?rt[5]/2:fovyToAltitude(it);super({...et,longitude:void 0,viewMatrix:getViewMatrix({height:nt||1,focalDistance:ft,orbitAxis:st,rotationX:at,rotationOrbit:lt,zoom:ut}),fovy:it,focalDistance:ft,position:ot,zoom:ut}),_defineProperty$4(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(et,{topLeft:nt=!0}={}){const[rt,it,st=this.projectedCenter[2]]=et,ot=nt?it:this.height-it,[at,lt,ut]=pixelsToWorld([rt,ot,st],this.pixelUnprojectionMatrix);return[at,lt,ut]}panByPosition(et,nt){const rt=this.project(et),it=[this.width/2+rt[0]-nt[0],this.height/2+rt[1]-nt[1],this.projectedCenter[2]];return{target:this.unproject(it)}}}const viewMatrix=new Matrix4().lookAt({eye:[0,0,1]});function getProjectionMatrix({width:tt,height:et,near:nt,far:rt,padding:it}){let st=-tt/2,ot=tt/2,at=-et/2,lt=et/2;if(it){const{left:ut=0,right:ft=0,top:dt=0,bottom:ht=0}=it,mt=clamp$2((ut+tt-ft)/2,0,tt)-tt/2,xt=clamp$2((dt+et-ht)/2,0,et)-et/2;st-=mt,ot-=mt,at+=xt,lt+=xt}return new Matrix4().ortho({left:st,right:ot,bottom:at,top:lt,near:nt,far:rt})}class OrthographicViewport extends Viewport{constructor(et){const{width:nt,height:rt,near:it=.1,far:st=1e3,zoom:ot=0,target:at=[0,0,0],padding:lt=null,flipY:ut=!0}=et,ft=Array.isArray(ot)?ot[0]:ot,dt=Array.isArray(ot)?ot[1]:ot,ht=Math.min(ft,dt),mt=Math.pow(2,ht);let xt;if(ft!==dt){const _t=Math.pow(2,ft),At=Math.pow(2,dt);xt={unitsPerMeter:[_t/mt,At/mt,1],metersPerUnit:[mt/_t,mt/At,1]}}super({...et,longitude:void 0,position:at,viewMatrix:viewMatrix.clone().scale([mt,mt*(ut?-1:1),mt]),projectionMatrix:getProjectionMatrix({width:nt||1,height:rt||1,padding:lt,near:it,far:st}),zoom:ht,distanceScales:xt})}projectFlat([et,nt]){const{unitsPerMeter:rt}=this.distanceScales;return[et*rt[0],nt*rt[1]]}unprojectFlat([et,nt]){const{metersPerUnit:rt}=this.distanceScales;return[et*rt[0],nt*rt[1]]}panByPosition(et,nt){const rt=pixelsToWorld(nt,this.pixelUnprojectionMatrix),it=this.projectFlat(et),st=add$3([],it,negate$1([],rt)),ot=add$3([],this.center,st);return{target:this.unprojectFlat(ot)}}}class FirstPersonViewport extends Viewport{constructor(et){const{longitude:nt,latitude:rt,modelMatrix:it,bearing:st=0,pitch:ot=0,up:at=[0,0,1]}=et,ut=new SphericalCoordinates({bearing:st,pitch:ot===-90?1e-4:90+ot}).toVector3().normalize(),ft=it?new Matrix4(it).transformAsVector(ut):ut,dt=Number.isFinite(rt)?getMeterZoom({latitude:rt}):0,ht=Math.pow(2,dt),mt=new Matrix4().lookAt({eye:[0,0,0],center:ft,up:at}).scale(ht);super({...et,zoom:dt,viewMatrix:mt}),_defineProperty$4(this,"longitude",void 0),_defineProperty$4(this,"latitude",void 0),this.latitude=rt,this.longitude=nt}}const MOVEMENT_SPEED=20;class FirstPersonState extends ViewState{constructor(et){const{width:nt,height:rt,position:it=[0,0,0],bearing:st=0,pitch:ot=0,longitude:at=null,latitude:lt=null,maxPitch:ut=90,minPitch:ft=-90,startRotatePos:dt,startBearing:ht,startPitch:mt,startZoomPosition:xt}=et;super({width:nt,height:rt,position:it,bearing:st,pitch:ot,longitude:at,latitude:lt,maxPitch:ut,minPitch:ft},{startRotatePos:dt,startBearing:ht,startPitch:mt,startZoomPosition:xt})}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart({pos:et}){return this._getUpdatedState({startRotatePos:et,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:et,deltaAngleX:nt=0,deltaAngleY:rt=0}){const{startRotatePos:it,startBearing:st,startPitch:ot}=this.getState(),{width:at,height:lt}=this.getViewportProps();if(!it||st===void 0||ot===void 0)return this;let ut;if(et){const ft=(et[0]-it[0])/at,dt=(et[1]-it[1])/lt;ut={bearing:st-ft*180,pitch:ot-dt*90}}else ut={bearing:st-nt,pitch:ot-rt};return this._getUpdatedState(ut)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({scale:et}){let{startZoomPosition:nt}=this.getState();nt||(nt=this.getViewportProps().position);const rt=this.getDirection();return this._move(rt,Math.log2(et)*MOVEMENT_SPEED,nt)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(et=MOVEMENT_SPEED){const nt=this.getDirection(!0);return this._move(nt.rotateZ({radians:Math.PI/2}),et)}moveRight(et=MOVEMENT_SPEED){const nt=this.getDirection(!0);return this._move(nt.rotateZ({radians:-Math.PI/2}),et)}moveUp(et=MOVEMENT_SPEED){const nt=this.getDirection(!0);return this._move(nt,et)}moveDown(et=MOVEMENT_SPEED){const nt=this.getDirection(!0);return this._move(nt.negate(),et)}rotateLeft(et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-et})}rotateRight(et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+et})}rotateUp(et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+et})}rotateDown(et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-et})}zoomIn(et=2){return this.zoom({scale:et})}zoomOut(et=2){return this.zoom({scale:1/et})}shortestPathFrom(et){const nt=et.getViewportProps(),rt={...this.getViewportProps()},{bearing:it,longitude:st}=rt;return Math.abs(it-nt.bearing)>180&&(rt.bearing=it<0?it+360:it-360),st!==null&&nt.longitude!==null&&Math.abs(st-nt.longitude)>180&&(rt.longitude=st<0?st+360:st-360),rt}_move(et,nt,rt=this.getViewportProps().position){const it=et.scale(nt);return this._getUpdatedState({position:new Vector3(rt).add(it)})}getDirection(et=!1){return new SphericalCoordinates({bearing:this.getViewportProps().bearing,pitch:et?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(et){return new FirstPersonState({...this.getViewportProps(),...this.getState(),...et})}applyConstraints(et){const{pitch:nt,maxPitch:rt,minPitch:it,longitude:st,bearing:ot}=et;return et.pitch=clamp$2(nt,it,rt),st!==null&&(st<-180||st>180)&&(et.longitude=mod$1(st+180,360)-180),(ot<-180||ot>180)&&(et.bearing=mod$1(ot+180,360)-180),et}}class FirstPersonController extends Controller{constructor(...et){super(...et),_defineProperty$4(this,"ControllerState",FirstPersonState),_defineProperty$4(this,"transition",{transitionDuration:300,transitionInterpolator:new LinearInterpolator(["position","pitch","bearing"])})}}class FirstPersonView extends View{get ViewportType(){return FirstPersonViewport}get ControllerType(){return FirstPersonController}}_defineProperty$4(FirstPersonView,"displayName","FirstPersonView");class OrbitState extends ViewState{constructor(et){const{width:nt,height:rt,rotationX:it=0,rotationOrbit:st=0,target:ot=[0,0,0],zoom:at=0,minRotationX:lt=-90,maxRotationX:ut=90,minZoom:ft=-1/0,maxZoom:dt=1/0,startPanPosition:ht,startRotatePos:mt,startRotationX:xt,startRotationOrbit:_t,startZoomPosition:At,startZoom:gt}=et;super({width:nt,height:rt,rotationX:it,rotationOrbit:st,target:ot,zoom:at,minRotationX:lt,maxRotationX:ut,minZoom:ft,maxZoom:dt},{startPanPosition:ht,startRotatePos:mt,startRotationX:xt,startRotationOrbit:_t,startZoomPosition:At,startZoom:gt}),_defineProperty$4(this,"makeViewport",void 0),this.makeViewport=et.makeViewport}panStart({pos:et}){return this._getUpdatedState({startPanPosition:this._unproject(et)})}pan({pos:et,startPosition:nt}){const rt=this.getState().startPanPosition||nt;if(!rt)return this;const st=this.makeViewport(this.getViewportProps()).panByPosition(rt,et);return this._getUpdatedState(st)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:et}){return this._getUpdatedState({startRotatePos:et,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:et,deltaAngleX:nt=0,deltaAngleY:rt=0}){const{startRotatePos:it,startRotationX:st,startRotationOrbit:ot}=this.getState(),{width:at,height:lt}=this.getViewportProps();if(!it||st===void 0||ot===void 0)return this;let ut;if(et){let ft=(et[0]-it[0])/at;const dt=(et[1]-it[1])/lt;(st<-90||st>90)&&(ft*=-1),ut={rotationX:st+dt*180,rotationOrbit:ot+ft*180}}else ut={rotationX:st+rt,rotationOrbit:ot+nt};return this._getUpdatedState(ut)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(et){const nt=et.getViewportProps(),rt={...this.getViewportProps()},{rotationOrbit:it}=rt;return Math.abs(it-nt.rotationOrbit)>180&&(rt.rotationOrbit=it<0?it+360:it-360),rt}zoomStart({pos:et}){return this._getUpdatedState({startZoomPosition:this._unproject(et),startZoom:this.getViewportProps().zoom})}zoom({pos:et,startPos:nt,scale:rt}){let{startZoom:it,startZoomPosition:st}=this.getState();if(st||(it=this.getViewportProps().zoom,st=this._unproject(nt)||this._unproject(et)),!st)return this;const ot=this._calculateNewZoom({scale:rt,startZoom:it}),at=this.makeViewport({...this.getViewportProps(),zoom:ot});return this._getUpdatedState({zoom:ot,...at.panByPosition(st,et)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(et=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:et})})}zoomOut(et=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/et})})}moveLeft(et=50){return this._panFromCenter([-et,0])}moveRight(et=50){return this._panFromCenter([et,0])}moveUp(et=50){return this._panFromCenter([0,-et])}moveDown(et=50){return this._panFromCenter([0,et])}rotateLeft(et=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-et})}rotateRight(et=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+et})}rotateUp(et=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-et})}rotateDown(et=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+et})}_unproject(et){const nt=this.makeViewport(this.getViewportProps());return et&&nt.unproject(et)}_calculateNewZoom({scale:et,startZoom:nt}){const{maxZoom:rt,minZoom:it}=this.getViewportProps();nt===void 0&&(nt=this.getViewportProps().zoom);const st=nt+Math.log2(et);return clamp$2(st,it,rt)}_panFromCenter(et){const{width:nt,height:rt,target:it}=this.getViewportProps();return this.pan({startPosition:it,pos:[nt/2+et[0],rt/2+et[1]]})}_getUpdatedState(et){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...et})}applyConstraints(et){const{maxZoom:nt,minZoom:rt,zoom:it,maxRotationX:st,minRotationX:ot,rotationOrbit:at}=et;return et.zoom=Array.isArray(it)?[clamp$2(it[0],rt,nt),clamp$2(it[1],rt,nt)]:clamp$2(it,rt,nt),et.rotationX=clamp$2(et.rotationX,ot,st),(at<-180||at>180)&&(et.rotationOrbit=mod$1(at+180,360)-180),et}}class OrbitController extends Controller{constructor(...et){super(...et),_defineProperty$4(this,"ControllerState",OrbitState),_defineProperty$4(this,"transition",{transitionDuration:300,transitionInterpolator:new LinearInterpolator({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class OrbitView extends View{constructor(et={}){super(et),this.props.orbitAxis=et.orbitAxis||"Z"}get ViewportType(){return OrbitViewport}get ControllerType(){return OrbitController}}_defineProperty$4(OrbitView,"displayName","OrbitView");class OrthographicState extends OrbitState{constructor(et){super(et),_defineProperty$4(this,"zoomAxis",void 0),this.zoomAxis=et.zoomAxis||"all"}_calculateNewZoom({scale:et,startZoom:nt}){const{maxZoom:rt,minZoom:it}=this.getViewportProps();nt===void 0&&(nt=this.getViewportProps().zoom);let st=Math.log2(et);if(Array.isArray(nt)){let[ot,at]=nt;switch(this.zoomAxis){case"X":ot=clamp$2(ot+st,it,rt);break;case"Y":at=clamp$2(at+st,it,rt);break;default:let lt=Math.min(ot+st,at+st);lt<it&&(st+=it-lt),lt=Math.max(ot+st,at+st),lt>rt&&(st+=rt-lt),ot+=st,at+=st}return[ot,at]}return clamp$2(nt+st,it,rt)}}class OrthographicController extends Controller{constructor(...et){super(...et),_defineProperty$4(this,"ControllerState",OrthographicState),_defineProperty$4(this,"transition",{transitionDuration:300,transitionInterpolator:new LinearInterpolator(["target","zoom"])}),_defineProperty$4(this,"dragMode","pan")}_onPanRotate(){return!1}}class OrthographicView extends View{get ViewportType(){return OrthographicViewport}get ControllerType(){return OrthographicController}}_defineProperty$4(OrthographicView,"displayName","OrthographicView");class GlobeState extends MapState{applyConstraints(et){const{maxZoom:nt,minZoom:rt,zoom:it}=et;et.zoom=clamp$2(it,rt,nt);const{longitude:st,latitude:ot}=et;return(st<-180||st>180)&&(et.longitude=mod$1(st+180,360)-180),et.latitude=clamp$2(ot,-89,89),et}}class GlobeController extends Controller{constructor(...et){super(...et),_defineProperty$4(this,"ControllerState",GlobeState),_defineProperty$4(this,"transition",{transitionDuration:300,transitionInterpolator:new LinearInterpolator(["longitude","latitude","zoom"])}),_defineProperty$4(this,"dragMode","pan")}setProps(et){super.setProps(et),this.dragRotate=!1,this.touchRotate=!1}}class GlobeView extends View{get ViewportType(){return GlobeViewport}get ControllerType(){return GlobeController}}_defineProperty$4(GlobeView,"displayName","GlobeView");class LayerExtension{static get componentName(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}constructor(et){_defineProperty$4(this,"opts",void 0),et&&(this.opts=et)}equals(et){return this===et?!0:this.constructor===et.constructor&&deepEqual$1(this.opts,et.opts,1)}getShaders(et){return null}getSubLayerProps(et){const{defaultProps:nt}=et.constructor,rt={updateTriggers:{}};for(const it in nt)if(it in this.props){const st=nt[it],ot=this.props[it];rt[it]=ot,st&&st.type==="accessor"&&(rt.updateTriggers[it]=this.props.updateTriggers[it],typeof ot=="function"&&(rt[it]=this.getSubLayerAccessor(ot)))}return rt}initializeState(et,nt){}updateState(et,nt){}onNeedsRedraw(et){}getNeedsPickingBuffer(et){return!1}draw(et,nt){}finalizeState(et,nt){}}_defineProperty$4(LayerExtension,"defaultProps",{});_defineProperty$4(LayerExtension,"extensionName","LayerExtension");const LINEARLY_INTERPOLATED_PROPS=["bearing","pitch"],DEFAULT_OPTS={speed:1.2,curve:1.414};class FlyToInterpolator extends TransitionInterpolator{constructor(et={}){super({compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),_defineProperty$4(this,"opts",void 0),this.opts={...DEFAULT_OPTS,...et}}interpolateProps(et,nt,rt){const it=flyToViewport(et,nt,rt,this.opts);for(const st of LINEARLY_INTERPOLATED_PROPS)it[st]=lerp$5(et[st]||0,nt[st]||0,rt);return it}getDuration(et,nt){let{transitionDuration:rt}=nt;return rt==="auto"&&(rt=getFlyToDuration(et,nt,this.opts)),rt}}class Tesselator{constructor(et){_defineProperty$4(this,"opts",void 0),_defineProperty$4(this,"typedArrayManager",void 0),_defineProperty$4(this,"indexStarts",[0]),_defineProperty$4(this,"vertexStarts",[0]),_defineProperty$4(this,"vertexCount",0),_defineProperty$4(this,"instanceCount",0),_defineProperty$4(this,"attributes",void 0),_defineProperty$4(this,"_attributeDefs",void 0),_defineProperty$4(this,"data",void 0),_defineProperty$4(this,"getGeometry",void 0),_defineProperty$4(this,"geometryBuffer",void 0),_defineProperty$4(this,"buffers",void 0),_defineProperty$4(this,"positionSize",void 0),_defineProperty$4(this,"normalize",void 0);const{attributes:nt={}}=et;this.typedArrayManager=defaultTypedArrayManager,this.attributes={},this._attributeDefs=nt,this.opts=et,this.updateGeometry(et)}updateGeometry(et){Object.assign(this.opts,et);const{data:nt,buffers:rt={},getGeometry:it,geometryBuffer:st,positionFormat:ot,dataChanged:at,normalize:lt=!0}=this.opts;if(this.data=nt,this.getGeometry=it,this.positionSize=st&&st.size||(ot==="XY"?2:3),this.buffers=rt,this.normalize=lt,st&&(assert$2(nt.startIndices),this.getGeometry=this.getGeometryFromBuffer(st),lt||(rt.positions=st)),this.geometryBuffer=rt.positions,Array.isArray(at))for(const ut of at)this._rebuildGeometry(ut);else this._rebuildGeometry()}updatePartialGeometry({startRow:et,endRow:nt}){this._rebuildGeometry({startRow:et,endRow:nt})}getGeometryFromBuffer(et){const nt=et.value||et;return ArrayBuffer.isView(nt)?getAccessorFromBuffer(nt,{size:this.positionSize,offset:et.offset,stride:et.stride,startIndices:this.data.startIndices}):null}_allocate(et,nt){const{attributes:rt,buffers:it,_attributeDefs:st,typedArrayManager:ot}=this;for(const at in st)if(at in it)ot.release(rt[at]),rt[at]=null;else{const lt=st[at];lt.copy=nt,rt[at]=ot.allocate(rt[at],et,lt)}}_forEachGeometry(et,nt,rt){const{data:it,getGeometry:st}=this,{iterable:ot,objectInfo:at}=createIterable(it,nt,rt);for(const lt of ot){at.index++;const ut=st?st(lt,at):null;et(ut,at.index)}}_rebuildGeometry(et){if(!this.data)return;let{indexStarts:nt,vertexStarts:rt,instanceCount:it}=this;const{data:st,geometryBuffer:ot}=this,{startRow:at=0,endRow:lt=1/0}=et||{},ut={};if(et||(nt=[0],rt=[0]),this.normalize||!ot)this._forEachGeometry((dt,ht)=>{const mt=dt&&this.normalizeGeometry(dt);ut[ht]=mt,rt[ht+1]=rt[ht]+(mt?this.getGeometrySize(mt):0)},at,lt),it=rt[rt.length-1];else if(rt=st.startIndices,it=rt[st.length]||0,ArrayBuffer.isView(ot))it=it||ot.length/this.positionSize;else if(ot instanceof Buffer$1){const dt=ot.accessor.stride||this.positionSize*4;it=it||ot.byteLength/dt}else if(ot.buffer){const dt=ot.stride||this.positionSize*4;it=it||ot.buffer.byteLength/dt}else if(ot.value){const dt=ot.value,ht=ot.stride/dt.BYTES_PER_ELEMENT||this.positionSize;it=it||dt.length/ht}this._allocate(it,!!et),this.indexStarts=nt,this.vertexStarts=rt,this.instanceCount=it;const ft={};this._forEachGeometry((dt,ht)=>{const mt=ut[ht]||dt;ft.vertexStart=rt[ht],ft.indexStart=nt[ht];const xt=ht<rt.length-1?rt[ht+1]:it;ft.geometrySize=xt-rt[ht],ft.geometryIndex=ht,this.updateGeometryAttributes(mt,ft)},at,lt),this.vertexCount=nt[nt.length-1]}}const esm=Object.freeze(Object.defineProperty({__proto__:null,AmbientLight,AttributeManager,COORDINATE_SYSTEM,CompositeLayer,Controller,Deck,DeckRenderer,DirectionalLight,FirstPersonController,FirstPersonView,FirstPersonViewport,FlyToInterpolator,Layer,LayerExtension,LayerManager,LightingEffect,LinearInterpolator,MapController,MapView,OPERATION,OrbitController,OrbitView,OrbitViewport,OrthographicController,OrthographicView,OrthographicViewport,PointLight,PostProcessEffect,TRANSITION_EVENTS,Tesselator,TransitionInterpolator,UNIT,VERSION:VERSION$6,View,Viewport,WebMercatorViewport,_CameraLight:CameraLight,_GlobeController:GlobeController,_GlobeView:GlobeView,_GlobeViewport:GlobeViewport,_LayersPass:LayersPass,_PickLayersPass:PickLayersPass,_SunLight:SunLight,_compareProps:compareProps,_count:count,_deepEqual:deepEqual$1,_fillArray:fillArray,_flatten:flatten,_memoize:memoize$1,_mergeShaders:mergeShaders,assert:assert$2,createIterable,fp64LowPart,gouraudLighting,log:log$4,phongLighting,picking,project,project32,shadow},Symbol.toStringTag,{value:"Module"})),RADIAN_PER_DEGREE=Math.PI/180,modelMatrix=new Float32Array(16),valueArray=new Float32Array(12);function calculateTransformMatrix(tt,et,nt){const rt=et[0]*RADIAN_PER_DEGREE,it=et[1]*RADIAN_PER_DEGREE,st=et[2]*RADIAN_PER_DEGREE,ot=Math.sin(st),at=Math.sin(rt),lt=Math.sin(it),ut=Math.cos(st),ft=Math.cos(rt),dt=Math.cos(it),ht=nt[0],mt=nt[1],xt=nt[2];tt[0]=ht*dt*ft,tt[1]=ht*lt*ft,tt[2]=ht*-at,tt[3]=mt*(-lt*ut+dt*at*ot),tt[4]=mt*(dt*ut+lt*at*ot),tt[5]=mt*ft*ot,tt[6]=xt*(lt*ot+dt*at*ut),tt[7]=xt*(-dt*ot+lt*at*ut),tt[8]=xt*ft*ut}function getExtendedMat3FromMat4(tt){return tt[0]=tt[0],tt[1]=tt[1],tt[2]=tt[2],tt[3]=tt[4],tt[4]=tt[5],tt[5]=tt[6],tt[6]=tt[8],tt[7]=tt[9],tt[8]=tt[10],tt[9]=tt[12],tt[10]=tt[13],tt[11]=tt[14],tt.subarray(0,12)}const MATRIX_ATTRIBUTES={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(tt,{startRow:et,endRow:nt}){const{data:rt,getOrientation:it,getScale:st,getTranslation:ot,getTransformMatrix:at}=this.props,lt=Array.isArray(at),ut=lt&&at.length===16,ft=Array.isArray(st),dt=Array.isArray(it),ht=Array.isArray(ot),mt=ut||!lt&&!!at(rt[0]);mt?tt.constant=ut:tt.constant=dt&&ft&&ht;const xt=tt.value;if(tt.constant){let _t;mt?(modelMatrix.set(at),_t=getExtendedMat3FromMat4(modelMatrix)):(_t=valueArray,calculateTransformMatrix(_t,it,st),_t.set(ot,9)),tt.value=new Float32Array(_t)}else{let _t=et*tt.size;const{iterable:At,objectInfo:gt}=createIterable(rt,et,nt);for(const vt of At){gt.index++;let Et;if(mt)modelMatrix.set(ut?at:at(vt,gt)),Et=getExtendedMat3FromMat4(modelMatrix);else{Et=valueArray;const yt=dt?it:it(vt,gt),wt=ft?st:st(vt,gt);calculateTransformMatrix(Et,yt,wt),Et.set(ht?ot:ot(vt,gt),9)}xt[_t++]=Et[0],xt[_t++]=Et[1],xt[_t++]=Et[2],xt[_t++]=Et[3],xt[_t++]=Et[4],xt[_t++]=Et[5],xt[_t++]=Et[6],xt[_t++]=Et[7],xt[_t++]=Et[8],xt[_t++]=Et[9],xt[_t++]=Et[10],xt[_t++]=Et[11]}}}};function shouldComposeModelMatrix(tt,et){return et===COORDINATE_SYSTEM.CARTESIAN||et===COORDINATE_SYSTEM.METER_OFFSETS||et===COORDINATE_SYSTEM.DEFAULT&&!tt.isGeospatial}function getMeshBoundingBox(tt){let et=1/0,nt=1/0,rt=1/0,it=-1/0,st=-1/0,ot=-1/0;const at=tt.POSITION?tt.POSITION.value:[],lt=at&&at.length;for(let ut=0;ut<lt;ut+=3){const ft=at[ut],dt=at[ut+1],ht=at[ut+2];et=ft<et?ft:et,nt=dt<nt?dt:nt,rt=ht<rt?ht:rt,it=ft>it?ft:it,st=dt>st?dt:st,ot=ht>ot?ht:ot}return[[et,nt,rt],[it,st,ot]]}function assert$1(tt,et){if(!tt)throw new Error(et||"loader assertion failed.")}class Schema{constructor(et,nt){_defineProperty$4(this,"fields",void 0),_defineProperty$4(this,"metadata",void 0),assert$1(Array.isArray(et)),checkNames(et),this.fields=et,this.metadata=nt||new Map}compareTo(et){if(this.metadata!==et.metadata||this.fields.length!==et.fields.length)return!1;for(let nt=0;nt<this.fields.length;++nt)if(!this.fields[nt].compareTo(et.fields[nt]))return!1;return!0}select(){const et=Object.create(null);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];for(const ot of rt)et[ot]=!0;const st=this.fields.filter(ot=>et[ot.name]);return new Schema(st,this.metadata)}selectAt(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];const it=nt.map(st=>this.fields[st]).filter(Boolean);return new Schema(it,this.metadata)}assign(et){let nt,rt=this.metadata;if(et instanceof Schema){const ot=et;nt=ot.fields,rt=mergeMaps(mergeMaps(new Map,this.metadata),ot.metadata)}else nt=et;const it=Object.create(null);for(const ot of this.fields)it[ot.name]=ot;for(const ot of nt)it[ot.name]=ot;const st=Object.values(it);return new Schema(st,rt)}}function checkNames(tt){const et={};for(const nt of tt)et[nt.name]&&console.warn("Schema: duplicated field name",nt.name,nt),et[nt.name]=!0}function mergeMaps(tt,et){return new Map([...tt||new Map,...et||new Map])}class Field{constructor(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new Map;_defineProperty$4(this,"name",void 0),_defineProperty$4(this,"type",void 0),_defineProperty$4(this,"nullable",void 0),_defineProperty$4(this,"metadata",void 0),this.name=et,this.type=nt,this.nullable=rt,this.metadata=it}get typeId(){return this.type&&this.type.typeId}clone(){return new Field(this.name,this.type,this.nullable,this.metadata)}compareTo(et){return this.name===et.name&&this.type===et.type&&this.nullable===et.nullable&&this.metadata===et.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let Type;(function(tt){tt[tt.NONE=0]="NONE",tt[tt.Null=1]="Null",tt[tt.Int=2]="Int",tt[tt.Float=3]="Float",tt[tt.Binary=4]="Binary",tt[tt.Utf8=5]="Utf8",tt[tt.Bool=6]="Bool",tt[tt.Decimal=7]="Decimal",tt[tt.Date=8]="Date",tt[tt.Time=9]="Time",tt[tt.Timestamp=10]="Timestamp",tt[tt.Interval=11]="Interval",tt[tt.List=12]="List",tt[tt.Struct=13]="Struct",tt[tt.Union=14]="Union",tt[tt.FixedSizeBinary=15]="FixedSizeBinary",tt[tt.FixedSizeList=16]="FixedSizeList",tt[tt.Map=17]="Map",tt[tt.Dictionary=-1]="Dictionary",tt[tt.Int8=-2]="Int8",tt[tt.Int16=-3]="Int16",tt[tt.Int32=-4]="Int32",tt[tt.Int64=-5]="Int64",tt[tt.Uint8=-6]="Uint8",tt[tt.Uint16=-7]="Uint16",tt[tt.Uint32=-8]="Uint32",tt[tt.Uint64=-9]="Uint64",tt[tt.Float16=-10]="Float16",tt[tt.Float32=-11]="Float32",tt[tt.Float64=-12]="Float64",tt[tt.DateDay=-13]="DateDay",tt[tt.DateMillisecond=-14]="DateMillisecond",tt[tt.TimestampSecond=-15]="TimestampSecond",tt[tt.TimestampMillisecond=-16]="TimestampMillisecond",tt[tt.TimestampMicrosecond=-17]="TimestampMicrosecond",tt[tt.TimestampNanosecond=-18]="TimestampNanosecond",tt[tt.TimeSecond=-19]="TimeSecond",tt[tt.TimeMillisecond=-20]="TimeMillisecond",tt[tt.TimeMicrosecond=-21]="TimeMicrosecond",tt[tt.TimeNanosecond=-22]="TimeNanosecond",tt[tt.DenseUnion=-23]="DenseUnion",tt[tt.SparseUnion=-24]="SparseUnion",tt[tt.IntervalDayTime=-25]="IntervalDayTime",tt[tt.IntervalYearMonth=-26]="IntervalYearMonth"})(Type||(Type={}));let _Symbol$toStringTag,_Symbol$toStringTag2,_Symbol$toStringTag7;class DataType{static isNull(et){return et&&et.typeId===Type.Null}static isInt(et){return et&&et.typeId===Type.Int}static isFloat(et){return et&&et.typeId===Type.Float}static isBinary(et){return et&&et.typeId===Type.Binary}static isUtf8(et){return et&&et.typeId===Type.Utf8}static isBool(et){return et&&et.typeId===Type.Bool}static isDecimal(et){return et&&et.typeId===Type.Decimal}static isDate(et){return et&&et.typeId===Type.Date}static isTime(et){return et&&et.typeId===Type.Time}static isTimestamp(et){return et&&et.typeId===Type.Timestamp}static isInterval(et){return et&&et.typeId===Type.Interval}static isList(et){return et&&et.typeId===Type.List}static isStruct(et){return et&&et.typeId===Type.Struct}static isUnion(et){return et&&et.typeId===Type.Union}static isFixedSizeBinary(et){return et&&et.typeId===Type.FixedSizeBinary}static isFixedSizeList(et){return et&&et.typeId===Type.FixedSizeList}static isMap(et){return et&&et.typeId===Type.Map}static isDictionary(et){return et&&et.typeId===Type.Dictionary}get typeId(){return Type.NONE}compareTo(et){return this===et}}_Symbol$toStringTag=Symbol.toStringTag;class Int extends DataType{constructor(et,nt){super(),_defineProperty$4(this,"isSigned",void 0),_defineProperty$4(this,"bitWidth",void 0),this.isSigned=et,this.bitWidth=nt}get typeId(){return Type.Int}get[_Symbol$toStringTag](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class Int8 extends Int{constructor(){super(!0,8)}}class Int16 extends Int{constructor(){super(!0,16)}}class Int32 extends Int{constructor(){super(!0,32)}}class Uint8 extends Int{constructor(){super(!1,8)}}class Uint16 extends Int{constructor(){super(!1,16)}}class Uint32 extends Int{constructor(){super(!1,32)}}const Precision={HALF:16,SINGLE:32,DOUBLE:64};_Symbol$toStringTag2=Symbol.toStringTag;class Float extends DataType{constructor(et){super(),_defineProperty$4(this,"precision",void 0),this.precision=et}get typeId(){return Type.Float}get[_Symbol$toStringTag2](){return"Float"}toString(){return"Float".concat(this.precision)}}class Float32 extends Float{constructor(){super(Precision.SINGLE)}}class Float64 extends Float{constructor(){super(Precision.DOUBLE)}}_Symbol$toStringTag7=Symbol.toStringTag;class FixedSizeList extends DataType{constructor(et,nt){super(),_defineProperty$4(this,"listSize",void 0),_defineProperty$4(this,"children",void 0),this.listSize=et,this.children=[nt]}get typeId(){return Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[_Symbol$toStringTag7](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}function getArrowTypeFromTypedArray(tt){switch(tt.constructor){case Int8Array:return new Int8;case Uint8Array:return new Uint8;case Int16Array:return new Int16;case Uint16Array:return new Uint16;case Int32Array:return new Int32;case Uint32Array:return new Uint32;case Float32Array:return new Float32;case Float64Array:return new Float64;default:throw new Error("array type not supported")}}function deduceMeshField(tt,et,nt){const rt=getArrowTypeFromTypedArray(et.value),it=nt||makeMeshAttributeMetadata(et);return new Field(tt,new FixedSizeList(et.size,new Field("value",rt)),!1,it)}function makeMeshAttributeMetadata(tt){const et=new Map;return"byteOffset"in tt&&et.set("byteOffset",tt.byteOffset.toString(10)),"byteStride"in tt&&et.set("byteStride",tt.byteStride.toString(10)),"normalized"in tt&&et.set("normalized",tt.normalized.toString()),et}class ScenegraphNode{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:nt}=et;this.id=nt||uid(this.constructor.name),this.display=!0,this.position=new Vector3,this.rotation=new Vector3,this.scale=new Vector3(1,1,1),this.matrix=new Matrix4,this.userData={},this.props={},this._setScenegraphNodeProps(et)}delete(){}setProps(et){return this._setScenegraphNodeProps(et),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(et){return assert$6(et.length===3,"setPosition requires vector argument"),this.position=et,this}setRotation(et){return assert$6(et.length===3,"setRotation requires vector argument"),this.rotation=et,this}setScale(et){return assert$6(et.length===3,"setScale requires vector argument"),this.scale=et,this}setMatrix(et){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?this.matrix.copy(et):this.matrix=et}setMatrixComponents(et){let{position:nt,rotation:rt,scale:it,update:st=!0}=et;return nt&&this.setPosition(nt),rt&&this.setRotation(rt),it&&this.setScale(it),st&&this.updateMatrix(),this}updateMatrix(){const et=this.position,nt=this.rotation,rt=this.scale;return this.matrix.identity(),this.matrix.translate(et),this.matrix.rotateXYZ(nt),this.matrix.scale(rt),this}update(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:nt,rotation:rt,scale:it}=et;return nt&&this.setPosition(nt),rt&&this.setRotation(rt),it&&this.setScale(it),this.updateMatrix(),this}getCoordinateUniforms(et,nt){assert$6(et),nt=nt||this.matrix;const rt=new Matrix4(et).multiplyRight(nt),it=rt.invert(),st=it.transpose();return{viewMatrix:et,modelMatrix:nt,objectMatrix:nt,worldMatrix:rt,worldInverseMatrix:it,worldInverseTransposeMatrix:st}}_setScenegraphNodeProps(et){"display"in et&&(this.display=et.display),"position"in et&&this.setPosition(et.position),"rotation"in et&&this.setRotation(et.rotation),"scale"in et&&this.setScale(et.scale),"matrix"in et&&this.setMatrix(et.matrix),Object.assign(this.props,et)}}class GroupNode extends ScenegraphNode{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};et=Array.isArray(et)?{children:et}:et;const{children:nt=[]}=et;log$3.assert(nt.every(rt=>rt instanceof ScenegraphNode),"every child must an instance of ScenegraphNode"),super(et),this.children=nt}add(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];for(const it of nt)Array.isArray(it)?this.add(...it):this.children.push(it);return this}remove(et){const nt=this.children,rt=nt.indexOf(et);return rt>-1&&nt.splice(rt,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(et=>et.delete()),this.removeAll(),super.delete()}getBounds(){const et=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((nt,rt)=>{let{worldMatrix:it}=rt;const st=nt.getBounds();if(!st)return;const[ot,at]=st,lt=new Vector3(ot).add(at).divide([2,2,2]);it.transformAsPoint(lt,lt);const ut=new Vector3(at).subtract(ot).divide([2,2,2]);it.transformAsVector(ut,ut);for(let ft=0;ft<8;ft++){const dt=new Vector3(ft&1?-1:1,ft&2?-1:1,ft&4?-1:1).multiply(ut).add(lt);for(let ht=0;ht<3;ht++)et[0][ht]=Math.min(et[0][ht],dt[ht]),et[1][ht]=Math.max(et[1][ht],dt[ht])}}),Number.isFinite(et[0][0])?et:null}traverse(et){let{worldMatrix:nt=new Matrix4}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=new Matrix4(nt).multiplyRight(this.matrix);for(const it of this.children)it instanceof GroupNode?it.traverse(et,{worldMatrix:rt}):et(it,{worldMatrix:rt})}}const ATTRIBUTE_TYPE_TO_COMPONENTS$2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY$1={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function accessorToJsArray(tt){if(!tt._animation){const et=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY$1[tt.componentType],nt=ATTRIBUTE_TYPE_TO_COMPONENTS$2[tt.type],rt=nt*tt.count,{buffer:it,byteOffset:st}=tt.bufferView.data,ot=new et(it,st+(tt.byteOffset||0),rt);if(nt===1)tt._animation=Array.from(ot);else{const at=[];for(let lt=0;lt<ot.length;lt+=nt)at.push(Array.from(ot.slice(lt,lt+nt)));tt._animation=at}}return tt._animation}const helperMatrix=new Matrix4;function applyTranslationRotationScale(tt,et){if(et.matrix.identity(),tt.translation&&et.matrix.translate(tt.translation),tt.rotation){const nt=helperMatrix.fromQuaternion(tt.rotation);et.matrix.multiplyRight(nt)}tt.scale&&et.matrix.scale(tt.scale)}const quaternion=new Quaternion;function linearInterpolate(tt,et,nt,rt,it){if(et==="rotation"){quaternion.slerp({start:nt,target:rt,ratio:it});for(let st=0;st<quaternion.length;st++)tt[et][st]=quaternion[st]}else for(let st=0;st<nt.length;st++)tt[et][st]=it*rt[st]+(1-it)*nt[st]}function cubicsplineInterpolate(tt,et,nt){let{p0:rt,outTangent0:it,inTangent1:st,p1:ot,tDiff:at,ratio:lt}=nt;for(let ut=0;ut<tt[et].length;ut++){const ft=it[ut]*at,dt=st[ut]*at;tt[et][ut]=(2*Math.pow(lt,3)-3*Math.pow(lt,2)+1)*rt[ut]+(Math.pow(lt,3)-2*Math.pow(lt,2)+lt)*ft+(-2*Math.pow(lt,3)+3*Math.pow(lt,2))*ot[ut]+(Math.pow(lt,3)-Math.pow(lt,2))*dt}}function stepInterpolate(tt,et,nt){for(let rt=0;rt<nt.length;rt++)tt[et][rt]=nt[rt]}function interpolate(tt,et,nt,rt){let{input:it,interpolation:st,output:ot}=et;const at=it[it.length-1],lt=tt%at,ut=it.findIndex(mt=>mt>=lt),ft=Math.max(0,ut-1);if(!Array.isArray(nt[rt]))switch(rt){case"translation":nt[rt]=[0,0,0];break;case"rotation":nt[rt]=[0,0,0,1];break;case"scale":nt[rt]=[1,1,1];break;default:log$3.warn("Bad animation path ".concat(rt))()}assert$6(nt[rt].length===ot[ft].length);const dt=it[ft],ht=it[ut];switch(st){case"STEP":stepInterpolate(nt,rt,ot[ft]);break;case"LINEAR":if(ht>dt){const mt=(lt-dt)/(ht-dt);linearInterpolate(nt,rt,ot[ft],ot[ut],mt)}break;case"CUBICSPLINE":if(ht>dt){const mt=(lt-dt)/(ht-dt),xt=ht-dt,_t=ot[3*ft+1],At=ot[3*ft+2],gt=ot[3*ut+0],vt=ot[3*ut+1];cubicsplineInterpolate(nt,rt,{p0:_t,outTangent0:At,inTangent1:gt,p1:vt,tDiff:xt,ratio:mt})}break;default:log$3.warn("Interpolation ".concat(st," not supported"))();break}}class GLTFAnimation{constructor(et){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,et)}animate(et){if(!this.playing)return;const rt=(et/1e3-this.startTime)*this.speed;this.channels.forEach(it=>{let{sampler:st,target:ot,path:at}=it;interpolate(rt,st,ot,at),applyTranslationRotationScale(ot,ot._node)})}}class GLTFAnimator{constructor(et){this.animations=et.animations.map((nt,rt)=>{const it=nt.name||"Animation-".concat(rt),st=nt.samplers.map(at=>{let{input:lt,interpolation:ut="LINEAR",output:ft}=at;return{input:accessorToJsArray(et.accessors[lt]),interpolation:ut,output:accessorToJsArray(et.accessors[ft])}}),ot=nt.channels.map(at=>{let{sampler:lt,target:ut}=at;return{sampler:st[lt],target:et.nodes[ut.node],path:ut.path}});return new GLTFAnimation({name:it,channels:ot})})}animate(et){this.setTime(et)}setTime(et){this.animations.forEach(nt=>nt.animate(et))}getAnimations(){return this.animations}}class ModelNode extends ScenegraphNode{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(nt),this.onBeforeRender=null,this.AfterRender=null,et instanceof Model?(this.model=et,this._setModelNodeProps(nt)):this.model=new Model(et,nt),this.bounds=null,this.managedResources=nt.managedResources||[]}setProps(et){return super.setProps(et),this._setModelNodeProps(et),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(et=>et.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(et){this.model.setProps(et)}}class GLTFMaterialParser{constructor(et,nt){let{attributes:rt,material:it,pbrDebug:st,imageBasedLightingEnvironment:ot,lights:at,useTangents:lt}=nt;this.gl=et,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},hasFeature(et,FEATURES$1.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],ot&&(this.uniforms.u_DiffuseEnvSampler=ot.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=ot.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=ot.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),st&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(rt.NORMAL,"HAS_NORMALS"),this.defineIfPresent(rt.TANGENT&&lt,"HAS_TANGENTS"),this.defineIfPresent(rt.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(ot,"USE_IBL"),this.defineIfPresent(at,"USE_LIGHTS"),this.defineIfPresent(st,"PBR_DEBUG"),it&&this.parseMaterial(it)}defineIfPresent(et,nt){et&&(this.defines[nt]=1)}parseTexture(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const it=et.texture&&et.texture.sampler&&et.texture.sampler.parameters||{},st=et.texture.source.image;let ot,at={};st.compressed?(ot=st,at={[this.gl.TEXTURE_MIN_FILTER]:st.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):ot={data:st};const lt=new Texture2D(this.gl,{id:et.name||et.id,parameters:{...it,...at},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...ot});this.uniforms[nt]=lt,this.defineIfPresent(rt,rt),this.generatedTextures.push(lt)}parsePbrMetallicRoughness(et){et.baseColorTexture&&this.parseTexture(et.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=et.baseColorFactor||[1,1,1,1],et.metallicRoughnessTexture&&this.parseTexture(et.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:nt=1,roughnessFactor:rt=1}=et;this.uniforms.u_MetallicRoughnessValues=[nt,rt]}parseMaterial(et){if(this.uniforms.pbr_uUnlit=!!et.unlit,et.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(et.pbrMetallicRoughness),et.normalTexture){this.parseTexture(et.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:nt=1}=et.normalTexture;this.uniforms.u_NormalScale=nt}if(et.occlusionTexture){this.parseTexture(et.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:nt=1}=et.occlusionTexture;this.uniforms.u_OcclusionStrength=nt}if(et.emissiveTexture&&(this.parseTexture(et.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=et.emissiveFactor||[0,0,0]),et.alphaMode==="MASK"){const{alphaCutoff:nt=.5}=et;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=nt}else et.alphaMode==="BLEND"&&(log$3.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(et=>et.delete())}}const vs$1=`
#if (__VERSION__ < 300)
  #define _attr attribute
#else
  #define _attr in
#endif

  _attr vec4 POSITION;

  #ifdef HAS_NORMALS
    _attr vec4 NORMAL;
  #endif

  #ifdef HAS_TANGENTS
    _attr vec4 TANGENT;
  #endif

  #ifdef HAS_UV
    _attr vec2 TEXCOORD_0;
  #endif

  void main(void) {
    vec4 _NORMAL = vec4(0.);
    vec4 _TANGENT = vec4(0.);
    vec2 _TEXCOORD_0 = vec2(0.);

    #ifdef HAS_NORMALS
      _NORMAL = NORMAL;
    #endif

    #ifdef HAS_TANGENTS
      _TANGENT = TANGENT;
    #endif

    #ifdef HAS_UV
      _TEXCOORD_0 = TEXCOORD_0;
    #endif

    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);
    gl_Position = u_MVPMatrix * POSITION;
  }
`,fs$1=`
#if (__VERSION__ < 300)
  #define fragmentColor gl_FragColor
#else
  out vec4 fragmentColor;
#endif

  void main(void) {
    fragmentColor = pbr_filterColor(vec4(0));
  }
`;function addVersionToShader(tt,et){return isWebGL2$1(tt)?`#version 300 es
`.concat(et):et}function createGLTFModel(tt,et){const{id:nt,drawMode:rt,vertexCount:it,attributes:st,modelOptions:ot}=et,at=new GLTFMaterialParser(tt,et);log$3.info(4,"createGLTFModel defines: ",at.defines)();const lt=[];lt.push(...at.generatedTextures),lt.push(...Object.values(st).map(ft=>ft.buffer));const ut=new ModelNode(tt,Object.assign({id:nt,drawMode:rt,vertexCount:it,modules:[pbr],defines:at.defines,parameters:at.parameters,vs:addVersionToShader(tt,vs$1),fs:addVersionToShader(tt,fs$1),managedResources:lt},ot));return ut.setProps({attributes:st}),ut.setUniforms(at.uniforms),ut}const ATTRIBUTE_TYPE_TO_COMPONENTS$1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},DEFAULT_OPTIONS$1={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class GLTFInstantiator{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=et,this.options=Object.assign({},DEFAULT_OPTIONS$1,nt)}instantiate(et){return this.gltf=et,(et.scenes||[]).map(rt=>this.createScene(rt))}createAnimator(){return Array.isArray(this.gltf.animations)?new GLTFAnimator(this.gltf):null}createScene(et){const rt=(et.nodes||[]).map(st=>this.createNode(st));return new GroupNode({id:et.name||et.id,children:rt})}createNode(et){if(!et._node){const rt=(et.children||[]).map(st=>this.createNode(st));et.mesh&&rt.push(this.createMesh(et.mesh));const it=new GroupNode({id:et.name||et.id,children:rt});if(et.matrix)it.setMatrix(et.matrix);else{if(it.matrix.identity(),et.translation&&it.matrix.translate(et.translation),et.rotation){const st=new Matrix4().fromQuaternion(et.rotation);it.matrix.multiplyRight(st)}et.scale&&it.matrix.scale(et.scale)}et._node=it}return et._node}createMesh(et){if(!et._mesh){const rt=(et.primitives||[]).map((st,ot)=>this.createPrimitive(st,ot,et)),it=new GroupNode({id:et.name||et.id,children:rt});et._mesh=it}return et._mesh}getVertexCount(et){log$3.warn("getVertexCount() not found")()}createPrimitive(et,nt,rt){const it=createGLTFModel(this.gl,Object.assign({id:et.name||"".concat(rt.name||rt.id,"-primitive-").concat(nt),drawMode:et.mode||4,vertexCount:et.indices?et.indices.count:this.getVertexCount(et.attributes),attributes:this.createAttributes(et.attributes,et.indices),material:et.material},this.options));return it.bounds=[et.attributes.POSITION.min,et.attributes.POSITION.max],it}createAttributes(et,nt){const rt={};return Object.keys(et).forEach(it=>{rt[it]=this.createAccessor(et[it],this.createBuffer(et[it],this.gl.ARRAY_BUFFER))}),nt&&(rt.indices=this.createAccessor(nt,this.createBuffer(nt,this.gl.ELEMENT_ARRAY_BUFFER))),log$3.info(4,"glTF Attributes",{attributes:et,indices:nt,generated:rt})(),rt}createBuffer(et,nt){et.bufferView||(et.bufferView={});const{bufferView:rt}=et;return rt.lumaBuffers||(rt.lumaBuffers={}),rt.lumaBuffers[nt]||(rt.lumaBuffers[nt]=new Buffer$1(this.gl,{id:"from-".concat(rt.id),data:rt.data||et.value,target:nt})),rt.lumaBuffers[nt]}createAccessor(et,nt){return new Accessor({buffer:nt,offset:et.byteOffset||0,stride:et.bufferView.byteStride||0,type:et.componentType,size:ATTRIBUTE_TYPE_TO_COMPONENTS$1[et.type]})}createSampler(et){return et}needsPOT(){return!1}}function createGLTFObjects(tt,et,nt){const rt=new GLTFInstantiator(tt,nt),it=rt.instantiate(et),st=rt.createAnimator();return{scenes:it,animator:st}}const VERSION$4="3.3.3",VERSION$3="3.3.3",VERSION$2="3.3.3",BASIS_CDN_ENCODER_WASM="https://unpkg.com/@loaders.gl/textures@".concat(VERSION$2,"/dist/libs/basis_encoder.wasm"),BASIS_CDN_ENCODER_JS="https://unpkg.com/@loaders.gl/textures@".concat(VERSION$2,"/dist/libs/basis_encoder.js");let loadBasisTranscoderPromise;async function loadBasisTrascoderModule(tt){const et=tt.modules||{};return et.basis?et.basis:(loadBasisTranscoderPromise=loadBasisTranscoderPromise||loadBasisTrascoder(tt),await loadBasisTranscoderPromise)}async function loadBasisTrascoder(tt){let et=null,nt=null;return[et,nt]=await Promise.all([await loadLibrary("basis_transcoder.js","textures",tt),await loadLibrary("basis_transcoder.wasm","textures",tt)]),et=et||globalThis.BASIS,await initializeBasisTrascoderModule(et,nt)}function initializeBasisTrascoderModule(tt,et){const nt={};return et&&(nt.wasmBinary=et),new Promise(rt=>{tt(nt).then(it=>{const{BasisFile:st,initializeBasis:ot}=it;ot(),rt({BasisFile:st})})})}let loadBasisEncoderPromise;async function loadBasisEncoderModule(tt){const et=tt.modules||{};return et.basisEncoder?et.basisEncoder:(loadBasisEncoderPromise=loadBasisEncoderPromise||loadBasisEncoder(tt),await loadBasisEncoderPromise)}async function loadBasisEncoder(tt){let et=null,nt=null;return[et,nt]=await Promise.all([await loadLibrary(BASIS_CDN_ENCODER_JS,"textures",tt),await loadLibrary(BASIS_CDN_ENCODER_WASM,"textures",tt)]),et=et||globalThis.BASIS,await initializeBasisEncoderModule(et,nt)}function initializeBasisEncoderModule(tt,et){const nt={};return et&&(nt.wasmBinary=et),new Promise(rt=>{tt(nt).then(it=>{const{BasisFile:st,KTX2File:ot,initializeBasis:at,BasisEncoder:lt}=it;at(),rt({BasisFile:st,KTX2File:ot,BasisEncoder:lt})})})}const GL_EXTENSIONS_CONSTANTS={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},BROWSER_PREFIXES=["","WEBKIT_","MOZ_"],WEBGL_EXTENSIONS={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let formats=null;function getSupportedGPUTextureFormats(tt){if(!formats){tt=tt||getWebGLContext()||void 0,formats=new Set;for(const et of BROWSER_PREFIXES)for(const nt in WEBGL_EXTENSIONS)if(tt&&tt.getExtension("".concat(et).concat(nt))){const rt=WEBGL_EXTENSIONS[nt];formats.add(rt)}}return formats}function getWebGLContext(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}var n$5,i$3,s$2,a$2,r$4,o$2,l$4,f$4;(function(tt){tt[tt.NONE=0]="NONE",tt[tt.BASISLZ=1]="BASISLZ",tt[tt.ZSTD=2]="ZSTD",tt[tt.ZLIB=3]="ZLIB"})(n$5||(n$5={})),function(tt){tt[tt.BASICFORMAT=0]="BASICFORMAT"}(i$3||(i$3={})),function(tt){tt[tt.UNSPECIFIED=0]="UNSPECIFIED",tt[tt.ETC1S=163]="ETC1S",tt[tt.UASTC=166]="UASTC"}(s$2||(s$2={})),function(tt){tt[tt.UNSPECIFIED=0]="UNSPECIFIED",tt[tt.SRGB=1]="SRGB"}(a$2||(a$2={})),function(tt){tt[tt.UNSPECIFIED=0]="UNSPECIFIED",tt[tt.LINEAR=1]="LINEAR",tt[tt.SRGB=2]="SRGB",tt[tt.ITU=3]="ITU",tt[tt.NTSC=4]="NTSC",tt[tt.SLOG=5]="SLOG",tt[tt.SLOG2=6]="SLOG2"}(r$4||(r$4={})),function(tt){tt[tt.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",tt[tt.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(o$2||(o$2={})),function(tt){tt[tt.RGB=0]="RGB",tt[tt.RRR=3]="RRR",tt[tt.GGG=4]="GGG",tt[tt.AAA=15]="AAA"}(l$4||(l$4={})),function(tt){tt[tt.RGB=0]="RGB",tt[tt.RGBA=3]="RGBA",tt[tt.RRR=4]="RRR",tt[tt.RRRG=5]="RRRG"}(f$4||(f$4={}));const KTX2_ID=[171,75,84,88,32,50,48,187,13,10,26,10];function isKTX(tt){const et=new Uint8Array(tt);return!(et.byteLength<KTX2_ID.length||et[0]!==KTX2_ID[0]||et[1]!==KTX2_ID[1]||et[2]!==KTX2_ID[2]||et[3]!==KTX2_ID[3]||et[4]!==KTX2_ID[4]||et[5]!==KTX2_ID[5]||et[6]!==KTX2_ID[6]||et[7]!==KTX2_ID[7]||et[8]!==KTX2_ID[8]||et[9]!==KTX2_ID[9]||et[10]!==KTX2_ID[10]||et[11]!==KTX2_ID[11])}const OutputFormat={etc1:{basisFormat:0,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function parseBasis(tt,et){if(et.basis.containerFormat==="auto"){if(isKTX(tt)){const rt=await loadBasisEncoderModule(et);return parseKTX2File(rt.KTX2File,tt,et)}const{BasisFile:nt}=await loadBasisTrascoderModule(et);return parseBasisFile(nt,tt,et)}switch(et.basis.module){case"encoder":const nt=await loadBasisEncoderModule(et);switch(et.basis.containerFormat){case"ktx2":return parseKTX2File(nt.KTX2File,tt,et);case"basis":default:return parseBasisFile(nt.BasisFile,tt,et)}case"transcoder":default:const{BasisFile:rt}=await loadBasisTrascoderModule(et);return parseBasisFile(rt,tt,et)}}function parseBasisFile(tt,et,nt){const rt=new tt(new Uint8Array(et));try{if(!rt.startTranscoding())throw new Error("Failed to start basis transcoding");const it=rt.getNumImages(),st=[];for(let ot=0;ot<it;ot++){const at=rt.getNumLevels(ot),lt=[];for(let ut=0;ut<at;ut++)lt.push(transcodeImage(rt,ot,ut,nt));st.push(lt)}return st}finally{rt.close(),rt.delete()}}function transcodeImage(tt,et,nt,rt){const it=tt.getImageWidth(et,nt),st=tt.getImageHeight(et,nt),ot=tt.getHasAlpha(),{compressed:at,format:lt,basisFormat:ut}=getBasisOptions(rt,ot),ft=tt.getImageTranscodedSizeInBytes(et,nt,ut),dt=new Uint8Array(ft);if(!tt.transcodeImage(dt,et,nt,ut,0,0))throw new Error("failed to start Basis transcoding");return{width:it,height:st,data:dt,compressed:at,format:lt,hasAlpha:ot}}function parseKTX2File(tt,et,nt){const rt=new tt(new Uint8Array(et));try{if(!rt.startTranscoding())throw new Error("failed to start KTX2 transcoding");const it=rt.getLevels(),st=[];for(let ot=0;ot<it;ot++){st.push(transcodeKTX2Image(rt,ot,nt));break}return[st]}finally{rt.close(),rt.delete()}}function transcodeKTX2Image(tt,et,nt){const{alphaFlag:rt,height:it,width:st}=tt.getImageLevelInfo(et,0,0),{compressed:ot,format:at,basisFormat:lt}=getBasisOptions(nt,rt),ut=tt.getImageTranscodedSizeInBytes(et,0,0,lt),ft=new Uint8Array(ut);if(!tt.transcodeImage(ft,et,0,0,lt,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:st,height:it,data:ft,compressed:ot,levelSize:ut,hasAlpha:rt,format:at}}function getBasisOptions(tt,et){let nt=tt&&tt.basis&&tt.basis.format;return nt==="auto"&&(nt=selectSupportedBasisFormat()),typeof nt=="object"&&(nt=et?nt.alpha:nt.noAlpha),nt=nt.toLowerCase(),OutputFormat[nt]}function selectSupportedBasisFormat(){const tt=getSupportedGPUTextureFormats();return tt.has("astc")?"astc-4x4":tt.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:tt.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:tt.has("etc1")?"etc1":tt.has("etc2")?"etc2":"rgb565"}const BasisWorkerLoader={name:"Basis",id:isBrowser$4?"basis":"basis-nodejs",module:"textures",version:VERSION$3,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},BasisLoader={...BasisWorkerLoader,parse:parseBasis};function assert(tt,et){if(!tt)throw new Error(et||"assert failed: gltf")}function resolveUrl(tt,et){if(tt.startsWith("data:")||tt.startsWith("http:")||tt.startsWith("https:"))return tt;const rt=et.baseUri||et.uri;if(!rt)throw new Error("'baseUri' must be provided to resolve relative url ".concat(tt));return rt.substr(0,rt.lastIndexOf("/")+1)+tt}function getTypedArrayForBufferView(tt,et,nt){const rt=tt.bufferViews[nt];assert(rt);const it=rt.buffer,st=et[it];assert(st);const ot=(rt.byteOffset||0)+st.byteOffset;return new Uint8Array(st.arrayBuffer,ot,rt.byteLength)}const TYPES=["SCALAR","VEC2","VEC3","VEC4"],ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],ARRAY_TO_COMPONENT_TYPE=new Map(ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT),ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function getAccessorTypeFromSize(tt){return TYPES[tt-1]||TYPES[0]}function getComponentTypeFromArray(tt){const et=ARRAY_TO_COMPONENT_TYPE.get(tt.constructor);if(!et)throw new Error("Illegal typed array");return et}function getAccessorArrayTypeAndLength(tt,et){const nt=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[tt.componentType],rt=ATTRIBUTE_TYPE_TO_COMPONENTS[tt.type],it=ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[tt.componentType],st=tt.count*rt,ot=tt.count*rt*it;return assert(ot>=0&&ot<=et.byteLength),{ArrayType:nt,length:st,byteLength:ot}}const DEFAULT_GLTF_JSON={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class GLTFScenegraph{constructor(et){_defineProperty$4(this,"gltf",void 0),_defineProperty$4(this,"sourceBuffers",void 0),_defineProperty$4(this,"byteLength",void 0),this.gltf=et||{json:{...DEFAULT_GLTF_JSON},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(et){return this.json[et]}getExtraData(et){return(this.json.extras||{})[et]}getExtension(et){const nt=this.getUsedExtensions().find(it=>it===et),rt=this.json.extensions||{};return nt?rt[et]||!0:null}getRequiredExtension(et){return this.getRequiredExtensions().find(rt=>rt===et)?this.getExtension(et):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(et,nt){return(et.extensions||{})[nt]}getScene(et){return this.getObject("scenes",et)}getNode(et){return this.getObject("nodes",et)}getSkin(et){return this.getObject("skins",et)}getMesh(et){return this.getObject("meshes",et)}getMaterial(et){return this.getObject("materials",et)}getAccessor(et){return this.getObject("accessors",et)}getTexture(et){return this.getObject("textures",et)}getSampler(et){return this.getObject("samplers",et)}getImage(et){return this.getObject("images",et)}getBufferView(et){return this.getObject("bufferViews",et)}getBuffer(et){return this.getObject("buffers",et)}getObject(et,nt){if(typeof nt=="object")return nt;const rt=this.json[et]&&this.json[et][nt];if(!rt)throw new Error("glTF file error: Could not find ".concat(et,"[").concat(nt,"]"));return rt}getTypedArrayForBufferView(et){et=this.getBufferView(et);const nt=et.buffer,rt=this.gltf.buffers[nt];assert(rt);const it=(et.byteOffset||0)+rt.byteOffset;return new Uint8Array(rt.arrayBuffer,it,et.byteLength)}getTypedArrayForAccessor(et){et=this.getAccessor(et);const nt=this.getBufferView(et.bufferView),it=this.getBuffer(nt.buffer).data,{ArrayType:st,length:ot}=getAccessorArrayTypeAndLength(et,nt),at=nt.byteOffset+et.byteOffset;return new st(it,at,ot)}getTypedArrayForImageData(et){et=this.getAccessor(et);const nt=this.getBufferView(et.bufferView),it=this.getBuffer(nt.buffer).data,st=nt.byteOffset||0;return new Uint8Array(it,st,nt.byteLength)}addApplicationData(et,nt){return this.json[et]=nt,this}addExtraData(et,nt){return this.json.extras=this.json.extras||{},this.json.extras[et]=nt,this}addObjectExtension(et,nt,rt){return et.extensions=et.extensions||{},et.extensions[nt]=rt,this.registerUsedExtension(nt),this}setObjectExtension(et,nt,rt){const it=et.extensions||{};it[nt]=rt}removeObjectExtension(et,nt){const rt=et.extensions||{},it=rt[nt];return delete rt[nt],it}addExtension(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return assert(nt),this.json.extensions=this.json.extensions||{},this.json.extensions[et]=nt,this.registerUsedExtension(et),nt}addRequiredExtension(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return assert(nt),this.addExtension(et,nt),this.registerRequiredExtension(et),nt}registerUsedExtension(et){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(nt=>nt===et)||this.json.extensionsUsed.push(et)}registerRequiredExtension(et){this.registerUsedExtension(et),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(nt=>nt===et)||this.json.extensionsRequired.push(et)}removeExtension(et){if(!this.getExtension(et))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,et),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,et),this.json.extensions&&delete this.json.extensions[et],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const nt=this.json.extensionsRemoved;nt.includes(et)||nt.push(et)}setDefaultScene(et){this.json.scene=et}addScene(et){const{nodeIndices:nt}=et;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:nt}),this.json.scenes.length-1}addNode(et){const{meshIndex:nt,matrix:rt}=et;this.json.nodes=this.json.nodes||[];const it={mesh:nt};return rt&&(it.matrix=rt),this.json.nodes.push(it),this.json.nodes.length-1}addMesh(et){const{attributes:nt,indices:rt,material:it,mode:st=4}=et,at={primitives:[{attributes:this._addAttributes(nt),mode:st}]};if(rt){const lt=this._addIndices(rt);at.primitives[0].indices=lt}return Number.isFinite(it)&&(at.primitives[0].material=it),this.json.meshes=this.json.meshes||[],this.json.meshes.push(at),this.json.meshes.length-1}addPointCloud(et){const rt={primitives:[{attributes:this._addAttributes(et),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(rt),this.json.meshes.length-1}addImage(et,nt){const rt=getBinaryImageMetadata(et),it=nt||(rt==null?void 0:rt.mimeType),ot={bufferView:this.addBufferView(et),mimeType:it};return this.json.images=this.json.images||[],this.json.images.push(ot),this.json.images.length-1}addBufferView(et){const nt=et.byteLength;assert(Number.isFinite(nt)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(et);const rt={buffer:0,byteOffset:this.byteLength,byteLength:nt};return this.byteLength+=padToNBytes(nt,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(rt),this.json.bufferViews.length-1}addAccessor(et,nt){const rt={bufferView:et,type:getAccessorTypeFromSize(nt.size),componentType:nt.componentType,count:nt.count,max:nt.max,min:nt.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(rt),this.json.accessors.length-1}addBinaryBuffer(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{size:3};const rt=this.addBufferView(et);let it={min:nt.min,max:nt.max};(!it.min||!it.max)&&(it=this._getAccessorMinMax(et,nt.size));const st={size:nt.size,componentType:getComponentTypeFromArray(et),count:Math.round(et.length/nt.size),min:it.min,max:it.max};return this.addAccessor(rt,Object.assign(st,nt))}addTexture(et){const{imageIndex:nt}=et,rt={source:nt};return this.json.textures=this.json.textures||[],this.json.textures.push(rt),this.json.textures.length-1}addMaterial(et){return this.json.materials=this.json.materials||[],this.json.materials.push(et),this.json.materials.length-1}createBinaryChunk(){var et,nt;this.gltf.buffers=[];const rt=this.byteLength,it=new ArrayBuffer(rt),st=new Uint8Array(it);let ot=0;for(const at of this.sourceBuffers||[])ot=copyToArray(at,st,ot);(et=this.json)!==null&&et!==void 0&&(nt=et.buffers)!==null&&nt!==void 0&&nt[0]?this.json.buffers[0].byteLength=rt:this.json.buffers=[{byteLength:rt}],this.gltf.binary=it,this.sourceBuffers=[it]}_removeStringFromArray(et,nt){let rt=!0;for(;rt;){const it=et.indexOf(nt);it>-1?et.splice(it,1):rt=!1}}_addAttributes(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt={};for(const rt in et){const it=et[rt],st=this._getGltfAttributeName(rt),ot=this.addBinaryBuffer(it.value,it);nt[st]=ot}return nt}_addIndices(et){return this.addBinaryBuffer(et,{size:1})}_getGltfAttributeName(et){switch(et.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return et}}_getAccessorMinMax(et,nt){const rt={min:null,max:null};if(et.length<nt)return rt;rt.min=[],rt.max=[];const it=et.subarray(0,nt);for(const st of it)rt.min.push(st),rt.max.push(st);for(let st=nt;st<et.length;st+=nt)for(let ot=0;ot<nt;ot++)rt.min[0+ot]=Math.min(rt.min[0+ot],et[st+ot]),rt.max[0+ot]=Math.max(rt.max[0+ot],et[st+ot]);return rt}}const wasm_base="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",wasm_simd="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",detector=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),wasmpack=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),FILTERS={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},DECODERS={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function meshoptDecodeGltfBuffer(tt,et,nt,rt,it){let st=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"NONE";const ot=await loadWasmInstance();decode$7(ot,ot.exports[DECODERS[it]],tt,et,nt,rt,ot.exports[FILTERS[st||"NONE"]])}let wasmPromise;async function loadWasmInstance(){return wasmPromise||(wasmPromise=loadWasmModule()),wasmPromise}async function loadWasmModule(){let tt=wasm_base;WebAssembly.validate(detector)&&(tt=wasm_simd,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const et=await WebAssembly.instantiate(unpack(tt),{});return await et.instance.exports.__wasm_call_ctors(),et.instance}function unpack(tt){const et=new Uint8Array(tt.length);for(let rt=0;rt<tt.length;++rt){const it=tt.charCodeAt(rt);et[rt]=it>96?it-71:it>64?it-65:it>47?it+4:it>46?63:62}let nt=0;for(let rt=0;rt<tt.length;++rt)et[nt++]=et[rt]<60?wasmpack[et[rt]]:(et[rt]-60)*64+et[++rt];return et.buffer.slice(0,nt)}function decode$7(tt,et,nt,rt,it,st,ot){const at=tt.exports.sbrk,lt=rt+3&-4,ut=at(lt*it),ft=at(st.length),dt=new Uint8Array(tt.exports.memory.buffer);dt.set(st,ft);const ht=et(ut,rt,it,ft,st.length);if(ht===0&&ot&&ot(ut,lt,it),nt.set(dt.subarray(ut,ut+rt*it)),at(ut-at(0)),ht!==0)throw new Error("Malformed buffer data: ".concat(ht))}const EXT_MESHOPT_COMPRESSION="EXT_meshopt_compression",name$8=EXT_MESHOPT_COMPRESSION;async function decode$6(tt,et){var nt;const rt=new GLTFScenegraph(tt);if(!(et!=null&&(nt=et.gltf)!==null&&nt!==void 0&&nt.decompressMeshes))return;const it=[];for(const st of tt.json.bufferViews||[])it.push(decodeMeshoptBufferView(rt,st));await Promise.all(it),rt.removeExtension(EXT_MESHOPT_COMPRESSION)}async function decodeMeshoptBufferView(tt,et){const nt=tt.getObjectExtension(et,EXT_MESHOPT_COMPRESSION);if(nt){const{byteOffset:rt=0,byteLength:it=0,byteStride:st,count:ot,mode:at,filter:lt="NONE",buffer:ut}=nt,ft=tt.gltf.buffers[ut],dt=new Uint8Array(ft.arrayBuffer,ft.byteOffset+rt,it),ht=new Uint8Array(tt.gltf.buffers[et.buffer].arrayBuffer,et.byteOffset,et.byteLength);return await meshoptDecodeGltfBuffer(ht,ot,st,dt,at,lt),ht}return null}const EXT_meshopt_compression=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$6,name:name$8},Symbol.toStringTag,{value:"Module"})),EXT_TEXTURE_WEBP="EXT_texture_webp",name$7=EXT_TEXTURE_WEBP;function preprocess$3(tt,et){const nt=new GLTFScenegraph(tt);if(!_isImageFormatSupported("image/webp")){if(nt.getRequiredExtensions().includes(EXT_TEXTURE_WEBP))throw new Error("gltf: Required extension ".concat(EXT_TEXTURE_WEBP," not supported by browser"));return}const{json:rt}=nt;for(const it of rt.textures||[]){const st=nt.getObjectExtension(it,EXT_TEXTURE_WEBP);st&&(it.source=st.source),nt.removeObjectExtension(it,EXT_TEXTURE_WEBP)}nt.removeExtension(EXT_TEXTURE_WEBP)}const EXT_texture_webp=Object.freeze(Object.defineProperty({__proto__:null,name:name$7,preprocess:preprocess$3},Symbol.toStringTag,{value:"Module"})),KHR_TEXTURE_BASISU="KHR_texture_basisu",name$6=KHR_TEXTURE_BASISU;function preprocess$2(tt,et){const nt=new GLTFScenegraph(tt),{json:rt}=nt;for(const it of rt.textures||[]){const st=nt.getObjectExtension(it,KHR_TEXTURE_BASISU);st&&(it.source=st.source),nt.removeObjectExtension(it,KHR_TEXTURE_BASISU)}nt.removeExtension(KHR_TEXTURE_BASISU)}const KHR_texture_basisu=Object.freeze(Object.defineProperty({__proto__:null,name:name$6,preprocess:preprocess$2},Symbol.toStringTag,{value:"Module"})),VERSION$1="3.3.3",DEFAULT_DRACO_OPTIONS={draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},DracoLoader$1={name:"Draco",id:isBrowser$4?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:VERSION$1,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:DEFAULT_DRACO_OPTIONS};function getDracoSchema(tt,et,nt){const rt=makeMetadata(et.metadata),it=[],st=transformAttributesLoaderData(et.attributes);for(const ot in tt){const at=tt[ot],lt=getArrowFieldFromAttribute(ot,at,st[ot]);it.push(lt)}if(nt){const ot=getArrowFieldFromAttribute("indices",nt);it.push(ot)}return new Schema(it,rt)}function transformAttributesLoaderData(tt){const et={};for(const nt in tt){const rt=tt[nt];et[rt.name||"undefined"]=rt}return et}function getArrowFieldFromAttribute(tt,et,nt){const rt=nt?makeMetadata(nt.metadata):void 0;return deduceMeshField(tt,et,rt)}function makeMetadata(tt){const et=new Map;for(const nt in tt)et.set("".concat(nt,".string"),JSON.stringify(tt[nt]));return et}const DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},INDEX_ITEM_SIZE=4;class DracoParser{constructor(et){_defineProperty$4(this,"draco",void 0),_defineProperty$4(this,"decoder",void 0),_defineProperty$4(this,"metadataQuerier",void 0),this.draco=et,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=new this.draco.DecoderBuffer;rt.Init(new Int8Array(et),et.byteLength),this._disableAttributeTransforms(nt);const it=this.decoder.GetEncodedGeometryType(rt),st=it===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let ot;switch(it){case this.draco.TRIANGULAR_MESH:ot=this.decoder.DecodeBufferToMesh(rt,st);break;case this.draco.POINT_CLOUD:ot=this.decoder.DecodeBufferToPointCloud(rt,st);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!ot.ok()||!st.ptr){const ht="DRACO decompression failed: ".concat(ot.error_msg());throw new Error(ht)}const at=this._getDracoLoaderData(st,it,nt),lt=this._getMeshData(st,at,nt),ut=getMeshBoundingBox(lt.attributes),ft=getDracoSchema(lt.attributes,at,lt.indices);return{loader:"draco",loaderData:at,header:{vertexCount:st.num_points(),boundingBox:ut},...lt,schema:ft}}finally{this.draco.destroy(rt),st&&this.draco.destroy(st)}}_getDracoLoaderData(et,nt,rt){const it=this._getTopLevelMetadata(et),st=this._getDracoAttributes(et,rt);return{geometry_type:nt,num_attributes:et.num_attributes(),num_points:et.num_points(),num_faces:et instanceof this.draco.Mesh?et.num_faces():0,metadata:it,attributes:st}}_getDracoAttributes(et,nt){const rt={};for(let it=0;it<et.num_attributes();it++){const st=this.decoder.GetAttribute(et,it),ot=this._getAttributeMetadata(et,it);rt[st.unique_id()]={unique_id:st.unique_id(),attribute_type:st.attribute_type(),data_type:st.data_type(),num_components:st.num_components(),byte_offset:st.byte_offset(),byte_stride:st.byte_stride(),normalized:st.normalized(),attribute_index:it,metadata:ot};const at=this._getQuantizationTransform(st,nt);at&&(rt[st.unique_id()].quantization_transform=at);const lt=this._getOctahedronTransform(st,nt);lt&&(rt[st.unique_id()].octahedron_transform=lt)}return rt}_getMeshData(et,nt,rt){const it=this._getMeshAttributes(nt,et,rt);if(!it.POSITION)throw new Error("DRACO: No position attribute found.");if(et instanceof this.draco.Mesh)switch(rt.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:it,indices:{value:this._getTriangleStripIndices(et),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:it,indices:{value:this._getTriangleListIndices(et),size:1}}}return{topology:"point-list",mode:0,attributes:it}}_getMeshAttributes(et,nt,rt){const it={};for(const st of Object.values(et.attributes)){const ot=this._deduceAttributeName(st,rt);st.name=ot;const{value:at,size:lt}=this._getAttributeValues(nt,st);it[ot]={value:at,size:lt,byteOffset:st.byte_offset,byteStride:st.byte_stride,normalized:st.normalized}}return it}_getTriangleListIndices(et){const rt=et.num_faces()*3,it=rt*INDEX_ITEM_SIZE,st=this.draco._malloc(it);try{return this.decoder.GetTrianglesUInt32Array(et,it,st),new Uint32Array(this.draco.HEAPF32.buffer,st,rt).slice()}finally{this.draco._free(st)}}_getTriangleStripIndices(et){const nt=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(et,nt),getUint32Array(nt)}finally{this.draco.destroy(nt)}}_getAttributeValues(et,nt){const rt=DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP[nt.data_type],it=nt.num_components,ot=et.num_points()*it,at=ot*rt.BYTES_PER_ELEMENT,lt=getDracoDataType(this.draco,rt);let ut;const ft=this.draco._malloc(at);try{const dt=this.decoder.GetAttribute(et,nt.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(et,dt,lt,at,ft),ut=new rt(this.draco.HEAPF32.buffer,ft,ot).slice()}finally{this.draco._free(ft)}return{value:ut,size:it}}_deduceAttributeName(et,nt){const rt=et.unique_id;for(const[ot,at]of Object.entries(nt.extraAttributes||{}))if(at===rt)return ot;const it=et.attribute_type;for(const ot in DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP)if(this.draco[ot]===it)return DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP[ot];const st=nt.attributeNameEntry||"name";return et.metadata[st]?et.metadata[st].string:"CUSTOM_ATTRIBUTE_".concat(rt)}_getTopLevelMetadata(et){const nt=this.decoder.GetMetadata(et);return this._getDracoMetadata(nt)}_getAttributeMetadata(et,nt){const rt=this.decoder.GetAttributeMetadata(et,nt);return this._getDracoMetadata(rt)}_getDracoMetadata(et){if(!et||!et.ptr)return{};const nt={},rt=this.metadataQuerier.NumEntries(et);for(let it=0;it<rt;it++){const st=this.metadataQuerier.GetEntryName(et,it);nt[st]=this._getDracoMetadataField(et,st)}return nt}_getDracoMetadataField(et,nt){const rt=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(et,nt,rt);const it=getInt32Array(rt);return{int:this.metadataQuerier.GetIntEntry(et,nt),string:this.metadataQuerier.GetStringEntry(et,nt),double:this.metadataQuerier.GetDoubleEntry(et,nt),intArray:it}}finally{this.draco.destroy(rt)}}_disableAttributeTransforms(et){const{quantizedAttributes:nt=[],octahedronAttributes:rt=[]}=et,it=[...nt,...rt];for(const st of it)this.decoder.SkipAttributeTransform(this.draco[st])}_getQuantizationTransform(et,nt){const{quantizedAttributes:rt=[]}=nt,it=et.attribute_type();if(rt.map(ot=>this.decoder[ot]).includes(it)){const ot=new this.draco.AttributeQuantizationTransform;try{if(ot.InitFromAttribute(et))return{quantization_bits:ot.quantization_bits(),range:ot.range(),min_values:new Float32Array([1,2,3]).map(at=>ot.min_value(at))}}finally{this.draco.destroy(ot)}}return null}_getOctahedronTransform(et,nt){const{octahedronAttributes:rt=[]}=nt,it=et.attribute_type();if(rt.map(ot=>this.decoder[ot]).includes(it)){const ot=new this.draco.AttributeQuantizationTransform;try{if(ot.InitFromAttribute(et))return{quantization_bits:ot.quantization_bits()}}finally{this.draco.destroy(ot)}}return null}}function getDracoDataType(tt,et){switch(et){case Float32Array:return tt.DT_FLOAT32;case Int8Array:return tt.DT_INT8;case Int16Array:return tt.DT_INT16;case Int32Array:return tt.DT_INT32;case Uint8Array:return tt.DT_UINT8;case Uint16Array:return tt.DT_UINT16;case Uint32Array:return tt.DT_UINT32;default:return tt.DT_INVALID}}function getInt32Array(tt){const et=tt.size(),nt=new Int32Array(et);for(let rt=0;rt<et;rt++)nt[rt]=tt.GetValue(rt);return nt}function getUint32Array(tt){const et=tt.size(),nt=new Int32Array(et);for(let rt=0;rt<et;rt++)nt[rt]=tt.GetValue(rt);return nt}const DRACO_DECODER_VERSION="1.5.5",STATIC_DECODER_URL="https://www.gstatic.com/draco/versioned/decoders/".concat(DRACO_DECODER_VERSION),DRACO_JS_DECODER_URL="".concat(STATIC_DECODER_URL,"/draco_decoder.js"),DRACO_WASM_WRAPPER_URL="".concat(STATIC_DECODER_URL,"/draco_wasm_wrapper.js"),DRACO_WASM_DECODER_URL="".concat(STATIC_DECODER_URL,"/draco_decoder.wasm");let loadDecoderPromise;async function loadDracoDecoderModule(tt){const et=tt.modules||{};return et.draco3d?loadDecoderPromise=loadDecoderPromise||et.draco3d.createDecoderModule({}).then(nt=>({draco:nt})):loadDecoderPromise=loadDecoderPromise||loadDracoDecoder(tt),await loadDecoderPromise}async function loadDracoDecoder(tt){let et,nt;switch(tt.draco&&tt.draco.decoderType){case"js":et=await loadLibrary(DRACO_JS_DECODER_URL,"draco",tt);break;case"wasm":default:[et,nt]=await Promise.all([await loadLibrary(DRACO_WASM_WRAPPER_URL,"draco",tt),await loadLibrary(DRACO_WASM_DECODER_URL,"draco",tt)])}return et=et||globalThis.DracoDecoderModule,await initializeDracoDecoder(et,nt)}function initializeDracoDecoder(tt,et){const nt={};return et&&(nt.wasmBinary=et),new Promise(rt=>{tt({...nt,onModuleLoaded:it=>rt({draco:it})})})}const DracoLoader={...DracoLoader$1,parse:parse$1};async function parse$1(tt,et){const{draco:nt}=await loadDracoDecoderModule(et),rt=new DracoParser(nt);try{return rt.parseSync(tt,et==null?void 0:et.draco)}finally{rt.destroy()}}function getGLTFAccessors(tt){const et={};for(const nt in tt){const rt=tt[nt];if(nt!=="indices"){const it=getGLTFAccessor(rt);et[nt]=it}}return et}function getGLTFAccessor(tt){const{buffer:et,size:nt,count:rt}=getAccessorData(tt);return{value:et,size:nt,byteOffset:0,count:rt,type:getAccessorTypeFromSize(nt),componentType:getComponentTypeFromArray(et)}}function getAccessorData(tt){let et=tt,nt=1,rt=0;return tt&&tt.value&&(et=tt.value,nt=tt.size||1),et&&(ArrayBuffer.isView(et)||(et=toTypedArray(et,Float32Array)),rt=et.length/nt),{buffer:et,size:nt,count:rt}}function toTypedArray(tt,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return tt?Array.isArray(tt)?new et(tt):nt&&!(tt instanceof et)?new et(tt):tt:null}const KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression",name$5=KHR_DRACO_MESH_COMPRESSION;function preprocess$1(tt,et,nt){const rt=new GLTFScenegraph(tt);for(const it of makeMeshPrimitiveIterator(rt))rt.getObjectExtension(it,KHR_DRACO_MESH_COMPRESSION)}async function decode$5(tt,et,nt){var rt;if(!(et!=null&&(rt=et.gltf)!==null&&rt!==void 0&&rt.decompressMeshes))return;const it=new GLTFScenegraph(tt),st=[];for(const ot of makeMeshPrimitiveIterator(it))it.getObjectExtension(ot,KHR_DRACO_MESH_COMPRESSION)&&st.push(decompressPrimitive(it,ot,et,nt));await Promise.all(st),it.removeExtension(KHR_DRACO_MESH_COMPRESSION)}function encode$5(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const nt=new GLTFScenegraph(tt);for(const rt of nt.json.meshes||[])compressMesh(rt,et),nt.addRequiredExtension(KHR_DRACO_MESH_COMPRESSION)}async function decompressPrimitive(tt,et,nt,rt){const it=tt.getObjectExtension(et,KHR_DRACO_MESH_COMPRESSION);if(!it)return;const st=tt.getTypedArrayForBufferView(it.bufferView),ot=sliceArrayBuffer(st.buffer,st.byteOffset),{parse:at}=rt,lt={...nt};delete lt["3d-tiles"];const ut=await at(ot,DracoLoader,lt,rt),ft=getGLTFAccessors(ut.attributes);for(const[dt,ht]of Object.entries(ft))if(dt in et.attributes){const mt=et.attributes[dt],xt=tt.getAccessor(mt);xt!=null&&xt.min&&xt!==null&&xt!==void 0&&xt.max&&(ht.min=xt.min,ht.max=xt.max)}et.attributes=ft,ut.indices&&(et.indices=getGLTFAccessor(ut.indices)),checkPrimitive(et)}function compressMesh(tt,et){var nt;let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,it=arguments.length>3?arguments[3]:void 0,st=arguments.length>4?arguments[4]:void 0;if(!it.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const ot=it.DracoWriter.encodeSync({attributes:tt}),at=st==null||(nt=st.parseSync)===null||nt===void 0?void 0:nt.call(st,{attributes:tt}),lt=it._addFauxAttributes(at.attributes),ut=it.addBufferView(ot);return{primitives:[{attributes:lt,mode:rt,extensions:{[KHR_DRACO_MESH_COMPRESSION]:{bufferView:ut,attributes:lt}}}]}}function checkPrimitive(tt){if(!tt.attributes&&Object.keys(tt.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*makeMeshPrimitiveIterator(tt){for(const et of tt.json.meshes||[])for(const nt of et.primitives)yield nt}const KHR_draco_mesh_compression=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$5,encode:encode$5,name:name$5,preprocess:preprocess$1},Symbol.toStringTag,{value:"Module"})),COMPONENTS$1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BYTES$1={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},EXT_MESHOPT_TRANSFORM="KHR_texture_transform",name$4=EXT_MESHOPT_TRANSFORM,scratchVector=new Vector3,scratchRotationMatrix=new Matrix3,scratchScaleMatrix=new Matrix3;async function decode$4(tt,et){if(!new GLTFScenegraph(tt).getExtension(EXT_MESHOPT_TRANSFORM))return;const it=tt.json.materials||[];for(let st=0;st<it.length;st++)transformTexCoords(st,tt)}function transformTexCoords(tt,et){var nt,rt,it;const st=[],ot=(nt=et.json.materials)===null||nt===void 0?void 0:nt[tt],at=ot==null||(rt=ot.pbrMetallicRoughness)===null||rt===void 0?void 0:rt.baseColorTexture;at&&transformPrimitives(et,tt,at,st);const lt=ot==null?void 0:ot.emissiveTexture;lt&&transformPrimitives(et,tt,lt,st);const ut=ot==null?void 0:ot.normalTexture;ut&&transformPrimitives(et,tt,ut,st);const ft=ot==null?void 0:ot.occlusionTexture;ft&&transformPrimitives(et,tt,ft,st);const dt=ot==null||(it=ot.pbrMetallicRoughness)===null||it===void 0?void 0:it.metallicRoughnessTexture;dt&&transformPrimitives(et,tt,dt,st)}function transformPrimitives(tt,et,nt,rt){const it=getTransformParameters(nt,rt);if(!it)return;const st=tt.json.meshes||[];for(const ot of st)for(const at of ot.primitives){const lt=at.material;Number.isFinite(lt)&&et===lt&&transformPrimitive(tt,at,it)}}function getTransformParameters(tt,et){var nt;const rt=(nt=tt.extensions)===null||nt===void 0?void 0:nt[EXT_MESHOPT_TRANSFORM],{texCoord:it=0}=tt,{texCoord:st=it}=rt;if(!(et.findIndex(at=>{let[lt,ut]=at;return lt===it&&ut===st})!==-1)){const at=makeTransformationMatrix(rt);return it!==st&&(tt.texCoord=st),et.push([it,st]),{originalTexCoord:it,texCoord:st,matrix:at}}return null}function transformPrimitive(tt,et,nt){const{originalTexCoord:rt,texCoord:it,matrix:st}=nt,ot=et.attributes["TEXCOORD_".concat(rt)];if(Number.isFinite(ot)){var at;const ut=(at=tt.json.accessors)===null||at===void 0?void 0:at[ot];if(ut&&ut.bufferView){var lt;const ft=(lt=tt.json.bufferViews)===null||lt===void 0?void 0:lt[ut.bufferView];if(ft){const{arrayBuffer:dt,byteOffset:ht}=tt.buffers[ft.buffer],mt=(ht||0)+(ut.byteOffset||0)+(ft.byteOffset||0),{ArrayType:xt,length:_t}=getAccessorArrayTypeAndLength(ut,ft),At=BYTES$1[ut.componentType],gt=COMPONENTS$1[ut.type],vt=ft.byteStride||At*gt,Et=new Float32Array(_t);for(let yt=0;yt<ut.count;yt++){const wt=new xt(dt,mt+yt*vt,2);scratchVector.set(wt[0],wt[1],1),scratchVector.transformByMatrix3(st),Et.set([scratchVector[0],scratchVector[1]],yt*gt)}rt===it?updateGltf(ut,ft,tt.buffers,Et):createAttribute(it,ut,et,tt,Et)}}}}function updateGltf(tt,et,nt,rt){tt.componentType=5126,nt.push({arrayBuffer:rt.buffer,byteOffset:0,byteLength:rt.buffer.byteLength}),et.buffer=nt.length-1,et.byteLength=rt.buffer.byteLength,et.byteOffset=0,delete et.byteStride}function createAttribute(tt,et,nt,rt,it){rt.buffers.push({arrayBuffer:it.buffer,byteOffset:0,byteLength:it.buffer.byteLength});const st=rt.json.bufferViews;if(!st)return;st.push({buffer:rt.buffers.length-1,byteLength:it.buffer.byteLength,byteOffset:0});const ot=rt.json.accessors;ot&&(ot.push({bufferView:(st==null?void 0:st.length)-1,byteOffset:0,componentType:5126,count:et.count,type:"VEC2"}),nt.attributes["TEXCOORD_".concat(tt)]=ot.length-1)}function makeTransformationMatrix(tt){const{offset:et=[0,0],rotation:nt=0,scale:rt=[1,1]}=tt,it=new Matrix3().set(1,0,0,0,1,0,et[0],et[1],1),st=scratchRotationMatrix.set(Math.cos(nt),Math.sin(nt),0,-Math.sin(nt),Math.cos(nt),0,0,0,1),ot=scratchScaleMatrix.set(rt[0],0,0,0,rt[1],0,0,0,1);return it.multiplyRight(st).multiplyRight(ot)}const KHR_texture_transform=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$4,name:name$4},Symbol.toStringTag,{value:"Module"})),KHR_LIGHTS_PUNCTUAL="KHR_lights_punctual",name$3=KHR_LIGHTS_PUNCTUAL;async function decode$3(tt){const et=new GLTFScenegraph(tt),{json:nt}=et,rt=et.getExtension(KHR_LIGHTS_PUNCTUAL);rt&&(et.json.lights=rt.lights,et.removeExtension(KHR_LIGHTS_PUNCTUAL));for(const it of nt.nodes||[]){const st=et.getObjectExtension(it,KHR_LIGHTS_PUNCTUAL);st&&(it.light=st.light),et.removeObjectExtension(it,KHR_LIGHTS_PUNCTUAL)}}async function encode$4(tt){const et=new GLTFScenegraph(tt),{json:nt}=et;if(nt.lights){const rt=et.addExtension(KHR_LIGHTS_PUNCTUAL);assert(!rt.lights),rt.lights=nt.lights,delete nt.lights}if(et.json.lights){for(const rt of et.json.lights){const it=rt.node;et.addObjectExtension(it,KHR_LIGHTS_PUNCTUAL,rt)}delete et.json.lights}}const KHR_lights_punctual=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$3,encode:encode$4,name:name$3},Symbol.toStringTag,{value:"Module"})),KHR_MATERIALS_UNLIT="KHR_materials_unlit",name$2=KHR_MATERIALS_UNLIT;async function decode$2(tt){const et=new GLTFScenegraph(tt),{json:nt}=et;for(const rt of nt.materials||[])rt.extensions&&rt.extensions.KHR_materials_unlit&&(rt.unlit=!0),et.removeObjectExtension(rt,KHR_MATERIALS_UNLIT);et.removeExtension(KHR_MATERIALS_UNLIT)}function encode$3(tt){const et=new GLTFScenegraph(tt),{json:nt}=et;if(et.materials)for(const rt of nt.materials||[])rt.unlit&&(delete rt.unlit,et.addObjectExtension(rt,KHR_MATERIALS_UNLIT,{}),et.addExtension(KHR_MATERIALS_UNLIT))}const KHR_materials_unlit=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$2,encode:encode$3,name:name$2},Symbol.toStringTag,{value:"Module"})),KHR_TECHNIQUES_WEBGL="KHR_techniques_webgl",name$1=KHR_TECHNIQUES_WEBGL;async function decode$1(tt){const et=new GLTFScenegraph(tt),{json:nt}=et,rt=et.getExtension(KHR_TECHNIQUES_WEBGL);if(rt){const it=resolveTechniques(rt,et);for(const st of nt.materials||[]){const ot=et.getObjectExtension(st,KHR_TECHNIQUES_WEBGL);ot&&(st.technique=Object.assign({},ot,it[ot.technique]),st.technique.values=resolveValues(st.technique,et)),et.removeObjectExtension(st,KHR_TECHNIQUES_WEBGL)}et.removeExtension(KHR_TECHNIQUES_WEBGL)}}async function encode$2(tt,et){}function resolveTechniques(tt,et){const{programs:nt=[],shaders:rt=[],techniques:it=[]}=tt,st=new TextDecoder;return rt.forEach(ot=>{if(Number.isFinite(ot.bufferView))ot.code=st.decode(et.getTypedArrayForBufferView(ot.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),nt.forEach(ot=>{ot.fragmentShader=rt[ot.fragmentShader],ot.vertexShader=rt[ot.vertexShader]}),it.forEach(ot=>{ot.program=nt[ot.program]}),it}function resolveValues(tt,et){const nt=Object.assign({},tt.values);return Object.keys(tt.uniforms||{}).forEach(rt=>{tt.uniforms[rt].value&&!(rt in nt)&&(nt[rt]=tt.uniforms[rt].value)}),Object.keys(nt).forEach(rt=>{typeof nt[rt]=="object"&&nt[rt].index!==void 0&&(nt[rt].texture=et.getTexture(nt[rt].index))}),nt}const KHR_techniques_webgl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$2,name:name$1},Symbol.toStringTag,{value:"Module"})),EXT_FEATURE_METADATA="EXT_feature_metadata",name=EXT_FEATURE_METADATA;async function decode(tt){const et=new GLTFScenegraph(tt);decodeExtFeatureMetadata(et)}function decodeExtFeatureMetadata(tt){var et;const nt=tt.getExtension(EXT_FEATURE_METADATA),rt=nt==null||(et=nt.schema)===null||et===void 0?void 0:et.classes,it=nt==null?void 0:nt.featureTables;if((nt==null?void 0:nt.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.'),rt&&it)for(const ot in rt){const at=rt[ot],lt=findFeatureTableByName(it,ot);lt&&handleFeatureTableProperties(tt,lt,at)}}function handleFeatureTableProperties(tt,et,nt){for(const it in nt.properties){var rt;const st=nt.properties[it],ot=et==null||(rt=et.properties)===null||rt===void 0?void 0:rt[it],at=et.count;if(ot){const lt=getPropertyDataFromBinarySource(tt,st,at,ot);ot.data=lt}}}function getPropertyDataFromBinarySource(tt,et,nt,rt){const it=rt.bufferView;let st=tt.getTypedArrayForBufferView(it);switch(et.type){case"STRING":{const ot=rt.stringOffsetBufferView,at=tt.getTypedArrayForBufferView(ot);st=getStringAttributes(st,at,nt);break}}return st}function findFeatureTableByName(tt,et){for(const nt in tt){const rt=tt[nt];if(rt.class===et)return rt}return null}function getStringAttributes(tt,et,nt){const rt=[],it=new TextDecoder("utf8");let st=0;const ot=4;for(let at=0;at<nt;at++){const lt=et[(at+1)*ot]-et[at*ot],ut=tt.subarray(st,lt+st),ft=it.decode(ut);rt.push(ft),st+=lt}return rt}const EXT_feature_metadata=Object.freeze(Object.defineProperty({__proto__:null,decode,name},Symbol.toStringTag,{value:"Module"})),EXTENSIONS=[EXT_meshopt_compression,EXT_texture_webp,KHR_texture_basisu,KHR_draco_mesh_compression,KHR_lights_punctual,KHR_materials_unlit,KHR_techniques_webgl,KHR_texture_transform,EXT_feature_metadata];function preprocessExtensions(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2?arguments[2]:void 0;const rt=EXTENSIONS.filter(st=>useExtension(st.name,et));for(const st of rt){var it;(it=st.preprocess)===null||it===void 0||it.call(st,tt,et,nt)}}async function decodeExtensions(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2?arguments[2]:void 0;const rt=EXTENSIONS.filter(st=>useExtension(st.name,et));for(const st of rt){var it;await((it=st.decode)===null||it===void 0?void 0:it.call(st,tt,et,nt))}}function useExtension(tt,et){var nt;const rt=(et==null||(nt=et.gltf)===null||nt===void 0?void 0:nt.excludeExtensions)||{};return!(tt in rt&&!rt[tt])}const KHR_BINARY_GLTF="KHR_binary_glTF";function preprocess(tt){const et=new GLTFScenegraph(tt),{json:nt}=et;for(const rt of nt.images||[]){const it=et.getObjectExtension(rt,KHR_BINARY_GLTF);it&&Object.assign(rt,it),et.removeObjectExtension(rt,KHR_BINARY_GLTF)}nt.buffers&&nt.buffers[0]&&delete nt.buffers[0].uri,et.removeExtension(KHR_BINARY_GLTF)}const GLTF_ARRAYS={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},GLTF_KEYS={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class GLTFV1Normalizer{constructor(){_defineProperty$4(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),_defineProperty$4(this,"json",void 0)}normalize(et,nt){this.json=et.json;const rt=et.json;switch(rt.asset&&rt.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn("glTF: Unknown version ".concat(rt.asset.version));return}if(!nt.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(rt),this._convertTopLevelObjectsToArrays(rt),preprocess(et),this._convertObjectIdsToArrayIndices(rt),this._updateObjects(rt),this._updateMaterial(rt)}_addAsset(et){et.asset=et.asset||{},et.asset.version="2.0",et.asset.generator=et.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(et){for(const nt in GLTF_ARRAYS)this._convertTopLevelObjectToArray(et,nt)}_convertTopLevelObjectToArray(et,nt){const rt=et[nt];if(!(!rt||Array.isArray(rt))){et[nt]=[];for(const it in rt){const st=rt[it];st.id=st.id||it;const ot=et[nt].length;et[nt].push(st),this.idToIndexMap[nt][it]=ot}}}_convertObjectIdsToArrayIndices(et){for(const nt in GLTF_ARRAYS)this._convertIdsToIndices(et,nt);"scene"in et&&(et.scene=this._convertIdToIndex(et.scene,"scene"));for(const nt of et.textures)this._convertTextureIds(nt);for(const nt of et.meshes)this._convertMeshIds(nt);for(const nt of et.nodes)this._convertNodeIds(nt);for(const nt of et.scenes)this._convertSceneIds(nt)}_convertTextureIds(et){et.source&&(et.source=this._convertIdToIndex(et.source,"image"))}_convertMeshIds(et){for(const nt of et.primitives){const{attributes:rt,indices:it,material:st}=nt;for(const ot in rt)rt[ot]=this._convertIdToIndex(rt[ot],"accessor");it&&(nt.indices=this._convertIdToIndex(it,"accessor")),st&&(nt.material=this._convertIdToIndex(st,"material"))}}_convertNodeIds(et){et.children&&(et.children=et.children.map(nt=>this._convertIdToIndex(nt,"node"))),et.meshes&&(et.meshes=et.meshes.map(nt=>this._convertIdToIndex(nt,"mesh")))}_convertSceneIds(et){et.nodes&&(et.nodes=et.nodes.map(nt=>this._convertIdToIndex(nt,"node")))}_convertIdsToIndices(et,nt){et[nt]||(console.warn("gltf v1: json doesn't contain attribute ".concat(nt)),et[nt]=[]);for(const rt of et[nt])for(const it in rt){const st=rt[it],ot=this._convertIdToIndex(st,it);rt[it]=ot}}_convertIdToIndex(et,nt){const rt=GLTF_KEYS[nt];if(rt in this.idToIndexMap){const it=this.idToIndexMap[rt][et];if(!Number.isFinite(it))throw new Error("gltf v1: failed to resolve ".concat(nt," with id ").concat(et));return it}return et}_updateObjects(et){for(const nt of this.json.buffers)delete nt.type}_updateMaterial(et){for(const st of et.materials){var nt,rt,it;st.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const ot=((nt=st.values)===null||nt===void 0?void 0:nt.tex)||((rt=st.values)===null||rt===void 0?void 0:rt.texture2d_0)||((it=st.values)===null||it===void 0?void 0:it.diffuseTex),at=et.textures.findIndex(lt=>lt.id===ot);at!==-1&&(st.pbrMetallicRoughness.baseColorTexture={index:at})}}}function normalizeGLTFV1(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new GLTFV1Normalizer().normalize(tt,et)}const COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BYTES={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},GL_SAMPLER={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},SAMPLER_PARAMETER_GLTF_TO_GL={magFilter:GL_SAMPLER.TEXTURE_MAG_FILTER,minFilter:GL_SAMPLER.TEXTURE_MIN_FILTER,wrapS:GL_SAMPLER.TEXTURE_WRAP_S,wrapT:GL_SAMPLER.TEXTURE_WRAP_T},DEFAULT_SAMPLER={[GL_SAMPLER.TEXTURE_MAG_FILTER]:GL_SAMPLER.LINEAR,[GL_SAMPLER.TEXTURE_MIN_FILTER]:GL_SAMPLER.NEAREST_MIPMAP_LINEAR,[GL_SAMPLER.TEXTURE_WRAP_S]:GL_SAMPLER.REPEAT,[GL_SAMPLER.TEXTURE_WRAP_T]:GL_SAMPLER.REPEAT};function getBytesFromComponentType(tt){return BYTES[tt]}function getSizeFromAccessorType(tt){return COMPONENTS[tt]}class GLTFPostProcessor{constructor(){_defineProperty$4(this,"baseUri",""),_defineProperty$4(this,"json",{}),_defineProperty$4(this,"buffers",[]),_defineProperty$4(this,"images",[])}postProcess(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{json:rt,buffers:it=[],images:st=[],baseUri:ot=""}=et;return assert(rt),this.baseUri=ot,this.json=rt,this.buffers=it,this.images=st,this._resolveTree(this.json,nt),this.json}_resolveTree(et){et.bufferViews&&(et.bufferViews=et.bufferViews.map((nt,rt)=>this._resolveBufferView(nt,rt))),et.images&&(et.images=et.images.map((nt,rt)=>this._resolveImage(nt,rt))),et.samplers&&(et.samplers=et.samplers.map((nt,rt)=>this._resolveSampler(nt,rt))),et.textures&&(et.textures=et.textures.map((nt,rt)=>this._resolveTexture(nt,rt))),et.accessors&&(et.accessors=et.accessors.map((nt,rt)=>this._resolveAccessor(nt,rt))),et.materials&&(et.materials=et.materials.map((nt,rt)=>this._resolveMaterial(nt,rt))),et.meshes&&(et.meshes=et.meshes.map((nt,rt)=>this._resolveMesh(nt,rt))),et.nodes&&(et.nodes=et.nodes.map((nt,rt)=>this._resolveNode(nt,rt))),et.skins&&(et.skins=et.skins.map((nt,rt)=>this._resolveSkin(nt,rt))),et.scenes&&(et.scenes=et.scenes.map((nt,rt)=>this._resolveScene(nt,rt))),et.scene!==void 0&&(et.scene=et.scenes[this.json.scene])}getScene(et){return this._get("scenes",et)}getNode(et){return this._get("nodes",et)}getSkin(et){return this._get("skins",et)}getMesh(et){return this._get("meshes",et)}getMaterial(et){return this._get("materials",et)}getAccessor(et){return this._get("accessors",et)}getCamera(et){return null}getTexture(et){return this._get("textures",et)}getSampler(et){return this._get("samplers",et)}getImage(et){return this._get("images",et)}getBufferView(et){return this._get("bufferViews",et)}getBuffer(et){return this._get("buffers",et)}_get(et,nt){if(typeof nt=="object")return nt;const rt=this.json[et]&&this.json[et][nt];return rt||console.warn("glTF file error: Could not find ".concat(et,"[").concat(nt,"]")),rt}_resolveScene(et,nt){return et.id=et.id||"scene-".concat(nt),et.nodes=(et.nodes||[]).map(rt=>this.getNode(rt)),et}_resolveNode(et,nt){return et.id=et.id||"node-".concat(nt),et.children&&(et.children=et.children.map(rt=>this.getNode(rt))),et.mesh!==void 0?et.mesh=this.getMesh(et.mesh):et.meshes!==void 0&&et.meshes.length&&(et.mesh=et.meshes.reduce((rt,it)=>{const st=this.getMesh(it);return rt.id=st.id,rt.primitives=rt.primitives.concat(st.primitives),rt},{primitives:[]})),et.camera!==void 0&&(et.camera=this.getCamera(et.camera)),et.skin!==void 0&&(et.skin=this.getSkin(et.skin)),et}_resolveSkin(et,nt){return et.id=et.id||"skin-".concat(nt),et.inverseBindMatrices=this.getAccessor(et.inverseBindMatrices),et}_resolveMesh(et,nt){return et.id=et.id||"mesh-".concat(nt),et.primitives&&(et.primitives=et.primitives.map(rt=>{rt={...rt};const it=rt.attributes;rt.attributes={};for(const st in it)rt.attributes[st]=this.getAccessor(it[st]);return rt.indices!==void 0&&(rt.indices=this.getAccessor(rt.indices)),rt.material!==void 0&&(rt.material=this.getMaterial(rt.material)),rt})),et}_resolveMaterial(et,nt){if(et.id=et.id||"material-".concat(nt),et.normalTexture&&(et.normalTexture={...et.normalTexture},et.normalTexture.texture=this.getTexture(et.normalTexture.index)),et.occlusionTexture&&(et.occlustionTexture={...et.occlustionTexture},et.occlusionTexture.texture=this.getTexture(et.occlusionTexture.index)),et.emissiveTexture&&(et.emmisiveTexture={...et.emmisiveTexture},et.emissiveTexture.texture=this.getTexture(et.emissiveTexture.index)),et.emissiveFactor||(et.emissiveFactor=et.emmisiveTexture?[1,1,1]:[0,0,0]),et.pbrMetallicRoughness){et.pbrMetallicRoughness={...et.pbrMetallicRoughness};const rt=et.pbrMetallicRoughness;rt.baseColorTexture&&(rt.baseColorTexture={...rt.baseColorTexture},rt.baseColorTexture.texture=this.getTexture(rt.baseColorTexture.index)),rt.metallicRoughnessTexture&&(rt.metallicRoughnessTexture={...rt.metallicRoughnessTexture},rt.metallicRoughnessTexture.texture=this.getTexture(rt.metallicRoughnessTexture.index))}return et}_resolveAccessor(et,nt){if(et.id=et.id||"accessor-".concat(nt),et.bufferView!==void 0&&(et.bufferView=this.getBufferView(et.bufferView)),et.bytesPerComponent=getBytesFromComponentType(et.componentType),et.components=getSizeFromAccessorType(et.type),et.bytesPerElement=et.bytesPerComponent*et.components,et.bufferView){const rt=et.bufferView.buffer,{ArrayType:it,byteLength:st}=getAccessorArrayTypeAndLength(et,et.bufferView),ot=(et.bufferView.byteOffset||0)+(et.byteOffset||0)+rt.byteOffset;let at=rt.arrayBuffer.slice(ot,ot+st);et.bufferView.byteStride&&(at=this._getValueFromInterleavedBuffer(rt,ot,et.bufferView.byteStride,et.bytesPerElement,et.count)),et.value=new it(at)}return et}_getValueFromInterleavedBuffer(et,nt,rt,it,st){const ot=new Uint8Array(st*it);for(let at=0;at<st;at++){const lt=nt+at*rt;ot.set(new Uint8Array(et.arrayBuffer.slice(lt,lt+it)),at*it)}return ot.buffer}_resolveTexture(et,nt){return et.id=et.id||"texture-".concat(nt),et.sampler="sampler"in et?this.getSampler(et.sampler):DEFAULT_SAMPLER,et.source=this.getImage(et.source),et}_resolveSampler(et,nt){et.id=et.id||"sampler-".concat(nt),et.parameters={};for(const rt in et){const it=this._enumSamplerParameter(rt);it!==void 0&&(et.parameters[it]=et[rt])}return et}_enumSamplerParameter(et){return SAMPLER_PARAMETER_GLTF_TO_GL[et]}_resolveImage(et,nt){et.id=et.id||"image-".concat(nt),et.bufferView!==void 0&&(et.bufferView=this.getBufferView(et.bufferView));const rt=this.images[nt];return rt&&(et.image=rt),et}_resolveBufferView(et,nt){const rt=et.buffer,it={id:"bufferView-".concat(nt),...et,buffer:this.buffers[rt]},st=this.buffers[rt].arrayBuffer;let ot=this.buffers[rt].byteOffset||0;return"byteOffset"in et&&(ot+=et.byteOffset),it.data=new Uint8Array(st,ot,et.byteLength),it}_resolveCamera(et,nt){return et.id=et.id||"camera-".concat(nt),et.perspective,et.orthographic,et}}function postProcessGLTF(tt,et){return new GLTFPostProcessor().postProcess(tt,et)}const MAGIC_glTF=1735152710,GLB_FILE_HEADER_SIZE=12,GLB_CHUNK_HEADER_SIZE=8,GLB_CHUNK_TYPE_JSON=1313821514,GLB_CHUNK_TYPE_BIN=5130562,GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED=0,GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED=1,GLB_V1_CONTENT_FORMAT_JSON=0,LE=!0;function getMagicString(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return"".concat(String.fromCharCode(tt.getUint8(et+0))).concat(String.fromCharCode(tt.getUint8(et+1))).concat(String.fromCharCode(tt.getUint8(et+2))).concat(String.fromCharCode(tt.getUint8(et+3)))}function isGLB(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const rt=new DataView(tt),{magic:it=MAGIC_glTF}=nt,st=rt.getUint32(et,!1);return st===it||st===MAGIC_glTF}function parseGLBSync(tt,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const rt=new DataView(et),it=getMagicString(rt,nt+0),st=rt.getUint32(nt+4,LE),ot=rt.getUint32(nt+8,LE);switch(Object.assign(tt,{header:{byteOffset:nt,byteLength:ot,hasBinChunk:!1},type:it,version:st,json:{},binChunks:[]}),nt+=GLB_FILE_HEADER_SIZE,tt.version){case 1:return parseGLBV1(tt,rt,nt);case 2:return parseGLBV2(tt,rt,nt,{});default:throw new Error("Invalid GLB version ".concat(tt.version,". Only supports v1 and v2."))}}function parseGLBV1(tt,et,nt){assert$a(tt.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE);const rt=et.getUint32(nt+0,LE),it=et.getUint32(nt+4,LE);return nt+=GLB_CHUNK_HEADER_SIZE,assert$a(it===GLB_V1_CONTENT_FORMAT_JSON),parseJSONChunk(tt,et,nt,rt),nt+=rt,nt+=parseBINChunk(tt,et,nt,tt.header.byteLength),nt}function parseGLBV2(tt,et,nt,rt){return assert$a(tt.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE),parseGLBChunksSync(tt,et,nt,rt),nt+tt.header.byteLength}function parseGLBChunksSync(tt,et,nt,rt){for(;nt+8<=tt.header.byteLength;){const it=et.getUint32(nt+0,LE),st=et.getUint32(nt+4,LE);switch(nt+=GLB_CHUNK_HEADER_SIZE,st){case GLB_CHUNK_TYPE_JSON:parseJSONChunk(tt,et,nt,it);break;case GLB_CHUNK_TYPE_BIN:parseBINChunk(tt,et,nt,it);break;case GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED:rt.strict||parseJSONChunk(tt,et,nt,it);break;case GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED:rt.strict||parseBINChunk(tt,et,nt,it);break}nt+=padToNBytes(it,4)}return nt}function parseJSONChunk(tt,et,nt,rt){const it=new Uint8Array(et.buffer,nt,rt),ot=new TextDecoder("utf8").decode(it);return tt.json=JSON.parse(ot),padToNBytes(rt,4)}function parseBINChunk(tt,et,nt,rt){return tt.header.hasBinChunk=!0,tt.binChunks.push({byteOffset:nt,byteLength:rt,arrayBuffer:et.buffer}),padToNBytes(rt,4)}async function parseGLTF(tt,et){var nt,rt,it,st;let ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,at=arguments.length>3?arguments[3]:void 0,lt=arguments.length>4?arguments[4]:void 0;parseGLTFContainerSync(tt,et,ot,at),normalizeGLTFV1(tt,{normalize:at==null||(nt=at.gltf)===null||nt===void 0?void 0:nt.normalize}),preprocessExtensions(tt,at,lt);const ut=[];if(at!=null&&(rt=at.gltf)!==null&&rt!==void 0&&rt.loadBuffers&&tt.json.buffers&&await loadBuffers(tt,at,lt),at!=null&&(it=at.gltf)!==null&&it!==void 0&&it.loadImages){const dt=loadImages(tt,at,lt);ut.push(dt)}const ft=decodeExtensions(tt,at,lt);return ut.push(ft),await Promise.all(ut),at!=null&&(st=at.gltf)!==null&&st!==void 0&&st.postProcess?postProcessGLTF(tt,at):tt}function parseGLTFContainerSync(tt,et,nt,rt){if(rt.uri&&(tt.baseUri=rt.uri),et instanceof ArrayBuffer&&!isGLB(et,nt,rt)&&(et=new TextDecoder().decode(et)),typeof et=="string")tt.json=parseJSON(et);else if(et instanceof ArrayBuffer){const ot={};nt=parseGLBSync(ot,et,nt,rt.glb),assert(ot.type==="glTF","Invalid GLB magic string ".concat(ot.type)),tt._glb=ot,tt.json=ot.json}else assert(!1,"GLTF: must be ArrayBuffer or string");const it=tt.json.buffers||[];if(tt.buffers=new Array(it.length).fill(null),tt._glb&&tt._glb.header.hasBinChunk){const{binChunks:ot}=tt._glb;tt.buffers[0]={arrayBuffer:ot[0].arrayBuffer,byteOffset:ot[0].byteOffset,byteLength:ot[0].byteLength}}const st=tt.json.images||[];tt.images=new Array(st.length).fill({})}async function loadBuffers(tt,et,nt){const rt=tt.json.buffers||[];for(let ot=0;ot<rt.length;++ot){const at=rt[ot];if(at.uri){var it,st;const{fetch:lt}=nt;assert(lt);const ut=resolveUrl(at.uri,et),ft=await(nt==null||(it=nt.fetch)===null||it===void 0?void 0:it.call(nt,ut)),dt=await(ft==null||(st=ft.arrayBuffer)===null||st===void 0?void 0:st.call(ft));tt.buffers[ot]={arrayBuffer:dt,byteOffset:0,byteLength:dt.byteLength},delete at.uri}else tt.buffers[ot]===null&&(tt.buffers[ot]={arrayBuffer:new ArrayBuffer(at.byteLength),byteOffset:0,byteLength:at.byteLength})}}async function loadImages(tt,et,nt){const rt=getReferencesImageIndices(tt),it=tt.json.images||[],st=[];for(const ot of rt)st.push(loadImage(tt,it[ot],ot,et,nt));return await Promise.all(st)}function getReferencesImageIndices(tt){const et=new Set,nt=tt.json.textures||[];for(const rt of nt)rt.source!==void 0&&et.add(rt.source);return Array.from(et).sort()}async function loadImage(tt,et,nt,rt,it){const{fetch:st,parse:ot}=it;let at;if(et.uri&&!et.hasOwnProperty("bufferView")){const ut=resolveUrl(et.uri,rt);at=await(await st(ut)).arrayBuffer(),et.bufferView={data:at}}if(Number.isFinite(et.bufferView)){const ut=getTypedArrayForBufferView(tt.json,tt.buffers,et.bufferView);at=sliceArrayBuffer(ut.buffer,ut.byteOffset,ut.byteLength)}assert(at,"glTF image has no data");let lt=await ot(at,[ImageLoader,BasisLoader],{mimeType:et.mimeType,basis:rt.basis||{format:selectSupportedBasisFormat()}},it);lt&&lt[0]&&(lt={compressed:!0,mipmaps:!1,width:lt[0].width,height:lt[0].height,data:lt[0]}),tt.images=tt.images||[],tt.images[nt]=lt}const GLTFLoader={name:"glTF",id:"gltf",module:"gltf",version:VERSION$4,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};async function parse(tt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2?arguments[2]:void 0;et={...GLTFLoader.options,...et},et.gltf={...GLTFLoader.options.gltf,...et.gltf};const{byteOffset:rt=0}=et;return await parseGLTF({},tt,rt,et,nt)}async function waitForGLTFAssets(tt){const et=[];return tt.scenes.forEach(nt=>{nt.traverse(rt=>{Object.values(rt.model.getUniforms()).forEach(it=>{it.loaded===!1&&et.push(it)})})}),await waitWhileCondition(()=>et.some(nt=>!nt.loaded))}async function waitWhileCondition(tt){for(;tt();)await new Promise(et=>requestAnimationFrame(et))}const vs=`#version 300 es
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceColors;
in vec3 instancePickingColors;
in mat3 instanceModelMatrix;
in vec3 instanceTranslation;
uniform float sizeScale;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform mat4 sceneModelMatrix;
uniform bool composeModelMatrix;
in vec4 POSITION;

#ifdef HAS_UV
  in vec2 TEXCOORD_0;
#endif

#ifdef MODULE_PBR
  #ifdef HAS_NORMALS
    in vec4 NORMAL;
  #endif
#endif
out vec4 vColor;
#ifndef MODULE_PBR
  #ifdef HAS_UV
    out vec2 vTEXCOORD_0;
  #endif
#endif
void main(void) {
  #if defined(HAS_UV) && !defined(MODULE_PBR)
    vTEXCOORD_0 = TEXCOORD_0;
    geometry.uv = vTEXCOORD_0;
  #endif

  geometry.worldPosition = instancePositions;
  geometry.pickingColor = instancePickingColors;

  vec3 normal = vec3(0.0, 0.0, 1.0);
  #ifdef MODULE_PBR
    #ifdef HAS_NORMALS
      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;
    #endif
  #endif

  float originalSize = project_size_to_pixel(sizeScale);
  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);

  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;
  if(composeModelMatrix) {
    DECKGL_FILTER_SIZE(pos, geometry);
    geometry.normal = project_normal(normal);
    geometry.worldPosition += pos;
    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
  }
  else {
    pos = project_size(pos);
    DECKGL_FILTER_SIZE(pos, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);
    geometry.normal = project_normal(normal);
  }
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);

  #ifdef MODULE_PBR
    pbr_vPosition = geometry.position.xyz;
    #ifdef HAS_NORMALS
      pbr_vNormal = geometry.normal;
    #endif

    #ifdef HAS_UV
      pbr_vUV = TEXCOORD_0;
    #else
      pbr_vUV = vec2(0., 0.);
    #endif
    geometry.uv = pbr_vUV;
  #endif

  vColor = instanceColors;
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,fs=`#version 300 es
uniform float opacity;
in vec4 vColor;

out vec4 fragmentColor;
#ifndef MODULE_PBR
  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)
    in vec2 vTEXCOORD_0;
    uniform sampler2D u_BaseColorSampler;
  #endif
#endif

void main(void) {
  #ifdef MODULE_PBR
    fragmentColor = vColor * pbr_filterColor(vec4(0));
    geometry.uv = pbr_vUV;
  #else
    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)
      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);
      geometry.uv = vTEXCOORD_0;
    #else
      fragmentColor = vColor;
    #endif
  #endif

  fragmentColor.a *= opacity;
  DECKGL_FILTER_COLOR(fragmentColor, geometry);
}
`,DEFAULT_COLOR=[255,255,255,255],defaultProps$1={scenegraph:{type:"object",value:null,async:!0},getScene:tt=>tt&&tt.scenes?typeof tt.scene=="object"?tt.scene:tt.scenes[tt.scene||0]:tt,getAnimator:tt=>tt&&tt.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:tt=>tt.position},getColor:{type:"accessor",value:DEFAULT_COLOR},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[GLTFLoader]};class ScenegraphLayer extends Layer{constructor(...et){super(...et),_defineProperty$4(this,"state",void 0)}getShaders(){const et=[project32,picking];return this.props._lighting==="pbr"&&et.push(pbr),{vs,fs,modules:et}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:DEFAULT_COLOR,transition:!0},instanceModelMatrix:MATRIX_ATTRIBUTES})}updateState(et){super.updateState(et);const{props:nt,oldProps:rt}=et;nt.scenegraph!==rt.scenegraph?this._updateScenegraph():nt._animations!==rt._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,nt._animations)}finalizeState(et){super.finalizeState(et),this._deleteScenegraph()}_updateScenegraph(){const et=this.props,{gl:nt}=this.context;let rt=null;if(et.scenegraph instanceof ScenegraphNode)rt={scenes:[et.scenegraph]};else if(et.scenegraph&&!et.scenegraph.gltf){const at=et.scenegraph,lt=createGLTFObjects(nt,at,this._getModelOptions());rt={gltf:at,...lt},waitForGLTFAssets(lt).then(()=>this.setNeedsRedraw())}else et.scenegraph&&(log$4.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),rt=et.scenegraph);const it={layer:this,gl:nt},st=et.getScene(rt,it),ot=et.getAnimator(rt,it);st instanceof ScenegraphNode?(this._deleteScenegraph(),this._applyAllAttributes(st),this._applyAnimationsProp(st,ot,et._animations),this.setState({scenegraph:st,animator:ot})):st!==null&&log$4.warn("invalid scenegraph:",st)()}_applyAllAttributes(et){if(this.state.attributesAvailable){const nt=this.getAttributeManager().getAttributes();et.traverse(rt=>{this._setModelAttributes(rt.model,nt)})}}_applyAnimationsProp(et,nt,rt){if(!et||!nt||!rt)return;const it=nt.getAnimations();Object.keys(rt).sort().forEach(st=>{const ot=rt[st];if(st==="*")it.forEach(at=>{Object.assign(at,ot)});else if(Number.isFinite(Number(st))){const at=Number(st);at>=0&&at<it.length?Object.assign(it[at],ot):log$4.warn("animation ".concat(st," not found"))()}else{const at=it.find(({name:lt})=>lt===st);at?Object.assign(at,ot):log$4.warn("animation ".concat(st," not found"))()}})}_deleteScenegraph(){const{scenegraph:et}=this.state;et instanceof ScenegraphNode&&et.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:et}=this.props;let nt=null;return et&&(typeof et=="function"?nt=et({gl:this.context.gl,layer:this}):nt=et),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:nt,modelOptions:{isInstanced:!0,transpileToGLSL100:!isWebGL2$1(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(et){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(nt=>{this._setModelAttributes(nt.model,et)})}draw({moduleParameters:et=null,parameters:nt={},context:rt}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(rt.timeline.getTime()),this.setNeedsRedraw());const{viewport:it}=this.context,{sizeScale:st,sizeMinPixels:ot,sizeMaxPixels:at,opacity:lt,coordinateSystem:ut}=this.props,ft=this.getNumInstances();this.state.scenegraph.traverse((dt,{worldMatrix:ht})=>{dt.model.setInstanceCount(ft),dt.updateModuleSettings(et),dt.draw({parameters:nt,uniforms:{sizeScale:st,opacity:lt,sizeMinPixels:ot,sizeMaxPixels:at,composeModelMatrix:shouldComposeModelMatrix(it,ut),sceneModelMatrix:ht,u_Camera:dt.model.getUniforms().project_uCameraPosition}})})}}_defineProperty$4(ScenegraphLayer,"defaultProps",defaultProps$1);_defineProperty$4(ScenegraphLayer,"layerName","ScenegraphLayer");var deck_glLeaflet_min={exports:{}};const require$$1=getAugmentedNamespace(esm);(function(tt,et){(function(nt,rt){rt(et,requireLeafletSrc(),require$$1)})(commonjsGlobal,function(nt,rt,it){function st(Et){if(Et&&Et.__esModule)return Et;var yt=Object.create(null);return Et&&Object.keys(Et).forEach(function(wt){if(wt!=="default"){var Ct=Object.getOwnPropertyDescriptor(Et,wt);Object.defineProperty(yt,wt,Ct.get?Ct:{enumerable:!0,get:function(){return Et[wt]}})}}),yt.default=Et,Object.freeze(yt)}var ot=st(rt);function at(Et,yt){for(var wt=0;wt<yt.length;wt++){var Ct=yt[wt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(Et,Ct.key,Ct)}}function lt(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}function ut(Et,yt){return(ut=Object.setPrototypeOf||function(wt,Ct){return wt.__proto__=Ct,wt})(Et,yt)}function ft(Et){return(ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yt){return typeof yt}:function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(Et)}function dt(Et,yt){return!yt||ft(yt)!=="object"&&typeof yt!="function"?lt(Et):yt}function ht(Et){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(Et)}function mt(Et,yt,wt){return yt in Et?Object.defineProperty(Et,yt,{value:wt,enumerable:!0,configurable:!0,writable:!0}):Et[yt]=wt,Et}function xt(Et,yt){var wt=Object.keys(Et);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(Et);yt&&(Ct=Ct.filter(function(Rt){return Object.getOwnPropertyDescriptor(Et,Rt).enumerable})),wt.push.apply(wt,Ct)}return wt}function _t(Et){for(var yt=1;yt<arguments.length;yt++){var wt=arguments[yt]!=null?arguments[yt]:{};yt%2?xt(Object(wt),!0).forEach(function(Ct){mt(Et,Ct,wt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(wt)):xt(Object(wt)).forEach(function(Ct){Object.defineProperty(Et,Ct,Object.getOwnPropertyDescriptor(wt,Ct))})}return Et}function At(Et){return{longitude:Et.getCenter().lng,latitude:Et.getCenter().lat,zoom:Et.getZoom()-1,pitch:0,bearing:0}}function gt(Et){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var wt,Ct=ht(Et);if(yt){var Rt=ht(this).constructor;wt=Reflect.construct(Ct,arguments,Rt)}else wt=Ct.apply(this,arguments);return dt(this,wt)}}var vt=function(Et){(function(It,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function");It.prototype=Object.create($t&&$t.prototype,{constructor:{value:It,writable:!0,configurable:!0}}),$t&&ut(It,$t)})(Rt,Et);var yt,wt,Ct=gt(Rt);function Rt(It){var $t;return function(Ft,Bt){if(!(Ft instanceof Bt))throw new TypeError("Cannot call a class as a function")}(this,Rt),mt(lt($t=Ct.call(this)),"_container",void 0),mt(lt($t),"_deck",void 0),mt(lt($t),"_animate",void 0),$t.props=It,$t}return yt=Rt,(wt=[{key:"onAdd",value:function(){return this._container=ot.DomUtil.create("div"),this._container.className="leaflet-layer",this._zoomAnimated&&ot.DomUtil.addClass(this._container,"leaflet-zoom-animated"),this.getPane().appendChild(this._container),this._deck=function(It,$t,Ft,Bt){if(!Ft){var Nt=At(It);Ft=new it.Deck(_t(_t({},Bt),{},{parent:$t,controller:!1,style:{zIndex:"auto"},viewState:Nt}))}return Ft}(this._map,this._container,this._deck,this.props),this._update(),this}},{key:"onRemove",value:function(It){return ot.DomUtil.remove(this._container),this._container=void 0,this._deck.finalize(),this._deck=void 0,this}},{key:"getEvents",value:function(){var It={viewreset:this._reset,movestart:this._onMoveStart,moveend:this._onMoveEnd,zoomstart:this._onZoomStart,zoom:this._onZoom,zoomend:this._onZoomEnd};return this._zoomAnimated&&(It.zoomanim=this._onAnimZoom),It}},{key:"setProps",value:function(It){Object.assign(this.props,It),this._deck&&this._deck.setProps(It)}},{key:"pickObject",value:function(It){return this._deck&&this._deck.pickObject(It)}},{key:"pickMultipleObjects",value:function(It){return this._deck&&this._deck.pickMultipleObjects(It)}},{key:"pickObjects",value:function(It){return this._deck&&this._deck.pickObjects(It)}},{key:"_update",value:function(){if(!this._map._animatingZoom){var It=this._map.getSize();this._container.style.width="".concat(It.x,"px"),this._container.style.height="".concat(It.y,"px");var $t,Ft,Bt,Nt=this._map._getMapPanePos().multiplyBy(-1);ot.DomUtil.setPosition(this._container,Nt),$t=this._deck,Ft=this._map,Bt=At(Ft),$t.setProps({viewState:Bt}),$t.redraw(!1)}}},{key:"_pauseAnimation",value:function(){this._deck.props._animate&&(this._animate=this._deck.props._animate,this._deck.setProps({_animate:!1}))}},{key:"_unpauseAnimation",value:function(){this._animate&&(this._deck.setProps({_animate:this._animate}),this._animate=void 0)}},{key:"_reset",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom()),this._update()}},{key:"_onMoveStart",value:function(){this._pauseAnimation()}},{key:"_onMoveEnd",value:function(){this._update(),this._unpauseAnimation()}},{key:"_onZoomStart",value:function(){this._pauseAnimation()}},{key:"_onAnimZoom",value:function(It){this._updateTransform(It.center,It.zoom)}},{key:"_onZoom",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())}},{key:"_onZoomEnd",value:function(){this._unpauseAnimation()}},{key:"_updateTransform",value:function(It,$t){var Ft=this._map.getZoomScale($t,this._map.getZoom()),Bt=ot.DomUtil.getPosition(this._container),Nt=this._map.getSize().multiplyBy(.5),Xt=this._map.project(this._map.getCenter(),$t),nn=this._map.project(It,$t).subtract(Xt),sn=Nt.multiplyBy(-Ft).add(Bt).add(Nt).subtract(nn);ot.Browser.any3d?ot.DomUtil.setTransform(this._container,sn,Ft):ot.DomUtil.setPosition(this._container,sn)}}])&&at(yt.prototype,wt),Rt}(ot.Layer);nt.LeafletLayer=vt,Object.defineProperty(nt,"__esModule",{value:!0})})})(deck_glLeaflet_min,deck_glLeaflet_min.exports);var deck_glLeaflet_minExports=deck_glLeaflet_min.exports;const BORDER_COLORS={a:"#ffff00",b:"#cecece",c:"#cecece",d:"#cecece",e:"#ffff00",f:"#ffff00",g:"white",h:"#ff0000",i:"#cecece",j:"#cecece",k:"#cecece",l:"red",m:"red",n:"white",o:"#1016cc",p:"#cecece",q:"#cecece",r:"#cecece",s:"white",t:"#cecece",u:"#cecece",v:"#cecece",w:"#cecece",x:"#cecece",y:"#cecece",z:"#cecece",aa:"#ffff00",bb:"#ffff00",hh:"red",ii:"red",pa:"#cecece",pb:"#cecece",pc:"#cecece",pd:"#cecece",me:"#cecece",mf:"#cecece",mg:"#cecece",mh:"#cecece",gi:"#cecece",gj:"#cecece",gk:"#cecece",gl:"#cecece",bm:"#cecece",bn:"#cecece",bo:"#cecece",bp:"#cecece",nq:"#cecece",nr:"#cecece",ns:"#cecece",nt:"#cecece",fu:"#cecece",fv:"#cecece",fw:"#cecece",fx:"#cecece",ss:"blue",tt:"blue",uu:"wihte",oo:"blue",pp:"blue"},POLYGON_COLORS={a:"#33a02c",b:"#cecece",c:"white",d:"#ffff00",h:"#33a02c",i:"#99cccc",j:"white",k:"#ff0000",n:"red",o:"#33a02c",p:"#99cccc",g:"#ffff00",q:"white",r:"#1016cc",s:"white",t:"white",u:"white",v:"white",w:"white",x:"white",y:"white",z:"white",aa:"#ffff00",bb:"#ffff00",hh:"red",ii:"red",pa:"white",pb:"white",pc:"white",pd:"white",me:"white",mf:"white",mg:"white",mh:"white",gi:"white",gj:"white",gk:"white",gl:"white",bm:"white",bn:"white",bo:"white",bp:"white",nq:"white",nr:"white",ns:"white",nt:"white",fu:"white",fv:"white",fw:"white",fx:"#52fa6c",uu:"blue",oo:"blue",pp:"blue"};function bind(tt,et){return function(){return tt.apply(et,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,kindOf=(tt=>et=>{const nt=toString.call(et);return tt[nt]||(tt[nt]=nt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=tt=>(tt=tt.toLowerCase(),et=>kindOf(et)===tt),typeOfTest=tt=>et=>typeof et===tt,{isArray:isArray$5}=Array,isUndefined=typeOfTest("undefined");function isBuffer$3(tt){return tt!==null&&!isUndefined(tt)&&tt.constructor!==null&&!isUndefined(tt.constructor)&&isFunction$4(tt.constructor.isBuffer)&&tt.constructor.isBuffer(tt)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(tt){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(tt):et=tt&&tt.buffer&&isArrayBuffer(tt.buffer),et}const isString=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$6=tt=>tt!==null&&typeof tt=="object",isBoolean=tt=>tt===!0||tt===!1,isPlainObject=tt=>{if(kindOf(tt)!=="object")return!1;const et=getPrototypeOf$2(tt);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in tt)&&!(Symbol.iterator in tt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=tt=>isObject$6(tt)&&isFunction$4(tt.pipe),isFormData=tt=>{let et;return tt&&(typeof FormData=="function"&&tt instanceof FormData||isFunction$4(tt.append)&&((et=kindOf(tt))==="formdata"||et==="object"&&isFunction$4(tt.toString)&&tt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=tt=>tt.trim?tt.trim():tt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(tt,et,{allOwnKeys:nt=!1}={}){if(tt===null||typeof tt>"u")return;let rt,it;if(typeof tt!="object"&&(tt=[tt]),isArray$5(tt))for(rt=0,it=tt.length;rt<it;rt++)et.call(null,tt[rt],rt,tt);else{const st=nt?Object.getOwnPropertyNames(tt):Object.keys(tt),ot=st.length;let at;for(rt=0;rt<ot;rt++)at=st[rt],et.call(null,tt[at],at,tt)}}function findKey(tt,et){et=et.toLowerCase();const nt=Object.keys(tt);let rt=nt.length,it;for(;rt-- >0;)if(it=nt[rt],et===it.toLowerCase())return it;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=tt=>!isUndefined(tt)&&tt!==_global;function merge(){const{caseless:tt}=isContextDefined(this)&&this||{},et={},nt=(rt,it)=>{const st=tt&&findKey(et,it)||it;isPlainObject(et[st])&&isPlainObject(rt)?et[st]=merge(et[st],rt):isPlainObject(rt)?et[st]=merge({},rt):isArray$5(rt)?et[st]=rt.slice():et[st]=rt};for(let rt=0,it=arguments.length;rt<it;rt++)arguments[rt]&&forEach(arguments[rt],nt);return et}const extend$4=(tt,et,nt,{allOwnKeys:rt}={})=>(forEach(et,(it,st)=>{nt&&isFunction$4(it)?tt[st]=bind(it,nt):tt[st]=it},{allOwnKeys:rt}),tt),stripBOM=tt=>(tt.charCodeAt(0)===65279&&(tt=tt.slice(1)),tt),inherits=(tt,et,nt,rt)=>{tt.prototype=Object.create(et.prototype,rt),tt.prototype.constructor=tt,Object.defineProperty(tt,"super",{value:et.prototype}),nt&&Object.assign(tt.prototype,nt)},toFlatObject=(tt,et,nt,rt)=>{let it,st,ot;const at={};if(et=et||{},tt==null)return et;do{for(it=Object.getOwnPropertyNames(tt),st=it.length;st-- >0;)ot=it[st],(!rt||rt(ot,tt,et))&&!at[ot]&&(et[ot]=tt[ot],at[ot]=!0);tt=nt!==!1&&getPrototypeOf$2(tt)}while(tt&&(!nt||nt(tt,et))&&tt!==Object.prototype);return et},endsWith=(tt,et,nt)=>{tt=String(tt),(nt===void 0||nt>tt.length)&&(nt=tt.length),nt-=et.length;const rt=tt.indexOf(et,nt);return rt!==-1&&rt===nt},toArray$1=tt=>{if(!tt)return null;if(isArray$5(tt))return tt;let et=tt.length;if(!isNumber(et))return null;const nt=new Array(et);for(;et-- >0;)nt[et]=tt[et];return nt},isTypedArray$3=(tt=>et=>tt&&et instanceof tt)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(tt,et)=>{const rt=(tt&&tt[Symbol.iterator]).call(tt);let it;for(;(it=rt.next())&&!it.done;){const st=it.value;et.call(tt,st[0],st[1])}},matchAll=(tt,et)=>{let nt;const rt=[];for(;(nt=tt.exec(et))!==null;)rt.push(nt);return rt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=tt=>tt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(nt,rt,it){return rt.toUpperCase()+it}),hasOwnProperty$9=(({hasOwnProperty:tt})=>(et,nt)=>tt.call(et,nt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(tt,et)=>{const nt=Object.getOwnPropertyDescriptors(tt),rt={};forEach(nt,(it,st)=>{et(it,st,tt)!==!1&&(rt[st]=it)}),Object.defineProperties(tt,rt)},freezeMethods=tt=>{reduceDescriptors(tt,(et,nt)=>{if(isFunction$4(tt)&&["arguments","caller","callee"].indexOf(nt)!==-1)return!1;const rt=tt[nt];if(isFunction$4(rt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+nt+"'")})}})},toObjectSet=(tt,et)=>{const nt={},rt=it=>{it.forEach(st=>{nt[st]=!0})};return isArray$5(tt)?rt(tt):rt(String(tt).split(et)),nt},noop=()=>{},toFiniteNumber=(tt,et)=>(tt=+tt,Number.isFinite(tt)?tt:et),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(tt=16,et=ALPHABET.ALPHA_DIGIT)=>{let nt="";const{length:rt}=et;for(;tt--;)nt+=et[Math.random()*rt|0];return nt};function isSpecCompliantForm(tt){return!!(tt&&isFunction$4(tt.append)&&tt[Symbol.toStringTag]==="FormData"&&tt[Symbol.iterator])}const toJSONObject=tt=>{const et=new Array(10),nt=(rt,it)=>{if(isObject$6(rt)){if(et.indexOf(rt)>=0)return;if(!("toJSON"in rt)){et[it]=rt;const st=isArray$5(rt)?[]:{};return forEach(rt,(ot,at)=>{const lt=nt(ot,it+1);!isUndefined(lt)&&(st[at]=lt)}),et[it]=void 0,st}}return rt};return nt(tt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=tt=>tt&&(isObject$6(tt)||isFunction$4(tt))&&isFunction$4(tt.then)&&isFunction$4(tt.catch),utils={isArray:isArray$5,isArrayBuffer,isBuffer:isBuffer$3,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$6,isPlainObject,isUndefined,isDate,isFile,isBlob:isBlob$1,isRegExp,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray:isTypedArray$3,isFileList,forEach,merge,extend:extend$4,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$9,hasOwnProp:hasOwnProperty$9,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(tt,et,nt,rt,it){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tt,this.name="AxiosError",et&&(this.code=et),nt&&(this.config=nt),rt&&(this.request=rt),it&&(this.response=it)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tt=>{descriptors[tt]={value:tt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(tt,et,nt,rt,it,st)=>{const ot=Object.create(prototype$1);return utils.toFlatObject(tt,ot,function(lt){return lt!==Error.prototype},at=>at!=="isAxiosError"),AxiosError.call(ot,tt.message,et,nt,rt,it),ot.cause=tt,ot.name=tt.name,st&&Object.assign(ot,st),ot};const httpAdapter=null;function isVisitable(tt){return utils.isPlainObject(tt)||utils.isArray(tt)}function removeBrackets(tt){return utils.endsWith(tt,"[]")?tt.slice(0,-2):tt}function renderKey(tt,et,nt){return tt?tt.concat(et).map(function(it,st){return it=removeBrackets(it),!nt&&st?"["+it+"]":it}).join(nt?".":""):et}function isFlatArray(tt){return utils.isArray(tt)&&!tt.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(et){return/^is[A-Z]/.test(et)});function toFormData(tt,et,nt){if(!utils.isObject(tt))throw new TypeError("target must be an object");et=et||new FormData,nt=utils.toFlatObject(nt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_t,At){return!utils.isUndefined(At[_t])});const rt=nt.metaTokens,it=nt.visitor||ft,st=nt.dots,ot=nt.indexes,lt=(nt.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(et);if(!utils.isFunction(it))throw new TypeError("visitor must be a function");function ut(xt){if(xt===null)return"";if(utils.isDate(xt))return xt.toISOString();if(!lt&&utils.isBlob(xt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(xt)||utils.isTypedArray(xt)?lt&&typeof Blob=="function"?new Blob([xt]):Buffer.from(xt):xt}function ft(xt,_t,At){let gt=xt;if(xt&&!At&&typeof xt=="object"){if(utils.endsWith(_t,"{}"))_t=rt?_t:_t.slice(0,-2),xt=JSON.stringify(xt);else if(utils.isArray(xt)&&isFlatArray(xt)||(utils.isFileList(xt)||utils.endsWith(_t,"[]"))&&(gt=utils.toArray(xt)))return _t=removeBrackets(_t),gt.forEach(function(Et,yt){!(utils.isUndefined(Et)||Et===null)&&et.append(ot===!0?renderKey([_t],yt,st):ot===null?_t:_t+"[]",ut(Et))}),!1}return isVisitable(xt)?!0:(et.append(renderKey(At,_t,st),ut(xt)),!1)}const dt=[],ht=Object.assign(predicates,{defaultVisitor:ft,convertValue:ut,isVisitable});function mt(xt,_t){if(!utils.isUndefined(xt)){if(dt.indexOf(xt)!==-1)throw Error("Circular reference detected in "+_t.join("."));dt.push(xt),utils.forEach(xt,function(gt,vt){(!(utils.isUndefined(gt)||gt===null)&&it.call(et,gt,utils.isString(vt)?vt.trim():vt,_t,ht))===!0&&mt(gt,_t?_t.concat(vt):[vt])}),dt.pop()}}if(!utils.isObject(tt))throw new TypeError("data must be an object");return mt(tt),et}function encode$1(tt){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tt).replace(/[!'()~]|%20|%00/g,function(rt){return et[rt]})}function AxiosURLSearchParams(tt,et){this._pairs=[],tt&&toFormData(tt,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(et,nt){this._pairs.push([et,nt])};prototype.toString=function(et){const nt=et?function(rt){return et.call(this,rt,encode$1)}:encode$1;return this._pairs.map(function(it){return nt(it[0])+"="+nt(it[1])},"").join("&")};function encode(tt){return encodeURIComponent(tt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(tt,et,nt){if(!et)return tt;const rt=nt&&nt.encode||encode,it=nt&&nt.serialize;let st;if(it?st=it(et,nt):st=utils.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,nt).toString(rt),st){const ot=tt.indexOf("#");ot!==-1&&(tt=tt.slice(0,ot)),tt+=(tt.indexOf("?")===-1?"?":"&")+st}return tt}class InterceptorManager{constructor(){this.handlers=[]}use(et,nt,rt){return this.handlers.push({fulfilled:et,rejected:nt,synchronous:rt?rt.synchronous:!1,runWhen:rt?rt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils.forEach(this.handlers,function(rt){rt!==null&&et(rt)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let tt;return typeof navigator<"u"&&((tt=navigator.product)==="ReactNative"||tt==="NativeScript"||tt==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(tt,et){return toFormData(tt,new platform.classes.URLSearchParams,Object.assign({visitor:function(nt,rt,it,st){return platform.isNode&&utils.isBuffer(nt)?(this.append(rt,nt.toString("base64")),!1):st.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(tt){return utils.matchAll(/\w+|\[(\w*)]/g,tt).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(tt){const et={},nt=Object.keys(tt);let rt;const it=nt.length;let st;for(rt=0;rt<it;rt++)st=nt[rt],et[st]=tt[st];return et}function formDataToJSON(tt){function et(nt,rt,it,st){let ot=nt[st++];const at=Number.isFinite(+ot),lt=st>=nt.length;return ot=!ot&&utils.isArray(it)?it.length:ot,lt?(utils.hasOwnProp(it,ot)?it[ot]=[it[ot],rt]:it[ot]=rt,!at):((!it[ot]||!utils.isObject(it[ot]))&&(it[ot]=[]),et(nt,rt,it[ot],st)&&utils.isArray(it[ot])&&(it[ot]=arrayToObject(it[ot])),!at)}if(utils.isFormData(tt)&&utils.isFunction(tt.entries)){const nt={};return utils.forEachEntry(tt,(rt,it)=>{et(parsePropPath(rt),it,nt,0)}),nt}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(tt,et,nt){if(utils.isString(tt))try{return(et||JSON.parse)(tt),utils.trim(tt)}catch(rt){if(rt.name!=="SyntaxError")throw rt}return(nt||JSON.stringify)(tt)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(et,nt){const rt=nt.getContentType()||"",it=rt.indexOf("application/json")>-1,st=utils.isObject(et);if(st&&utils.isHTMLForm(et)&&(et=new FormData(et)),utils.isFormData(et))return it&&it?JSON.stringify(formDataToJSON(et)):et;if(utils.isArrayBuffer(et)||utils.isBuffer(et)||utils.isStream(et)||utils.isFile(et)||utils.isBlob(et))return et;if(utils.isArrayBufferView(et))return et.buffer;if(utils.isURLSearchParams(et))return nt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let at;if(st){if(rt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((at=utils.isFileList(et))||rt.indexOf("multipart/form-data")>-1){const lt=this.env&&this.env.FormData;return toFormData(at?{"files[]":et}:et,lt&&new lt,this.formSerializer)}}return st||it?(nt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function(et){const nt=this.transitional||defaults$1.transitional,rt=nt&&nt.forcedJSONParsing,it=this.responseType==="json";if(et&&utils.isString(et)&&(rt&&!this.responseType||it)){const ot=!(nt&&nt.silentJSONParsing)&&it;try{return JSON.parse(et)}catch(at){if(ot)throw at.name==="SyntaxError"?AxiosError.from(at,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):at}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(et){defaults$1.headers[et]={}});utils.forEach(["post","put","patch"],function(et){defaults$1.headers[et]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=tt=>{const et={};let nt,rt,it;return tt&&tt.split(`
`).forEach(function(ot){it=ot.indexOf(":"),nt=ot.substring(0,it).trim().toLowerCase(),rt=ot.substring(it+1).trim(),!(!nt||et[nt]&&ignoreDuplicateOf[nt])&&(nt==="set-cookie"?et[nt]?et[nt].push(rt):et[nt]=[rt]:et[nt]=et[nt]?et[nt]+", "+rt:rt)}),et},$internals=Symbol("internals");function normalizeHeader(tt){return tt&&String(tt).trim().toLowerCase()}function normalizeValue(tt){return tt===!1||tt==null?tt:utils.isArray(tt)?tt.map(normalizeValue):String(tt)}function parseTokens(tt){const et=Object.create(null),nt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let rt;for(;rt=nt.exec(tt);)et[rt[1]]=rt[2];return et}const isValidHeaderName=tt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(tt.trim());function matchHeaderValue(tt,et,nt,rt,it){if(utils.isFunction(rt))return rt.call(this,et,nt);if(it&&(et=nt),!!utils.isString(et)){if(utils.isString(rt))return et.indexOf(rt)!==-1;if(utils.isRegExp(rt))return rt.test(et)}}function formatHeader(tt){return tt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,nt,rt)=>nt.toUpperCase()+rt)}function buildAccessors(tt,et){const nt=utils.toCamelCase(" "+et);["get","set","has"].forEach(rt=>{Object.defineProperty(tt,rt+nt,{value:function(it,st,ot){return this[rt].call(this,et,it,st,ot)},configurable:!0})})}class AxiosHeaders{constructor(et){et&&this.set(et)}set(et,nt,rt){const it=this;function st(at,lt,ut){const ft=normalizeHeader(lt);if(!ft)throw new Error("header name must be a non-empty string");const dt=utils.findKey(it,ft);(!dt||it[dt]===void 0||ut===!0||ut===void 0&&it[dt]!==!1)&&(it[dt||lt]=normalizeValue(at))}const ot=(at,lt)=>utils.forEach(at,(ut,ft)=>st(ut,ft,lt));return utils.isPlainObject(et)||et instanceof this.constructor?ot(et,nt):utils.isString(et)&&(et=et.trim())&&!isValidHeaderName(et)?ot(parseHeaders(et),nt):et!=null&&st(nt,et,rt),this}get(et,nt){if(et=normalizeHeader(et),et){const rt=utils.findKey(this,et);if(rt){const it=this[rt];if(!nt)return it;if(nt===!0)return parseTokens(it);if(utils.isFunction(nt))return nt.call(this,it,rt);if(utils.isRegExp(nt))return nt.exec(it);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,nt){if(et=normalizeHeader(et),et){const rt=utils.findKey(this,et);return!!(rt&&this[rt]!==void 0&&(!nt||matchHeaderValue(this,this[rt],rt,nt)))}return!1}delete(et,nt){const rt=this;let it=!1;function st(ot){if(ot=normalizeHeader(ot),ot){const at=utils.findKey(rt,ot);at&&(!nt||matchHeaderValue(rt,rt[at],at,nt))&&(delete rt[at],it=!0)}}return utils.isArray(et)?et.forEach(st):st(et),it}clear(et){const nt=Object.keys(this);let rt=nt.length,it=!1;for(;rt--;){const st=nt[rt];(!et||matchHeaderValue(this,this[st],st,et,!0))&&(delete this[st],it=!0)}return it}normalize(et){const nt=this,rt={};return utils.forEach(this,(it,st)=>{const ot=utils.findKey(rt,st);if(ot){nt[ot]=normalizeValue(it),delete nt[st];return}const at=et?formatHeader(st):String(st).trim();at!==st&&delete nt[st],nt[at]=normalizeValue(it),rt[at]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const nt=Object.create(null);return utils.forEach(this,(rt,it)=>{rt!=null&&rt!==!1&&(nt[it]=et&&utils.isArray(rt)?rt.join(", "):rt)}),nt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,nt])=>et+": "+nt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...nt){const rt=new this(et);return nt.forEach(it=>rt.set(it)),rt}static accessor(et){const rt=(this[$internals]=this[$internals]={accessors:{}}).accessors,it=this.prototype;function st(ot){const at=normalizeHeader(ot);rt[at]||(buildAccessors(it,ot),rt[at]=!0)}return utils.isArray(et)?et.forEach(st):st(et),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(tt,et){const nt=this||defaults$2,rt=et||nt,it=AxiosHeaders$1.from(rt.headers);let st=rt.data;return utils.forEach(tt,function(at){st=at.call(nt,st,it.normalize(),et?et.status:void 0)}),it.normalize(),st}function isCancel(tt){return!!(tt&&tt.__CANCEL__)}function CanceledError(tt,et,nt){AxiosError.call(this,tt??"canceled",AxiosError.ERR_CANCELED,et,nt),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(tt,et,nt){const rt=nt.config.validateStatus;!nt.status||!rt||rt(nt.status)?tt(nt):et(new AxiosError("Request failed with status code "+nt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(nt.status/100)-4],nt.config,nt.request,nt))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(nt,rt,it,st,ot,at){const lt=[];lt.push(nt+"="+encodeURIComponent(rt)),utils.isNumber(it)&&lt.push("expires="+new Date(it).toGMTString()),utils.isString(st)&&lt.push("path="+st),utils.isString(ot)&&lt.push("domain="+ot),at===!0&&lt.push("secure"),document.cookie=lt.join("; ")},read:function(nt){const rt=document.cookie.match(new RegExp("(^|;\\s*)("+nt+")=([^;]*)"));return rt?decodeURIComponent(rt[3]):null},remove:function(nt){this.write(nt,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(tt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(tt)}function combineURLs(tt,et){return et?tt.replace(/\/+$/,"")+"/"+et.replace(/^\/+/,""):tt}function buildFullPath(tt,et){return tt&&!isAbsoluteURL(et)?combineURLs(tt,et):et}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const et=/(msie|trident)/i.test(navigator.userAgent),nt=document.createElement("a");let rt;function it(st){let ot=st;return et&&(nt.setAttribute("href",ot),ot=nt.href),nt.setAttribute("href",ot),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:nt.pathname.charAt(0)==="/"?nt.pathname:"/"+nt.pathname}}return rt=it(window.location.href),function(ot){const at=utils.isString(ot)?it(ot):ot;return at.protocol===rt.protocol&&at.host===rt.host}}():function(){return function(){return!0}}();function parseProtocol(tt){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(tt);return et&&et[1]||""}function speedometer(tt,et){tt=tt||10;const nt=new Array(tt),rt=new Array(tt);let it=0,st=0,ot;return et=et!==void 0?et:1e3,function(lt){const ut=Date.now(),ft=rt[st];ot||(ot=ut),nt[it]=lt,rt[it]=ut;let dt=st,ht=0;for(;dt!==it;)ht+=nt[dt++],dt=dt%tt;if(it=(it+1)%tt,it===st&&(st=(st+1)%tt),ut-ot<et)return;const mt=ft&&ut-ft;return mt?Math.round(ht*1e3/mt):void 0}}function progressEventReducer(tt,et){let nt=0;const rt=speedometer(50,250);return it=>{const st=it.loaded,ot=it.lengthComputable?it.total:void 0,at=st-nt,lt=rt(at),ut=st<=ot;nt=st;const ft={loaded:st,total:ot,progress:ot?st/ot:void 0,bytes:at,rate:lt||void 0,estimated:lt&&ot&&ut?(ot-st)/lt:void 0,event:it};ft[et?"download":"upload"]=!0,tt(ft)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(tt){return new Promise(function(nt,rt){let it=tt.data;const st=AxiosHeaders$1.from(tt.headers).normalize(),ot=tt.responseType;let at;function lt(){tt.cancelToken&&tt.cancelToken.unsubscribe(at),tt.signal&&tt.signal.removeEventListener("abort",at)}utils.isFormData(it)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?st.setContentType(!1):st.setContentType("multipart/form-data;",!1));let ut=new XMLHttpRequest;if(tt.auth){const mt=tt.auth.username||"",xt=tt.auth.password?unescape(encodeURIComponent(tt.auth.password)):"";st.set("Authorization","Basic "+btoa(mt+":"+xt))}const ft=buildFullPath(tt.baseURL,tt.url);ut.open(tt.method.toUpperCase(),buildURL(ft,tt.params,tt.paramsSerializer),!0),ut.timeout=tt.timeout;function dt(){if(!ut)return;const mt=AxiosHeaders$1.from("getAllResponseHeaders"in ut&&ut.getAllResponseHeaders()),_t={data:!ot||ot==="text"||ot==="json"?ut.responseText:ut.response,status:ut.status,statusText:ut.statusText,headers:mt,config:tt,request:ut};settle(function(gt){nt(gt),lt()},function(gt){rt(gt),lt()},_t),ut=null}if("onloadend"in ut?ut.onloadend=dt:ut.onreadystatechange=function(){!ut||ut.readyState!==4||ut.status===0&&!(ut.responseURL&&ut.responseURL.indexOf("file:")===0)||setTimeout(dt)},ut.onabort=function(){ut&&(rt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,tt,ut)),ut=null)},ut.onerror=function(){rt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,tt,ut)),ut=null},ut.ontimeout=function(){let xt=tt.timeout?"timeout of "+tt.timeout+"ms exceeded":"timeout exceeded";const _t=tt.transitional||transitionalDefaults;tt.timeoutErrorMessage&&(xt=tt.timeoutErrorMessage),rt(new AxiosError(xt,_t.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,tt,ut)),ut=null},platform.isStandardBrowserEnv){const mt=(tt.withCredentials||isURLSameOrigin(ft))&&tt.xsrfCookieName&&cookies.read(tt.xsrfCookieName);mt&&st.set(tt.xsrfHeaderName,mt)}it===void 0&&st.setContentType(null),"setRequestHeader"in ut&&utils.forEach(st.toJSON(),function(xt,_t){ut.setRequestHeader(_t,xt)}),utils.isUndefined(tt.withCredentials)||(ut.withCredentials=!!tt.withCredentials),ot&&ot!=="json"&&(ut.responseType=tt.responseType),typeof tt.onDownloadProgress=="function"&&ut.addEventListener("progress",progressEventReducer(tt.onDownloadProgress,!0)),typeof tt.onUploadProgress=="function"&&ut.upload&&ut.upload.addEventListener("progress",progressEventReducer(tt.onUploadProgress)),(tt.cancelToken||tt.signal)&&(at=mt=>{ut&&(rt(!mt||mt.type?new CanceledError(null,tt,ut):mt),ut.abort(),ut=null)},tt.cancelToken&&tt.cancelToken.subscribe(at),tt.signal&&(tt.signal.aborted?at():tt.signal.addEventListener("abort",at)));const ht=parseProtocol(ft);if(ht&&platform.protocols.indexOf(ht)===-1){rt(new AxiosError("Unsupported protocol "+ht+":",AxiosError.ERR_BAD_REQUEST,tt));return}ut.send(it||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(tt,et)=>{if(tt){try{Object.defineProperty(tt,"name",{value:et})}catch{}Object.defineProperty(tt,"adapterName",{value:et})}});const adapters={getAdapter:tt=>{tt=utils.isArray(tt)?tt:[tt];const{length:et}=tt;let nt,rt;for(let it=0;it<et&&(nt=tt[it],!(rt=utils.isString(nt)?knownAdapters[nt.toLowerCase()]:nt));it++);if(!rt)throw rt===!1?new AxiosError(`Adapter ${nt} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,nt)?`Adapter '${nt}' is not available in the build`:`Unknown adapter '${nt}'`);if(!utils.isFunction(rt))throw new TypeError("adapter is not a function");return rt},adapters:knownAdapters};function throwIfCancellationRequested(tt){if(tt.cancelToken&&tt.cancelToken.throwIfRequested(),tt.signal&&tt.signal.aborted)throw new CanceledError(null,tt)}function dispatchRequest(tt){return throwIfCancellationRequested(tt),tt.headers=AxiosHeaders$1.from(tt.headers),tt.data=transformData.call(tt,tt.transformRequest),["post","put","patch"].indexOf(tt.method)!==-1&&tt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(tt.adapter||defaults$2.adapter)(tt).then(function(rt){return throwIfCancellationRequested(tt),rt.data=transformData.call(tt,tt.transformResponse,rt),rt.headers=AxiosHeaders$1.from(rt.headers),rt},function(rt){return isCancel(rt)||(throwIfCancellationRequested(tt),rt&&rt.response&&(rt.response.data=transformData.call(tt,tt.transformResponse,rt.response),rt.response.headers=AxiosHeaders$1.from(rt.response.headers))),Promise.reject(rt)})}const headersToObject=tt=>tt instanceof AxiosHeaders$1?tt.toJSON():tt;function mergeConfig(tt,et){et=et||{};const nt={};function rt(ut,ft,dt){return utils.isPlainObject(ut)&&utils.isPlainObject(ft)?utils.merge.call({caseless:dt},ut,ft):utils.isPlainObject(ft)?utils.merge({},ft):utils.isArray(ft)?ft.slice():ft}function it(ut,ft,dt){if(utils.isUndefined(ft)){if(!utils.isUndefined(ut))return rt(void 0,ut,dt)}else return rt(ut,ft,dt)}function st(ut,ft){if(!utils.isUndefined(ft))return rt(void 0,ft)}function ot(ut,ft){if(utils.isUndefined(ft)){if(!utils.isUndefined(ut))return rt(void 0,ut)}else return rt(void 0,ft)}function at(ut,ft,dt){if(dt in et)return rt(ut,ft);if(dt in tt)return rt(void 0,ut)}const lt={url:st,method:st,data:st,baseURL:ot,transformRequest:ot,transformResponse:ot,paramsSerializer:ot,timeout:ot,timeoutMessage:ot,withCredentials:ot,adapter:ot,responseType:ot,xsrfCookieName:ot,xsrfHeaderName:ot,onUploadProgress:ot,onDownloadProgress:ot,decompress:ot,maxContentLength:ot,maxBodyLength:ot,beforeRedirect:ot,transport:ot,httpAgent:ot,httpsAgent:ot,cancelToken:ot,socketPath:ot,responseEncoding:ot,validateStatus:at,headers:(ut,ft)=>it(headersToObject(ut),headersToObject(ft),!0)};return utils.forEach(Object.keys(Object.assign({},tt,et)),function(ft){const dt=lt[ft]||it,ht=dt(tt[ft],et[ft],ft);utils.isUndefined(ht)&&dt!==at||(nt[ft]=ht)}),nt}const VERSION="1.4.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((tt,et)=>{validators$1[tt]=function(rt){return typeof rt===tt||"a"+(et<1?"n ":" ")+tt}});const deprecatedWarnings={};validators$1.transitional=function(et,nt,rt){function it(st,ot){return"[Axios v"+VERSION+"] Transitional option '"+st+"'"+ot+(rt?". "+rt:"")}return(st,ot,at)=>{if(et===!1)throw new AxiosError(it(ot," has been removed"+(nt?" in "+nt:"")),AxiosError.ERR_DEPRECATED);return nt&&!deprecatedWarnings[ot]&&(deprecatedWarnings[ot]=!0,console.warn(it(ot," has been deprecated since v"+nt+" and will be removed in the near future"))),et?et(st,ot,at):!0}};function assertOptions(tt,et,nt){if(typeof tt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const rt=Object.keys(tt);let it=rt.length;for(;it-- >0;){const st=rt[it],ot=et[st];if(ot){const at=tt[st],lt=at===void 0||ot(at,st,tt);if(lt!==!0)throw new AxiosError("option "+st+" must be "+lt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(nt!==!0)throw new AxiosError("Unknown option "+st,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(et,nt){typeof et=="string"?(nt=nt||{},nt.url=et):nt=et||{},nt=mergeConfig(this.defaults,nt);const{transitional:rt,paramsSerializer:it,headers:st}=nt;rt!==void 0&&validator.assertOptions(rt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),it!=null&&(utils.isFunction(it)?nt.paramsSerializer={serialize:it}:validator.assertOptions(it,{encode:validators.function,serialize:validators.function},!0)),nt.method=(nt.method||this.defaults.method||"get").toLowerCase();let ot;ot=st&&utils.merge(st.common,st[nt.method]),ot&&utils.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete st[xt]}),nt.headers=AxiosHeaders$1.concat(ot,st);const at=[];let lt=!0;this.interceptors.request.forEach(function(_t){typeof _t.runWhen=="function"&&_t.runWhen(nt)===!1||(lt=lt&&_t.synchronous,at.unshift(_t.fulfilled,_t.rejected))});const ut=[];this.interceptors.response.forEach(function(_t){ut.push(_t.fulfilled,_t.rejected)});let ft,dt=0,ht;if(!lt){const xt=[dispatchRequest.bind(this),void 0];for(xt.unshift.apply(xt,at),xt.push.apply(xt,ut),ht=xt.length,ft=Promise.resolve(nt);dt<ht;)ft=ft.then(xt[dt++],xt[dt++]);return ft}ht=at.length;let mt=nt;for(dt=0;dt<ht;){const xt=at[dt++],_t=at[dt++];try{mt=xt(mt)}catch(At){_t.call(this,At);break}}try{ft=dispatchRequest.call(this,mt)}catch(xt){return Promise.reject(xt)}for(dt=0,ht=ut.length;dt<ht;)ft=ft.then(ut[dt++],ut[dt++]);return ft}getUri(et){et=mergeConfig(this.defaults,et);const nt=buildFullPath(et.baseURL,et.url);return buildURL(nt,et.params,et.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(et){Axios.prototype[et]=function(nt,rt){return this.request(mergeConfig(rt||{},{method:et,url:nt,data:(rt||{}).data}))}});utils.forEach(["post","put","patch"],function(et){function nt(rt){return function(st,ot,at){return this.request(mergeConfig(at||{},{method:et,headers:rt?{"Content-Type":"multipart/form-data"}:{},url:st,data:ot}))}}Axios.prototype[et]=nt(),Axios.prototype[et+"Form"]=nt(!0)});const Axios$1=Axios;class CancelToken{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let nt;this.promise=new Promise(function(st){nt=st});const rt=this;this.promise.then(it=>{if(!rt._listeners)return;let st=rt._listeners.length;for(;st-- >0;)rt._listeners[st](it);rt._listeners=null}),this.promise.then=it=>{let st;const ot=new Promise(at=>{rt.subscribe(at),st=at}).then(it);return ot.cancel=function(){rt.unsubscribe(st)},ot},et(function(st,ot,at){rt.reason||(rt.reason=new CanceledError(st,ot,at),nt(rt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const nt=this._listeners.indexOf(et);nt!==-1&&this._listeners.splice(nt,1)}static source(){let et;return{token:new CancelToken(function(it){et=it}),cancel:et}}}const CancelToken$1=CancelToken;function spread(tt){return function(nt){return tt.apply(null,nt)}}function isAxiosError(tt){return utils.isObject(tt)&&tt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([tt,et])=>{HttpStatusCode[et]=tt});const HttpStatusCode$1=HttpStatusCode;function createInstance(tt){const et=new Axios$1(tt),nt=bind(Axios$1.prototype.request,et);return utils.extend(nt,Axios$1.prototype,et,{allOwnKeys:!0}),utils.extend(nt,et,null,{allOwnKeys:!0}),nt.create=function(it){return createInstance(mergeConfig(tt,it))},nt}const axios$1=createInstance(defaults$2);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel;axios$1.VERSION=VERSION;axios$1.toFormData=toFormData;axios$1.AxiosError=AxiosError;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(et){return Promise.all(et)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$1.mergeConfig=mergeConfig;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=tt=>formDataToJSON(utils.isHTMLForm(tt)?new FormData(tt):tt);axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const axios$2=axios$1;function setItem(tt,et){localStorage.setItem(tt,JSON.stringify(et))}function removeItem(tt){localStorage.removeItem(tt)}function getItem(tt){try{return JSON.parse(localStorage.getItem(tt))}catch{return{}}}function useRequest(){const tt="https://api.rgb.irpsc.com/api/",et=getItem("user"),nt={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"};function rt(it,st="GET",ot={},at={}){return axios$2.request({url:tt+it,method:st,headers:{Authorization:et!=null&&et.token?`Bearer ${et==null?void 0:et.token}`:null,...at},data:ot})}return{Request:rt,HTTP_METHOD:nt}}const MapPolygons=reactExports.memo(()=>{const[tt,et]=reactExports.useState([]),[nt,rt]=reactExports.useState(15),[it,st]=reactExports.useState(null),{Request:ot}=useRequest(),at=useNavigate(),lt=useMapEvents({zoomend:()=>{rt(lt.getZoom())},moveend:()=>{nt>=16&&st(lt.getBounds())}});return reactExports.useEffect(()=>{window.Echo.channel("feature-status").listen(".feature-status-changed",ut=>{const ft=[];for(const dt of tt)parseInt(dt.id)===parseInt(ut.data.id)&&(dt.rgb=ut.data.rgb),ft.push(dt);et(ft)})},[tt]),reactExports.useEffect(()=>{it&&ot(`features?points[]=${it.getSouthWest().lng},${it.getSouthWest().lat}&points[]=${it.getSouthEast().lng},${it.getSouthEast().lat}&points[]=${it.getNorthWest().lng},${it.getNorthWest().lat}&points[]=${it.getNorthEast().lng},${it.getNorthEast().lat}`).then(ut=>{var dt,ht,mt,xt;const ft=[];for(const _t of(dt=ut==null?void 0:ut.data)==null?void 0:dt.data)ft.push({id:(ht=_t==null?void 0:_t.geometry)==null?void 0:ht.feature_id,rgb:(mt=_t==null?void 0:_t.properties)==null?void 0:mt.rgb,coordinates:(xt=_t==null?void 0:_t.geometry)==null?void 0:xt.coordinates.map(At=>[At.y,At.x])});et(ft)})},[it]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt>=17&&tt.map(ut=>jsxRuntimeExports.jsx(Polygon,{eventHandlers:{click:()=>at(`/metaverse/feature/${ut.id}`)},pathOptions:{color:BORDER_COLORS[ut.rgb],fillColor:POLYGON_COLORS[ut.rgb],fillOpacity:.5},positions:ut.coordinates},ut.id))})}),UserContextTypes={ADD_USER:"ADD_USER",DELETE_USER:"DELETE_USER"},AddUserAction=tt=>({type:UserContextTypes.ADD_USER,payload:{user:tt}}),DeleteUserAction=()=>({type:UserContextTypes.DELETE_USER,payload:{}}),FollowContext=reactExports.createContext({});function FollowProvider({children:tt}){const[et,nt]=reactExports.useState([]),{Request:rt}=useRequest();return reactExports.useEffect(()=>{if(!tt)throw Error("You must use FollowProvider provider ...");et.length===0&&rt("following").then(it=>{nt(it.data.data)}),window.Echo.channel("user-status").listen(".user-status-changed",it=>{let st=[];et.forEach(ot=>{ot.id===it.data.id?st.push({...ot,online:it.data.online}):st.push(ot)}),nt(st)})},[tt,et.length]),jsxRuntimeExports.jsx(FollowContext.Provider,{value:[et,nt],children:tt})}const UserContext=reactExports.createContext({}),reducer$1=(tt,et)=>{var nt;switch(et.type){case UserContextTypes.ADD_USER:return(nt=et==null?void 0:et.payload)==null?void 0:nt.user;default:return tt}};function UserProvider({children:tt}){const[et,nt]=reactExports.useReducer(reducer$1,{});return reactExports.useEffect(()=>{if(!tt)throw Error("You must use UserContext provider ...")},[tt]),jsxRuntimeExports.jsx(UserContext.Provider,{value:[et,nt],children:tt})}const WalletContext=reactExports.createContext({}),WalletContextTypes={ADD_WALLET:"ADD_WALLET"},reducer=(tt,et)=>{switch(et.type){case WalletContextTypes.ADD_WALLET:return et.payload;default:return tt}};function WalletProvider({children:tt}){const[et,nt]=reactExports.useReducer(reducer,{});return reactExports.useEffect(()=>{if(!tt)throw Error("You must use WalletContext provider ...")},[tt]),jsxRuntimeExports.jsx(WalletContext.Provider,{value:[et,nt],children:tt})}function useAuth(){const[tt,et]=reactExports.useContext(UserContext),[,nt]=reactExports.useContext(WalletContext),[,rt]=reactExports.useContext(FollowContext),{Request:it,HTTP_METHOD:st}=useRequest();return{setUser:ft=>{const dt=ft.data,ht=Date.now()+dt.automatic_logout*60*1e3,mt={token:dt.token,expire:ht};setItem("user",mt),it("user/wallet",st.GET,{},{Authorization:`Bearer ${dt==null?void 0:dt.token}`}).then(xt=>{nt({type:WalletContextTypes.ADD_WALLET,payload:xt.data.data})}),it("following",st.GET,{},{Authorization:`Bearer ${dt==null?void 0:dt.token}`}).then(xt=>{rt(xt.data.data)}),et(AddUserAction(ft.data))},setUserWithToken:()=>{const ft=getItem("user");(ft==null?void 0:ft.expire)>Date.now()&&!(tt!=null&&tt.id)?it("user/profile").then(dt=>{et(AddUserAction(dt.data.data)),it("user/wallet").then(ht=>{nt({type:WalletContextTypes.ADD_WALLET,payload:ht.data.data})}),it("following").then(ht=>{rt(ht.data.data)})}):removeItem("user")},isLoggedIn:()=>{const ft=getItem("user");if((ft==null?void 0:ft.expire)>Date.now()){if(tt!=null&&tt.id)return!0}else return tt.id&&(removeItem("user"),et(DeleteUserAction())),!1},getUser:()=>tt}}function PublicComponent({children:tt}){const{getUser:et}=useAuth(),[nt,rt]=reactExports.useState();return reactExports.useEffect(()=>{rt(et())},[et]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt!=null&&nt.id?jsxRuntimeExports.jsx(React$1.Fragment,{}):tt})}function PrivateComponent({children:tt}){const{getUser:et}=useAuth(),[nt,rt]=reactExports.useState();return reactExports.useEffect(()=>{rt(et())},[et]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt!=null&&nt.id?tt:jsxRuntimeExports.jsx(React$1.Fragment,{})})}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(tt,et){return tt.concat([et+"-"+start,et+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(tt,et){return tt.concat([et,et+"-"+start,et+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(tt){return tt?(tt.nodeName||"").toLowerCase():null}function getWindow$1(tt){if(tt==null)return window;if(tt.toString()!=="[object Window]"){var et=tt.ownerDocument;return et&&et.defaultView||window}return tt}function isElement$1(tt){var et=getWindow$1(tt).Element;return tt instanceof et||tt instanceof Element}function isHTMLElement(tt){var et=getWindow$1(tt).HTMLElement;return tt instanceof et||tt instanceof HTMLElement}function isShadowRoot(tt){if(typeof ShadowRoot>"u")return!1;var et=getWindow$1(tt).ShadowRoot;return tt instanceof et||tt instanceof ShadowRoot}function applyStyles(tt){var et=tt.state;Object.keys(et.elements).forEach(function(nt){var rt=et.styles[nt]||{},it=et.attributes[nt]||{},st=et.elements[nt];!isHTMLElement(st)||!getNodeName(st)||(Object.assign(st.style,rt),Object.keys(it).forEach(function(ot){var at=it[ot];at===!1?st.removeAttribute(ot):st.setAttribute(ot,at===!0?"":at)}))})}function effect$2(tt){var et=tt.state,nt={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,nt.popper),et.styles=nt,et.elements.arrow&&Object.assign(et.elements.arrow.style,nt.arrow),function(){Object.keys(et.elements).forEach(function(rt){var it=et.elements[rt],st=et.attributes[rt]||{},ot=Object.keys(et.styles.hasOwnProperty(rt)?et.styles[rt]:nt[rt]),at=ot.reduce(function(lt,ut){return lt[ut]="",lt},{});!isHTMLElement(it)||!getNodeName(it)||(Object.assign(it.style,at),Object.keys(st).forEach(function(lt){it.removeAttribute(lt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(tt){return tt.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var tt=navigator.userAgentData;return tt!=null&&tt.brands&&Array.isArray(tt.brands)?tt.brands.map(function(et){return et.brand+"/"+et.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(tt,et,nt){et===void 0&&(et=!1),nt===void 0&&(nt=!1);var rt=tt.getBoundingClientRect(),it=1,st=1;et&&isHTMLElement(tt)&&(it=tt.offsetWidth>0&&round(rt.width)/tt.offsetWidth||1,st=tt.offsetHeight>0&&round(rt.height)/tt.offsetHeight||1);var ot=isElement$1(tt)?getWindow$1(tt):window,at=ot.visualViewport,lt=!isLayoutViewport()&&nt,ut=(rt.left+(lt&&at?at.offsetLeft:0))/it,ft=(rt.top+(lt&&at?at.offsetTop:0))/st,dt=rt.width/it,ht=rt.height/st;return{width:dt,height:ht,top:ft,right:ut+dt,bottom:ft+ht,left:ut,x:ut,y:ft}}function getLayoutRect(tt){var et=getBoundingClientRect(tt),nt=tt.offsetWidth,rt=tt.offsetHeight;return Math.abs(et.width-nt)<=1&&(nt=et.width),Math.abs(et.height-rt)<=1&&(rt=et.height),{x:tt.offsetLeft,y:tt.offsetTop,width:nt,height:rt}}function contains(tt,et){var nt=et.getRootNode&&et.getRootNode();if(tt.contains(et))return!0;if(nt&&isShadowRoot(nt)){var rt=et;do{if(rt&&tt.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function getComputedStyle$2(tt){return getWindow$1(tt).getComputedStyle(tt)}function isTableElement(tt){return["table","td","th"].indexOf(getNodeName(tt))>=0}function getDocumentElement(tt){return((isElement$1(tt)?tt.ownerDocument:tt.document)||window.document).documentElement}function getParentNode(tt){return getNodeName(tt)==="html"?tt:tt.assignedSlot||tt.parentNode||(isShadowRoot(tt)?tt.host:null)||getDocumentElement(tt)}function getTrueOffsetParent(tt){return!isHTMLElement(tt)||getComputedStyle$2(tt).position==="fixed"?null:tt.offsetParent}function getContainingBlock(tt){var et=/firefox/i.test(getUAString()),nt=/Trident/i.test(getUAString());if(nt&&isHTMLElement(tt)){var rt=getComputedStyle$2(tt);if(rt.position==="fixed")return null}var it=getParentNode(tt);for(isShadowRoot(it)&&(it=it.host);isHTMLElement(it)&&["html","body"].indexOf(getNodeName(it))<0;){var st=getComputedStyle$2(it);if(st.transform!=="none"||st.perspective!=="none"||st.contain==="paint"||["transform","perspective"].indexOf(st.willChange)!==-1||et&&st.willChange==="filter"||et&&st.filter&&st.filter!=="none")return it;it=it.parentNode}return null}function getOffsetParent(tt){for(var et=getWindow$1(tt),nt=getTrueOffsetParent(tt);nt&&isTableElement(nt)&&getComputedStyle$2(nt).position==="static";)nt=getTrueOffsetParent(nt);return nt&&(getNodeName(nt)==="html"||getNodeName(nt)==="body"&&getComputedStyle$2(nt).position==="static")?et:nt||getContainingBlock(tt)||et}function getMainAxisFromPlacement(tt){return["top","bottom"].indexOf(tt)>=0?"x":"y"}function within(tt,et,nt){return max(tt,min(et,nt))}function withinMaxClamp(tt,et,nt){var rt=within(tt,et,nt);return rt>nt?nt:rt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(tt){return Object.assign({},getFreshSideObject(),tt)}function expandToHashMap(tt,et){return et.reduce(function(nt,rt){return nt[rt]=tt,nt},{})}var toPaddingObject=function(et,nt){return et=typeof et=="function"?et(Object.assign({},nt.rects,{placement:nt.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow(tt){var et,nt=tt.state,rt=tt.name,it=tt.options,st=nt.elements.arrow,ot=nt.modifiersData.popperOffsets,at=getBasePlacement$1(nt.placement),lt=getMainAxisFromPlacement(at),ut=[left,right].indexOf(at)>=0,ft=ut?"height":"width";if(!(!st||!ot)){var dt=toPaddingObject(it.padding,nt),ht=getLayoutRect(st),mt=lt==="y"?top:left,xt=lt==="y"?bottom:right,_t=nt.rects.reference[ft]+nt.rects.reference[lt]-ot[lt]-nt.rects.popper[ft],At=ot[lt]-nt.rects.reference[lt],gt=getOffsetParent(st),vt=gt?lt==="y"?gt.clientHeight||0:gt.clientWidth||0:0,Et=_t/2-At/2,yt=dt[mt],wt=vt-ht[ft]-dt[xt],Ct=vt/2-ht[ft]/2+Et,Rt=within(yt,Ct,wt),It=lt;nt.modifiersData[rt]=(et={},et[It]=Rt,et.centerOffset=Rt-Ct,et)}}function effect$1(tt){var et=tt.state,nt=tt.options,rt=nt.element,it=rt===void 0?"[data-popper-arrow]":rt;it!=null&&(typeof it=="string"&&(it=et.elements.popper.querySelector(it),!it)||contains(et.elements.popper,it)&&(et.elements.arrow=it))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(tt){return tt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(tt,et){var nt=tt.x,rt=tt.y,it=et.devicePixelRatio||1;return{x:round(nt*it)/it||0,y:round(rt*it)/it||0}}function mapToStyles(tt){var et,nt=tt.popper,rt=tt.popperRect,it=tt.placement,st=tt.variation,ot=tt.offsets,at=tt.position,lt=tt.gpuAcceleration,ut=tt.adaptive,ft=tt.roundOffsets,dt=tt.isFixed,ht=ot.x,mt=ht===void 0?0:ht,xt=ot.y,_t=xt===void 0?0:xt,At=typeof ft=="function"?ft({x:mt,y:_t}):{x:mt,y:_t};mt=At.x,_t=At.y;var gt=ot.hasOwnProperty("x"),vt=ot.hasOwnProperty("y"),Et=left,yt=top,wt=window;if(ut){var Ct=getOffsetParent(nt),Rt="clientHeight",It="clientWidth";if(Ct===getWindow$1(nt)&&(Ct=getDocumentElement(nt),getComputedStyle$2(Ct).position!=="static"&&at==="absolute"&&(Rt="scrollHeight",It="scrollWidth")),Ct=Ct,it===top||(it===left||it===right)&&st===end){yt=bottom;var $t=dt&&Ct===wt&&wt.visualViewport?wt.visualViewport.height:Ct[Rt];_t-=$t-rt.height,_t*=lt?1:-1}if(it===left||(it===top||it===bottom)&&st===end){Et=right;var Ft=dt&&Ct===wt&&wt.visualViewport?wt.visualViewport.width:Ct[It];mt-=Ft-rt.width,mt*=lt?1:-1}}var Bt=Object.assign({position:at},ut&&unsetSides),Nt=ft===!0?roundOffsetsByDPR({x:mt,y:_t},getWindow$1(nt)):{x:mt,y:_t};if(mt=Nt.x,_t=Nt.y,lt){var Xt;return Object.assign({},Bt,(Xt={},Xt[yt]=vt?"0":"",Xt[Et]=gt?"0":"",Xt.transform=(wt.devicePixelRatio||1)<=1?"translate("+mt+"px, "+_t+"px)":"translate3d("+mt+"px, "+_t+"px, 0)",Xt))}return Object.assign({},Bt,(et={},et[yt]=vt?_t+"px":"",et[Et]=gt?mt+"px":"",et.transform="",et))}function computeStyles(tt){var et=tt.state,nt=tt.options,rt=nt.gpuAcceleration,it=rt===void 0?!0:rt,st=nt.adaptive,ot=st===void 0?!0:st,at=nt.roundOffsets,lt=at===void 0?!0:at,ut={placement:getBasePlacement$1(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:it,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},ut,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:ot,roundOffsets:lt})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},ut,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:lt})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(tt){var et=tt.state,nt=tt.instance,rt=tt.options,it=rt.scroll,st=it===void 0?!0:it,ot=rt.resize,at=ot===void 0?!0:ot,lt=getWindow$1(et.elements.popper),ut=[].concat(et.scrollParents.reference,et.scrollParents.popper);return st&&ut.forEach(function(ft){ft.addEventListener("scroll",nt.update,passive)}),at&&lt.addEventListener("resize",nt.update,passive),function(){st&&ut.forEach(function(ft){ft.removeEventListener("scroll",nt.update,passive)}),at&&lt.removeEventListener("resize",nt.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(tt){return tt.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(tt){return tt.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(tt){var et=getWindow$1(tt),nt=et.pageXOffset,rt=et.pageYOffset;return{scrollLeft:nt,scrollTop:rt}}function getWindowScrollBarX(tt){return getBoundingClientRect(getDocumentElement(tt)).left+getWindowScroll(tt).scrollLeft}function getViewportRect(tt,et){var nt=getWindow$1(tt),rt=getDocumentElement(tt),it=nt.visualViewport,st=rt.clientWidth,ot=rt.clientHeight,at=0,lt=0;if(it){st=it.width,ot=it.height;var ut=isLayoutViewport();(ut||!ut&&et==="fixed")&&(at=it.offsetLeft,lt=it.offsetTop)}return{width:st,height:ot,x:at+getWindowScrollBarX(tt),y:lt}}function getDocumentRect(tt){var et,nt=getDocumentElement(tt),rt=getWindowScroll(tt),it=(et=tt.ownerDocument)==null?void 0:et.body,st=max(nt.scrollWidth,nt.clientWidth,it?it.scrollWidth:0,it?it.clientWidth:0),ot=max(nt.scrollHeight,nt.clientHeight,it?it.scrollHeight:0,it?it.clientHeight:0),at=-rt.scrollLeft+getWindowScrollBarX(tt),lt=-rt.scrollTop;return getComputedStyle$2(it||nt).direction==="rtl"&&(at+=max(nt.clientWidth,it?it.clientWidth:0)-st),{width:st,height:ot,x:at,y:lt}}function isScrollParent(tt){var et=getComputedStyle$2(tt),nt=et.overflow,rt=et.overflowX,it=et.overflowY;return/auto|scroll|overlay|hidden/.test(nt+it+rt)}function getScrollParent(tt){return["html","body","#document"].indexOf(getNodeName(tt))>=0?tt.ownerDocument.body:isHTMLElement(tt)&&isScrollParent(tt)?tt:getScrollParent(getParentNode(tt))}function listScrollParents(tt,et){var nt;et===void 0&&(et=[]);var rt=getScrollParent(tt),it=rt===((nt=tt.ownerDocument)==null?void 0:nt.body),st=getWindow$1(rt),ot=it?[st].concat(st.visualViewport||[],isScrollParent(rt)?rt:[]):rt,at=et.concat(ot);return it?at:at.concat(listScrollParents(getParentNode(ot)))}function rectToClientRect(tt){return Object.assign({},tt,{left:tt.x,top:tt.y,right:tt.x+tt.width,bottom:tt.y+tt.height})}function getInnerBoundingClientRect(tt,et){var nt=getBoundingClientRect(tt,!1,et==="fixed");return nt.top=nt.top+tt.clientTop,nt.left=nt.left+tt.clientLeft,nt.bottom=nt.top+tt.clientHeight,nt.right=nt.left+tt.clientWidth,nt.width=tt.clientWidth,nt.height=tt.clientHeight,nt.x=nt.left,nt.y=nt.top,nt}function getClientRectFromMixedType(tt,et,nt){return et===viewport?rectToClientRect(getViewportRect(tt,nt)):isElement$1(et)?getInnerBoundingClientRect(et,nt):rectToClientRect(getDocumentRect(getDocumentElement(tt)))}function getClippingParents(tt){var et=listScrollParents(getParentNode(tt)),nt=["absolute","fixed"].indexOf(getComputedStyle$2(tt).position)>=0,rt=nt&&isHTMLElement(tt)?getOffsetParent(tt):tt;return isElement$1(rt)?et.filter(function(it){return isElement$1(it)&&contains(it,rt)&&getNodeName(it)!=="body"}):[]}function getClippingRect(tt,et,nt,rt){var it=et==="clippingParents"?getClippingParents(tt):[].concat(et),st=[].concat(it,[nt]),ot=st[0],at=st.reduce(function(lt,ut){var ft=getClientRectFromMixedType(tt,ut,rt);return lt.top=max(ft.top,lt.top),lt.right=min(ft.right,lt.right),lt.bottom=min(ft.bottom,lt.bottom),lt.left=max(ft.left,lt.left),lt},getClientRectFromMixedType(tt,ot,rt));return at.width=at.right-at.left,at.height=at.bottom-at.top,at.x=at.left,at.y=at.top,at}function computeOffsets(tt){var et=tt.reference,nt=tt.element,rt=tt.placement,it=rt?getBasePlacement$1(rt):null,st=rt?getVariation(rt):null,ot=et.x+et.width/2-nt.width/2,at=et.y+et.height/2-nt.height/2,lt;switch(it){case top:lt={x:ot,y:et.y-nt.height};break;case bottom:lt={x:ot,y:et.y+et.height};break;case right:lt={x:et.x+et.width,y:at};break;case left:lt={x:et.x-nt.width,y:at};break;default:lt={x:et.x,y:et.y}}var ut=it?getMainAxisFromPlacement(it):null;if(ut!=null){var ft=ut==="y"?"height":"width";switch(st){case start:lt[ut]=lt[ut]-(et[ft]/2-nt[ft]/2);break;case end:lt[ut]=lt[ut]+(et[ft]/2-nt[ft]/2);break}}return lt}function detectOverflow(tt,et){et===void 0&&(et={});var nt=et,rt=nt.placement,it=rt===void 0?tt.placement:rt,st=nt.strategy,ot=st===void 0?tt.strategy:st,at=nt.boundary,lt=at===void 0?clippingParents:at,ut=nt.rootBoundary,ft=ut===void 0?viewport:ut,dt=nt.elementContext,ht=dt===void 0?popper:dt,mt=nt.altBoundary,xt=mt===void 0?!1:mt,_t=nt.padding,At=_t===void 0?0:_t,gt=mergePaddingObject(typeof At!="number"?At:expandToHashMap(At,basePlacements)),vt=ht===popper?reference:popper,Et=tt.rects.popper,yt=tt.elements[xt?vt:ht],wt=getClippingRect(isElement$1(yt)?yt:yt.contextElement||getDocumentElement(tt.elements.popper),lt,ft,ot),Ct=getBoundingClientRect(tt.elements.reference),Rt=computeOffsets({reference:Ct,element:Et,strategy:"absolute",placement:it}),It=rectToClientRect(Object.assign({},Et,Rt)),$t=ht===popper?It:Ct,Ft={top:wt.top-$t.top+gt.top,bottom:$t.bottom-wt.bottom+gt.bottom,left:wt.left-$t.left+gt.left,right:$t.right-wt.right+gt.right},Bt=tt.modifiersData.offset;if(ht===popper&&Bt){var Nt=Bt[it];Object.keys(Ft).forEach(function(Xt){var nn=[right,bottom].indexOf(Xt)>=0?1:-1,sn=[top,bottom].indexOf(Xt)>=0?"y":"x";Ft[Xt]+=Nt[sn]*nn})}return Ft}function computeAutoPlacement(tt,et){et===void 0&&(et={});var nt=et,rt=nt.placement,it=nt.boundary,st=nt.rootBoundary,ot=nt.padding,at=nt.flipVariations,lt=nt.allowedAutoPlacements,ut=lt===void 0?placements:lt,ft=getVariation(rt),dt=ft?at?variationPlacements:variationPlacements.filter(function(xt){return getVariation(xt)===ft}):basePlacements,ht=dt.filter(function(xt){return ut.indexOf(xt)>=0});ht.length===0&&(ht=dt);var mt=ht.reduce(function(xt,_t){return xt[_t]=detectOverflow(tt,{placement:_t,boundary:it,rootBoundary:st,padding:ot})[getBasePlacement$1(_t)],xt},{});return Object.keys(mt).sort(function(xt,_t){return mt[xt]-mt[_t]})}function getExpandedFallbackPlacements(tt){if(getBasePlacement$1(tt)===auto)return[];var et=getOppositePlacement(tt);return[getOppositeVariationPlacement(tt),et,getOppositeVariationPlacement(et)]}function flip(tt){var et=tt.state,nt=tt.options,rt=tt.name;if(!et.modifiersData[rt]._skip){for(var it=nt.mainAxis,st=it===void 0?!0:it,ot=nt.altAxis,at=ot===void 0?!0:ot,lt=nt.fallbackPlacements,ut=nt.padding,ft=nt.boundary,dt=nt.rootBoundary,ht=nt.altBoundary,mt=nt.flipVariations,xt=mt===void 0?!0:mt,_t=nt.allowedAutoPlacements,At=et.options.placement,gt=getBasePlacement$1(At),vt=gt===At,Et=lt||(vt||!xt?[getOppositePlacement(At)]:getExpandedFallbackPlacements(At)),yt=[At].concat(Et).reduce(function(an,on){return an.concat(getBasePlacement$1(on)===auto?computeAutoPlacement(et,{placement:on,boundary:ft,rootBoundary:dt,padding:ut,flipVariations:xt,allowedAutoPlacements:_t}):on)},[]),wt=et.rects.reference,Ct=et.rects.popper,Rt=new Map,It=!0,$t=yt[0],Ft=0;Ft<yt.length;Ft++){var Bt=yt[Ft],Nt=getBasePlacement$1(Bt),Xt=getVariation(Bt)===start,nn=[top,bottom].indexOf(Nt)>=0,sn=nn?"width":"height",rn=detectOverflow(et,{placement:Bt,boundary:ft,rootBoundary:dt,altBoundary:ht,padding:ut}),Jt=nn?Xt?right:left:Xt?bottom:top;wt[sn]>Ct[sn]&&(Jt=getOppositePlacement(Jt));var Ut=getOppositePlacement(Jt),Kt=[];if(st&&Kt.push(rn[Nt]<=0),at&&Kt.push(rn[Jt]<=0,rn[Ut]<=0),Kt.every(function(an){return an})){$t=Bt,It=!1;break}Rt.set(Bt,Kt)}if(It)for(var Qt=xt?3:1,zt=function(on){var Wt=yt.find(function(mn){var vn=Rt.get(mn);if(vn)return vn.slice(0,on).every(function(En){return En})});if(Wt)return $t=Wt,"break"},Ht=Qt;Ht>0;Ht--){var en=zt(Ht);if(en==="break")break}et.placement!==$t&&(et.modifiersData[rt]._skip=!0,et.placement=$t,et.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(tt,et,nt){return nt===void 0&&(nt={x:0,y:0}),{top:tt.top-et.height-nt.y,right:tt.right-et.width+nt.x,bottom:tt.bottom-et.height+nt.y,left:tt.left-et.width-nt.x}}function isAnySideFullyClipped(tt){return[top,right,bottom,left].some(function(et){return tt[et]>=0})}function hide(tt){var et=tt.state,nt=tt.name,rt=et.rects.reference,it=et.rects.popper,st=et.modifiersData.preventOverflow,ot=detectOverflow(et,{elementContext:"reference"}),at=detectOverflow(et,{altBoundary:!0}),lt=getSideOffsets(ot,rt),ut=getSideOffsets(at,it,st),ft=isAnySideFullyClipped(lt),dt=isAnySideFullyClipped(ut);et.modifiersData[nt]={referenceClippingOffsets:lt,popperEscapeOffsets:ut,isReferenceHidden:ft,hasPopperEscaped:dt},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":ft,"data-popper-escaped":dt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(tt,et,nt){var rt=getBasePlacement$1(tt),it=[left,top].indexOf(rt)>=0?-1:1,st=typeof nt=="function"?nt(Object.assign({},et,{placement:tt})):nt,ot=st[0],at=st[1];return ot=ot||0,at=(at||0)*it,[left,right].indexOf(rt)>=0?{x:at,y:ot}:{x:ot,y:at}}function offset(tt){var et=tt.state,nt=tt.options,rt=tt.name,it=nt.offset,st=it===void 0?[0,0]:it,ot=placements.reduce(function(ft,dt){return ft[dt]=distanceAndSkiddingToXY(dt,et.rects,st),ft},{}),at=ot[et.placement],lt=at.x,ut=at.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=lt,et.modifiersData.popperOffsets.y+=ut),et.modifiersData[rt]=ot}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(tt){var et=tt.state,nt=tt.name;et.modifiersData[nt]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(tt){return tt==="x"?"y":"x"}function preventOverflow(tt){var et=tt.state,nt=tt.options,rt=tt.name,it=nt.mainAxis,st=it===void 0?!0:it,ot=nt.altAxis,at=ot===void 0?!1:ot,lt=nt.boundary,ut=nt.rootBoundary,ft=nt.altBoundary,dt=nt.padding,ht=nt.tether,mt=ht===void 0?!0:ht,xt=nt.tetherOffset,_t=xt===void 0?0:xt,At=detectOverflow(et,{boundary:lt,rootBoundary:ut,padding:dt,altBoundary:ft}),gt=getBasePlacement$1(et.placement),vt=getVariation(et.placement),Et=!vt,yt=getMainAxisFromPlacement(gt),wt=getAltAxis(yt),Ct=et.modifiersData.popperOffsets,Rt=et.rects.reference,It=et.rects.popper,$t=typeof _t=="function"?_t(Object.assign({},et.rects,{placement:et.placement})):_t,Ft=typeof $t=="number"?{mainAxis:$t,altAxis:$t}:Object.assign({mainAxis:0,altAxis:0},$t),Bt=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Nt={x:0,y:0};if(Ct){if(st){var Xt,nn=yt==="y"?top:left,sn=yt==="y"?bottom:right,rn=yt==="y"?"height":"width",Jt=Ct[yt],Ut=Jt+At[nn],Kt=Jt-At[sn],Qt=mt?-It[rn]/2:0,zt=vt===start?Rt[rn]:It[rn],Ht=vt===start?-It[rn]:-Rt[rn],en=et.elements.arrow,an=mt&&en?getLayoutRect(en):{width:0,height:0},on=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Wt=on[nn],mn=on[sn],vn=within(0,Rt[rn],an[rn]),En=Et?Rt[rn]/2-Qt-vn-Wt-Ft.mainAxis:zt-vn-Wt-Ft.mainAxis,Cn=Et?-Rt[rn]/2+Qt+vn+mn+Ft.mainAxis:Ht+vn+mn+Ft.mainAxis,$n=et.elements.arrow&&getOffsetParent(et.elements.arrow),Fn=$n?yt==="y"?$n.clientTop||0:$n.clientLeft||0:0,Ln=(Xt=Bt==null?void 0:Bt[yt])!=null?Xt:0,Mn=Jt+En-Ln-Fn,Gn=Jt+Cn-Ln,er=within(mt?min(Ut,Mn):Ut,Jt,mt?max(Kt,Gn):Kt);Ct[yt]=er,Nt[yt]=er-Jt}if(at){var un,dn=yt==="x"?top:left,yn=yt==="x"?bottom:right,bn=Ct[wt],Tn=wt==="y"?"height":"width",Pn=bn+At[dn],Yn=bn-At[yn],Un=[top,left].indexOf(gt)!==-1,Nn=(un=Bt==null?void 0:Bt[wt])!=null?un:0,rr=Un?Pn:bn-Rt[Tn]-It[Tn]-Nn+Ft.altAxis,Kn=Un?bn+Rt[Tn]+It[Tn]-Nn-Ft.altAxis:Yn,Vn=mt&&Un?withinMaxClamp(rr,bn,Kn):within(mt?rr:Pn,bn,mt?Kn:Yn);Ct[wt]=Vn,Nt[wt]=Vn-bn}et.modifiersData[rt]=Nt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(tt){return{scrollLeft:tt.scrollLeft,scrollTop:tt.scrollTop}}function getNodeScroll(tt){return tt===getWindow$1(tt)||!isHTMLElement(tt)?getWindowScroll(tt):getHTMLElementScroll(tt)}function isElementScaled(tt){var et=tt.getBoundingClientRect(),nt=round(et.width)/tt.offsetWidth||1,rt=round(et.height)/tt.offsetHeight||1;return nt!==1||rt!==1}function getCompositeRect(tt,et,nt){nt===void 0&&(nt=!1);var rt=isHTMLElement(et),it=isHTMLElement(et)&&isElementScaled(et),st=getDocumentElement(et),ot=getBoundingClientRect(tt,it,nt),at={scrollLeft:0,scrollTop:0},lt={x:0,y:0};return(rt||!rt&&!nt)&&((getNodeName(et)!=="body"||isScrollParent(st))&&(at=getNodeScroll(et)),isHTMLElement(et)?(lt=getBoundingClientRect(et,!0),lt.x+=et.clientLeft,lt.y+=et.clientTop):st&&(lt.x=getWindowScrollBarX(st))),{x:ot.left+at.scrollLeft-lt.x,y:ot.top+at.scrollTop-lt.y,width:ot.width,height:ot.height}}function order(tt){var et=new Map,nt=new Set,rt=[];tt.forEach(function(st){et.set(st.name,st)});function it(st){nt.add(st.name);var ot=[].concat(st.requires||[],st.requiresIfExists||[]);ot.forEach(function(at){if(!nt.has(at)){var lt=et.get(at);lt&&it(lt)}}),rt.push(st)}return tt.forEach(function(st){nt.has(st.name)||it(st)}),rt}function orderModifiers(tt){var et=order(tt);return modifierPhases.reduce(function(nt,rt){return nt.concat(et.filter(function(it){return it.phase===rt}))},[])}function debounce$1(tt){var et;return function(){return et||(et=new Promise(function(nt){Promise.resolve().then(function(){et=void 0,nt(tt())})})),et}}function mergeByName(tt){var et=tt.reduce(function(nt,rt){var it=nt[rt.name];return nt[rt.name]=it?Object.assign({},it,rt,{options:Object.assign({},it.options,rt.options),data:Object.assign({},it.data,rt.data)}):rt,nt},{});return Object.keys(et).map(function(nt){return et[nt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var tt=arguments.length,et=new Array(tt),nt=0;nt<tt;nt++)et[nt]=arguments[nt];return!et.some(function(rt){return!(rt&&typeof rt.getBoundingClientRect=="function")})}function popperGenerator(tt){tt===void 0&&(tt={});var et=tt,nt=et.defaultModifiers,rt=nt===void 0?[]:nt,it=et.defaultOptions,st=it===void 0?DEFAULT_OPTIONS:it;return function(at,lt,ut){ut===void 0&&(ut=st);var ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,st),modifiersData:{},elements:{reference:at,popper:lt},attributes:{},styles:{}},dt=[],ht=!1,mt={state:ft,setOptions:function(gt){var vt=typeof gt=="function"?gt(ft.options):gt;_t(),ft.options=Object.assign({},st,ft.options,vt),ft.scrollParents={reference:isElement$1(at)?listScrollParents(at):at.contextElement?listScrollParents(at.contextElement):[],popper:listScrollParents(lt)};var Et=orderModifiers(mergeByName([].concat(rt,ft.options.modifiers)));return ft.orderedModifiers=Et.filter(function(yt){return yt.enabled}),xt(),mt.update()},forceUpdate:function(){if(!ht){var gt=ft.elements,vt=gt.reference,Et=gt.popper;if(areValidElements(vt,Et)){ft.rects={reference:getCompositeRect(vt,getOffsetParent(Et),ft.options.strategy==="fixed"),popper:getLayoutRect(Et)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(Ft){return ft.modifiersData[Ft.name]=Object.assign({},Ft.data)});for(var yt=0;yt<ft.orderedModifiers.length;yt++){if(ft.reset===!0){ft.reset=!1,yt=-1;continue}var wt=ft.orderedModifiers[yt],Ct=wt.fn,Rt=wt.options,It=Rt===void 0?{}:Rt,$t=wt.name;typeof Ct=="function"&&(ft=Ct({state:ft,options:It,name:$t,instance:mt})||ft)}}}},update:debounce$1(function(){return new Promise(function(At){mt.forceUpdate(),At(ft)})}),destroy:function(){_t(),ht=!0}};if(!areValidElements(at,lt))return mt;mt.setOptions(ut).then(function(At){!ht&&ut.onFirstUpdate&&ut.onFirstUpdate(At)});function xt(){ft.orderedModifiers.forEach(function(At){var gt=At.name,vt=At.options,Et=vt===void 0?{}:vt,yt=At.effect;if(typeof yt=="function"){var wt=yt({state:ft,name:gt,instance:mt,options:Et}),Ct=function(){};dt.push(wt||Ct)}})}function _t(){dt.forEach(function(At){return At()}),dt=[]}return mt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(tt,et,nt){if(Array.isArray(tt)){var rt=tt[et];return rt??(Array.isArray(nt)?nt[et]:nt)}return tt}function isType(tt,et){var nt={}.toString.call(tt);return nt.indexOf("[object")===0&&nt.indexOf(et+"]")>-1}function invokeWithArgsOrReturn(tt,et){return typeof tt=="function"?tt.apply(void 0,et):tt}function debounce(tt,et){if(et===0)return tt;var nt;return function(rt){clearTimeout(nt),nt=setTimeout(function(){tt(rt)},et)}}function splitBySpaces(tt){return tt.split(/\s+/).filter(Boolean)}function normalizeToArray(tt){return[].concat(tt)}function pushIfUnique(tt,et){tt.indexOf(et)===-1&&tt.push(et)}function unique(tt){return tt.filter(function(et,nt){return tt.indexOf(et)===nt})}function getBasePlacement(tt){return tt.split("-")[0]}function arrayFrom(tt){return[].slice.call(tt)}function removeUndefinedProps(tt){return Object.keys(tt).reduce(function(et,nt){return tt[nt]!==void 0&&(et[nt]=tt[nt]),et},{})}function div$1(){return document.createElement("div")}function isElement(tt){return["Element","Fragment"].some(function(et){return isType(tt,et)})}function isNodeList(tt){return isType(tt,"NodeList")}function isMouseEvent(tt){return isType(tt,"MouseEvent")}function isReferenceElement(tt){return!!(tt&&tt._tippy&&tt._tippy.reference===tt)}function getArrayOfElements(tt){return isElement(tt)?[tt]:isNodeList(tt)?arrayFrom(tt):Array.isArray(tt)?tt:arrayFrom(document.querySelectorAll(tt))}function setTransitionDuration(tt,et){tt.forEach(function(nt){nt&&(nt.style.transitionDuration=et+"ms")})}function setVisibilityState(tt,et){tt.forEach(function(nt){nt&&nt.setAttribute("data-state",et)})}function getOwnerDocument(tt){var et,nt=normalizeToArray(tt),rt=nt[0];return rt!=null&&(et=rt.ownerDocument)!=null&&et.body?rt.ownerDocument:document}function isCursorOutsideInteractiveBorder(tt,et){var nt=et.clientX,rt=et.clientY;return tt.every(function(it){var st=it.popperRect,ot=it.popperState,at=it.props,lt=at.interactiveBorder,ut=getBasePlacement(ot.placement),ft=ot.modifiersData.offset;if(!ft)return!0;var dt=ut==="bottom"?ft.top.y:0,ht=ut==="top"?ft.bottom.y:0,mt=ut==="right"?ft.left.x:0,xt=ut==="left"?ft.right.x:0,_t=st.top-rt+dt>lt,At=rt-st.bottom-ht>lt,gt=st.left-nt+mt>lt,vt=nt-st.right-xt>lt;return _t||At||gt||vt})}function updateTransitionEndListener(tt,et,nt){var rt=et+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(it){tt[rt](it,nt)})}function actualContains(tt,et){for(var nt=et;nt;){var rt;if(tt.contains(nt))return!0;nt=nt.getRootNode==null||(rt=nt.getRootNode())==null?void 0:rt.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var tt=performance.now();tt-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=tt}function onWindowBlur(){var tt=document.activeElement;if(isReferenceElement(tt)){var et=tt._tippy;tt.blur&&!et.state.isVisible&&tt.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser$1=typeof window<"u"&&typeof document<"u",isIE11=isBrowser$1?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(et){var nt=Object.keys(et);nt.forEach(function(rt){defaultProps[rt]=et[rt]})};function getExtendedPassedProps(tt){var et=tt.plugins||[],nt=et.reduce(function(rt,it){var st=it.name,ot=it.defaultValue;if(st){var at;rt[st]=tt[st]!==void 0?tt[st]:(at=defaultProps[st])!=null?at:ot}return rt},{});return Object.assign({},tt,nt)}function getDataAttributeProps(tt,et){var nt=et?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:et}))):defaultKeys,rt=nt.reduce(function(it,st){var ot=(tt.getAttribute("data-tippy-"+st)||"").trim();if(!ot)return it;if(st==="content")it[st]=ot;else try{it[st]=JSON.parse(ot)}catch{it[st]=ot}return it},{});return rt}function evaluateProps(tt,et){var nt=Object.assign({},et,{content:invokeWithArgsOrReturn(et.content,[tt])},et.ignoreAttributes?{}:getDataAttributeProps(tt,et.plugins));return nt.aria=Object.assign({},defaultProps.aria,nt.aria),nt.aria={expanded:nt.aria.expanded==="auto"?et.interactive:nt.aria.expanded,content:nt.aria.content==="auto"?et.interactive?null:"describedby":nt.aria.content},nt}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(tt,et){tt[innerHTML()]=et}function createArrowElement(tt){var et=div$1();return tt===!0?et.className=ARROW_CLASS:(et.className=SVG_ARROW_CLASS,isElement(tt)?et.appendChild(tt):dangerouslySetInnerHTML(et,tt)),et}function setContent(tt,et){isElement(et.content)?(dangerouslySetInnerHTML(tt,""),tt.appendChild(et.content)):typeof et.content!="function"&&(et.allowHTML?dangerouslySetInnerHTML(tt,et.content):tt.textContent=et.content)}function getChildren$1(tt){var et=tt.firstElementChild,nt=arrayFrom(et.children);return{box:et,content:nt.find(function(rt){return rt.classList.contains(CONTENT_CLASS)}),arrow:nt.find(function(rt){return rt.classList.contains(ARROW_CLASS)||rt.classList.contains(SVG_ARROW_CLASS)}),backdrop:nt.find(function(rt){return rt.classList.contains(BACKDROP_CLASS)})}}function render(tt){var et=div$1(),nt=div$1();nt.className=BOX_CLASS,nt.setAttribute("data-state","hidden"),nt.setAttribute("tabindex","-1");var rt=div$1();rt.className=CONTENT_CLASS,rt.setAttribute("data-state","hidden"),setContent(rt,tt.props),et.appendChild(nt),nt.appendChild(rt),it(tt.props,tt.props);function it(st,ot){var at=getChildren$1(et),lt=at.box,ut=at.content,ft=at.arrow;ot.theme?lt.setAttribute("data-theme",ot.theme):lt.removeAttribute("data-theme"),typeof ot.animation=="string"?lt.setAttribute("data-animation",ot.animation):lt.removeAttribute("data-animation"),ot.inertia?lt.setAttribute("data-inertia",""):lt.removeAttribute("data-inertia"),lt.style.maxWidth=typeof ot.maxWidth=="number"?ot.maxWidth+"px":ot.maxWidth,ot.role?lt.setAttribute("role",ot.role):lt.removeAttribute("role"),(st.content!==ot.content||st.allowHTML!==ot.allowHTML)&&setContent(ut,tt.props),ot.arrow?ft?st.arrow!==ot.arrow&&(lt.removeChild(ft),lt.appendChild(createArrowElement(ot.arrow))):lt.appendChild(createArrowElement(ot.arrow)):ft&&lt.removeChild(ft)}return{popper:et,onUpdate:it}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(tt,et){var nt=evaluateProps(tt,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(et)))),rt,it,st,ot=!1,at=!1,lt=!1,ut=!1,ft,dt,ht,mt=[],xt=debounce(Mn,nt.interactiveDebounce),_t,At=idCounter++,gt=null,vt=unique(nt.plugins),Et={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},yt={id:At,reference:tt,popper:div$1(),popperInstance:gt,props:nt,state:Et,plugins:vt,clearDelayTimeouts:rr,setProps:Kn,setContent:Vn,show:ir,hide:gr,hideWithInteractivity:Gr,enable:Un,disable:Nn,unmount:Rs,destroy:$s};if(!nt.render)return yt;var wt=nt.render(yt),Ct=wt.popper,Rt=wt.onUpdate;Ct.setAttribute("data-tippy-root",""),Ct.id="tippy-"+yt.id,yt.popper=Ct,tt._tippy=yt,Ct._tippy=yt;var It=vt.map(function(kn){return kn.fn(yt)}),$t=tt.hasAttribute("aria-expanded");return $n(),Qt(),Jt(),Ut("onCreate",[yt]),nt.showOnCreate&&Pn(),Ct.addEventListener("mouseenter",function(){yt.props.interactive&&yt.state.isVisible&&yt.clearDelayTimeouts()}),Ct.addEventListener("mouseleave",function(){yt.props.interactive&&yt.props.trigger.indexOf("mouseenter")>=0&&nn().addEventListener("mousemove",xt)}),yt;function Ft(){var kn=yt.props.touch;return Array.isArray(kn)?kn:[kn,0]}function Bt(){return Ft()[0]==="hold"}function Nt(){var kn;return!!((kn=yt.props.render)!=null&&kn.$$tippy)}function Xt(){return _t||tt}function nn(){var kn=Xt().parentNode;return kn?getOwnerDocument(kn):document}function sn(){return getChildren$1(Ct)}function rn(kn){return yt.state.isMounted&&!yt.state.isVisible||currentInput.isTouch||ft&&ft.type==="focus"?0:getValueAtIndexOrReturn(yt.props.delay,kn?0:1,defaultProps.delay)}function Jt(kn){kn===void 0&&(kn=!1),Ct.style.pointerEvents=yt.props.interactive&&!kn?"":"none",Ct.style.zIndex=""+yt.props.zIndex}function Ut(kn,or,sr){if(sr===void 0&&(sr=!0),It.forEach(function(ar){ar[kn]&&ar[kn].apply(ar,or)}),sr){var Ar;(Ar=yt.props)[kn].apply(Ar,or)}}function Kt(){var kn=yt.props.aria;if(kn.content){var or="aria-"+kn.content,sr=Ct.id,Ar=normalizeToArray(yt.props.triggerTarget||tt);Ar.forEach(function(ar){var Pr=ar.getAttribute(or);if(yt.state.isVisible)ar.setAttribute(or,Pr?Pr+" "+sr:sr);else{var dr=Pr&&Pr.replace(sr,"").trim();dr?ar.setAttribute(or,dr):ar.removeAttribute(or)}})}}function Qt(){if(!($t||!yt.props.aria.expanded)){var kn=normalizeToArray(yt.props.triggerTarget||tt);kn.forEach(function(or){yt.props.interactive?or.setAttribute("aria-expanded",yt.state.isVisible&&or===Xt()?"true":"false"):or.removeAttribute("aria-expanded")})}}function zt(){nn().removeEventListener("mousemove",xt),mouseMoveListeners=mouseMoveListeners.filter(function(kn){return kn!==xt})}function Ht(kn){if(!(currentInput.isTouch&&(lt||kn.type==="mousedown"))){var or=kn.composedPath&&kn.composedPath()[0]||kn.target;if(!(yt.props.interactive&&actualContains(Ct,or))){if(normalizeToArray(yt.props.triggerTarget||tt).some(function(sr){return actualContains(sr,or)})){if(currentInput.isTouch||yt.state.isVisible&&yt.props.trigger.indexOf("click")>=0)return}else Ut("onClickOutside",[yt,kn]);yt.props.hideOnClick===!0&&(yt.clearDelayTimeouts(),yt.hide(),at=!0,setTimeout(function(){at=!1}),yt.state.isMounted||Wt())}}}function en(){lt=!0}function an(){lt=!1}function on(){var kn=nn();kn.addEventListener("mousedown",Ht,!0),kn.addEventListener("touchend",Ht,TOUCH_OPTIONS),kn.addEventListener("touchstart",an,TOUCH_OPTIONS),kn.addEventListener("touchmove",en,TOUCH_OPTIONS)}function Wt(){var kn=nn();kn.removeEventListener("mousedown",Ht,!0),kn.removeEventListener("touchend",Ht,TOUCH_OPTIONS),kn.removeEventListener("touchstart",an,TOUCH_OPTIONS),kn.removeEventListener("touchmove",en,TOUCH_OPTIONS)}function mn(kn,or){En(kn,function(){!yt.state.isVisible&&Ct.parentNode&&Ct.parentNode.contains(Ct)&&or()})}function vn(kn,or){En(kn,or)}function En(kn,or){var sr=sn().box;function Ar(ar){ar.target===sr&&(updateTransitionEndListener(sr,"remove",Ar),or())}if(kn===0)return or();updateTransitionEndListener(sr,"remove",dt),updateTransitionEndListener(sr,"add",Ar),dt=Ar}function Cn(kn,or,sr){sr===void 0&&(sr=!1);var Ar=normalizeToArray(yt.props.triggerTarget||tt);Ar.forEach(function(ar){ar.addEventListener(kn,or,sr),mt.push({node:ar,eventType:kn,handler:or,options:sr})})}function $n(){Bt()&&(Cn("touchstart",Ln,{passive:!0}),Cn("touchend",Gn,{passive:!0})),splitBySpaces(yt.props.trigger).forEach(function(kn){if(kn!=="manual")switch(Cn(kn,Ln),kn){case"mouseenter":Cn("mouseleave",Gn);break;case"focus":Cn(isIE11?"focusout":"blur",er);break;case"focusin":Cn("focusout",er);break}})}function Fn(){mt.forEach(function(kn){var or=kn.node,sr=kn.eventType,Ar=kn.handler,ar=kn.options;or.removeEventListener(sr,Ar,ar)}),mt=[]}function Ln(kn){var or,sr=!1;if(!(!yt.state.isEnabled||un(kn)||at)){var Ar=((or=ft)==null?void 0:or.type)==="focus";ft=kn,_t=kn.currentTarget,Qt(),!yt.state.isVisible&&isMouseEvent(kn)&&mouseMoveListeners.forEach(function(ar){return ar(kn)}),kn.type==="click"&&(yt.props.trigger.indexOf("mouseenter")<0||ot)&&yt.props.hideOnClick!==!1&&yt.state.isVisible?sr=!0:Pn(kn),kn.type==="click"&&(ot=!sr),sr&&!Ar&&Yn(kn)}}function Mn(kn){var or=kn.target,sr=Xt().contains(or)||Ct.contains(or);if(!(kn.type==="mousemove"&&sr)){var Ar=Tn().concat(Ct).map(function(ar){var Pr,dr=ar._tippy,xr=(Pr=dr.popperInstance)==null?void 0:Pr.state;return xr?{popperRect:ar.getBoundingClientRect(),popperState:xr,props:nt}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(Ar,kn)&&(zt(),Yn(kn))}}function Gn(kn){var or=un(kn)||yt.props.trigger.indexOf("click")>=0&&ot;if(!or){if(yt.props.interactive){yt.hideWithInteractivity(kn);return}Yn(kn)}}function er(kn){yt.props.trigger.indexOf("focusin")<0&&kn.target!==Xt()||yt.props.interactive&&kn.relatedTarget&&Ct.contains(kn.relatedTarget)||Yn(kn)}function un(kn){return currentInput.isTouch?Bt()!==kn.type.indexOf("touch")>=0:!1}function dn(){yn();var kn=yt.props,or=kn.popperOptions,sr=kn.placement,Ar=kn.offset,ar=kn.getReferenceClientRect,Pr=kn.moveTransition,dr=Nt()?getChildren$1(Ct).arrow:null,xr=ar?{getBoundingClientRect:ar,contextElement:ar.contextElement||Xt()}:tt,pr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ur){var Ir=Ur.state;if(Nt()){var jr=sn(),rs=jr.box;["placement","reference-hidden","escaped"].forEach(function(Er){Er==="placement"?rs.setAttribute("data-placement",Ir.placement):Ir.attributes.popper["data-popper-"+Er]?rs.setAttribute("data-"+Er,""):rs.removeAttribute("data-"+Er)}),Ir.attributes.popper={}}}},Sr=[{name:"offset",options:{offset:Ar}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Pr}},pr];Nt()&&dr&&Sr.push({name:"arrow",options:{element:dr,padding:3}}),Sr.push.apply(Sr,(or==null?void 0:or.modifiers)||[]),yt.popperInstance=createPopper(xr,Ct,Object.assign({},or,{placement:sr,onFirstUpdate:ht,modifiers:Sr}))}function yn(){yt.popperInstance&&(yt.popperInstance.destroy(),yt.popperInstance=null)}function bn(){var kn=yt.props.appendTo,or,sr=Xt();yt.props.interactive&&kn===TIPPY_DEFAULT_APPEND_TO||kn==="parent"?or=sr.parentNode:or=invokeWithArgsOrReturn(kn,[sr]),or.contains(Ct)||or.appendChild(Ct),yt.state.isMounted=!0,dn()}function Tn(){return arrayFrom(Ct.querySelectorAll("[data-tippy-root]"))}function Pn(kn){yt.clearDelayTimeouts(),kn&&Ut("onTrigger",[yt,kn]),on();var or=rn(!0),sr=Ft(),Ar=sr[0],ar=sr[1];currentInput.isTouch&&Ar==="hold"&&ar&&(or=ar),or?rt=setTimeout(function(){yt.show()},or):yt.show()}function Yn(kn){if(yt.clearDelayTimeouts(),Ut("onUntrigger",[yt,kn]),!yt.state.isVisible){Wt();return}if(!(yt.props.trigger.indexOf("mouseenter")>=0&&yt.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(kn.type)>=0&&ot)){var or=rn(!1);or?it=setTimeout(function(){yt.state.isVisible&&yt.hide()},or):st=requestAnimationFrame(function(){yt.hide()})}}function Un(){yt.state.isEnabled=!0}function Nn(){yt.hide(),yt.state.isEnabled=!1}function rr(){clearTimeout(rt),clearTimeout(it),cancelAnimationFrame(st)}function Kn(kn){if(!yt.state.isDestroyed){Ut("onBeforeUpdate",[yt,kn]),Fn();var or=yt.props,sr=evaluateProps(tt,Object.assign({},or,removeUndefinedProps(kn),{ignoreAttributes:!0}));yt.props=sr,$n(),or.interactiveDebounce!==sr.interactiveDebounce&&(zt(),xt=debounce(Mn,sr.interactiveDebounce)),or.triggerTarget&&!sr.triggerTarget?normalizeToArray(or.triggerTarget).forEach(function(Ar){Ar.removeAttribute("aria-expanded")}):sr.triggerTarget&&tt.removeAttribute("aria-expanded"),Qt(),Jt(),Rt&&Rt(or,sr),yt.popperInstance&&(dn(),Tn().forEach(function(Ar){requestAnimationFrame(Ar._tippy.popperInstance.forceUpdate)})),Ut("onAfterUpdate",[yt,kn])}}function Vn(kn){yt.setProps({content:kn})}function ir(){var kn=yt.state.isVisible,or=yt.state.isDestroyed,sr=!yt.state.isEnabled,Ar=currentInput.isTouch&&!yt.props.touch,ar=getValueAtIndexOrReturn(yt.props.duration,0,defaultProps.duration);if(!(kn||or||sr||Ar)&&!Xt().hasAttribute("disabled")&&(Ut("onShow",[yt],!1),yt.props.onShow(yt)!==!1)){if(yt.state.isVisible=!0,Nt()&&(Ct.style.visibility="visible"),Jt(),on(),yt.state.isMounted||(Ct.style.transition="none"),Nt()){var Pr=sn(),dr=Pr.box,xr=Pr.content;setTransitionDuration([dr,xr],0)}ht=function(){var Sr;if(!(!yt.state.isVisible||ut)){if(ut=!0,Ct.offsetHeight,Ct.style.transition=yt.props.moveTransition,Nt()&&yt.props.animation){var Or=sn(),Ur=Or.box,Ir=Or.content;setTransitionDuration([Ur,Ir],ar),setVisibilityState([Ur,Ir],"visible")}Kt(),Qt(),pushIfUnique(mountedInstances,yt),(Sr=yt.popperInstance)==null||Sr.forceUpdate(),Ut("onMount",[yt]),yt.props.animation&&Nt()&&vn(ar,function(){yt.state.isShown=!0,Ut("onShown",[yt])})}},bn()}}function gr(){var kn=!yt.state.isVisible,or=yt.state.isDestroyed,sr=!yt.state.isEnabled,Ar=getValueAtIndexOrReturn(yt.props.duration,1,defaultProps.duration);if(!(kn||or||sr)&&(Ut("onHide",[yt],!1),yt.props.onHide(yt)!==!1)){if(yt.state.isVisible=!1,yt.state.isShown=!1,ut=!1,ot=!1,Nt()&&(Ct.style.visibility="hidden"),zt(),Wt(),Jt(!0),Nt()){var ar=sn(),Pr=ar.box,dr=ar.content;yt.props.animation&&(setTransitionDuration([Pr,dr],Ar),setVisibilityState([Pr,dr],"hidden"))}Kt(),Qt(),yt.props.animation?Nt()&&mn(Ar,yt.unmount):yt.unmount()}}function Gr(kn){nn().addEventListener("mousemove",xt),pushIfUnique(mouseMoveListeners,xt),xt(kn)}function Rs(){yt.state.isVisible&&yt.hide(),yt.state.isMounted&&(yn(),Tn().forEach(function(kn){kn._tippy.unmount()}),Ct.parentNode&&Ct.parentNode.removeChild(Ct),mountedInstances=mountedInstances.filter(function(kn){return kn!==yt}),yt.state.isMounted=!1,Ut("onHidden",[yt]))}function $s(){yt.state.isDestroyed||(yt.clearDelayTimeouts(),yt.unmount(),Fn(),delete tt._tippy,yt.state.isDestroyed=!0,Ut("onDestroy",[yt]))}}function tippy(tt,et){et===void 0&&(et={});var nt=defaultProps.plugins.concat(et.plugins||[]);bindGlobalEventListeners();var rt=Object.assign({},et,{plugins:nt}),it=getArrayOfElements(tt),st=it.reduce(function(ot,at){var lt=at&&createTippy(at,rt);return lt&&ot.push(lt),ot},[]);return isElement(tt)?st[0]:st}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function(et){var nt=et.state,rt={popper:{position:nt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(nt.elements.popper.style,rt.popper),nt.styles=rt,nt.elements.arrow&&Object.assign(nt.elements.arrow.style,rt.arrow)}});tippy.setDefaultProps({render});function _objectWithoutPropertiesLoose$1(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,st;for(st=0;st<rt.length;st++)it=rt[st],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}var isBrowser=typeof window<"u"&&typeof document<"u";function preserveRef(tt,et){tt&&(typeof tt=="function"&&tt(et),{}.hasOwnProperty.call(tt,"current")&&(tt.current=et))}function ssrSafeCreateDiv(){return isBrowser&&document.createElement("div")}function toDataAttributes(tt){var et={"data-placement":tt.placement};return tt.referenceHidden&&(et["data-reference-hidden"]=""),tt.escaped&&(et["data-escaped"]=""),et}function deepEqual(tt,et){if(tt===et)return!0;if(typeof tt=="object"&&tt!=null&&typeof et=="object"&&et!=null){if(Object.keys(tt).length!==Object.keys(et).length)return!1;for(var nt in tt)if(et.hasOwnProperty(nt)){if(!deepEqual(tt[nt],et[nt]))return!1}else return!1;return!0}else return!1}function uniqueByShape(tt){var et=[];return tt.forEach(function(nt){et.find(function(rt){return deepEqual(nt,rt)})||et.push(nt)}),et}function deepPreserveProps(tt,et){var nt,rt;return Object.assign({},et,{popperOptions:Object.assign({},tt.popperOptions,et.popperOptions,{modifiers:uniqueByShape([].concat(((nt=tt.popperOptions)==null?void 0:nt.modifiers)||[],((rt=et.popperOptions)==null?void 0:rt.modifiers)||[]))})})}var useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableBox(tt){var et=reactExports.useRef();return et.current||(et.current=typeof tt=="function"?tt():tt),et.current}function updateClassName(tt,et,nt){nt.split(/\s+/).forEach(function(rt){rt&&tt.classList[et](rt)})}var classNamePlugin={name:"className",defaultValue:"",fn:function(et){var nt=et.popper.firstElementChild,rt=function(){var at;return!!((at=et.props.render)!=null&&at.$$tippy)};function it(){et.props.className&&!rt()||updateClassName(nt,"add",et.props.className)}function st(){rt()&&updateClassName(nt,"remove",et.props.className)}return{onCreate:it,onBeforeUpdate:st,onAfterUpdate:it}}};function TippyGenerator(tt){function et(nt){var rt=nt.children,it=nt.content,st=nt.visible,ot=nt.singleton,at=nt.render,lt=nt.reference,ut=nt.disabled,ft=ut===void 0?!1:ut,dt=nt.ignoreAttributes,ht=dt===void 0?!0:dt;nt.__source,nt.__self;var mt=_objectWithoutPropertiesLoose$1(nt,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),xt=st!==void 0,_t=ot!==void 0,At=reactExports.useState(!1),gt=At[0],vt=At[1],Et=reactExports.useState({}),yt=Et[0],wt=Et[1],Ct=reactExports.useState(),Rt=Ct[0],It=Ct[1],$t=useMutableBox(function(){return{container:ssrSafeCreateDiv(),renders:1}}),Ft=Object.assign({ignoreAttributes:ht},mt,{content:$t.container});xt&&(Ft.trigger="manual",Ft.hideOnClick=!1),_t&&(ft=!0);var Bt=Ft,Nt=Ft.plugins||[];at&&(Bt=Object.assign({},Ft,{plugins:_t&&ot.data!=null?[].concat(Nt,[{fn:function(){return{onTrigger:function(rn,Jt){var Ut=ot.data.children.find(function(Kt){var Qt=Kt.instance;return Qt.reference===Jt.currentTarget});rn.state.$$activeSingletonInstance=Ut.instance,It(Ut.content)}}}}]):Nt,render:function(){return{popper:$t.container}}}));var Xt=[lt].concat(rt?[rt.type]:[]);return useIsomorphicLayoutEffect$1(function(){var nn=lt;lt&&lt.hasOwnProperty("current")&&(nn=lt.current);var sn=tt(nn||$t.ref||ssrSafeCreateDiv(),Object.assign({},Bt,{plugins:[classNamePlugin].concat(Ft.plugins||[])}));return $t.instance=sn,ft&&sn.disable(),st&&sn.show(),_t&&ot.hook({instance:sn,content:it,props:Bt,setSingletonContent:It}),vt(!0),function(){sn.destroy(),ot==null||ot.cleanup(sn)}},Xt),useIsomorphicLayoutEffect$1(function(){var nn;if($t.renders===1){$t.renders++;return}var sn=$t.instance;sn.setProps(deepPreserveProps(sn.props,Bt)),(nn=sn.popperInstance)==null||nn.forceUpdate(),ft?sn.disable():sn.enable(),xt&&(st?sn.show():sn.hide()),_t&&ot.hook({instance:sn,content:it,props:Bt,setSingletonContent:It})}),useIsomorphicLayoutEffect$1(function(){var nn;if(at){var sn=$t.instance;sn.setProps({popperOptions:Object.assign({},sn.props.popperOptions,{modifiers:[].concat((((nn=sn.props.popperOptions)==null?void 0:nn.modifiers)||[]).filter(function(rn){var Jt=rn.name;return Jt!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Jt){var Ut,Kt=Jt.state,Qt=(Ut=Kt.modifiersData)==null?void 0:Ut.hide;(yt.placement!==Kt.placement||yt.referenceHidden!==(Qt==null?void 0:Qt.isReferenceHidden)||yt.escaped!==(Qt==null?void 0:Qt.hasPopperEscaped))&&wt({placement:Kt.placement,referenceHidden:Qt==null?void 0:Qt.isReferenceHidden,escaped:Qt==null?void 0:Qt.hasPopperEscaped}),Kt.attributes.popper={}}}])})})}},[yt.placement,yt.referenceHidden,yt.escaped].concat(Xt)),React$1.createElement(React$1.Fragment,null,rt?reactExports.cloneElement(rt,{ref:function(sn){$t.ref=sn,preserveRef(rt.ref,sn)}}):null,gt&&reactDomExports.createPortal(at?at(toDataAttributes(yt),Rt,$t.instance):it,$t.container))}return et}var forwardRef=function(tt,et){return reactExports.forwardRef(function(rt,it){var st=rt.children,ot=_objectWithoutPropertiesLoose$1(rt,["children"]);return React$1.createElement(tt,Object.assign({},et,ot),st?reactExports.cloneElement(st,{ref:function(lt){preserveRef(it,lt),preserveRef(st.ref,lt)}}):null)})},index$4=forwardRef(TippyGenerator(tippy));const Tippy=index$4,borderClass={purple:"purple-box-shadow",blue:"blue-box-shadow",gold:"gold-box-shadow",red:"red-box-shadow",yellow:"yellow-box-shadow",white:"white-box-shadow"};function FooterAssetsBox({value:tt,image:et,alt:nt,borderColor:rt="white",TitleToltip:it,ContentToltip:st}){return jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:it}),jsxRuntimeExports.jsx("p",{children:st})]})}),zIndex:1e4,children:jsxRuntimeExports.jsxs("div",{className:"footer-assets",children:[jsxRuntimeExports.jsx("img",{className:"footer-assets-image",src:et,alt:nt}),jsxRuntimeExports.jsx("div",{className:`footer-value ${borderClass[rt]}`,children:jsxRuntimeExports.jsx("p",{children:tt||"000.0"})})]})})}const PSCImage="/metaverse/assets/coin-psc-a6c43e37.png",IRRImage="/metaverse/assets/coin-irr-4066deee.png",BlueImage="/metaverse/assets/blue-c7071403.png",RedImage="/metaverse/assets/red-c5c321d3.png",YellowImage="/metaverse/assets/yellow-63b9156d.png",SatisfactionICoin="/metaverse/assets/satisfaction-e4855e2c.png";function FooterAssets(){const[tt]=reactExports.useContext(WalletContext);return jsxRuntimeExports.jsxs("section",{className:"footer-section footer-section-one",children:[jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.psc,image:PSCImage,alt:"PSC",borderColor:"purple",TitleToltip:"ارز PSC",ContentToltip:"ارز داخلی متارنگ به منظور معامله های داخلی "}),jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.irr,image:IRRImage,alt:"IRR",borderColor:"gold",TitleToltip:"ارز ریال ",ContentToltip:"دارایی ارزی شما با قابلیت معامله ریالی و استخراج از دنیای موازی متارنگ"}),jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.blue,image:BlueImage,alt:"blue-color",borderColor:"blue",TitleToltip:"رنگ آبی",ContentToltip:"یک واحد قابل خرید از متارنگ به منظور تهیه VOD های آزاد شده آموزشی"}),jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.red,image:RedImage,alt:"red-color",borderColor:"red",TitleToltip:"رنگ قرمز ",ContentToltip:"یک واحد قابل خرید از متارنگ به منظور تهیه VOD های آزاد شده تجاری"}),jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.yellow,image:YellowImage,alt:"yellow-color",borderColor:"yellow",TitleToltip:"رنگ زرد",ContentToltip:"یک واحد قابل خرید از متارنگ به منظور تهیه VOD های آزاد شده مسکونی"}),jsxRuntimeExports.jsx(FooterAssetsBox,{value:tt==null?void 0:tt.satisfaction,image:SatisfactionICoin,alt:"satisfaction",borderColor:"white",TitleToltip:"رضایت",ContentToltip:"یک واحد ارزشمند غیر قابل فروش با قابلیت کرایه"})]})}const CalenderIcon="/metaverse/assets/date-f55ffb28.png",StoreImage="/metaverse/assets/shop-ccb90c3e.png",MesseageIcon="/metaverse/assets/notification-ecc37ee8.png";var reactIs$2={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$4=Symbol.for("react.element"),c$3=Symbol.for("react.portal"),d$2=Symbol.for("react.fragment"),e$3=Symbol.for("react.strict_mode"),f$3=Symbol.for("react.profiler"),g$3=Symbol.for("react.provider"),h$4=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$3=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$3=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$4(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case b$4:switch(tt=tt.type,tt){case d$2:case f$3:case e$3:case m$3:case n$4:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case k$3:case h$4:case l$3:case q$3:case p$3:case g$3:return tt;default:return et}}case c$3:return et}}}reactIs_production_min$1.ContextConsumer=h$4;reactIs_production_min$1.ContextProvider=g$3;reactIs_production_min$1.Element=b$4;reactIs_production_min$1.ForwardRef=l$3;reactIs_production_min$1.Fragment=d$2;reactIs_production_min$1.Lazy=q$3;reactIs_production_min$1.Memo=p$3;reactIs_production_min$1.Portal=c$3;reactIs_production_min$1.Profiler=f$3;reactIs_production_min$1.StrictMode=e$3;reactIs_production_min$1.Suspense=m$3;reactIs_production_min$1.SuspenseList=n$4;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(tt){return v$4(tt)===h$4};reactIs_production_min$1.isContextProvider=function(tt){return v$4(tt)===g$3};reactIs_production_min$1.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===b$4};reactIs_production_min$1.isForwardRef=function(tt){return v$4(tt)===l$3};reactIs_production_min$1.isFragment=function(tt){return v$4(tt)===d$2};reactIs_production_min$1.isLazy=function(tt){return v$4(tt)===q$3};reactIs_production_min$1.isMemo=function(tt){return v$4(tt)===p$3};reactIs_production_min$1.isPortal=function(tt){return v$4(tt)===c$3};reactIs_production_min$1.isProfiler=function(tt){return v$4(tt)===f$3};reactIs_production_min$1.isStrictMode=function(tt){return v$4(tt)===e$3};reactIs_production_min$1.isSuspense=function(tt){return v$4(tt)===m$3};reactIs_production_min$1.isSuspenseList=function(tt){return v$4(tt)===n$4};reactIs_production_min$1.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===d$2||tt===f$3||tt===e$3||tt===m$3||tt===n$4||tt===t$3||typeof tt=="object"&&tt!==null&&(tt.$$typeof===q$3||tt.$$typeof===p$3||tt.$$typeof===g$3||tt.$$typeof===h$4||tt.$$typeof===l$3||tt.$$typeof===u$1||tt.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$4;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports;function stylis_min(tt){function et(Ht,en,an,on,Wt){for(var mn=0,vn=0,En=0,Cn=0,$n,Fn,Ln=0,Mn=0,Gn,er=Gn=$n=0,un=0,dn=0,yn=0,bn=0,Tn=an.length,Pn=Tn-1,Yn,Un="",Nn="",rr="",Kn="",Vn;un<Tn;){if(Fn=an.charCodeAt(un),un===Pn&&vn+Cn+En+mn!==0&&(vn!==0&&(Fn=vn===47?10:47),Cn=En=mn=0,Tn++,Pn++),vn+Cn+En+mn===0){if(un===Pn&&(0<dn&&(Un=Un.replace(ht,"")),0<Un.trim().length)){switch(Fn){case 32:case 9:case 59:case 13:case 10:break;default:Un+=an.charAt(un)}Fn=59}switch(Fn){case 123:for(Un=Un.trim(),$n=Un.charCodeAt(0),Gn=1,bn=++un;un<Tn;){switch(Fn=an.charCodeAt(un)){case 123:Gn++;break;case 125:Gn--;break;case 47:switch(Fn=an.charCodeAt(un+1)){case 42:case 47:e:{for(er=un+1;er<Pn;++er)switch(an.charCodeAt(er)){case 47:if(Fn===42&&an.charCodeAt(er-1)===42&&un+2!==er){un=er+1;break e}break;case 10:if(Fn===47){un=er+1;break e}}un=er}}break;case 91:Fn++;case 40:Fn++;case 34:case 39:for(;un++<Pn&&an.charCodeAt(un)!==Fn;);}if(Gn===0)break;un++}switch(Gn=an.substring(bn,un),$n===0&&($n=(Un=Un.replace(dt,"").trim()).charCodeAt(0)),$n){case 64:switch(0<dn&&(Un=Un.replace(ht,"")),Fn=Un.charCodeAt(1),Fn){case 100:case 109:case 115:case 45:dn=en;break;default:dn=rn}if(Gn=et(en,dn,Gn,Fn,Wt+1),bn=Gn.length,0<Ut&&(dn=nt(rn,Un,yn),Vn=at(3,Gn,dn,en,Xt,Nt,bn,Fn,Wt,on),Un=dn.join(""),Vn!==void 0&&(bn=(Gn=Vn.trim()).length)===0&&(Fn=0,Gn="")),0<bn)switch(Fn){case 115:Un=Un.replace(Ct,ot);case 100:case 109:case 45:Gn=Un+"{"+Gn+"}";break;case 107:Un=Un.replace(vt,"$1 $2"),Gn=Un+"{"+Gn+"}",Gn=sn===1||sn===2&&st("@"+Gn,3)?"@-webkit-"+Gn+"@"+Gn:"@"+Gn;break;default:Gn=Un+Gn,on===112&&(Gn=(Nn+=Gn,""))}else Gn="";break;default:Gn=et(en,nt(en,Un,yn),Gn,on,Wt+1)}rr+=Gn,Gn=yn=dn=er=$n=0,Un="",Fn=an.charCodeAt(++un);break;case 125:case 59:if(Un=(0<dn?Un.replace(ht,""):Un).trim(),1<(bn=Un.length))switch(er===0&&($n=Un.charCodeAt(0),$n===45||96<$n&&123>$n)&&(bn=(Un=Un.replace(" ",":")).length),0<Ut&&(Vn=at(1,Un,en,Ht,Xt,Nt,Nn.length,on,Wt,on))!==void 0&&(bn=(Un=Vn.trim()).length)===0&&(Un="\0\0"),$n=Un.charCodeAt(0),Fn=Un.charCodeAt(1),$n){case 0:break;case 64:if(Fn===105||Fn===99){Kn+=Un+an.charAt(un);break}default:Un.charCodeAt(bn-1)!==58&&(Nn+=it(Un,$n,Fn,Un.charCodeAt(2)))}yn=dn=er=$n=0,Un="",Fn=an.charCodeAt(++un)}}switch(Fn){case 13:case 10:vn===47?vn=0:1+$n===0&&on!==107&&0<Un.length&&(dn=1,Un+="\0"),0<Ut*Qt&&at(0,Un,en,Ht,Xt,Nt,Nn.length,on,Wt,on),Nt=1,Xt++;break;case 59:case 125:if(vn+Cn+En+mn===0){Nt++;break}default:switch(Nt++,Yn=an.charAt(un),Fn){case 9:case 32:if(Cn+mn+vn===0)switch(Ln){case 44:case 58:case 9:case 32:Yn="";break;default:Fn!==32&&(Yn=" ")}break;case 0:Yn="\\0";break;case 12:Yn="\\f";break;case 11:Yn="\\v";break;case 38:Cn+vn+mn===0&&(dn=yn=1,Yn="\f"+Yn);break;case 108:if(Cn+vn+mn+nn===0&&0<er)switch(un-er){case 2:Ln===112&&an.charCodeAt(un-3)===58&&(nn=Ln);case 8:Mn===111&&(nn=Mn)}break;case 58:Cn+vn+mn===0&&(er=un);break;case 44:vn+En+Cn+mn===0&&(dn=1,Yn+="\r");break;case 34:case 39:vn===0&&(Cn=Cn===Fn?0:Cn===0?Fn:Cn);break;case 91:Cn+vn+En===0&&mn++;break;case 93:Cn+vn+En===0&&mn--;break;case 41:Cn+vn+mn===0&&En--;break;case 40:if(Cn+vn+mn===0){if($n===0)switch(2*Ln+3*Mn){case 533:break;default:$n=1}En++}break;case 64:vn+En+Cn+mn+er+Gn===0&&(Gn=1);break;case 42:case 47:if(!(0<Cn+mn+En))switch(vn){case 0:switch(2*Fn+3*an.charCodeAt(un+1)){case 235:vn=47;break;case 220:bn=un,vn=42}break;case 42:Fn===47&&Ln===42&&bn+2!==un&&(an.charCodeAt(bn+2)===33&&(Nn+=an.substring(bn,un+1)),Yn="",vn=0)}}vn===0&&(Un+=Yn)}Mn=Ln,Ln=Fn,un++}if(bn=Nn.length,0<bn){if(dn=en,0<Ut&&(Vn=at(2,Nn,dn,Ht,Xt,Nt,bn,on,Wt,on),Vn!==void 0&&(Nn=Vn).length===0))return Kn+Nn+rr;if(Nn=dn.join(",")+"{"+Nn+"}",sn*nn!==0){switch(sn!==2||st(Nn,2)||(nn=0),nn){case 111:Nn=Nn.replace(yt,":-moz-$1")+Nn;break;case 112:Nn=Nn.replace(Et,"::-webkit-input-$1")+Nn.replace(Et,"::-moz-$1")+Nn.replace(Et,":-ms-input-$1")+Nn}nn=0}}return Kn+Nn+rr}function nt(Ht,en,an){var on=en.trim().split(At);en=on;var Wt=on.length,mn=Ht.length;switch(mn){case 0:case 1:var vn=0;for(Ht=mn===0?"":Ht[0]+" ";vn<Wt;++vn)en[vn]=rt(Ht,en[vn],an).trim();break;default:var En=vn=0;for(en=[];vn<Wt;++vn)for(var Cn=0;Cn<mn;++Cn)en[En++]=rt(Ht[Cn]+" ",on[vn],an).trim()}return en}function rt(Ht,en,an){var on=en.charCodeAt(0);switch(33>on&&(on=(en=en.trim()).charCodeAt(0)),on){case 38:return en.replace(gt,"$1"+Ht.trim());case 58:return Ht.trim()+en.replace(gt,"$1"+Ht.trim());default:if(0<1*an&&0<en.indexOf("\f"))return en.replace(gt,(Ht.charCodeAt(0)===58?"":"$1")+Ht.trim())}return Ht+en}function it(Ht,en,an,on){var Wt=Ht+";",mn=2*en+3*an+4*on;if(mn===944){Ht=Wt.indexOf(":",9)+1;var vn=Wt.substring(Ht,Wt.length-1).trim();return vn=Wt.substring(0,Ht).trim()+vn+";",sn===1||sn===2&&st(vn,1)?"-webkit-"+vn+vn:vn}if(sn===0||sn===2&&!st(Wt,1))return Wt;switch(mn){case 1015:return Wt.charCodeAt(10)===97?"-webkit-"+Wt+Wt:Wt;case 951:return Wt.charCodeAt(3)===116?"-webkit-"+Wt+Wt:Wt;case 963:return Wt.charCodeAt(5)===110?"-webkit-"+Wt+Wt:Wt;case 1009:if(Wt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Wt+Wt;case 978:return"-webkit-"+Wt+"-moz-"+Wt+Wt;case 1019:case 983:return"-webkit-"+Wt+"-moz-"+Wt+"-ms-"+Wt+Wt;case 883:if(Wt.charCodeAt(8)===45)return"-webkit-"+Wt+Wt;if(0<Wt.indexOf("image-set(",11))return Wt.replace(Bt,"$1-webkit-$2")+Wt;break;case 932:if(Wt.charCodeAt(4)===45)switch(Wt.charCodeAt(5)){case 103:return"-webkit-box-"+Wt.replace("-grow","")+"-webkit-"+Wt+"-ms-"+Wt.replace("grow","positive")+Wt;case 115:return"-webkit-"+Wt+"-ms-"+Wt.replace("shrink","negative")+Wt;case 98:return"-webkit-"+Wt+"-ms-"+Wt.replace("basis","preferred-size")+Wt}return"-webkit-"+Wt+"-ms-"+Wt+Wt;case 964:return"-webkit-"+Wt+"-ms-flex-"+Wt+Wt;case 1023:if(Wt.charCodeAt(8)!==99)break;return vn=Wt.substring(Wt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+vn+"-webkit-"+Wt+"-ms-flex-pack"+vn+Wt;case 1005:return xt.test(Wt)?Wt.replace(mt,":-webkit-")+Wt.replace(mt,":-moz-")+Wt:Wt;case 1e3:switch(vn=Wt.substring(13).trim(),en=vn.indexOf("-")+1,vn.charCodeAt(0)+vn.charCodeAt(en)){case 226:vn=Wt.replace(wt,"tb");break;case 232:vn=Wt.replace(wt,"tb-rl");break;case 220:vn=Wt.replace(wt,"lr");break;default:return Wt}return"-webkit-"+Wt+"-ms-"+vn+Wt;case 1017:if(Wt.indexOf("sticky",9)===-1)break;case 975:switch(en=(Wt=Ht).length-10,vn=(Wt.charCodeAt(en)===33?Wt.substring(0,en):Wt).substring(Ht.indexOf(":",7)+1).trim(),mn=vn.charCodeAt(0)+(vn.charCodeAt(7)|0)){case 203:if(111>vn.charCodeAt(8))break;case 115:Wt=Wt.replace(vn,"-webkit-"+vn)+";"+Wt;break;case 207:case 102:Wt=Wt.replace(vn,"-webkit-"+(102<mn?"inline-":"")+"box")+";"+Wt.replace(vn,"-webkit-"+vn)+";"+Wt.replace(vn,"-ms-"+vn+"box")+";"+Wt}return Wt+";";case 938:if(Wt.charCodeAt(5)===45)switch(Wt.charCodeAt(6)){case 105:return vn=Wt.replace("-items",""),"-webkit-"+Wt+"-webkit-box-"+vn+"-ms-flex-"+vn+Wt;case 115:return"-webkit-"+Wt+"-ms-flex-item-"+Wt.replace(It,"")+Wt;default:return"-webkit-"+Wt+"-ms-flex-line-pack"+Wt.replace("align-content","").replace(It,"")+Wt}break;case 973:case 989:if(Wt.charCodeAt(3)!==45||Wt.charCodeAt(4)===122)break;case 931:case 953:if(Ft.test(Ht)===!0)return(vn=Ht.substring(Ht.indexOf(":")+1)).charCodeAt(0)===115?it(Ht.replace("stretch","fill-available"),en,an,on).replace(":fill-available",":stretch"):Wt.replace(vn,"-webkit-"+vn)+Wt.replace(vn,"-moz-"+vn.replace("fill-",""))+Wt;break;case 962:if(Wt="-webkit-"+Wt+(Wt.charCodeAt(5)===102?"-ms-"+Wt:"")+Wt,an+on===211&&Wt.charCodeAt(13)===105&&0<Wt.indexOf("transform",10))return Wt.substring(0,Wt.indexOf(";",27)+1).replace(_t,"$1-webkit-$2")+Wt}return Wt}function st(Ht,en){var an=Ht.indexOf(en===1?":":"{"),on=Ht.substring(0,en!==3?an:10);return an=Ht.substring(an+1,Ht.length-1),Kt(en!==2?on:on.replace($t,"$1"),an,en)}function ot(Ht,en){var an=it(en,en.charCodeAt(0),en.charCodeAt(1),en.charCodeAt(2));return an!==en+";"?an.replace(Rt," or ($1)").substring(4):"("+en+")"}function at(Ht,en,an,on,Wt,mn,vn,En,Cn,$n){for(var Fn=0,Ln=en,Mn;Fn<Ut;++Fn)switch(Mn=Jt[Fn].call(ft,Ht,Ln,an,on,Wt,mn,vn,En,Cn,$n)){case void 0:case!1:case!0:case null:break;default:Ln=Mn}if(Ln!==en)return Ln}function lt(Ht){switch(Ht){case void 0:case null:Ut=Jt.length=0;break;default:if(typeof Ht=="function")Jt[Ut++]=Ht;else if(typeof Ht=="object")for(var en=0,an=Ht.length;en<an;++en)lt(Ht[en]);else Qt=!!Ht|0}return lt}function ut(Ht){return Ht=Ht.prefix,Ht!==void 0&&(Kt=null,Ht?typeof Ht!="function"?sn=1:(sn=2,Kt=Ht):sn=0),ut}function ft(Ht,en){var an=Ht;if(33>an.charCodeAt(0)&&(an=an.trim()),zt=an,an=[zt],0<Ut){var on=at(-1,en,an,an,Xt,Nt,0,0,0,0);on!==void 0&&typeof on=="string"&&(en=on)}var Wt=et(rn,an,en,0,0);return 0<Ut&&(on=at(-2,Wt,an,an,Xt,Nt,Wt.length,0,0,0),on!==void 0&&(Wt=on)),zt="",nn=0,Nt=Xt=1,Wt}var dt=/^\0+/g,ht=/[\0\r\f]/g,mt=/: */g,xt=/zoo|gra/,_t=/([,: ])(transform)/g,At=/,\r+?/g,gt=/([\t\r\n ])*\f?&/g,vt=/@(k\w+)\s*(\S*)\s*/,Et=/::(place)/g,yt=/:(read-only)/g,wt=/[svh]\w+-[tblr]{2}/,Ct=/\(\s*(.*)\s*\)/g,Rt=/([\s\S]*?);/g,It=/-self|flex-/g,$t=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ft=/stretch|:\s*\w+\-(?:conte|avail)/,Bt=/([^-])(image-set\()/,Nt=1,Xt=1,nn=0,sn=1,rn=[],Jt=[],Ut=0,Kt=null,Qt=0,zt="";return ft.use=lt,ft.set=ut,tt!==void 0&&ut(tt),ft}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(tt){var et=Object.create(null);return function(nt){return et[nt]===void 0&&(et[nt]=tt(nt)),et[nt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(tt){return reactPropsRegex.test(tt)||tt.charCodeAt(0)===111&&tt.charCodeAt(1)===110&&tt.charCodeAt(2)<91}),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$1=b$3?Symbol.for("react.portal"):60106,e$2=b$3?Symbol.for("react.fragment"):60107,f$2=b$3?Symbol.for("react.strict_mode"):60108,g$2=b$3?Symbol.for("react.profiler"):60114,h$3=b$3?Symbol.for("react.provider"):60109,k$2=b$3?Symbol.for("react.context"):60110,l$2=b$3?Symbol.for("react.async_mode"):60111,m$2=b$3?Symbol.for("react.concurrent_mode"):60111,n$3=b$3?Symbol.for("react.forward_ref"):60112,p$2=b$3?Symbol.for("react.suspense"):60113,q$2=b$3?Symbol.for("react.suspense_list"):60120,r$3=b$3?Symbol.for("react.memo"):60115,t$2=b$3?Symbol.for("react.lazy"):60116,v$3=b$3?Symbol.for("react.block"):60121,w$3=b$3?Symbol.for("react.fundamental"):60117,x$2=b$3?Symbol.for("react.responder"):60118,y$2=b$3?Symbol.for("react.scope"):60119;function z$1(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case c$2:switch(tt=tt.type,tt){case l$2:case m$2:case e$2:case g$2:case f$2:case p$2:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case k$2:case n$3:case t$2:case r$3:case h$3:return tt;default:return et}}case d$1:return et}}}function A$2(tt){return z$1(tt)===m$2}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$3;reactIs_production_min.Element=c$2;reactIs_production_min.ForwardRef=n$3;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$3;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$2;reactIs_production_min.StrictMode=f$2;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(tt){return A$2(tt)||z$1(tt)===l$2};reactIs_production_min.isConcurrentMode=A$2;reactIs_production_min.isContextConsumer=function(tt){return z$1(tt)===k$2};reactIs_production_min.isContextProvider=function(tt){return z$1(tt)===h$3};reactIs_production_min.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===c$2};reactIs_production_min.isForwardRef=function(tt){return z$1(tt)===n$3};reactIs_production_min.isFragment=function(tt){return z$1(tt)===e$2};reactIs_production_min.isLazy=function(tt){return z$1(tt)===t$2};reactIs_production_min.isMemo=function(tt){return z$1(tt)===r$3};reactIs_production_min.isPortal=function(tt){return z$1(tt)===d$1};reactIs_production_min.isProfiler=function(tt){return z$1(tt)===g$2};reactIs_production_min.isStrictMode=function(tt){return z$1(tt)===f$2};reactIs_production_min.isSuspense=function(tt){return z$1(tt)===p$2};reactIs_production_min.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===e$2||tt===m$2||tt===g$2||tt===f$2||tt===p$2||tt===q$2||typeof tt=="object"&&tt!==null&&(tt.$$typeof===t$2||tt.$$typeof===r$3||tt.$$typeof===h$3||tt.$$typeof===k$2||tt.$$typeof===n$3||tt.$$typeof===w$3||tt.$$typeof===x$2||tt.$$typeof===y$2||tt.$$typeof===v$3)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(tt){return reactIs.isMemo(tt)?MEMO_STATICS:TYPE_STATICS[tt.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(tt,et,nt){if(typeof et!="string"){if(objectPrototype){var rt=getPrototypeOf$1(et);rt&&rt!==objectPrototype&&hoistNonReactStatics(tt,rt,nt)}var it=getOwnPropertyNames(et);getOwnPropertySymbols&&(it=it.concat(getOwnPropertySymbols(et)));for(var st=getStatics(tt),ot=getStatics(et),at=0;at<it.length;++at){var lt=it[at];if(!KNOWN_STATICS[lt]&&!(nt&&nt[lt])&&!(ot&&ot[lt])&&!(st&&st[lt])){var ut=getOwnPropertyDescriptor(et,lt);try{defineProperty(tt,lt,ut)}catch{}}}}return tt}var hoistNonReactStatics_cjs=hoistNonReactStatics;const y$1=getDefaultExportFromCjs(hoistNonReactStatics_cjs);function v$2(){return(v$2=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt}).apply(this,arguments)}var g$1=function(tt,et){for(var nt=[tt[0]],rt=0,it=et.length;rt<it;rt+=1)nt.push(et[rt],tt[rt+1]);return nt},S$1=function(tt){return tt!==null&&typeof tt=="object"&&(tt.toString?tt.toString():Object.prototype.toString.call(tt))==="[object Object]"&&!reactIsExports$1.typeOf(tt)},w$2=Object.freeze([]),E$1=Object.freeze({});function b$2(tt){return typeof tt=="function"}function _$1(tt){return tt.displayName||tt.name||"Component"}function N$1(tt){return tt&&typeof tt.styledComponentId=="string"}var A$1=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",I$1=typeof window<"u"&&"HTMLElement"in window,P$1=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function j$1(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];throw new Error("An error occurred. See https://git.io/JUIaE#"+tt+" for more information."+(nt.length>0?" Args: "+nt.join(", "):""))}var T$1=function(){function tt(nt){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=nt}var et=tt.prototype;return et.indexOfGroup=function(nt){for(var rt=0,it=0;it<nt;it++)rt+=this.groupSizes[it];return rt},et.insertRules=function(nt,rt){if(nt>=this.groupSizes.length){for(var it=this.groupSizes,st=it.length,ot=st;nt>=ot;)(ot<<=1)<0&&j$1(16,""+nt);this.groupSizes=new Uint32Array(ot),this.groupSizes.set(it),this.length=ot;for(var at=st;at<ot;at++)this.groupSizes[at]=0}for(var lt=this.indexOfGroup(nt+1),ut=0,ft=rt.length;ut<ft;ut++)this.tag.insertRule(lt,rt[ut])&&(this.groupSizes[nt]++,lt++)},et.clearGroup=function(nt){if(nt<this.length){var rt=this.groupSizes[nt],it=this.indexOfGroup(nt),st=it+rt;this.groupSizes[nt]=0;for(var ot=it;ot<st;ot++)this.tag.deleteRule(it)}},et.getGroup=function(nt){var rt="";if(nt>=this.length||this.groupSizes[nt]===0)return rt;for(var it=this.groupSizes[nt],st=this.indexOfGroup(nt),ot=st+it,at=st;at<ot;at++)rt+=this.tag.getRule(at)+`/*!sc*/
`;return rt},tt}(),x$1=new Map,k$1=new Map,V$2=1,B=function(tt){if(x$1.has(tt))return x$1.get(tt);for(;k$1.has(V$2);)V$2++;var et=V$2++;return x$1.set(tt,et),k$1.set(et,tt),et},z=function(tt){return k$1.get(tt)},M$1=function(tt,et){et>=V$2&&(V$2=et+1),x$1.set(tt,et),k$1.set(et,tt)},G$1="style["+A$1+'][data-styled-version="5.3.10"]',L$2=new RegExp("^"+A$1+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F$1=function(tt,et,nt){for(var rt,it=nt.split(","),st=0,ot=it.length;st<ot;st++)(rt=it[st])&&tt.registerName(et,rt)},Y$1=function(tt,et){for(var nt=(et.textContent||"").split(`/*!sc*/
`),rt=[],it=0,st=nt.length;it<st;it++){var ot=nt[it].trim();if(ot){var at=ot.match(L$2);if(at){var lt=0|parseInt(at[1],10),ut=at[2];lt!==0&&(M$1(ut,lt),F$1(tt,ut,at[3]),tt.getTag().insertRules(lt,rt)),rt.length=0}else rt.push(ot)}}},q$1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},H$2=function(tt){var et=document.head,nt=tt||et,rt=document.createElement("style"),it=function(at){for(var lt=at.childNodes,ut=lt.length;ut>=0;ut--){var ft=lt[ut];if(ft&&ft.nodeType===1&&ft.hasAttribute(A$1))return ft}}(nt),st=it!==void 0?it.nextSibling:null;rt.setAttribute(A$1,"active"),rt.setAttribute("data-styled-version","5.3.10");var ot=q$1();return ot&&rt.setAttribute("nonce",ot),nt.insertBefore(rt,st),rt},$=function(){function tt(nt){var rt=this.element=H$2(nt);rt.appendChild(document.createTextNode("")),this.sheet=function(it){if(it.sheet)return it.sheet;for(var st=document.styleSheets,ot=0,at=st.length;ot<at;ot++){var lt=st[ot];if(lt.ownerNode===it)return lt}j$1(17)}(rt),this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){try{return this.sheet.insertRule(rt,nt),this.length++,!0}catch{return!1}},et.deleteRule=function(nt){this.sheet.deleteRule(nt),this.length--},et.getRule=function(nt){var rt=this.sheet.cssRules[nt];return rt!==void 0&&typeof rt.cssText=="string"?rt.cssText:""},tt}(),W$1=function(){function tt(nt){var rt=this.element=H$2(nt);this.nodes=rt.childNodes,this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){if(nt<=this.length&&nt>=0){var it=document.createTextNode(rt),st=this.nodes[nt];return this.element.insertBefore(it,st||null),this.length++,!0}return!1},et.deleteRule=function(nt){this.element.removeChild(this.nodes[nt]),this.length--},et.getRule=function(nt){return nt<this.length?this.nodes[nt].textContent:""},tt}(),U$1=function(){function tt(nt){this.rules=[],this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){return nt<=this.length&&(this.rules.splice(nt,0,rt),this.length++,!0)},et.deleteRule=function(nt){this.rules.splice(nt,1),this.length--},et.getRule=function(nt){return nt<this.length?this.rules[nt]:""},tt}(),J$1=I$1,X={isServer:!I$1,useCSSOMInjection:!P$1},Z=function(){function tt(nt,rt,it){nt===void 0&&(nt=E$1),rt===void 0&&(rt={}),this.options=v$2({},X,{},nt),this.gs=rt,this.names=new Map(it),this.server=!!nt.isServer,!this.server&&I$1&&J$1&&(J$1=!1,function(st){for(var ot=document.querySelectorAll(G$1),at=0,lt=ot.length;at<lt;at++){var ut=ot[at];ut&&ut.getAttribute(A$1)!=="active"&&(Y$1(st,ut),ut.parentNode&&ut.parentNode.removeChild(ut))}}(this))}tt.registerId=function(nt){return B(nt)};var et=tt.prototype;return et.reconstructWithOptions=function(nt,rt){return rt===void 0&&(rt=!0),new tt(v$2({},this.options,{},nt),this.gs,rt&&this.names||void 0)},et.allocateGSInstance=function(nt){return this.gs[nt]=(this.gs[nt]||0)+1},et.getTag=function(){return this.tag||(this.tag=(it=(rt=this.options).isServer,st=rt.useCSSOMInjection,ot=rt.target,nt=it?new U$1(ot):st?new $(ot):new W$1(ot),new T$1(nt)));var nt,rt,it,st,ot},et.hasNameForId=function(nt,rt){return this.names.has(nt)&&this.names.get(nt).has(rt)},et.registerName=function(nt,rt){if(B(nt),this.names.has(nt))this.names.get(nt).add(rt);else{var it=new Set;it.add(rt),this.names.set(nt,it)}},et.insertRules=function(nt,rt,it){this.registerName(nt,rt),this.getTag().insertRules(B(nt),it)},et.clearNames=function(nt){this.names.has(nt)&&this.names.get(nt).clear()},et.clearRules=function(nt){this.getTag().clearGroup(B(nt)),this.clearNames(nt)},et.clearTag=function(){this.tag=void 0},et.toString=function(){return function(nt){for(var rt=nt.getTag(),it=rt.length,st="",ot=0;ot<it;ot++){var at=z(ot);if(at!==void 0){var lt=nt.names.get(at),ut=rt.getGroup(ot);if(lt&&ut&&lt.size){var ft=A$1+".g"+ot+'[id="'+at+'"]',dt="";lt!==void 0&&lt.forEach(function(ht){ht.length>0&&(dt+=ht+",")}),st+=""+ut+ft+'{content:"'+dt+`"}/*!sc*/
`}}}return st}(this)},tt}(),K=/(a)(d)/gi,Q=function(tt){return String.fromCharCode(tt+(tt>25?39:97))};function ee$1(tt){var et,nt="";for(et=Math.abs(tt);et>52;et=et/52|0)nt=Q(et%52)+nt;return(Q(et%52)+nt).replace(K,"$1-$2")}var te$1=function(tt,et){for(var nt=et.length;nt;)tt=33*tt^et.charCodeAt(--nt);return tt},ne$1=function(tt){return te$1(5381,tt)};function re$1(tt){for(var et=0;et<tt.length;et+=1){var nt=tt[et];if(b$2(nt)&&!N$1(nt))return!1}return!0}var oe$1=ne$1("5.3.10"),se$1=function(){function tt(et,nt,rt){this.rules=et,this.staticRulesId="",this.isStatic=(rt===void 0||rt.isStatic)&&re$1(et),this.componentId=nt,this.baseHash=te$1(oe$1,nt),this.baseStyle=rt,Z.registerId(nt)}return tt.prototype.generateAndInjectStyles=function(et,nt,rt){var it=this.componentId,st=[];if(this.baseStyle&&st.push(this.baseStyle.generateAndInjectStyles(et,nt,rt)),this.isStatic&&!rt.hash)if(this.staticRulesId&&nt.hasNameForId(it,this.staticRulesId))st.push(this.staticRulesId);else{var ot=Ne$1(this.rules,et,nt,rt).join(""),at=ee$1(te$1(this.baseHash,ot)>>>0);if(!nt.hasNameForId(it,at)){var lt=rt(ot,"."+at,void 0,it);nt.insertRules(it,at,lt)}st.push(at),this.staticRulesId=at}else{for(var ut=this.rules.length,ft=te$1(this.baseHash,rt.hash),dt="",ht=0;ht<ut;ht++){var mt=this.rules[ht];if(typeof mt=="string")dt+=mt;else if(mt){var xt=Ne$1(mt,et,nt,rt),_t=Array.isArray(xt)?xt.join(""):xt;ft=te$1(ft,_t+ht),dt+=_t}}if(dt){var At=ee$1(ft>>>0);if(!nt.hasNameForId(it,At)){var gt=rt(dt,"."+At,void 0,it);nt.insertRules(it,At,gt)}st.push(At)}}return st.join(" ")},tt}(),ie=/^\s*\/\/.*$/gm,ae$1=[":","[",".","#"];function ce$1(tt){var et,nt,rt,it,st=tt===void 0?E$1:tt,ot=st.options,at=ot===void 0?E$1:ot,lt=st.plugins,ut=lt===void 0?w$2:lt,ft=new stylis_min(at),dt=[],ht=function(_t){function At(gt){if(gt)try{_t(gt+"}")}catch{}}return function(gt,vt,Et,yt,wt,Ct,Rt,It,$t,Ft){switch(gt){case 1:if($t===0&&vt.charCodeAt(0)===64)return _t(vt+";"),"";break;case 2:if(It===0)return vt+"/*|*/";break;case 3:switch(It){case 102:case 112:return _t(Et[0]+vt),"";default:return vt+(Ft===0?"/*|*/":"")}case-2:vt.split("/*|*/}").forEach(At)}}}(function(_t){dt.push(_t)}),mt=function(_t,At,gt){return At===0&&ae$1.indexOf(gt[nt.length])!==-1||gt.match(it)?_t:"."+et};function xt(_t,At,gt,vt){vt===void 0&&(vt="&");var Et=_t.replace(ie,""),yt=At&&gt?gt+" "+At+" { "+Et+" }":Et;return et=vt,nt=At,rt=new RegExp("\\"+nt+"\\b","g"),it=new RegExp("(\\"+nt+"\\b){2,}"),ft(gt||!At?"":At,yt)}return ft.use([].concat(ut,[function(_t,At,gt){_t===2&&gt.length&&gt[0].lastIndexOf(nt)>0&&(gt[0]=gt[0].replace(rt,mt))},ht,function(_t){if(_t===-2){var At=dt;return dt=[],At}}])),xt.hash=ut.length?ut.reduce(function(_t,At){return At.name||j$1(15),te$1(_t,At.name)},5381).toString():"",xt}var ue$1=React$1.createContext();ue$1.Consumer;var de=React$1.createContext(),he$1=(de.Consumer,new Z),pe=ce$1();function fe$1(){return reactExports.useContext(ue$1)||he$1}function me$1(){return reactExports.useContext(de)||pe}var ve$1=function(){function tt(et,nt){var rt=this;this.inject=function(it,st){st===void 0&&(st=pe);var ot=rt.name+st.hash;it.hasNameForId(rt.id,ot)||it.insertRules(rt.id,ot,st(rt.rules,ot,"@keyframes"))},this.toString=function(){return j$1(12,String(rt.name))},this.name=et,this.id="sc-keyframes-"+et,this.rules=nt}return tt.prototype.getName=function(et){return et===void 0&&(et=pe),this.name+et.hash},tt}(),ge=/([A-Z])/,Se=/([A-Z])/g,we=/^ms-/,Ee=function(tt){return"-"+tt.toLowerCase()};function be$1(tt){return ge.test(tt)?tt.replace(Se,Ee).replace(we,"-ms-"):tt}var _e=function(tt){return tt==null||tt===!1||tt===""};function Ne$1(tt,et,nt,rt){if(Array.isArray(tt)){for(var it,st=[],ot=0,at=tt.length;ot<at;ot+=1)(it=Ne$1(tt[ot],et,nt,rt))!==""&&(Array.isArray(it)?st.push.apply(st,it):st.push(it));return st}if(_e(tt))return"";if(N$1(tt))return"."+tt.styledComponentId;if(b$2(tt)){if(typeof(ut=tt)!="function"||ut.prototype&&ut.prototype.isReactComponent||!et)return tt;var lt=tt(et);return Ne$1(lt,et,nt,rt)}var ut;return tt instanceof ve$1?nt?(tt.inject(nt,rt),tt.getName(rt)):tt:S$1(tt)?function ft(dt,ht){var mt,xt,_t=[];for(var At in dt)dt.hasOwnProperty(At)&&!_e(dt[At])&&(Array.isArray(dt[At])&&dt[At].isCss||b$2(dt[At])?_t.push(be$1(At)+":",dt[At],";"):S$1(dt[At])?_t.push.apply(_t,ft(dt[At],At)):_t.push(be$1(At)+": "+(mt=At,(xt=dt[At])==null||typeof xt=="boolean"||xt===""?"":typeof xt!="number"||xt===0||mt in unitlessKeys||mt.startsWith("--")?String(xt).trim():xt+"px")+";"));return ht?[ht+" {"].concat(_t,["}"]):_t}(tt):tt.toString()}var Ae=function(tt){return Array.isArray(tt)&&(tt.isCss=!0),tt};function Ce$1(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];return b$2(tt)||S$1(tt)?Ae(Ne$1(g$1(w$2,[tt].concat(nt)))):nt.length===0&&tt.length===1&&typeof tt[0]=="string"?tt:Ae(Ne$1(g$1(tt,nt)))}var Re=function(tt,et,nt){return nt===void 0&&(nt=E$1),tt.theme!==nt.theme&&tt.theme||et||nt.theme},De=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,je=/(^-|-$)/g;function Te(tt){return tt.replace(De,"-").replace(je,"")}var xe=function(tt){return ee$1(ne$1(tt)>>>0)};function ke(tt){return typeof tt=="string"&&!0}var Ve=function(tt){return typeof tt=="function"||typeof tt=="object"&&tt!==null&&!Array.isArray(tt)},Be=function(tt){return tt!=="__proto__"&&tt!=="constructor"&&tt!=="prototype"};function ze(tt,et,nt){var rt=tt[nt];Ve(et)&&Ve(rt)?Me(rt,et):tt[nt]=et}function Me(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];for(var it=0,st=nt;it<st.length;it++){var ot=st[it];if(Ve(ot))for(var at in ot)Be(at)&&ze(tt,ot[at],at)}return tt}var Ge=React$1.createContext();Ge.Consumer;var Ye={};function qe(tt,et,nt){var rt=N$1(tt),it=!ke(tt),st=et.attrs,ot=st===void 0?w$2:st,at=et.componentId,lt=at===void 0?function(vt,Et){var yt=typeof vt!="string"?"sc":Te(vt);Ye[yt]=(Ye[yt]||0)+1;var wt=yt+"-"+xe("5.3.10"+yt+Ye[yt]);return Et?Et+"-"+wt:wt}(et.displayName,et.parentComponentId):at,ut=et.displayName,ft=ut===void 0?function(vt){return ke(vt)?"styled."+vt:"Styled("+_$1(vt)+")"}(tt):ut,dt=et.displayName&&et.componentId?Te(et.displayName)+"-"+et.componentId:et.componentId||lt,ht=rt&&tt.attrs?Array.prototype.concat(tt.attrs,ot).filter(Boolean):ot,mt=et.shouldForwardProp;rt&&tt.shouldForwardProp&&(mt=et.shouldForwardProp?function(vt,Et,yt){return tt.shouldForwardProp(vt,Et,yt)&&et.shouldForwardProp(vt,Et,yt)}:tt.shouldForwardProp);var xt,_t=new se$1(nt,dt,rt?tt.componentStyle:void 0),At=_t.isStatic&&ot.length===0,gt=function(vt,Et){return function(yt,wt,Ct,Rt){var It=yt.attrs,$t=yt.componentStyle,Ft=yt.defaultProps,Bt=yt.foldedComponentIds,Nt=yt.shouldForwardProp,Xt=yt.styledComponentId,nn=yt.target,sn=function(on,Wt,mn){on===void 0&&(on=E$1);var vn=v$2({},Wt,{theme:on}),En={};return mn.forEach(function(Cn){var $n,Fn,Ln,Mn=Cn;for($n in b$2(Mn)&&(Mn=Mn(vn)),Mn)vn[$n]=En[$n]=$n==="className"?(Fn=En[$n],Ln=Mn[$n],Fn&&Ln?Fn+" "+Ln:Fn||Ln):Mn[$n]}),[vn,En]}(Re(wt,reactExports.useContext(Ge),Ft)||E$1,wt,It),rn=sn[0],Jt=sn[1],Ut=function(on,Wt,mn,vn){var En=fe$1(),Cn=me$1(),$n=Wt?on.generateAndInjectStyles(E$1,En,Cn):on.generateAndInjectStyles(mn,En,Cn);return $n}($t,Rt,rn),Kt=Ct,Qt=Jt.$as||wt.$as||Jt.as||wt.as||nn,zt=ke(Qt),Ht=Jt!==wt?v$2({},wt,{},Jt):wt,en={};for(var an in Ht)an[0]!=="$"&&an!=="as"&&(an==="forwardedAs"?en.as=Ht[an]:(Nt?Nt(an,isPropValid,Qt):!zt||isPropValid(an))&&(en[an]=Ht[an]));return wt.style&&Jt.style!==wt.style&&(en.style=v$2({},wt.style,{},Jt.style)),en.className=Array.prototype.concat(Bt,Xt,Ut!==Xt?Ut:null,wt.className,Jt.className).filter(Boolean).join(" "),en.ref=Kt,reactExports.createElement(Qt,en)}(xt,vt,Et,At)};return gt.displayName=ft,(xt=React$1.forwardRef(gt)).attrs=ht,xt.componentStyle=_t,xt.displayName=ft,xt.shouldForwardProp=mt,xt.foldedComponentIds=rt?Array.prototype.concat(tt.foldedComponentIds,tt.styledComponentId):w$2,xt.styledComponentId=dt,xt.target=rt?tt.target:tt,xt.withComponent=function(vt){var Et=et.componentId,yt=function(Ct,Rt){if(Ct==null)return{};var It,$t,Ft={},Bt=Object.keys(Ct);for($t=0;$t<Bt.length;$t++)It=Bt[$t],Rt.indexOf(It)>=0||(Ft[It]=Ct[It]);return Ft}(et,["componentId"]),wt=Et&&Et+"-"+(ke(vt)?vt:Te(_$1(vt)));return qe(vt,v$2({},yt,{attrs:ht,componentId:wt}),nt)},Object.defineProperty(xt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(vt){this._foldedDefaultProps=rt?Me({},tt.defaultProps,vt):vt}}),Object.defineProperty(xt,"toString",{value:function(){return"."+xt.styledComponentId}}),it&&y$1(xt,tt,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),xt}var He=function(tt){return function et(nt,rt,it){if(it===void 0&&(it=E$1),!reactIsExports$1.isValidElementType(rt))return j$1(1,String(rt));var st=function(){return nt(rt,it,Ce$1.apply(void 0,arguments))};return st.withConfig=function(ot){return et(nt,rt,v$2({},it,{},ot))},st.attrs=function(ot){return et(nt,rt,v$2({},it,{attrs:Array.prototype.concat(it.attrs,ot).filter(Boolean)}))},st}(qe,tt)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(tt){He[tt]=He(tt)});const styled=He,Container$S=styled.div`
  position: relative;
`,Counter=styled.span`
  position: absolute;
  background-color: red;
  width: 20px;
  height: 20px;
  text-align: center;
  border-radius: 100%;
  font-family: iransans;
  font-weight: bold;
  font-size: 14px;
  top: -4px;
  color: white;
`;function FooterButtons(){const{getUser:tt}=useAuth(),et=useNavigate();return jsxRuntimeExports.jsxs("section",{className:"footer-section footer-section-two",children:[jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"تقویم"}),jsxRuntimeExports.jsx("p",{children:"لیست رویداد های زمانبندی شده"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsx("img",{className:"footer-icon-button",src:CalenderIcon,alt:"calendar"})}),jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"فروشگاه مرکزی"}),jsxRuntimeExports.jsx("p",{children:"لیست محصولات متارنگ"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsx("img",{className:"footer-icon-button",src:StoreImage,alt:"shop",onClick:()=>et("/metaverse/store")})}),jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"اطلاعیه و اخبار"}),jsxRuntimeExports.jsx("p",{children:"اطلاعیه ها و اخبار های سراسری متارنگ"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsxs(Container$S,{children:[tt().notifications>0&&jsxRuntimeExports.jsx(Counter,{children:tt().notifications}),jsxRuntimeExports.jsx("img",{className:"footer-icon-button",src:MesseageIcon,alt:"notification",onClick:()=>et("/metaverse/notifications")})]})})]})}const Error$1="/metaverse/assets/warning-e46adee0.png";function FooterWarning(){const tt=useNavigate();return jsxRuntimeExports.jsx("section",{className:"footer-section footer-section-four",children:jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container ",style:{marginLeft:"-16%"},children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"اخطار"}),jsxRuntimeExports.jsx("p",{children:"درصورت بروز هرگونه مشکل برای رفع آن ما را با خبر سازید"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsx("img",{className:"footer-icon-button yellow-drop-shadow",src:Error$1,alt:"warning",onClick:()=>tt("/metaverse/report")})})})}function FooterTextBox({className:tt,Text:et}){return jsxRuntimeExports.jsx("div",{className:`footer-value white-box-shadow text-success text-center text-bold ${tt}`,children:jsxRuntimeExports.jsx("p",{children:et})})}function FooterClock(){const[tt,et]=reactExports.useState("12:00:00");return reactExports.useEffect(()=>{const nt=setInterval(()=>{et(new Date().toLocaleTimeString().split(" ")[0])},1e3);return()=>clearInterval(nt)},[]),jsxRuntimeExports.jsx(FooterTextBox,{Text:tt,className:"w-100-px"})}function FooterPing(){const[tt,et]=reactExports.useState(0);return reactExports.useEffect(()=>{const nt=setInterval(()=>{try{const rt=new XMLHttpRequest;let it,st;rt.onreadystatechange=function(){if(rt.readyState===4){st=new Date().getTime();const ot=st-it;et(ot)}},rt.open("GET","https://rgb.irpsc.com",!0),it=new Date().getTime(),rt.send()}catch{}},7e3);return()=>clearInterval(nt)}),jsxRuntimeExports.jsx(FooterTextBox,{Text:`${tt}ms`,className:"me-2"})}function FooterDetails(){return jsxRuntimeExports.jsxs("section",{className:"footer-section footer-section-three",children:[jsxRuntimeExports.jsx(FooterPing,{}),jsxRuntimeExports.jsx(FooterClock,{})]})}const Footer$1="";function Footer(){return jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsx(FooterAssets,{}),jsxRuntimeExports.jsx(FooterButtons,{}),jsxRuntimeExports.jsx(FooterDetails,{}),jsxRuntimeExports.jsx(FooterWarning,{})]})}const Icon$3=styled.img`
    position: absolute;
    z-index: 99999;
    width: 24px;
    height: 24px;
`,Container$R=styled.a`
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    cursor: pointer;
    margin: 0px !important;
`;function LeafletIcon({source:tt,position:et,style:nt,onClick:rt,alt:it=""}){return reactExports.useEffect(()=>{if(!tt)throw Error("You did not use the source !")},[tt]),jsxRuntimeExports.jsx("div",{className:"leaflet-top leaflet-left",style:{...nt},children:jsxRuntimeExports.jsx("div",{className:"leaflet-bar leaflet-control",children:jsxRuntimeExports.jsx(Container$R,{className:"leaflet-control",children:jsxRuntimeExports.jsx(Icon$3,{source:tt,src:tt,alt:it,style:et,onClick:()=>rt()})})})})}const index$3="";function ToolTip({TitleToltip:tt,ContentToltip:et,Chidren:nt,classNamePosstion:rt}){return jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:tt}),jsxRuntimeExports.jsx("p",{children:et})]})}),zIndex:1e4,className:rt,children:nt})}const UserProfile=styled.section`
    position: absolute;
    top: 0;
    right: 0;
    z-index: 500;
    width: 160px;
    height: 160px;
    margin-top: 16px;
    margin-right: 16px;
    border: 3px solid #fff;
    border-radius: 8px;
    overflow: hidden;
    cursor: auto;
`,PlayerIcons=styled.section`
    position: absolute;
    top: 0;
    right: 170px;
    z-index: 500;
    width: 40px;
    height: 160px;
    margin-top: 16px;
    margin-right: 16px;
    overflow: hidden;
    cursor: auto;
`,ProfileImage=styled.img`
    width: 100%;
    height: 100%;
    cursor: pointer;
`,ProfileId=styled.div`
    position: absolute;
    width: 70%;
    top: 0;
    height: 24px;
    background-color: #1212;
    padding-top: 2px;
    padding-bottom: 2px;
    /* padding-left: 8px;
    padding-right: 8px; */
    font-family: iransans;
    font-weight: bold;
    border-bottom: 3px solid #fff;
    background-color: #fff;
    z-index: 502;
    
    & p {
        font-size: 14px;
        color: #2563Eb;
        position: absolute;
        top: 1.5px;
        left: 4px;
    }
`,ProfileLevel=styled.div`
    position: absolute;
    width: 30%;
    top: 0;
    right: 0;
    font-family: iransans;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 40px;
    border-left: 3px solid #fff;;
    border-bottom: 3px solid #fff;
    border-radius: 0px 0px 0px 8px;
    background-color: #ccc;
    z-index: 502;
    & p {
        font-size: 24px;
        color: red;
    }
`,IconContainer$1=styled.div`
    position: absolute;
    right: 0px;
    top: 45px;
    height: 70%;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    align-items: center;
    
    /* & img {
        margin-top: 4px;
    } */
`,BorderIcon=styled.div`
    border: 3px solid #fff;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
`,AnonymousImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAKl0lEQVR4AezSgQAAAAACoP0pRxnkYii9hgACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIIAACIAACIAACIAACIAACIAAY+8uEB6F1SgMz/73dIJTpAot1kK+nVwZ9/mlkEDOs4W+SKxs3DgyAPfo4XYu0jj0FQAoP4zT4nwbNANwwL3KQ4XfUmFe3RnAho11EeAfgqIeGcAW6WuGF8qumgFsTFt6eAWvbBnAhtxivFp8YwDboOsIbxLVmgGsXx3izcKaAaxcH+Nd4p4BrNhUKryTKicGsFa1hyfwagawSlOGJ8knBrA+fYinCXsGsDYXhSdSFwawKjrHk+WaAazHlODpkokBrMUjwgyiBwNYh3uAWQR3BrAGvY+Z+D0DsN/dx2z8OwOw3SPAjIIHA7DbFGFW8cQAbKZTzCzVDMBiOWaXMwB7VVhAxQBsNSgsQA0MwE46xCLCiQFYKcdCcgZgoysWc2UA9pkCLCaYGIB1DljQgQHYPwJwaiTAABIsKmUAdrliYVcGYJUYC4sYgE0aLO7GACySYHExA7BHCwNaBmCNFAYkDMAWA4zoGYAlDjDiwADsoAMYEWgGYIUWhjQMwAoFDCkYgA0mD4Z4EwOwwA3GNAzAAgcYc2AAFohgTMwAzBthjhoZgHE3GHRjAMbtYdCeARgXw6CYARjnwSCPAZg2wqiJARjWwqiWARhWwaiKARh2gFEHBmBYBqMyBmDYDkbtGIBhMYyKGYBhEYyKGIBhAYwKGIBhHozyGYBhMIwBGKZglGIAhvl8BPAl0KCQARgWuz0MZAAJjEoYgGEpjEoZgGE5jMoZgGFHGHVkAIbVMKpmAIb1MKpjAIZNMIabQjkV6AsDcHoiIGEAbg8DDm4HwIMBDQNw+i1QTQzAvNTtiWAGcIIxJwZggc7taSAGoD0Y4msGYIM9B4FuB9DDkJ4B2CFyezsYAzjDiDMDsMRDwQD1YAC2yN3eDcYABhgwMACn/yZiJwzA6ZFgxwBsknIdyO0AWrdvAAxACg4B3A5g9LAgb2QATk8HXsQ2DEBHWEykGYB9OoWFqE4YgIWOPBHqdgA6xSJSzQDsNPpYgD8KA7BUozA71QgDsNbJ7RcABiCF218MZwB6h1llmgHYbUowo0QLA7DcGGE20SQMwHqP2QqIHsIAHH4KpJMwgFXQmdPvfwxAdIGnK7UwgPU4KTyVOokwgDVpfTyR3wkDWJlxh6dJR2EAq6NPyuXbPwMQ6WM8QdwLA1gpXfl4J78SYQDrNRZ4l3IUBrBuXYY3yzoRBrB6Q67wBiofRBjAJtwLhVdSxV2EAWzGWMV4haQaRRjAtgynEC8Snu4iwgA2aLjsPPyVt7sMIsIANkv35zxW+A0V5+deiwgD2Dz9aC/7ItvFURBE8S4r9pf2ocUYBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxACIARADIAZADIAYADEAYgDEAIgBEAMgBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxAD0+BiGvu+69n+6ru+H4TFqBrBh+tE31elQZEkUePgDL4iSrDicqqZ/aAawCfreXMos9hVeSflxVl6au2YAKzV29TGLFN5JRdmx7kYGsCK6uxSxj6fy4+LSaQZgOz3UZawwExWX9aAZgKUet2OqMDuVHm8PBmCZsS4CLCgo6pEBWEK3xxgGxIeWARg3XDIPxnjZZWAAxuimDGFcWDaaASxPd6UPS/hlpxnAovp9AKsE+54BLKU/hLBQeOwZwPzGUwRrRaeRAcyqzWG5vGMAc5mqCCsQVRMDmMFw8LAS3n5gAM+lbylWJb1pBvA0uo6wOlGtGcBT6DrEKoVPSIAB6GuI1QqvmgG8i75GWLXoPQkwgGuE1YuuDOCNuhibkHQM4A3GUmEjVDkygFfSlY8N8SvNAF6jS7AIPgc+8O5v23OAAVx9bJJ/ZQAvoAtsVqEZwL/0ITYs7BnAX+mTwqapk2YAf/ZIsHnpgwH8yc2DA/wbA/i9AxxxYAC/oXM4I9cM4GdjAockIwP40T2EU8I7A/he58MxfscAvrkqOEddGcAXNZxUM4BPbgpOUg0D+L9WwVGqZQAivQdneR0DGHw4zB9cD+AewGnBw+0AphCOCyenA8jgvMzlAE4gnN0NoFMgqM7VAKYABCCcHA2gBH1UuhlAi8+odTEAHeIzirSDAVzwFV3cC2D08BX5o3MBHEDfOboWwOSBvuNpxwI4g35wdisAHYB+EGinAmjxE2qcCiDHTyh3KYBJ4SekJocCaPALahwKYI9f0N6hAGL8gmJ3AtAKvyClnQlgwG/Q4EwAV/wGXZ0J4IzfoLMzARzwG3R0JoA9foP2zgRwhNN4B5hC/IJC7UwA0iuQHedDPvBMmCWO4lIAOgb9INZOBSB3D/QdbxC3ApAK9J1KXAtAdviKduJeAKOPz8gfHQxAGgX6SDXiYgByBn10FjcDkAwEIBNXA9ARCNHkagCcDfg/7y7uBiA3BnATlwPgyvBR3A5A7+C0nXY5AC4LxZp/Fz+GcFY4CgOQweMSoIsB8JMRXicM4KNGcQXAuQD42bBaXA6AewRP4nIAPCtyEAbwgwN/f3cC4KTwURjALw78/d0OQI78/d0OQE58/3c7ADny+nc7ADnx+nc7AKkVNk1dhQH8Vethw7xWGMA/DAE2KxiEAfzTGGOj4lEYwAtMO2zSbhIG8CK6xAaVWhjAS134aUC3A5AuwKYEvTgcAF8EdqMwgFfSR2zGUQsDeL3Gwyb4jbwFA5BHjA2IH8IA3kjvsXp7LQzg7doAqxa0Iu4GwEmhUgsDeK/Gx0oFjbwfA5AxxyrlkzCA57j6WB3/Js/CAGQqsTLlJAzgmfoEK5L0IgzgySofK+FV8nwMQKa9wgqo/SQMYB5DCuulgwgDmM01hNXCq8yJAYiuLU4grLUwgNlVAawUVLIEBiD64sM6/kULA1iKPluWgH/WIgxgQVMVwhphNYkwgKU1KayQNmICAxAZSgXDVDmIMABjxlMAg4LzKMIAzLplCkao7CbmMQCRsUqwuKQaRRiALe6nEAsKT3cRYQBW6Uofi/DLTkQYgIX6Y4KZJcdeRBiAtcY6U5iJyupRRBiA5XSzjxWeTMX7RosIA1iHqT2mHp7ES4/tJGvCAP5PD1UR4p3Couq1rBED+GjqqsMuwBsEu0PVTWIcA3iCqa8PWRwovIAK4uxQ95MYxgBmMA5Nfd7nuzSJwsD3PgahPD8IoyTd5ftz3QyjGMIADNDTpMVdDOC/7dKBDAAAAMAgf+t7fMUQAgiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiwJwACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAABGdwJVTp3O1sAAAAASUVORK5CYII=",SanadImage="/metaverse/assets/sanad-68736efc.png",ChatIcon="/metaverse/assets/chat-b55406a7.png",SettignIcon="/metaverse/assets/setting-991b490c.png",LevelProgress=styled.div`
  height: 100%;
  background: red;
`;function Profile$1(){var it;const{getUser:tt}=useAuth(),[et,nt]=reactExports.useState({}),rt=useNavigate();return reactExports.useEffect(()=>{nt(tt())},[tt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(UserProfile,{className:"white-box-shadow",children:[jsxRuntimeExports.jsx(ProfileImage,{src:et!=null&&et.image?et==null?void 0:et.image:AnonymousImage,onClick:()=>rt("/metaverse/profile")}),jsxRuntimeExports.jsxs(ProfileId,{className:"white-box-shadow",children:[jsxRuntimeExports.jsx(LevelProgress,{style:{width:`${et!=null&&et.score_percentage_to_next_level?et==null?void 0:et.score_percentage_to_next_level:0}%`}}),jsxRuntimeExports.jsx("p",{children:et==null?void 0:et.code})]}),jsxRuntimeExports.jsx(ProfileLevel,{className:"white-box-shadow",children:jsxRuntimeExports.jsx("p",{children:(it=et==null?void 0:et.level)==null?void 0:it.slug})}),jsxRuntimeExports.jsxs(IconContainer$1,{children:[jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx("img",{width:32,src:SanadImage,alt:"",className:"cursor-pointer",onClick:()=>rt("/metaverse/sanad")}),TitleToltip:"اسناد",ContentToltip:"ارسال و دریافت سند",classNamePosstion:"tw-righticon"}),jsxRuntimeExports.jsx("img",{width:32,src:ChatIcon,alt:"",className:"cursor-pointer object-disabled"}),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx("img",{width:32,src:SettignIcon,alt:"",className:"cursor-pointer",onClick:()=>rt("/metaverse/settings")}),TitleToltip:"تنظیمات",ContentToltip:"حساب کاربری خود را مدیریت کنید ",classNamePosstion:"tw-righticon"})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n$2=function(tt,et){return(n$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,rt){nt.__proto__=rt}||function(nt,rt){for(var it in rt)rt.hasOwnProperty(it)&&(nt[it]=rt[it])})(tt,et)},o$1,r$2,i$2=(function(tt){/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var et={}.hasOwnProperty;function nt(){for(var rt=[],it=0;it<arguments.length;it++){var st=arguments[it];if(st){var ot=typeof st;if(ot==="string"||ot==="number")rt.push(st);else if(Array.isArray(st)&&st.length){var at=nt.apply(null,st);at&&rt.push(at)}else if(ot==="object")for(var lt in st)et.call(st,lt)&&st[lt]&&rt.push(lt)}}return rt.join(" ")}tt.exports?(nt.default=nt,tt.exports=nt):window.classNames=nt})()}(r$2={path:o$1,exports:{},require:function(tt,et){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(et==null&&r$2.path)}},r$2.exports),r$2.exports);function s$1(tt,et,nt){var rt,it,st,ot,at;function lt(){var ft=Date.now()-ot;ft<et&&ft>=0?rt=setTimeout(lt,et-ft):(rt=null,nt||(at=tt.apply(st,it),st=it=null))}et==null&&(et=100);var ut=function(){st=this,it=arguments,ot=Date.now();var ft=nt&&!rt;return rt||(rt=setTimeout(lt,et)),ft&&(at=tt.apply(st,it),st=it=null),at};return ut.clear=function(){rt&&(clearTimeout(rt),rt=null)},ut.flush=function(){rt&&(at=tt.apply(st,it),st=it=null,clearTimeout(rt),rt=null)},ut}s$1.debounce=s$1;var l$1=s$1;(function(tt,et){et===void 0&&(et={});var nt=et.insertAt;if(tt&&typeof document<"u"){var rt=document.head||document.getElementsByTagName("head")[0],it=document.createElement("style");it.type="text/css",nt==="top"&&rt.firstChild?rt.insertBefore(it,rt.firstChild):rt.appendChild(it),it.styleSheet?it.styleSheet.cssText=tt:it.appendChild(document.createTextNode(tt))}})(`.indiana-scroll-container {
  overflow: auto; }
  .indiana-scroll-container--dragging {
    scroll-behavior: auto !important; }
    .indiana-scroll-container--dragging > * {
      pointer-events: none;
      cursor: -webkit-grab;
      cursor: grab; }
  .indiana-scroll-container--hide-scrollbars {
    overflow: hidden;
    overflow: -moz-scrollbars-none;
    -ms-overflow-style: none;
    scrollbar-width: none; }
    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
      display: none !important;
      height: 0 !important;
      width: 0 !important;
      background: transparent !important;
      -webkit-appearance: none !important; }
  .indiana-scroll-container--native-scroll {
    overflow: auto; }

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab; }
`);var a$1,c$1=(a$1="indiana-scroll-container",function(tt,et){if(!tt)return a$1;var nt;typeof tt=="string"?nt=tt:et=tt;var rt=a$1;return nt&&(rt+="__"+nt),rt+(et?Object.keys(et).reduce(function(it,st){var ot=et[st];return ot&&(it+=" "+(typeof ot=="boolean"?rt+"--"+st:rt+"--"+st+"_"+ot)),it},""):"")}),p$1=function(tt){function et(nt){var rt=tt.call(this,nt)||this;return rt.onEndScroll=function(){rt.scrolling=!1,!rt.pressed&&rt.started&&rt.processEnd()},rt.onScroll=function(it){var st=rt.container.current;st.scrollLeft===rt.scrollLeft&&st.scrollTop===rt.scrollTop||(rt.scrolling=!0,rt.processScroll(it),rt.onEndScroll())},rt.onTouchStart=function(it){var st=rt.props.nativeMobileScroll;if(rt.isDraggable(it.target))if(rt.internal=!0,st&&rt.scrolling)rt.pressed=!0;else{var ot=it.touches[0];rt.processClick(it,ot.clientX,ot.clientY),!st&&rt.props.stopPropagation&&it.stopPropagation()}},rt.onTouchEnd=function(it){var st=rt.props.nativeMobileScroll;rt.pressed&&(!rt.started||rt.scrolling&&st?rt.pressed=!1:rt.processEnd(),rt.forceUpdate())},rt.onTouchMove=function(it){var st=rt.props.nativeMobileScroll;if(rt.pressed&&(!st||!rt.isMobile)){var ot=it.touches[0];ot&&rt.processMove(it,ot.clientX,ot.clientY),it.preventDefault(),rt.props.stopPropagation&&it.stopPropagation()}},rt.onMouseDown=function(it){rt.isDraggable(it.target)&&rt.isScrollable()&&(rt.internal=!0,rt.props.buttons.indexOf(it.button)!==-1&&(rt.processClick(it,it.clientX,it.clientY),it.preventDefault(),rt.props.stopPropagation&&it.stopPropagation()))},rt.onMouseMove=function(it){rt.pressed&&(rt.processMove(it,it.clientX,it.clientY),it.preventDefault(),rt.props.stopPropagation&&it.stopPropagation())},rt.onMouseUp=function(it){rt.pressed&&(rt.started?rt.processEnd():(rt.internal=!1,rt.pressed=!1,rt.forceUpdate(),rt.props.onClick&&rt.props.onClick(it)),it.preventDefault(),rt.props.stopPropagation&&it.stopPropagation())},rt.container=React$1.createRef(),rt.onEndScroll=l$1(rt.onEndScroll,300),rt.scrolling=!1,rt.started=!1,rt.pressed=!1,rt.internal=!1,rt.getRef=rt.getRef.bind(rt),rt}return function(nt,rt){function it(){this.constructor=nt}n$2(nt,rt),nt.prototype=rt===null?Object.create(rt):(it.prototype=rt.prototype,new it)}(et,tt),et.prototype.componentDidMount=function(){var nt=this.props.nativeMobileScroll,rt=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),rt.addEventListener("touchstart",this.onTouchStart,{passive:!1}),rt.addEventListener("mousedown",this.onMouseDown,{passive:!1}),nt&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},et.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},et.prototype.getElement=function(){return this.container.current},et.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},et.prototype.isDraggable=function(nt){var rt=this.props.ignoreElements;if(rt){var it=nt.closest(rt);return it===null||it.contains(this.getElement())}return!0},et.prototype.isScrollable=function(){var nt=this.container.current;return nt&&(nt.scrollWidth>nt.clientWidth||nt.scrollHeight>nt.clientHeight)},et.prototype.processClick=function(nt,rt,it){var st=this.container.current;this.scrollLeft=st.scrollLeft,this.scrollTop=st.scrollTop,this.clientX=rt,this.clientY=it,this.pressed=!0},et.prototype.processStart=function(nt){nt===void 0&&(nt=!0);var rt=this.props.onStartScroll;this.started=!0,nt&&document.body.classList.add("indiana-dragging"),rt&&rt({external:!this.internal}),this.forceUpdate()},et.prototype.processScroll=function(nt){if(this.started){var rt=this.props.onScroll;rt&&rt({external:!this.internal})}else this.processStart(!1)},et.prototype.processMove=function(nt,rt,it){var st=this.props,ot=st.horizontal,at=st.vertical,lt=st.activationDistance,ut=st.onScroll,ft=this.container.current;this.started?(ot&&(ft.scrollLeft-=rt-this.clientX),at&&(ft.scrollTop-=it-this.clientY),ut&&ut({external:!this.internal}),this.clientX=rt,this.clientY=it,this.scrollLeft=ft.scrollLeft,this.scrollTop=ft.scrollTop):(ot&&Math.abs(rt-this.clientX)>lt||at&&Math.abs(it-this.clientY)>lt)&&(this.clientX=rt,this.clientY=it,this.processStart())},et.prototype.processEnd=function(){var nt=this.props.onEndScroll;this.container.current&&nt&&nt({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},et.prototype.getRef=function(nt){[this.container,this.props.innerRef].forEach(function(rt){rt&&(typeof rt=="function"?rt(nt):rt.current=nt)})},et.prototype.render=function(){var nt=this.props,rt=nt.children,it=nt.draggingClassName,st=nt.className,ot=nt.style,at=nt.hideScrollbars,lt=nt.component;return React$1.createElement(lt,{className:i$2(st,this.pressed&&it,c$1({dragging:this.pressed,"hide-scrollbars":at,"native-scroll":this.isMobile})),style:ot,ref:this.getRef,onScroll:this.onScroll},rt)},et.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},et}(reactExports.PureComponent);const FollowerImage="/metaverse/assets/follower-788b88f2.png",DynastyImage="/metaverse/assets/dynasty-d862253b.png",UnityImage="/metaverse/assets/unity-49f4fea6.png",MessageImage="/metaverse/assets/chat-b55406a7.png",ListIcon="/metaverse/assets/list-bf3cd87b.png",ShareImage="/metaverse/assets/share-4075290a.png",LedIcon="/metaverse/assets/led-green-63ed44cd.png",Styles="",IconContainer=styled.div`
  position: absolute;
  top: 0;
  width: 100%;
  height: 80%;
  margin-top: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #7777779e;
  display: none;
`,Container$Q=styled.div`
    position: relative;
    min-width: 130px;
    max-width: 130px;
    height: 130px;
    border: 3px solid #fff;
    border-radius: 8px;
    cursor: grab;
    margin-left: 16px;

    &:hover ${IconContainer} {
      display: flex;
    }
`,IconSection=styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  & img {
    margin: 4px;
    cursor: pointer;
  }
`,OnlineIcon=styled.img`
  position: absolute;
  z-index: 503;
  width: 16px;
  bottom: 4px;
  left: 4px;
`;function PlayerProfile({image:tt,code:et,level:nt,id:rt,Online:it}){const st=useNavigate();return jsxRuntimeExports.jsxs(Container$Q,{className:"white-box-shadow",children:[jsxRuntimeExports.jsx(ProfileImage,{src:tt||AnonymousImage}),jsxRuntimeExports.jsx(ProfileId,{className:"white-box-shadow cursor-pointer",onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${et}`,"_blank"),children:jsxRuntimeExports.jsx("p",{style:{fontSize:12},children:et})}),jsxRuntimeExports.jsx(ProfileLevel,{className:"white-box-shadow",style:{height:35},children:jsxRuntimeExports.jsx("p",{style:{fontSize:18},children:nt||1})}),jsxRuntimeExports.jsxs(IconContainer,{children:[jsxRuntimeExports.jsxs(IconSection,{children:[jsxRuntimeExports.jsx("img",{src:ListIcon,alt:"",width:34,onClick:()=>st(`/metaverse/player/${rt}`)}),jsxRuntimeExports.jsx("img",{src:ShareImage,alt:"",width:34,className:"object-disabled"})]}),jsxRuntimeExports.jsxs(IconSection,{children:[jsxRuntimeExports.jsx("img",{src:SanadImage,alt:"",width:34,onClick:()=>st("/metaverse/sanad",{state:{code:et,id:rt}})}),jsxRuntimeExports.jsx("img",{src:MessageImage,alt:"",width:34,className:"object-disabled"})]})]}),jsxRuntimeExports.jsx(OnlineIcon,{src:LedIcon,className:`${!it&&"object-disabled"}`})]})}const PlayerProfile$1=reactExports.memo(PlayerProfile);function PlayerList(){const{getUser:tt}=useAuth(),[et,nt]=reactExports.useState([]),[rt]=reactExports.useContext(FollowContext),{Request:it}=useRequest();reactExports.useEffect(()=>{async function ot(){const lt=await it("players");nt(lt.data.data.reverse())}et.length===0&&ot();const at=window.Echo.channel("user-status");return at.listen(".user-status-changed",lt=>{const ut=et.map(ft=>ft.id===lt.data.id?{...ft,online:lt.data.online}:ft);nt(ut)}),()=>{at.stopListening(".user-status-changed")}},[et,it]);const st=ot=>{var at;return parseInt((at=tt())==null?void 0:at.id)===parseInt(ot==null?void 0:ot.id)?null:jsxRuntimeExports.jsx(PlayerProfile$1,{id:ot==null?void 0:ot.id,code:ot==null?void 0:ot.code,level:ot==null?void 0:ot.level,image:rt.length>0?ot==null?void 0:ot.profile_photos:ot==null?void 0:ot.image,Online:ot==null?void 0:ot.online},ot==null?void 0:ot.code)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rt.length>0?rt.map(st):et.map(st)})}var lib$1={exports:{}},seed=1;function getNextValue(){return seed=(seed*9301+49297)%233280,seed/233280}function setSeed$1(tt){seed=tt}var randomFromSeed$1={nextValue:getNextValue,seed:setSeed$1},randomFromSeed=randomFromSeed$1,ORIGINAL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",alphabet$2,previousSeed,shuffled;function reset(){shuffled=!1}function setCharacters(tt){if(!tt){alphabet$2!==ORIGINAL&&(alphabet$2=ORIGINAL,reset());return}if(tt!==alphabet$2){if(tt.length!==ORIGINAL.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. You submitted "+tt.length+" characters: "+tt);var et=tt.split("").filter(function(nt,rt,it){return rt!==it.lastIndexOf(nt)});if(et.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. These characters were not unique: "+et.join(", "));alphabet$2=tt,reset()}}function characters(tt){return setCharacters(tt),alphabet$2}function setSeed(tt){randomFromSeed.seed(tt),previousSeed!==tt&&(reset(),previousSeed=tt)}function shuffle(){alphabet$2||setCharacters(ORIGINAL);for(var tt=alphabet$2.split(""),et=[],nt=randomFromSeed.nextValue(),rt;tt.length>0;)nt=randomFromSeed.nextValue(),rt=Math.floor(nt*tt.length),et.push(tt.splice(rt,1)[0]);return et.join("")}function getShuffled(){return shuffled||(shuffled=shuffle(),shuffled)}function lookup(tt){var et=getShuffled();return et[tt]}function get(){return alphabet$2||ORIGINAL}var alphabet_1={get,characters,seed:setSeed,lookup,shuffled:getShuffled},crypto=typeof window=="object"&&(window.crypto||window.msCrypto),randomByte;!crypto||!crypto.getRandomValues?randomByte=function(tt){for(var et=[],nt=0;nt<tt;nt++)et.push(Math.floor(Math.random()*256));return et}:randomByte=function(tt){return crypto.getRandomValues(new Uint8Array(tt))};var randomByteBrowser=randomByte,format_browser=function(tt,et,nt){for(var rt=(2<<Math.log(et.length-1)/Math.LN2)-1,it=-~(1.6*rt*nt/et.length),st="";;)for(var ot=tt(it),at=it;at--;)if(st+=et[ot[at]&rt]||"",st.length===+nt)return st},alphabet$1=alphabet_1,random=randomByteBrowser,format=format_browser;function generate$1(tt){for(var et=0,nt,rt="";!nt;)rt=rt+format(random,alphabet$1.get(),1),nt=tt<Math.pow(16,et+1),et++;return rt}var generate_1=generate$1,generate=generate_1,REDUCE_TIME=1567752802062,version=7,counter,previousSeconds;function build$1(tt){var et="",nt=Math.floor((Date.now()-REDUCE_TIME)*.001);return nt===previousSeconds?counter++:(counter=0,previousSeconds=nt),et=et+generate(version),et=et+generate(tt),counter>0&&(et=et+generate(counter)),et=et+generate(nt),et}var build_1=build$1,alphabet=alphabet_1;function isShortId(tt){if(!tt||typeof tt!="string"||tt.length<6)return!1;var et=new RegExp("[^"+alphabet.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!et.test(tt)}var isValid=isShortId;(function(tt){var et=alphabet_1,nt=build_1,rt=isValid,it=0;function st(ut){return et.seed(ut),tt.exports}function ot(ut){return it=ut,tt.exports}function at(ut){return ut!==void 0&&et.characters(ut),et.shuffled()}function lt(){return nt(it)}tt.exports=lt,tt.exports.generate=lt,tt.exports.seed=st,tt.exports.worker=ot,tt.exports.characters=at,tt.exports.isValid=rt})(lib$1);var libExports=lib$1.exports,shortid=libExports;const shortid$1=getDefaultExportFromCjs(shortid);function Player$1(){const tt=reactExports.useRef(),et=()=>{if(tt.current){const nt=tt.current.container.current.classList;nt.contains("close-player")?nt.remove("close-player"):nt.add("close-player")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PlayerIcons,{children:jsxRuntimeExports.jsxs(IconContainer$1,{style:{height:"100%",top:0},children:[jsxRuntimeExports.jsx(BorderIcon,{onClick:et,children:jsxRuntimeExports.jsx("img",{width:32,src:FollowerImage,alt:"",className:"cursor-pointer bg-light"})}),jsxRuntimeExports.jsx(BorderIcon,{children:jsxRuntimeExports.jsx("img",{width:32,src:DynastyImage,alt:"",className:"cursor-pointer object-disabled"})}),jsxRuntimeExports.jsx(BorderIcon,{children:jsxRuntimeExports.jsx("img",{width:32,src:UnityImage,alt:"",className:"cursor-pointer object-disabled"})})]})}),jsxRuntimeExports.jsx(p$1,{ref:tt,horizontal:!0,vertical:!1,className:"ScrollContainer",stopPropagation:!0,children:jsxRuntimeExports.jsx(PlayerList,{})})]})}const GiftImage="/metaverse/assets/gift-box-2b7201f0.png",SearchIcon$1="/metaverse/assets/search-1c60a810.png",statisticsIcon="/metaverse/assets/statistics-14a48dd2.png",DynastyICoin="/metaverse/assets/dynsty-d1cce281.png",Container$P=styled.div`
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 30%;
  left: 8px;
  z-index: 500;
  gap: 32px;
`,Icon$2=styled.img`
  width: 56px;
  -webkit-filter: grayscale(1);
  filter: grayscale(1);
`,IconEnable=styled.img`
  width: 56px;
  cursor: pointer;
`;function LeftIcon$1(){const tt=useNavigate();return jsxRuntimeExports.jsxs(Container$P,{children:[jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(Icon$2,{src:GiftImage}),TitleToltip:"چالش ها",ContentToltip:"جوایز متعدد در VOD مختلف متناسب با رده های سنی",classNamePosstion:"tw-lefticon"}),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(IconEnable,{onClick:()=>tt("/metaverse/search"),src:SearchIcon$1}),TitleToltip:"جستجوی مرکزی",ContentToltip:"جستجو در VOD و بخش های متارنگ",classNamePosstion:"tw-lefticon"}),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(Icon$2,{src:statisticsIcon}),TitleToltip:"آمار سراسری",ContentToltip:"لیست شهروندان متارنگ طبقه بندی شده بر اساس ویژگی",classNamePosstion:"tw-lefticon"}),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(Icon$2,{src:DynastyICoin,onClick:()=>tt("/metaverse/dynasty"),style:{filter:"none",cursor:"pointer"}}),TitleToltip:"سلسله",ContentToltip:"ساخت سلسله خانوادگی",classNamePosstion:"tw-lefticon"})]})}const ProfitIcon$1="/metaverse/assets/percentage-8a6b2360.png",ProfitIcon=styled.img`
  width: 56px;
`,Container$O=styled.div``,PercentCoin=styled.span`
  position: absolute;
  bottom: -10%;
  right: -10%;
  display: flex;
  width: 50%;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  --tw-bg-opacity: 1;
  background-color: rgb(234 184 72 / var(--tw-bg-opacity));
  aspect-ratio: 1/1;
`,PercentText=styled.p`
  box-shadow: inset 0 1px 5px 1px rgb(0 0 0 / 40%);
  aspect-ratio: 1/1;
  --tw-bg-opacity: 1;
  background-color: rgb(234 184 72 / var(--tw-bg-opacity));
  --bs-text-opacity: 1;
  color: rgba(var(--bs-white-rgb), var(--bs-text-opacity)) !important;
  display: flex;
  width: 80%;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  font-family: iransans !important;
  font-size: 16px;
  font-weight: bold;
`;function PercentageIcon({onClick:tt}){const{getUser:et}=useAuth(),[nt,rt]=reactExports.useState(0);return reactExports.useEffect(()=>{rt(et().hourly_profit_time_percentage)},[et]),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsxs(Container$O,{onClick:tt,children:[jsxRuntimeExports.jsx(ProfitIcon,{src:ProfitIcon$1}),jsxRuntimeExports.jsx(PercentCoin,{children:jsxRuntimeExports.jsx(PercentText,{children:nt})})]}),TitleToltip:"سود انباشته",ContentToltip:"جمع آوری و ذخیره سود از سرمایه و دارایی ها",classNamePosstion:"tw-righticon"})}const KycImage="/metaverse/assets/kyc-6ba73d11.png",RightIconContainer=styled.div`
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 35%;
  right: 31px;
  z-index: 500;
  gap: 16px;
`,Icon$1=styled.img`
  width: 56px;
  cursor: pointer;
`;function LeftIcon(){const tt=useNavigate();return jsxRuntimeExports.jsxs(RightIconContainer,{children:[jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(Icon$1,{src:KycImage,onClick:()=>tt("/metaverse/verification")}),TitleToltip:"احراز هویت",ContentToltip:"احراز هویت شخصی و بانکی",classNamePosstion:"tw-righticon"}),jsxRuntimeExports.jsx(PercentageIcon,{onClick:()=>tt("/metaverse/hour-profit")})]})}function DisplayIcon(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LeftIcon$1,{}),jsxRuntimeExports.jsx(LeftIcon,{})]})}const ImageLogin="/metaverse/assets/login-dbb6a10c.png",ImageLogout="/metaverse/assets/logout-08344c6d.png",ImageLock="/metaverse/assets/lock-411de8a1.png",ImageUnlock="/metaverse/assets/unlock-1b08c5b3.png";function Main(){const{Request:tt,HTTP_METHOD:et}=useRequest(),[nt,rt]=reactExports.useState(!1),it=useNavigate();reactExports.useEffect(()=>{getItem("account_security")>Date.now()?rt(!0):rt(!1)},[]);const st=()=>{tt("logout",et.POST).then(()=>{removeItem("user"),window.location.reload()})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PublicComponent,{children:jsxRuntimeExports.jsx(LeafletIcon,{source:ImageLogin,style:{top:70},onClick:()=>it("/metaverse/login")})}),jsxRuntimeExports.jsx(PrivateComponent,{children:jsxRuntimeExports.jsx(LeafletIcon,{source:nt?ImageUnlock:ImageLock,style:{top:70},onClick:()=>it("/metaverse/confirmation")})}),jsxRuntimeExports.jsx(PrivateComponent,{children:jsxRuntimeExports.jsx(LeafletIcon,{source:ImageLogout,style:{top:110},onClick:st})}),jsxRuntimeExports.jsx(DisplayIcon,{}),jsxRuntimeExports.jsx(Profile$1,{}),jsxRuntimeExports.jsx(Player$1,{}),jsxRuntimeExports.jsx(Footer,{})]})}const flyToGif="/metaverse/assets/Flyto-e081dd9f.gif",index$2="";function ContextMenu(){const tt=reactExports.useRef(),et=reactExports.useRef(),nt=st=>{window.open(st,"_blank","noopener,noreferrer")},rt=st=>{st.preventDefault();let ot=st.clientY,at=st.clientX;const lt=st.clientY/window.innerHeight,ut=st.clientX/window.innerWidth;lt>.49&&(ot-=260),ut>.49&&(at-=230),tt.current.style.display="block",tt.current.style.top=`${ot}px`,tt.current.style.left=`${at}px`},it=st=>{var ot,at;(at=(ot=tt==null?void 0:tt.current)==null?void 0:ot.style)!=null&&at.display&&(tt.current.style.display="none")};return reactExports.useEffect(()=>{window.addEventListener("contextmenu",rt),window.addEventListener("click",it)}),jsxRuntimeExports.jsx("div",{className:"wrapper-contextmenu",ref:tt,children:jsxRuntimeExports.jsx("div",{className:"content_menu",children:jsxRuntimeExports.jsxs("ul",{className:"menu",children:[jsxRuntimeExports.jsxs("li",{className:"item ",style:{borderTopLeftRadius:5,borderTopRightRadius:5},children:[jsxRuntimeExports.jsx("span",{children:"پشتیبانی از شهروندان "}),jsxRuntimeExports.jsx("i",{className:"fa-solid fa-headset"})]}),jsxRuntimeExports.jsxs("li",{className:"item share",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{children:"کلیدهای میانبور"}),jsxRuntimeExports.jsx("i",{className:"uil uil-share"})]}),jsxRuntimeExports.jsx("i",{className:"fa-solid fa-arrow-left"}),jsxRuntimeExports.jsxs("ul",{className:"share-menu",ref:et,children:[jsxRuntimeExports.jsxs("li",{className:"item",style:{borderTopLeftRadius:5,borderTopRightRadius:5},children:[jsxRuntimeExports.jsx("span",{children:'چت "C"'}),jsxRuntimeExports.jsx("i",{className:"fa fa-commenting"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'فروشگاه "S"'}),jsxRuntimeExports.jsx("i",{className:"fa fa-shopping-basket"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'تقویم "D"'}),jsxRuntimeExports.jsx("i",{className:"fa fa-calendar"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'تیکت "T" '}),jsxRuntimeExports.jsx("i",{className:"fa fa-envelope"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'چالش "V" '}),jsxRuntimeExports.jsx("i",{className:"fa fa-trophy"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'جستحو "F" '}),jsxRuntimeExports.jsx("i",{className:"fa fa-search"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:'سود ساعت شمار "Q" '}),jsxRuntimeExports.jsx("i",{className:"fa fa-hourglass-half"})]}),jsxRuntimeExports.jsxs("li",{className:"item",children:[jsxRuntimeExports.jsx("span",{children:' آموزش "E" '}),jsxRuntimeExports.jsx("i",{className:"fa fa-graduation-cap rgb(243, 206, 1);"})]})]})]}),jsxRuntimeExports.jsxs("li",{className:"item",onClick:()=>nt("https://faq.irpsc.com/tags/meta-rgb"),children:[jsxRuntimeExports.jsx("a",{href:"https://faq.irpsc.com/categories/meta-rgb",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("span",{children:"انجمن متارنگ"})}),jsxRuntimeExports.jsx("i",{className:"fa-solid fa-question"})]}),jsxRuntimeExports.jsxs("li",{className:"item",onClick:()=>nt("https:/rgb.irpsc.com/about"),children:[jsxRuntimeExports.jsx("a",{href:"https:/rgb.irpsc.com/about",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("span",{children:"درباره متارنگ"})}),jsxRuntimeExports.jsx("i",{className:"fa-regular fa-address-card"})]}),jsxRuntimeExports.jsxs("li",{className:"item",onClick:()=>nt("https://uni.irpsc.com/course/rang"),children:[jsxRuntimeExports.jsx("a",{href:"https://uni.irpsc.com/course/rang",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("span",{children:"دانشگاه متاورس "})}),jsxRuntimeExports.jsx("i",{className:"fa-sharp fa-solid fa-school"})]}),jsxRuntimeExports.jsxs("li",{className:"item",onClick:()=>nt("https://rgb.irpsc.com/version"),children:[jsxRuntimeExports.jsx("a",{href:"https://rgb.irpsc.com/version",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("span",{children:"V 1.1.0"})}),jsxRuntimeExports.jsx("i",{className:"fa-solid fa-code-compare"})]})]})})})}const IconAdviser="/metaverse/assets/robot-b2d162ab.png",Adviser="";function AdviserIcon(){const[tt,et]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"tw-accordion-cont",children:[jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx("img",{src:IconAdviser,alt:"",className:"tw-icon-acc cursor-pointer",onClick:()=>et(!tt)}),TitleToltip:"راهنمای VOD",ContentToltip:"توضیحات  VOD",classNamePosstion:"tw-righticon"}),jsxRuntimeExports.jsx("div",{className:`${!tt&&"tw-close-accor"} accordion__adviser__open container-asli`,children:jsxRuntimeExports.jsx("div",{className:"position-icon accordion",children:jsxRuntimeExports.jsx("div",{className:"container-slide  ",children:jsxRuntimeExports.jsx("div",{className:"  show-slide gra-bg",children:jsxRuntimeExports.jsxs("div",{className:" container-box",children:[jsxRuntimeExports.jsxs("div",{className:"w-box    ",children:[jsxRuntimeExports.jsx("div",{className:"box-1 ",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD آموزشی خریداری شده قیمت گذاری شده"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box  ",children:[jsxRuntimeExports.jsx("div",{className:"box-2 ",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD مسکونی خریداری شده قیمت گذاری شده"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box  ",children:[jsxRuntimeExports.jsx("div",{className:"box-3 ",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD تجاری خریداری شده قیمت گذاری شده"})})]}),jsxRuntimeExports.jsx("div",{className:"w-box",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"  box-4  ",children:[jsxRuntimeExports.jsx("div",{className:"inside-box-4 pattern-horizontal-stripes-sm "}),jsxRuntimeExports.jsx("div",{className:"position-inside-box"})]}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD آموزشی پیش خرید یا قفل شده"})})]})}),jsxRuntimeExports.jsxs("div",{className:"w-box",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:" box-5    ",children:[jsxRuntimeExports.jsx("div",{className:"inside-box-5 pattern-horizontal-stripes-sm"}),jsxRuntimeExports.jsx("div",{className:"position-inside-box"})]})}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD آموزشی پیش خرید یا قفل شده"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"box-6   ",children:[jsxRuntimeExports.jsx("div",{className:"pattern-horizontal-stripes-sm  inside-box-6"}),jsxRuntimeExports.jsx("div",{className:"position-inside-box "})]})}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD آموزشی پیش خرید یا قفل شده"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box",children:[jsxRuntimeExports.jsx("div",{className:"box-7 ",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD آموزشی آزاد"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box",children:[jsxRuntimeExports.jsx("div",{className:"box-8  ",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD مسکونی آزاد"})})]}),jsxRuntimeExports.jsxs("div",{className:"w-box",children:[jsxRuntimeExports.jsx("div",{className:"box-9",children:" "}),jsxRuntimeExports.jsx("div",{className:"position-text",children:jsxRuntimeExports.jsx("p",{className:"class-text",children:"VOD تجاری آزاد"})})]})]})})})})})]})}const flyToPosition=async({latitude:tt,longitude:et,icon:nt,mapRe:rt,zoom:it})=>{let st=null;return await new Promise(ot=>{rt.current.flyTo([tt,et],it,{duration:2}),rt.current.once("moveend",()=>{ot()})}),st=await new Promise(ot=>{const at=new L$3.marker([tt,et],{icon:L$3.icon({iconUrl:nt,iconSize:[40,40],iconAnchor:[20,40]})});at.addTo(rt.current),ot(at)}),rt.current.on("move",()=>{st&&(rt.current.removeLayer(st),st=null)}),!!st},LocationPin="/metaverse/assets/location-pin-1fc0f37f.gif",index$1="",HelpImage="/metaverse/assets/help-2d9bfeef.png",ExitImage="/metaverse/assets/exit-0cfb0970.png",ReportImage="/metaverse/assets/report-1c95c2af.png",useAdviserData=(tt,et)=>{const[nt,rt]=reactExports.useState({}),{Request:it,HTTP_METHOD:st}=useRequest(),ot={"settings-1":{urlRequest:"setting",adviserPage:"general-setting-desktop"},"settings-2":{urlRequest:"setting",adviserPage:"account-setting-desktop"},"profile-1":{urlRequest:"profile",adviserPage:"owner-specifications-desktop"},"profile-2":{urlRequest:"profile",adviserPage:"owner-property-feature-desktop"},"login-":{urlRequest:"login",adviserPage:"login-desktop"},"signup-":{urlRequest:"register",adviserPage:"register-desktop"},"store-1":{urlRequest:"shop",adviserPage:"shop-tools-desktop"},"store-2":{urlRequest:"shop",adviserPage:"shop-currency-desktop"},"sanad-1":{urlRequest:"sanad",adviserPage:"vod-send-desktop"},"sanad-2":{urlRequest:"sanad",adviserPage:"vod-note-desktop"},"report-1":{urlRequest:"reports",adviserPage:"reports-report-desktop"},"verification-1":{urlRequest:"kyc",adviserPage:"kyc-man-desktop"},"verification-2":{urlRequest:"kyc",adviserPage:"kyc-attachment-desktop"},"verification-3":{urlRequest:"kyc",adviserPage:"kyc-bank-desktop"},"confirmation-":{urlRequest:"account-security",adviserPage:"account-security-code-desktop"},"dynasty-1":{urlRequest:"dynasty",adviserPage:"request-received-desktop"},"dynasty-2":{urlRequest:"dynasty",adviserPage:"submitted-request-desktop"},"dynasty-3":{urlRequest:"dynasty",adviserPage:"family-members-desktop"},"dynasty-4":{urlRequest:"dynasty",adviserPage:"establishment-desktop"},"notifications-":{urlRequest:"notification",adviserPage:"notifications-desktop"}},{urlRequest:at,adviserPage:lt}=ot[et||tt]||{};return reactExports.useEffect(()=>{!at||!lt||it("video-tutorials",st.POST,{url:`tutorials/${at}/${lt}`}).then(ut=>{rt(ut.data.data)})},[at,lt]),nt},index="";var cjs={exports:{}},Draggable$2={},propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function tt(rt,it,st,ot,at,lt){if(lt!==ReactPropTypesSecret){var ut=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ut.name="Invariant Violation",ut}}tt.isRequired=tt;function et(){return tt}var nt={array:tt,bigint:tt,bool:tt,func:tt,number:tt,object:tt,string:tt,symbol:tt,any:tt,arrayOf:et,element:tt,elementType:tt,instanceOf:et,node:tt,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return nt.PropTypes=nt,nt};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports;const propTypes=getDefaultExportFromCjs(propTypesExports);function r$1(tt){var et,nt,rt="";if(typeof tt=="string"||typeof tt=="number")rt+=tt;else if(typeof tt=="object")if(Array.isArray(tt))for(et=0;et<tt.length;et++)tt[et]&&(nt=r$1(tt[et]))&&(rt&&(rt+=" "),rt+=nt);else for(et in tt)tt[et]&&(rt&&(rt+=" "),rt+=et);return rt}function clsx(){for(var tt,et,nt=0,rt="";nt<arguments.length;)(tt=arguments[nt++])&&(et=r$1(tt))&&(rt&&(rt+=" "),rt+=et);return rt}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(clsx_m);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction$3;shims.isNum=isNum;function findInArray(tt,et){for(var nt=0,rt=tt.length;nt<rt;nt++)if(et.apply(et,[tt[nt],nt,tt]))return tt[nt]}function isFunction$3(tt){return typeof tt=="function"||Object.prototype.toString.call(tt)==="[object Function]"}function isNum(tt){return typeof tt=="number"&&!isNaN(tt)}function int(tt){return parseInt(tt,10)}function dontSetMe(tt,et,nt){if(tt[et])return new Error("Invalid prop ".concat(et," passed to ").concat(nt," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;var prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var tt,et,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var rt=(tt=window.document)===null||tt===void 0||(et=tt.documentElement)===null||et===void 0?void 0:et.style;if(!rt||nt in rt)return"";for(var it=0;it<prefixes.length;it++)if(browserPrefixToKey(nt,prefixes[it])in rt)return prefixes[it];return""}function browserPrefixToKey(tt,et){return et?"".concat(et).concat(kebabToTitleCase(tt)):tt}function browserPrefixToStyle(tt,et){return et?"-".concat(et.toLowerCase(),"-").concat(tt):tt}function kebabToTitleCase(tt){for(var et="",nt=!0,rt=0;rt<tt.length;rt++)nt?(et+=tt[rt].toUpperCase(),nt=!1):tt[rt]==="-"?nt=!0:et+=tt[rt];return et}var _default=getPrefix();getPrefix$1.default=_default;function _typeof$2(tt){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$2(tt)}Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.removeUserSelectStyles=removeUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(tt){if(typeof WeakMap!="function")return null;var et=new WeakMap,nt=new WeakMap;return(_getRequireWildcardCache$1=function(it){return it?nt:et})(tt)}function _interopRequireWildcard$1(tt,et){if(!et&&tt&&tt.__esModule)return tt;if(tt===null||_typeof$2(tt)!=="object"&&typeof tt!="function")return{default:tt};var nt=_getRequireWildcardCache$1(et);if(nt&&nt.has(tt))return nt.get(tt);var rt={},it=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in tt)if(st!=="default"&&Object.prototype.hasOwnProperty.call(tt,st)){var ot=it?Object.getOwnPropertyDescriptor(tt,st):null;ot&&(ot.get||ot.set)?Object.defineProperty(rt,st,ot):rt[st]=tt[st]}return rt.default=tt,nt&&nt.set(tt,rt),rt}function ownKeys$2(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(nt),!0).forEach(function(rt){_defineProperty$3(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys$2(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _defineProperty$3(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}var matchesSelectorFunc="";function matchesSelector(tt,et){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(nt){return(0,_shims$2.isFunction)(tt[nt])})),(0,_shims$2.isFunction)(tt[matchesSelectorFunc])?tt[matchesSelectorFunc](et):!1}function matchesSelectorAndParentsTo(tt,et,nt){var rt=tt;do{if(matchesSelector(rt,et))return!0;if(rt===nt)return!1;rt=rt.parentNode}while(rt);return!1}function addEvent(tt,et,nt,rt){if(tt){var it=_objectSpread({capture:!0},rt);tt.addEventListener?tt.addEventListener(et,nt,it):tt.attachEvent?tt.attachEvent("on"+et,nt):tt["on"+et]=nt}}function removeEvent(tt,et,nt,rt){if(tt){var it=_objectSpread({capture:!0},rt);tt.removeEventListener?tt.removeEventListener(et,nt,it):tt.detachEvent?tt.detachEvent("on"+et,nt):tt["on"+et]=null}}function outerHeight(tt){var et=tt.clientHeight,nt=tt.ownerDocument.defaultView.getComputedStyle(tt);return et+=(0,_shims$2.int)(nt.borderTopWidth),et+=(0,_shims$2.int)(nt.borderBottomWidth),et}function outerWidth(tt){var et=tt.clientWidth,nt=tt.ownerDocument.defaultView.getComputedStyle(tt);return et+=(0,_shims$2.int)(nt.borderLeftWidth),et+=(0,_shims$2.int)(nt.borderRightWidth),et}function innerHeight(tt){var et=tt.clientHeight,nt=tt.ownerDocument.defaultView.getComputedStyle(tt);return et-=(0,_shims$2.int)(nt.paddingTop),et-=(0,_shims$2.int)(nt.paddingBottom),et}function innerWidth(tt){var et=tt.clientWidth,nt=tt.ownerDocument.defaultView.getComputedStyle(tt);return et-=(0,_shims$2.int)(nt.paddingLeft),et-=(0,_shims$2.int)(nt.paddingRight),et}function offsetXYFromParent(tt,et,nt){var rt=et===et.ownerDocument.body,it=rt?{left:0,top:0}:et.getBoundingClientRect(),st=(tt.clientX+et.scrollLeft-it.left)/nt,ot=(tt.clientY+et.scrollTop-it.top)/nt;return{x:st,y:ot}}function createCSSTransform(tt,et){var nt=getTranslation(tt,et,"px");return _defineProperty$3({},(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default),nt)}function createSVGTransform(tt,et){var nt=getTranslation(tt,et,"");return nt}function getTranslation(tt,et,nt){var rt=tt.x,it=tt.y,st="translate(".concat(rt).concat(nt,",").concat(it).concat(nt,")");if(et){var ot="".concat(typeof et.x=="string"?et.x:et.x+nt),at="".concat(typeof et.y=="string"?et.y:et.y+nt);st="translate(".concat(ot,", ").concat(at,")")+st}return st}function getTouch(tt,et){return tt.targetTouches&&(0,_shims$2.findInArray)(tt.targetTouches,function(nt){return et===nt.identifier})||tt.changedTouches&&(0,_shims$2.findInArray)(tt.changedTouches,function(nt){return et===nt.identifier})}function getTouchIdentifier(tt){if(tt.targetTouches&&tt.targetTouches[0])return tt.targetTouches[0].identifier;if(tt.changedTouches&&tt.changedTouches[0])return tt.changedTouches[0].identifier}function addUserSelectStyles(tt){if(tt){var et=tt.getElementById("react-draggable-style-el");et||(et=tt.createElement("style"),et.type="text/css",et.id="react-draggable-style-el",et.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,et.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,tt.getElementsByTagName("head")[0].appendChild(et)),tt.body&&addClassName(tt.body,"react-draggable-transparent-selection")}}function removeUserSelectStyles(tt){if(tt)try{if(tt.body&&removeClassName(tt.body,"react-draggable-transparent-selection"),tt.selection)tt.selection.empty();else{var et=(tt.defaultView||window).getSelection();et&&et.type!=="Caret"&&et.removeAllRanges()}}catch{}}function addClassName(tt,et){tt.classList?tt.classList.add(et):tt.className.match(new RegExp("(?:^|\\s)".concat(et,"(?!\\S)")))||(tt.className+=" ".concat(et))}function removeClassName(tt,et){tt.classList?tt.classList.remove(et):tt.className=tt.className.replace(new RegExp("(?:^|\\s)".concat(et,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(tt,et,nt){if(!tt.props.bounds)return[et,nt];var rt=tt.props.bounds;rt=typeof rt=="string"?rt:cloneBounds(rt);var it=findDOMNode(tt);if(typeof rt=="string"){var st=it.ownerDocument,ot=st.defaultView,at;if(rt==="parent"?at=it.parentNode:at=st.querySelector(rt),!(at instanceof ot.HTMLElement))throw new Error('Bounds selector "'+rt+'" could not find an element.');var lt=at,ut=ot.getComputedStyle(it),ft=ot.getComputedStyle(lt);rt={left:-it.offsetLeft+(0,_shims$1.int)(ft.paddingLeft)+(0,_shims$1.int)(ut.marginLeft),top:-it.offsetTop+(0,_shims$1.int)(ft.paddingTop)+(0,_shims$1.int)(ut.marginTop),right:(0,_domFns$1.innerWidth)(lt)-(0,_domFns$1.outerWidth)(it)-it.offsetLeft+(0,_shims$1.int)(ft.paddingRight)-(0,_shims$1.int)(ut.marginRight),bottom:(0,_domFns$1.innerHeight)(lt)-(0,_domFns$1.outerHeight)(it)-it.offsetTop+(0,_shims$1.int)(ft.paddingBottom)-(0,_shims$1.int)(ut.marginBottom)}}return(0,_shims$1.isNum)(rt.right)&&(et=Math.min(et,rt.right)),(0,_shims$1.isNum)(rt.bottom)&&(nt=Math.min(nt,rt.bottom)),(0,_shims$1.isNum)(rt.left)&&(et=Math.max(et,rt.left)),(0,_shims$1.isNum)(rt.top)&&(nt=Math.max(nt,rt.top)),[et,nt]}function snapToGrid(tt,et,nt){var rt=Math.round(et/tt[0])*tt[0],it=Math.round(nt/tt[1])*tt[1];return[rt,it]}function canDragX(tt){return tt.props.axis==="both"||tt.props.axis==="x"}function canDragY(tt){return tt.props.axis==="both"||tt.props.axis==="y"}function getControlPosition(tt,et,nt){var rt=typeof et=="number"?(0,_domFns$1.getTouch)(tt,et):null;if(typeof et=="number"&&!rt)return null;var it=findDOMNode(nt),st=nt.props.offsetParent||it.offsetParent||it.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(rt||tt,st,nt.props.scale)}function createCoreData(tt,et,nt){var rt=tt.state,it=!(0,_shims$1.isNum)(rt.lastX),st=findDOMNode(tt);return it?{node:st,deltaX:0,deltaY:0,lastX:et,lastY:nt,x:et,y:nt}:{node:st,deltaX:et-rt.lastX,deltaY:nt-rt.lastY,lastX:rt.lastX,lastY:rt.lastY,x:et,y:nt}}function createDraggableData(tt,et){var nt=tt.props.scale;return{node:et.node,x:tt.state.x+et.deltaX/nt,y:tt.state.y+et.deltaY/nt,deltaX:et.deltaX/nt,deltaY:et.deltaY/nt,lastX:tt.state.x,lastY:tt.state.y}}function cloneBounds(tt){return{left:tt.left,top:tt.top,right:tt.right,bottom:tt.bottom}}function findDOMNode(tt){var et=tt.findDOMNode();if(!et)throw new Error("<DraggableCore>: Unmounted during event!");return et}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}function _typeof$1(tt){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(tt)}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(tt){return tt&&tt.__esModule?tt:{default:tt}}function _getRequireWildcardCache(tt){if(typeof WeakMap!="function")return null;var et=new WeakMap,nt=new WeakMap;return(_getRequireWildcardCache=function(it){return it?nt:et})(tt)}function _interopRequireWildcard(tt,et){if(!et&&tt&&tt.__esModule)return tt;if(tt===null||_typeof$1(tt)!=="object"&&typeof tt!="function")return{default:tt};var nt=_getRequireWildcardCache(et);if(nt&&nt.has(tt))return nt.get(tt);var rt={},it=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in tt)if(st!=="default"&&Object.prototype.hasOwnProperty.call(tt,st)){var ot=it?Object.getOwnPropertyDescriptor(tt,st):null;ot&&(ot.get||ot.set)?Object.defineProperty(rt,st,ot):rt[st]=tt[st]}return rt.default=tt,nt&&nt.set(tt,rt),rt}function _slicedToArray$1(tt,et){return _arrayWithHoles$1(tt)||_iterableToArrayLimit$1(tt,et)||_unsupportedIterableToArray$2(tt,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray$2(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$2(tt,et)}}function _arrayLikeToArray$2(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _iterableToArrayLimit$1(tt,et){var nt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(nt!=null){var rt=[],it=!0,st=!1,ot,at;try{for(nt=nt.call(tt);!(it=(ot=nt.next()).done)&&(rt.push(ot.value),!(et&&rt.length===et));it=!0);}catch(lt){st=!0,at=lt}finally{try{!it&&nt.return!=null&&nt.return()}finally{if(st)throw at}}return rt}}function _arrayWithHoles$1(tt){if(Array.isArray(tt))return tt}function _classCallCheck$3(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function _createClass$3(tt,et,nt){return et&&_defineProperties$3(tt.prototype,et),nt&&_defineProperties$3(tt,nt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function _inherits$2(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),et&&_setPrototypeOf$2(tt,et)}function _setPrototypeOf$2(tt,et){return _setPrototypeOf$2=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf$2(tt,et)}function _createSuper$2(tt){var et=_isNativeReflectConstruct$2();return function(){var rt=_getPrototypeOf$2(tt),it;if(et){var st=_getPrototypeOf$2(this).constructor;it=Reflect.construct(rt,arguments,st)}else it=rt.apply(this,arguments);return _possibleConstructorReturn$2(this,it)}}function _possibleConstructorReturn$2(tt,et){if(et&&(_typeof$1(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(tt)}function _assertThisInitialized$2(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(tt){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf$2(tt)}function _defineProperty$2(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}var eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},dragEventFor=eventsFor.mouse,DraggableCore$1=function(tt){_inherits$2(nt,tt);var et=_createSuper$2(nt);function nt(){var rt;_classCallCheck$3(this,nt);for(var it=arguments.length,st=new Array(it),ot=0;ot<it;ot++)st[ot]=arguments[ot];return rt=et.call.apply(et,[this].concat(st)),_defineProperty$2(_assertThisInitialized$2(rt),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_defineProperty$2(_assertThisInitialized$2(rt),"mounted",!1),_defineProperty$2(_assertThisInitialized$2(rt),"handleDragStart",function(at){if(rt.props.onMouseDown(at),!rt.props.allowAnyClick&&typeof at.button=="number"&&at.button!==0)return!1;var lt=rt.findDOMNode();if(!lt||!lt.ownerDocument||!lt.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ut=lt.ownerDocument;if(!(rt.props.disabled||!(at.target instanceof ut.defaultView.Node)||rt.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(at.target,rt.props.handle,lt)||rt.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(at.target,rt.props.cancel,lt))){at.type==="touchstart"&&at.preventDefault();var ft=(0,_domFns.getTouchIdentifier)(at);rt.setState({touchIdentifier:ft});var dt=(0,_positionFns.getControlPosition)(at,ft,_assertThisInitialized$2(rt));if(dt!=null){var ht=dt.x,mt=dt.y,xt=(0,_positionFns.createCoreData)(_assertThisInitialized$2(rt),ht,mt);(0,_log.default)("DraggableCore: handleDragStart: %j",xt),(0,_log.default)("calling",rt.props.onStart);var _t=rt.props.onStart(at,xt);_t===!1||rt.mounted===!1||(rt.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(ut),rt.setState({dragging:!0,lastX:ht,lastY:mt}),(0,_domFns.addEvent)(ut,dragEventFor.move,rt.handleDrag),(0,_domFns.addEvent)(ut,dragEventFor.stop,rt.handleDragStop))}}}),_defineProperty$2(_assertThisInitialized$2(rt),"handleDrag",function(at){var lt=(0,_positionFns.getControlPosition)(at,rt.state.touchIdentifier,_assertThisInitialized$2(rt));if(lt!=null){var ut=lt.x,ft=lt.y;if(Array.isArray(rt.props.grid)){var dt=ut-rt.state.lastX,ht=ft-rt.state.lastY,mt=(0,_positionFns.snapToGrid)(rt.props.grid,dt,ht),xt=_slicedToArray$1(mt,2);if(dt=xt[0],ht=xt[1],!dt&&!ht)return;ut=rt.state.lastX+dt,ft=rt.state.lastY+ht}var _t=(0,_positionFns.createCoreData)(_assertThisInitialized$2(rt),ut,ft);(0,_log.default)("DraggableCore: handleDrag: %j",_t);var At=rt.props.onDrag(at,_t);if(At===!1||rt.mounted===!1){try{rt.handleDragStop(new MouseEvent("mouseup"))}catch{var gt=document.createEvent("MouseEvents");gt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),rt.handleDragStop(gt)}return}rt.setState({lastX:ut,lastY:ft})}}),_defineProperty$2(_assertThisInitialized$2(rt),"handleDragStop",function(at){if(rt.state.dragging){var lt=(0,_positionFns.getControlPosition)(at,rt.state.touchIdentifier,_assertThisInitialized$2(rt));if(lt!=null){var ut=lt.x,ft=lt.y;if(Array.isArray(rt.props.grid)){var dt=ut-rt.state.lastX||0,ht=ft-rt.state.lastY||0,mt=(0,_positionFns.snapToGrid)(rt.props.grid,dt,ht),xt=_slicedToArray$1(mt,2);dt=xt[0],ht=xt[1],ut=rt.state.lastX+dt,ft=rt.state.lastY+ht}var _t=(0,_positionFns.createCoreData)(_assertThisInitialized$2(rt),ut,ft),At=rt.props.onStop(at,_t);if(At===!1||rt.mounted===!1)return!1;var gt=rt.findDOMNode();gt&&rt.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(gt.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",_t),rt.setState({dragging:!1,lastX:NaN,lastY:NaN}),gt&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(gt.ownerDocument,dragEventFor.move,rt.handleDrag),(0,_domFns.removeEvent)(gt.ownerDocument,dragEventFor.stop,rt.handleDragStop))}}}),_defineProperty$2(_assertThisInitialized$2(rt),"onMouseDown",function(at){return dragEventFor=eventsFor.mouse,rt.handleDragStart(at)}),_defineProperty$2(_assertThisInitialized$2(rt),"onMouseUp",function(at){return dragEventFor=eventsFor.mouse,rt.handleDragStop(at)}),_defineProperty$2(_assertThisInitialized$2(rt),"onTouchStart",function(at){return dragEventFor=eventsFor.touch,rt.handleDragStart(at)}),_defineProperty$2(_assertThisInitialized$2(rt),"onTouchEnd",function(at){return dragEventFor=eventsFor.touch,rt.handleDragStop(at)}),rt}return _createClass$3(nt,[{key:"componentDidMount",value:function(){this.mounted=!0;var it=this.findDOMNode();it&&(0,_domFns.addEvent)(it,eventsFor.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var it=this.findDOMNode();if(it){var st=it.ownerDocument;(0,_domFns.removeEvent)(st,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(st,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(st,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(st,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(it,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(st)}}},{key:"findDOMNode",value:function(){var it,st,ot;return(it=this.props)!==null&&it!==void 0&&it.nodeRef?(st=this.props)===null||st===void 0||(ot=st.nodeRef)===null||ot===void 0?void 0:ot.current:_reactDom.default.findDOMNode(this)}},{key:"render",value:function(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),nt}(React.Component);DraggableCore$2.default=DraggableCore$1;_defineProperty$2(DraggableCore$1,"displayName","DraggableCore");_defineProperty$2(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function(et,nt){if(et[nt]&&et[nt].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty$2(DraggableCore$1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(tt){function et(Ht){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(en){return typeof en}:function(en){return en&&typeof Symbol=="function"&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},et(Ht)}Object.defineProperty(tt,"__esModule",{value:!0}),Object.defineProperty(tt,"DraggableCore",{enumerable:!0,get:function(){return ut.default}}),tt.default=void 0;var nt=xt(reactExports),rt=ht(propTypesExports),it=ht(reactDomExports),st=ht(require$$3),ot=domFns,at=positionFns,lt=shims,ut=ht(DraggableCore$2),ft=ht(log$1),dt=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function ht(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function mt(Ht){if(typeof WeakMap!="function")return null;var en=new WeakMap,an=new WeakMap;return(mt=function(Wt){return Wt?an:en})(Ht)}function xt(Ht,en){if(!en&&Ht&&Ht.__esModule)return Ht;if(Ht===null||et(Ht)!=="object"&&typeof Ht!="function")return{default:Ht};var an=mt(en);if(an&&an.has(Ht))return an.get(Ht);var on={},Wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mn in Ht)if(mn!=="default"&&Object.prototype.hasOwnProperty.call(Ht,mn)){var vn=Wt?Object.getOwnPropertyDescriptor(Ht,mn):null;vn&&(vn.get||vn.set)?Object.defineProperty(on,mn,vn):on[mn]=Ht[mn]}return on.default=Ht,an&&an.set(Ht,on),on}function _t(){return _t=Object.assign||function(Ht){for(var en=1;en<arguments.length;en++){var an=arguments[en];for(var on in an)Object.prototype.hasOwnProperty.call(an,on)&&(Ht[on]=an[on])}return Ht},_t.apply(this,arguments)}function At(Ht,en){if(Ht==null)return{};var an=gt(Ht,en),on,Wt;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(Ht);for(Wt=0;Wt<mn.length;Wt++)on=mn[Wt],!(en.indexOf(on)>=0)&&Object.prototype.propertyIsEnumerable.call(Ht,on)&&(an[on]=Ht[on])}return an}function gt(Ht,en){if(Ht==null)return{};var an={},on=Object.keys(Ht),Wt,mn;for(mn=0;mn<on.length;mn++)Wt=on[mn],!(en.indexOf(Wt)>=0)&&(an[Wt]=Ht[Wt]);return an}function vt(Ht,en){var an=Object.keys(Ht);if(Object.getOwnPropertySymbols){var on=Object.getOwnPropertySymbols(Ht);en&&(on=on.filter(function(Wt){return Object.getOwnPropertyDescriptor(Ht,Wt).enumerable})),an.push.apply(an,on)}return an}function Et(Ht){for(var en=1;en<arguments.length;en++){var an=arguments[en]!=null?arguments[en]:{};en%2?vt(Object(an),!0).forEach(function(on){Qt(Ht,on,an[on])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(an)):vt(Object(an)).forEach(function(on){Object.defineProperty(Ht,on,Object.getOwnPropertyDescriptor(an,on))})}return Ht}function yt(Ht,en){return $t(Ht)||It(Ht,en)||Ct(Ht,en)||wt()}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ct(Ht,en){if(Ht){if(typeof Ht=="string")return Rt(Ht,en);var an=Object.prototype.toString.call(Ht).slice(8,-1);if(an==="Object"&&Ht.constructor&&(an=Ht.constructor.name),an==="Map"||an==="Set")return Array.from(Ht);if(an==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(an))return Rt(Ht,en)}}function Rt(Ht,en){(en==null||en>Ht.length)&&(en=Ht.length);for(var an=0,on=new Array(en);an<en;an++)on[an]=Ht[an];return on}function It(Ht,en){var an=Ht==null?null:typeof Symbol<"u"&&Ht[Symbol.iterator]||Ht["@@iterator"];if(an!=null){var on=[],Wt=!0,mn=!1,vn,En;try{for(an=an.call(Ht);!(Wt=(vn=an.next()).done)&&(on.push(vn.value),!(en&&on.length===en));Wt=!0);}catch(Cn){mn=!0,En=Cn}finally{try{!Wt&&an.return!=null&&an.return()}finally{if(mn)throw En}}return on}}function $t(Ht){if(Array.isArray(Ht))return Ht}function Ft(Ht,en){if(!(Ht instanceof en))throw new TypeError("Cannot call a class as a function")}function Bt(Ht,en){for(var an=0;an<en.length;an++){var on=en[an];on.enumerable=on.enumerable||!1,on.configurable=!0,"value"in on&&(on.writable=!0),Object.defineProperty(Ht,on.key,on)}}function Nt(Ht,en,an){return en&&Bt(Ht.prototype,en),an&&Bt(Ht,an),Object.defineProperty(Ht,"prototype",{writable:!1}),Ht}function Xt(Ht,en){if(typeof en!="function"&&en!==null)throw new TypeError("Super expression must either be null or a function");Ht.prototype=Object.create(en&&en.prototype,{constructor:{value:Ht,writable:!0,configurable:!0}}),Object.defineProperty(Ht,"prototype",{writable:!1}),en&&nn(Ht,en)}function nn(Ht,en){return nn=Object.setPrototypeOf||function(on,Wt){return on.__proto__=Wt,on},nn(Ht,en)}function sn(Ht){var en=Ut();return function(){var on=Kt(Ht),Wt;if(en){var mn=Kt(this).constructor;Wt=Reflect.construct(on,arguments,mn)}else Wt=on.apply(this,arguments);return rn(this,Wt)}}function rn(Ht,en){if(en&&(et(en)==="object"||typeof en=="function"))return en;if(en!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(Ht)}function Jt(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}function Ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kt(Ht){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(an){return an.__proto__||Object.getPrototypeOf(an)},Kt(Ht)}function Qt(Ht,en,an){return en in Ht?Object.defineProperty(Ht,en,{value:an,enumerable:!0,configurable:!0,writable:!0}):Ht[en]=an,Ht}var zt=function(Ht){Xt(an,Ht);var en=sn(an);function an(on){var Wt;return Ft(this,an),Wt=en.call(this,on),Qt(Jt(Wt),"onDragStart",function(mn,vn){(0,ft.default)("Draggable: onDragStart: %j",vn);var En=Wt.props.onStart(mn,(0,at.createDraggableData)(Jt(Wt),vn));if(En===!1)return!1;Wt.setState({dragging:!0,dragged:!0})}),Qt(Jt(Wt),"onDrag",function(mn,vn){if(!Wt.state.dragging)return!1;(0,ft.default)("Draggable: onDrag: %j",vn);var En=(0,at.createDraggableData)(Jt(Wt),vn),Cn={x:En.x,y:En.y};if(Wt.props.bounds){var $n=Cn.x,Fn=Cn.y;Cn.x+=Wt.state.slackX,Cn.y+=Wt.state.slackY;var Ln=(0,at.getBoundPosition)(Jt(Wt),Cn.x,Cn.y),Mn=yt(Ln,2),Gn=Mn[0],er=Mn[1];Cn.x=Gn,Cn.y=er,Cn.slackX=Wt.state.slackX+($n-Cn.x),Cn.slackY=Wt.state.slackY+(Fn-Cn.y),En.x=Cn.x,En.y=Cn.y,En.deltaX=Cn.x-Wt.state.x,En.deltaY=Cn.y-Wt.state.y}var un=Wt.props.onDrag(mn,En);if(un===!1)return!1;Wt.setState(Cn)}),Qt(Jt(Wt),"onDragStop",function(mn,vn){if(!Wt.state.dragging)return!1;var En=Wt.props.onStop(mn,(0,at.createDraggableData)(Jt(Wt),vn));if(En===!1)return!1;(0,ft.default)("Draggable: onDragStop: %j",vn);var Cn={dragging:!1,slackX:0,slackY:0},$n=!!Wt.props.position;if($n){var Fn=Wt.props.position,Ln=Fn.x,Mn=Fn.y;Cn.x=Ln,Cn.y=Mn}Wt.setState(Cn)}),Wt.state={dragging:!1,dragged:!1,x:on.position?on.position.x:on.defaultPosition.x,y:on.position?on.position.y:on.defaultPosition.y,prevPropsPosition:Et({},on.position),slackX:0,slackY:0,isElementSVG:!1},on.position&&!(on.onDrag||on.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Wt}return Nt(an,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Wt,mn,vn;return(Wt=(mn=this.props)===null||mn===void 0||(vn=mn.nodeRef)===null||vn===void 0?void 0:vn.current)!==null&&Wt!==void 0?Wt:it.default.findDOMNode(this)}},{key:"render",value:function(){var Wt,mn=this.props;mn.axis,mn.bounds;var vn=mn.children,En=mn.defaultPosition,Cn=mn.defaultClassName,$n=mn.defaultClassNameDragging,Fn=mn.defaultClassNameDragged,Ln=mn.position,Mn=mn.positionOffset;mn.scale;var Gn=At(mn,dt),er={},un=null,dn=!!Ln,yn=!dn||this.state.dragging,bn=Ln||En,Tn={x:(0,at.canDragX)(this)&&yn?this.state.x:bn.x,y:(0,at.canDragY)(this)&&yn?this.state.y:bn.y};this.state.isElementSVG?un=(0,ot.createSVGTransform)(Tn,Mn):er=(0,ot.createCSSTransform)(Tn,Mn);var Pn=(0,st.default)(vn.props.className||"",Cn,(Wt={},Qt(Wt,$n,this.state.dragging),Qt(Wt,Fn,this.state.dragged),Wt));return nt.createElement(ut.default,_t({},Gn,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),nt.cloneElement(nt.Children.only(vn),{className:Pn,style:Et(Et({},vn.props.style),er),transform:un}))}}],[{key:"getDerivedStateFromProps",value:function(Wt,mn){var vn=Wt.position,En=mn.prevPropsPosition;return vn&&(!En||vn.x!==En.x||vn.y!==En.y)?((0,ft.default)("Draggable: getDerivedStateFromProps %j",{position:vn,prevPropsPosition:En}),{x:vn.x,y:vn.y,prevPropsPosition:Et({},vn)}):null}}]),an}(nt.Component);tt.default=zt,Qt(zt,"displayName","Draggable"),Qt(zt,"propTypes",Et(Et({},ut.default.propTypes),{},{axis:rt.default.oneOf(["both","x","y","none"]),bounds:rt.default.oneOfType([rt.default.shape({left:rt.default.number,right:rt.default.number,top:rt.default.number,bottom:rt.default.number}),rt.default.string,rt.default.oneOf([!1])]),defaultClassName:rt.default.string,defaultClassNameDragging:rt.default.string,defaultClassNameDragged:rt.default.string,defaultPosition:rt.default.shape({x:rt.default.number,y:rt.default.number}),positionOffset:rt.default.shape({x:rt.default.oneOfType([rt.default.number,rt.default.string]),y:rt.default.oneOfType([rt.default.number,rt.default.string])}),position:rt.default.shape({x:rt.default.number,y:rt.default.number}),className:lt.dontSetMe,style:lt.dontSetMe,transform:lt.dontSetMe})),Qt(zt,"defaultProps",Et(Et({},ut.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Draggable$2);var _require=Draggable$2,Draggable=_require.default,DraggableCore=_require.DraggableCore;cjs.exports=Draggable;cjs.exports.default=Draggable;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const Draggable$1=getDefaultExportFromCjs(cjsExports),Minimize="/metaverse/assets/minimize-c24afbf3.png",BackArrowImage="/metaverse/assets/back-arow-3ad09b0e.png",Eye="/metaverse/assets/Eye-93c7f8b3.png",Dislike="/metaverse/assets/dislike-89437d77.png",Like="/metaverse/assets/like-96ed13c5.png",Teacher="/metaverse/assets/teacher-2f30c0f4.png";function Amozesh({title:tt,description:et,creator:nt,video:rt,setShowModal:it,dislikes:st,views:ot,likes:at}){const lt=reactExports.useRef();return reactExports.useEffect(()=>{var ut;(ut=lt.current)==null||ut.load()},[rt]),jsxRuntimeExports.jsx(Draggable$1,{children:jsxRuntimeExports.jsxs("div",{className:"tw-modal-container",dir:"rtl",children:[jsxRuntimeExports.jsx("div",{className:"tw-header",children:jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsx("div",{className:"tw-header-icon",children:jsxRuntimeExports.jsx("img",{src:ExitImage,alt:"",className:"tw-drop-shaow tw-w-100 cursor-pointer",onClick:()=>it(!1)})}),jsxRuntimeExports.jsx("div",{className:"tw-header-icon",children:jsxRuntimeExports.jsx("img",{src:Minimize,alt:"",className:"tw-drop-shaow tw-w-100"})}),jsxRuntimeExports.jsx("div",{className:"text-header",children:jsxRuntimeExports.jsx("p",{className:"header-p",children:"آموزش"})}),jsxRuntimeExports.jsx("div",{className:"tw-header-icon",children:jsxRuntimeExports.jsx("img",{src:BackArrowImage,alt:"",className:"tw-drop-shaow"})})]})}),jsxRuntimeExports.jsxs("div",{className:"container-main",children:[jsxRuntimeExports.jsx("div",{className:"container-video-div",children:jsxRuntimeExports.jsx("video",{width:"100%",height:"50%",controls:!0,ref:lt,children:jsxRuntimeExports.jsx("source",{src:rt,type:"video/mp4"})})}),jsxRuntimeExports.jsxs("div",{className:"container-inside-main",children:[jsxRuntimeExports.jsx("div",{className:"container-div-p",children:jsxRuntimeExports.jsx("p",{className:"p-bold",children:tt})}),jsxRuntimeExports.jsx("div",{className:"container-div-p",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"para-class",dangerouslySetInnerHTML:{__html:et}})})}),jsxRuntimeExports.jsxs("div",{className:"container-icons",children:[jsxRuntimeExports.jsxs("div",{className:"position-icons",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"span-number-icons",children:ot})}),jsxRuntimeExports.jsx("div",{className:"width-icons",children:jsxRuntimeExports.jsx("img",{src:Eye,className:"tw-w-100",alt:""})})]}),jsxRuntimeExports.jsxs("div",{className:"position-icons",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"span-number-icons",children:st})}),jsxRuntimeExports.jsx("div",{className:"width-icons",children:jsxRuntimeExports.jsx("img",{src:Dislike,className:"tw-w-100",alt:""})})]}),jsxRuntimeExports.jsxs("div",{className:"position-icons",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"span-number-icons",children:at})}),jsxRuntimeExports.jsx("div",{className:"width-icons",children:jsxRuntimeExports.jsx("img",{src:Like,className:"tw-w-100",alt:""})})]}),jsxRuntimeExports.jsxs("div",{className:"position-icons-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"span-icon-HM",children:nt})}),jsxRuntimeExports.jsx("div",{className:"width-icons",children:jsxRuntimeExports.jsx("img",{src:Teacher,className:"tw-w-100",alt:""})})]})]})]})]})]})})}const Container$N=styled.div`
  height: 100vh;
  position: absolute;
  z-index: 1500;
  padding: 10px;
  background-color: #fff;
  ${tt=>tt.position==="right"&&"right: 0;"}
  top: 0;
  @media (min-width: 1024px) {
    width: 30%;
  }
  @media (min-width: 1536px) {
    width: 25%;
  }
`,Header$6=styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Img=styled.img`
  width: 40px;
  aspect-ratio: 1/1;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.678));
  cursor: pointer;
`,Title$4=styled.div`
  border: 1px solid #707070;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: end;
  padding: 10px;
  font-weight: 700;
  color: #707070;
  @media (min-width: 1024px) {
    width: 50%;
  }
  @media (min-width: 1280px) {
    width: 60%;
  }
  @media (min-width: 1536px) {
    width: 67%;
  }
`;function ModalPosition({children:tt,title:et,position:nt}){var ut;const rt=useNavigate(),it=useLocation(),st=it.pathname.replace(/\/metaverse\//g,"")+"-",ot=useAdviserData(st,(ut=it==null?void 0:it.state)==null?void 0:ut.locationPage),[at,lt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Container$N,{position:nt,children:[jsxRuntimeExports.jsxs(Header$6,{children:[jsxRuntimeExports.jsx(Img,{src:HelpImage,alt:"help",onClick:()=>lt(ft=>!ft)}),jsxRuntimeExports.jsx(Img,{src:ReportImage,alt:"report",onClick:()=>rt("/metaverse/report",{state:{href:window.location.href.split("/").slice(3).join("/")}})}),jsxRuntimeExports.jsx(Title$4,{children:et}),jsxRuntimeExports.jsx(Img,{src:ExitImage,onClick:()=>rt("/metaverse")})]}),tt,at&&jsxRuntimeExports.jsx(Amozesh,{creator:ot==null?void 0:ot.creator,title:ot==null?void 0:ot.title,video:ot==null?void 0:ot.video,description:ot==null?void 0:ot.description,setShowModal:lt,dislikes:ot==null?void 0:ot.dislikes,likes:ot==null?void 0:ot.likes,views:ot==null?void 0:ot.views})]})}const TabContainer=styled.section`
  width: 99%;
  height: ${tt=>tt.fullHeight?"93%":"500px"};
  margin-top: ${tt=>tt.fullHeight?"0":"24px"};;
  position: relative;
  background: #f6f6f6;
  border-radius: 8px;
  margin-bottom:${tt=>tt.fullHeight?"0":"16px"};;
`,TabList=styled.div`
  position: absolute;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row-reverse;
  background: #fff;
  top: 0;
  border-bottom: 2px solid var(--bs-orange);
`,Tab=styled.button`
  border: none;
  font-size: 14px;
  font-weight: bold;
  width: 150px;
  border-radius: 8px 8px 0px 0px;
  background: #fff;
  color: #999;

  &:hover {
    color: var(--bs-orange);
  }

  &.active {
    background: #f6f6f6;
    color: var(--bs-orange);
    height: 40px;
    border: 2px solid var(--bs-orange);
    border-bottom: none;

    &:hover {
      border: none;
      border: 2px solid var(--bs-orange);
      border-bottom: none;
      filter: none;
      cursor: auto;
    }
  }
`,TabPanel=styled.div`
  margin-top: ${tt=>tt.fullHeight?"20px":"40px"};
  padding-top: ${tt=>tt.fullHeight?"2.8rem":"0"}; ;
  width: 100%;
  height: 90%;
`;function useTabs(tt,et,nt){var ut;const[rt,it]=reactExports.useState(et||0),st=useLocation(),ot=st.pathname.replace(/\/metaverse\//g,"")+"-",[at,lt]=reactExports.useState("");return st.state={...st.state,locationPage:at},reactExports.useEffect(()=>{lt(ot+(rt+1))},[rt,st,et]),reactExports.useEffect(()=>{st.state&&st.state.activePageNumber&&it(st.state.activePageNumber)},[st]),jsxRuntimeExports.jsxs(TabContainer,{fullHeight:nt,children:[jsxRuntimeExports.jsx(TabList,{fullHeight:nt,children:tt.map((ft,dt)=>jsxRuntimeExports.jsx(Tab,{className:`${rt===dt&&"active"}`,onClick:()=>{it(dt),st.state={...st.state,activePageNumber:dt,locationPage:at,activeTab:rt}},children:ft.title},dt))}),jsxRuntimeExports.jsx(TabPanel,{fullHeight:nt,children:(ut=tt[rt])==null?void 0:ut.content})]})}const SearchIcon="/metaverse/assets/searchIcon-5e5a4ea9.png",CrossIcon$1="/metaverse/assets/cross-38ec37fb.png",BuyingHouseIcon="/metaverse/assets/buying-house-128-5e98ecaa.png",PropertyValueBalanceIcon="/metaverse/assets/property-value-balance-128-83977f95.png",PropertyLocationIcon="/metaverse/assets/property-location-128-ba0732af.png",RedHouseIcon="/metaverse/assets/redHouse-11a79dec.png",YellowHouseIcon="/metaverse/assets/yellowHouse-0352cf48.png",BlueHouseIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAABmJLR0QA/wD/AP+gvaeTAAAH6klEQVRYw9WZS4wdRxWGv1P9uK+5M46dxK+YSSIcbGPyMtiRhYxAIgjYRGxAISs2SIgNWxYsYYUQQpFA7JAiEBK7iAUSSiCICARCwShBgjwm2OPYju3xjOd1u7sOi+pHdd/uex0cFmlpPJ66VdWnTv3nP/85Fz5gjwD8/Feruv+enjdS/ppeIO91e83XuYULo+C5U48uPfO/GhwCXLq0xcZG0mmMCKg2/i+VOUL1efeBBRHYtzf+KnBnBqtCkti6wSKlNb5BxRzVyoHeVFTrhyo+B0UE0lTvCBIhwH8u3KLXC8oXdwHiPcGhcQvFrsnE/v6OMVw8P3z29U9efGfzpYar0U5kdsFHkXJrJUksP/jeI/J+BF3o/3HXXQOs5J7UaZdqi+9VWzzvnUitsr2TvW8sUTM4DOHwwQFxL+jGgmr7RYl3qob/szvEbafBBf1U9gkqQsOa/C+dnlNEnVZzjAjDcfB/Mjise80q/Pj5u7l3r3OyCDx0cIOPfmgHEYdtLebsA5ND4fGH1ljelxCIYAzEkfCjn7yhYWjo9QxxZAhDQxBIayC3XeJoGPCFJ++VusEpEFcQtAqTCaxvVlP+lcacOLJTOt0qJAms36rmvH4hYnlfUt2YEW6sTbBW0fwGtIk27aICt8dwGHZBYlaegzSZpqvmE4RS3ki1zpKpolYdarTOKt384/YKQ+mGhHiEb637KV7e79kpR1jrpzwYjwpa03KvS5c3UQVrLWrBevdutQML+Z6qShwF7R72rQmAc8dWOP/PmCw19HsZn/tMVBovAoGBsx95i9f+3UNVGPQzHl2OMQ1wrq3tsGdPnygKalidstUzWgS2tiYc2D9+9vvfffibsw3OF3z85JBTJ4sBgzQAYwTOnBxx+qQbNSYsGaLKnHDm9EH6/aAUQT6OKzbU/F60fEeaKuOFqJvWmtwvpk5r0sKzYhxgjcmj3lbWFCsDIxiPMlUqSlQt9pbS6GLdaBRw4EB/vsEFS/zyd3uxxjjKAj772A32DtPyBqzCL17Yx2hJiEPo9+DssZsMTILaSlCUQeiJp3fXI966dZDAuPHtTeXM8tsE4tYYgTg2mE4eTnHAzS22Cu9cMyyOqykv/33I559Yx+QvzRSurgm7WW6LwP5xnxP3JZicq/00n4ciqsqfXh0y2FMdIrNCps7QwLhhY+qxYGZ5uI0e00ym5zS0cJpWrhQ/czcoM7MNYSV1lmp7TButaUvWKbAXx3YqWoo5xW9j8kGfpgRPwbkBw7QoKuNAPE0+DxKFIwxwj7nMX/64B6tCHFm+9K31MngkP/I4vcYrLy+iKsRRylfObSBIxQh+RhMQBWPg6IFLPP+CJU0jRCwnPnyF8FjfZcfCEzJH/Pi3YwSeecrw9FPrZSJxm1UsYgS+9mWL6s3cQ2CQssroLAaAYw8ucPSBzVKiGtP3rlxal4ZzFb4IJjdUtaK1OrYFEzjNIGVG6Da28LJKHlTiKA+1Ja3dtrxsBtNrF4e8ebUPCL1YOXf8OpHx0rLC+TcXuLbVY2lJGPSU44fXCGw2rbo8SyyQWMP5y/cRRhBHcHhph0VztZKoUs2daXAha63Cb/48ZGmxivmXkjGffmS9xIRVePGVPkuLwOU8mOyQ44c2uj2VX8Bv/zom8ihzbb3PJ44IYaFBWphhJq2pT6H5z25Scat6zOA7c+LNadO4Ws4ztfXqL/EypZ1ncJPWfIYKggpj4vUpRH19Ub1NvVhoIsNIo7WgDUvz9WYWJPxQMcDaxVusvNFzL1TlU0/fzCmrYp0rK9us2Ch3h/LFxzfcAaSqnn1mKYLu0OIqv/7D2FGLKnuHN3niiCKmO3GEXXW/5Dz87a9vsjvZACAKhUE/KDm40Aff+cY6uxN3cb3YMOg1VF0LbETgsRMjjt6/grXO5oVRUHnTa87YeR52UFBEhH7P0I9NrYsjDUk36Bn6hZFt9DmjBbYwCnOll8tLD9QtiW6Wh+tawOdyCRwnGyNlySNd9Vk5pLUmhgIZwurNPfSHAXEMw2CT2O6UrRu9HUg0ubOpQ9JMuX5tFwGi0BDFhvFCWNVlOqsklFogv/i3RRiOy+njpSGnDl0goK6Jzey+RLexqsqF1S3CwE3a3c0IdoRB35Xsfl03ZbfWT6Oq3NoWRoOiboM0bdCkzFNrvjqrGevK87LY9Ls6VtnazmqlTxdsizJINa+cM1t7p/O8VoBQnaPWWmNEyw2TxE7fevES1anA9TGtXtGp+T8LwVX+8epSHnAQSMbpw9aVT975O1kiBUKt+gRNgV41QjzhnWuWmi7G71ppbqRi83perRs787Dh8N3nXRvBwIPLY0Sl1E0t5eO0h61V8pua8lqaav65LVWaE0BuXNvaTLnKyzLFiJYFp6prYT1wZMFhM9fhahWVKtHYxoZTAj4TJcvsVMEAkKS20UF3XG0zyGz9gDVQWdfBFOxUdUIuMdXm1FdLSjKb1m5sJIxHUmTKepZSxwqTxKJqvGaKklkt8d3agVXY2k6JY1MWADZPTEHguNwvUsWrsrMsD3Y/vj526jldvn9/e0lTduG1UZN1qxD/e5BaMpnXgy8FitQSlhFhYSHmZz8967qXu7sTVlev1zzif9EyS83JbdjS1pi8Hfv9J4qjChLWWpJJ0oqZO30KTXJb3+DMKdVKg9+98rZ33V3qRWEOKOZetb9X25d/zd/eUUwQ8oF8/gu5559PTBqA3wAAAABJRU5ErkJggg==",FeatureItem=styled.div`
  padding: 8px;
  display: flex;
  flex-direction: column;
  align-items: end;
  height: 200px;
  width: 100%;
  border-bottom: 1px solid #777;
  padding: 0 10px;
  gap: 7px;
  justify-content: center;
`,ImgContainer$1=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  height: 80%;
  gap: 5px;
`,Icons$1=styled.img`
  width: 35px;
  aspect-ratio: 1/1;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.678));
  cursor: pointer;
`,DetailsContainer$1=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: end;
  gap: 5px;
`,IconSpan=styled.img`
  width: 18px;
  aspect-ratio: 1/1;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.678));
`,Contai=styled.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
`,OrangeBoldFont$1=styled.span`
  font-weight: 700;
  color: orange;
  cursor: pointer;
  font-family: "Segoe UI";
`,blueBoldFont={fontWeight:"600",color:"blue",cursor:"pointer",fontFamily:"Segoe UI"},SpanDetails$1=styled.div`
  display: flex;
  align-items: center;
  justify-content: end;
  gap: 5px;
  > :last-child {
    width: 120px;
    text-align: end;
  }
`,karbariIcons$1={آموزشی:BlueHouseIcon,تجاری:RedHouseIcon,مسکونی:YellowHouseIcon};function calculatePolygonCentroid(tt){const et=tt.length;let nt=0,rt=0;for(let ot=0;ot<et;ot++)nt+=parseFloat(tt[ot].x),rt+=parseFloat(tt[ot].y);const it=nt/et,st=rt/et;return{x:it,y:st}}const FeatureContainer$1=({feature:tt})=>{const et=tt==null?void 0:tt.address.split(", ").reverse().join(", "),nt=useNavigate(),rt=reactExports.useContext(MapContext),it=calculatePolygonCentroid(tt==null?void 0:tt.coordinates);return jsxRuntimeExports.jsxs(FeatureItem,{children:[jsxRuntimeExports.jsxs(Contai,{children:[jsxRuntimeExports.jsxs(ImgContainer$1,{children:[jsxRuntimeExports.jsx(Icons$1,{src:BuyingHouseIcon,onClick:()=>nt(`/metaverse/feature/${tt==null?void 0:tt.id}`,{state:{activePageNumber:1}})}),jsxRuntimeExports.jsx(Icons$1,{src:PropertyValueBalanceIcon,onClick:()=>nt(`/metaverse/feature/${tt==null?void 0:tt.id}`,{state:{activePageNumber:1,activeTab:1}})}),jsxRuntimeExports.jsx(Icons$1,{src:PropertyLocationIcon,onClick:()=>flyToPosition({latitude:it.y,longitude:it.x,icon:LocationPin,mapRe:rt,zoom:17})})]}),jsxRuntimeExports.jsxs(DetailsContainer$1,{children:[jsxRuntimeExports.jsxs(SpanDetails$1,{children:[jsxRuntimeExports.jsx(OrangeBoldFont$1,{onClick:()=>nt(`/metaverse/feature/${tt==null?void 0:tt.id}`),children:tt==null?void 0:tt.feature_properties_id}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx("span",{children:"شناسه VOD"})]}),jsxRuntimeExports.jsxs(SpanDetails$1,{children:[jsxRuntimeExports.jsxs("span",{children:[tt==null?void 0:tt.karbari," ",jsxRuntimeExports.jsx(IconSpan,{src:karbariIcons$1[tt==null?void 0:tt.karbari]})]}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx("span",{children:"کاربری"})]}),jsxRuntimeExports.jsxs(SpanDetails$1,{children:[jsxRuntimeExports.jsx("span",{onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${tt==null?void 0:tt.owner_code}`,"_blank"),style:blueBoldFont,children:tt==null?void 0:tt.owner_code}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx("span",{children:"شناسه شهروند"})]}),jsxRuntimeExports.jsxs(SpanDetails$1,{children:[jsxRuntimeExports.jsx("span",{children:tt==null?void 0:tt.price_irr}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(IconSpan,{src:IRRImage})," قیمت گزاری"]})]}),jsxRuntimeExports.jsxs(SpanDetails$1,{children:[jsxRuntimeExports.jsx("span",{children:tt==null?void 0:tt.price_psc}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(IconSpan,{src:PSCImage})," قیمت گزاری"]})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex",width:"100%"},children:[jsxRuntimeExports.jsx("span",{style:{width:"72%",display:"flex",overflowY:"auto",flexDirection:"row-reverse"},children:et}),":",jsxRuntimeExports.jsx("span",{style:{width:"130px",textAlign:"end"},children:" VOD آدرس"})]})]},tt.id)},FollowImage="/metaverse/assets/follow-a1fc2c89.png";var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(tt,et){(function(){var nt,rt="4.17.21",it=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="Invalid `variable` option passed into `_.template`",lt="__lodash_hash_undefined__",ut=500,ft="__lodash_placeholder__",dt=1,ht=2,mt=4,xt=1,_t=2,At=1,gt=2,vt=4,Et=8,yt=16,wt=32,Ct=64,Rt=128,It=256,$t=512,Ft=30,Bt="...",Nt=800,Xt=16,nn=1,sn=2,rn=3,Jt=1/0,Ut=9007199254740991,Kt=17976931348623157e292,Qt=0/0,zt=4294967295,Ht=zt-1,en=zt>>>1,an=[["ary",Rt],["bind",At],["bindKey",gt],["curry",Et],["curryRight",yt],["flip",$t],["partial",wt],["partialRight",Ct],["rearg",It]],on="[object Arguments]",Wt="[object Array]",mn="[object AsyncFunction]",vn="[object Boolean]",En="[object Date]",Cn="[object DOMException]",$n="[object Error]",Fn="[object Function]",Ln="[object GeneratorFunction]",Mn="[object Map]",Gn="[object Number]",er="[object Null]",un="[object Object]",dn="[object Promise]",yn="[object Proxy]",bn="[object RegExp]",Tn="[object Set]",Pn="[object String]",Yn="[object Symbol]",Un="[object Undefined]",Nn="[object WeakMap]",rr="[object WeakSet]",Kn="[object ArrayBuffer]",Vn="[object DataView]",ir="[object Float32Array]",gr="[object Float64Array]",Gr="[object Int8Array]",Rs="[object Int16Array]",$s="[object Int32Array]",kn="[object Uint8Array]",or="[object Uint8ClampedArray]",sr="[object Uint16Array]",Ar="[object Uint32Array]",ar=/\b__p \+= '';/g,Pr=/\b(__p \+=) '' \+/g,dr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xr=/&(?:amp|lt|gt|quot|#39);/g,pr=/[&<>"']/g,Sr=RegExp(xr.source),Or=RegExp(pr.source),Ur=/<%-([\s\S]+?)%>/g,Ir=/<%([\s\S]+?)%>/g,jr=/<%=([\s\S]+?)%>/g,rs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Er=/^\w*$/,ps=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/[\\^$.*+?()[\]{}|]/g,is=RegExp(Br.source),ur=/^\s+/,Ls=/\s/,cr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mr=/\{\n\/\* \[wrapped with (.+)\] \*/,js=/,? & /,wr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ys=/[()=,{}\[\]\/\s]/,ss=/\\(\\)?/g,os=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xs=/\w*$/,ts=/^[-+]0x[0-9a-f]+$/i,Fr=/^0b[01]+$/i,Jr=/^\[object .+?Constructor\]$/,hs=/^0o[0-7]+$/i,Os=/^(?:0|[1-9]\d*)$/,uo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ws=/($^)/,go=/['\n\r\u2028\u2029\\]/g,Vr="\\ud800-\\udfff",Ns="\\u0300-\\u036f",Ts="\\ufe20-\\ufe2f",eo="\\u20d0-\\u20ff",ao=Ns+Ts+eo,vo="\\u2700-\\u27bf",Vs="a-z\\xdf-\\xf6\\xf8-\\xff",co="\\xac\\xb1\\xd7\\xf7",Bo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ks="\\u2000-\\u206f",Hr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kr="A-Z\\xc0-\\xd6\\xd8-\\xde",ks="\\ufe0e\\ufe0f",to=co+Bo+Ks+Hr,Zs="['’]",To="["+Vr+"]",Lr="["+to+"]",ns="["+ao+"]",Xs="\\d+",Vo="["+vo+"]",Js="["+Vs+"]",Eo="[^"+Vr+to+Xs+vo+Vs+Kr+"]",no="\\ud83c[\\udffb-\\udfff]",Ao="(?:"+ns+"|"+no+")",ms="[^"+Vr+"]",cn="(?:\\ud83c[\\udde6-\\uddff]){2}",xn="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+Kr+"]",Bn="\\u200d",Xn="(?:"+Js+"|"+Eo+")",Hn="(?:"+Sn+"|"+Eo+")",mr="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",yr="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",Cr=Ao+"?",Rr="["+ks+"]?",zr="(?:"+Bn+"(?:"+[ms,cn,xn].join("|")+")"+Rr+Cr+")*",Ds="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fo=Rr+Cr+zr,$r="(?:"+[Vo,cn,xn].join("|")+")"+fo,Co="(?:"+[ms+ns+"?",ns,cn,xn,To].join("|")+")",_s=RegExp(Zs,"g"),ro=RegExp(ns,"g"),$o=RegExp(no+"(?="+no+")|"+Co+fo,"g"),pu=RegExp([Sn+"?"+Js+"+"+mr+"(?="+[Lr,Sn,"$"].join("|")+")",Hn+"+"+yr+"(?="+[Lr,Sn+Xn,"$"].join("|")+")",Sn+"?"+Xn+"+"+mr,Sn+"+"+yr,bs,Ds,Xs,$r].join("|"),"g"),mu=RegExp("["+Bn+Vr+ao+ks+"]"),Zo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_l=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ho=-1,es={};es[ir]=es[gr]=es[Gr]=es[Rs]=es[$s]=es[kn]=es[or]=es[sr]=es[Ar]=!0,es[on]=es[Wt]=es[Kn]=es[vn]=es[Vn]=es[En]=es[$n]=es[Fn]=es[Mn]=es[Gn]=es[un]=es[bn]=es[Tn]=es[Pn]=es[Nn]=!1;var as={};as[on]=as[Wt]=as[Kn]=as[Vn]=as[vn]=as[En]=as[ir]=as[gr]=as[Gr]=as[Rs]=as[$s]=as[Mn]=as[Gn]=as[un]=as[bn]=as[Tn]=as[Pn]=as[Yn]=as[kn]=as[or]=as[sr]=as[Ar]=!0,as[$n]=as[Fn]=as[Nn]=!1;var Yl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Jo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wr=parseFloat,yo=parseInt,lo=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Yr=typeof self=="object"&&self&&self.Object===Object&&self,Hs=lo||Yr||Function("return this")(),Fs=et&&!et.nodeType&&et,Po=Fs&&!0&&tt&&!tt.nodeType&&tt,Us=Po&&Po.exports===Fs,Dl=Us&&lo.process,mo=function(){try{var Ot=Po&&Po.require&&Po.require("util").types;return Ot||Dl&&Dl.binding&&Dl.binding("util")}catch{}}(),Ep=mo&&mo.isArrayBuffer,Mu=mo&&mo.isDate,Lu=mo&&mo.isMap,El=mo&&mo.isRegExp,Bl=mo&&mo.isSet,Qo=mo&&mo.isTypedArray;function Ws(Ot,Gt,qt){switch(qt.length){case 0:return Ot.call(Gt);case 1:return Ot.call(Gt,qt[0]);case 2:return Ot.call(Gt,qt[0],qt[1]);case 3:return Ot.call(Gt,qt[0],qt[1],qt[2])}return Ot.apply(Gt,qt)}function Op(Ot,Gt,qt,hn){for(var On=-1,qn=Ot==null?0:Ot.length;++On<qn;){var vr=Ot[On];Gt(hn,vr,qt(vr),Ot)}return hn}function Qs(Ot,Gt){for(var qt=-1,hn=Ot==null?0:Ot.length;++qt<hn&&Gt(Ot[qt],qt,Ot)!==!1;);return Ot}function Al(Ot,Gt){for(var qt=Ot==null?0:Ot.length;qt--&&Gt(Ot[qt],qt,Ot)!==!1;);return Ot}function Xl(Ot,Gt){for(var qt=-1,hn=Ot==null?0:Ot.length;++qt<hn;)if(!Gt(Ot[qt],qt,Ot))return!1;return!0}function na(Ot,Gt){for(var qt=-1,hn=Ot==null?0:Ot.length,On=0,qn=[];++qt<hn;){var vr=Ot[qt];Gt(vr,qt,Ot)&&(qn[On++]=vr)}return qn}function ku(Ot,Gt){var qt=Ot==null?0:Ot.length;return!!qt&&ga(Ot,Gt,0)>-1}function _f(Ot,Gt,qt){for(var hn=-1,On=Ot==null?0:Ot.length;++hn<On;)if(qt(Gt,Ot[hn]))return!0;return!1}function Is(Ot,Gt){for(var qt=-1,hn=Ot==null?0:Ot.length,On=Array(hn);++qt<hn;)On[qt]=Gt(Ot[qt],qt,Ot);return On}function Wo(Ot,Gt){for(var qt=-1,hn=Gt.length,On=Ot.length;++qt<hn;)Ot[On+qt]=Gt[qt];return Ot}function Du(Ot,Gt,qt,hn){var On=-1,qn=Ot==null?0:Ot.length;for(hn&&qn&&(qt=Ot[++On]);++On<qn;)qt=Gt(qt,Ot[On],On,Ot);return qt}function bp(Ot,Gt,qt,hn){var On=Ot==null?0:Ot.length;for(hn&&On&&(qt=Ot[--On]);On--;)qt=Gt(qt,Ot[On],On,Ot);return qt}function Kl(Ot,Gt){for(var qt=-1,hn=Ot==null?0:Ot.length;++qt<hn;)if(Gt(Ot[qt],qt,Ot))return!0;return!1}var Sl=_d("length");function Ap(Ot){return Ot.split("")}function vu(Ot){return Ot.match(wr)||[]}function Oo(Ot,Gt,qt){var hn;return qt(Ot,function(On,qn,vr){if(Gt(On,qn,vr))return hn=qn,!1}),hn}function qr(Ot,Gt,qt,hn){for(var On=Ot.length,qn=qt+(hn?1:-1);hn?qn--:++qn<On;)if(Gt(Ot[qn],qn,Ot))return qn;return-1}function ga(Ot,Gt,qt){return Gt===Gt?wp(Ot,Gt,qt):qr(Ot,_h,qt)}function yu(Ot,Gt,qt,hn){for(var On=qt-1,qn=Ot.length;++On<qn;)if(hn(Ot[On],Gt))return On;return-1}function _h(Ot){return Ot!==Ot}function Tl(Ot,Gt){var qt=Ot==null?0:Ot.length;return qt?tp(Ot,Gt)/qt:Qt}function _d(Ot){return function(Gt){return Gt==null?nt:Gt[Ot]}}function $l(Ot){return function(Gt){return Ot==null?nt:Ot[Gt]}}function xu(Ot,Gt,qt,hn,On){return On(Ot,function(qn,vr,Qn){qt=hn?(hn=!1,qn):Gt(qt,qn,vr,Qn)}),qt}function ep(Ot,Gt){var qt=Ot.length;for(Ot.sort(Gt);qt--;)Ot[qt]=Ot[qt].value;return Ot}function tp(Ot,Gt){for(var qt,hn=-1,On=Ot.length;++hn<On;){var qn=Gt(Ot[hn]);qn!==nt&&(qt=qt===nt?qn:qt+qn)}return qt}function Bu(Ot,Gt){for(var qt=-1,hn=Array(Ot);++qt<Ot;)hn[qt]=Gt(qt);return hn}function Ip(Ot,Gt){return Is(Gt,function(qt){return[qt,Ot[qt]]})}function Lo(Ot){return Ot&&Ot.slice(0,Ql(Ot)+1).replace(ur,"")}function ho(Ot){return function(Gt){return Ot(Gt)}}function np(Ot,Gt){return Is(Gt,function(qt){return Ot[qt]})}function Ro(Ot,Gt){return Ot.has(Gt)}function zs(Ot,Gt){for(var qt=-1,hn=Ot.length;++qt<hn&&ga(Gt,Ot[qt],0)>-1;);return qt}function Nl(Ot,Gt){for(var qt=Ot.length;qt--&&ga(Gt,Ot[qt],0)>-1;);return qt}function Mp(Ot,Gt){for(var qt=Ot.length,hn=0;qt--;)Ot[qt]===Gt&&++hn;return hn}var No=$l(Yl),Sp=$l(Jo);function $u(Ot){return"\\"+hr[Ot]}function Lp(Ot,Gt){return Ot==null?nt:Ot[Gt]}function xo(Ot){return mu.test(Ot)}function Nu(Ot){return Zo.test(Ot)}function kp(Ot){for(var Gt,qt=[];!(Gt=Ot.next()).done;)qt.push(Gt.value);return qt}function _u(Ot){var Gt=-1,qt=Array(Ot.size);return Ot.forEach(function(hn,On){qt[++Gt]=[On,hn]}),qt}function Eu(Ot,Gt){return function(qt){return Ot(Gt(qt))}}function po(Ot,Gt){for(var qt=-1,hn=Ot.length,On=0,qn=[];++qt<hn;){var vr=Ot[qt];(vr===Gt||vr===ft)&&(Ot[qt]=ft,qn[On++]=qt)}return qn}function Zl(Ot){var Gt=-1,qt=Array(Ot.size);return Ot.forEach(function(hn){qt[++Gt]=hn}),qt}function Jl(Ot){var Gt=-1,qt=Array(Ot.size);return Ot.forEach(function(hn){qt[++Gt]=[hn,hn]}),qt}function wp(Ot,Gt,qt){for(var hn=qt-1,On=Ot.length;++hn<On;)if(Ot[hn]===Gt)return hn;return-1}function xa(Ot,Gt,qt){for(var hn=qt+1;hn--;)if(Ot[hn]===Gt)return hn;return hn}function Fo(Ot){return xo(Ot)?Gu(Ot):Sl(Ot)}function jo(Ot){return xo(Ot)?eu(Ot):Ap(Ot)}function Ql(Ot){for(var Gt=Ot.length;Gt--&&Ls.test(Ot.charAt(Gt)););return Gt}var Fu=$l(gu);function Gu(Ot){for(var Gt=$o.lastIndex=0;$o.test(Ot);)++Gt;return Gt}function eu(Ot){return Ot.match($o)||[]}function tu(Ot){return Ot.match(pu)||[]}var kt=function Ot(Gt){Gt=Gt==null?Hs:Lt.defaults(Hs.Object(),Gt,Lt.pick(Hs,_l));var qt=Gt.Array,hn=Gt.Date,On=Gt.Error,qn=Gt.Function,vr=Gt.Math,Qn=Gt.Object,kr=Gt.RegExp,Ys=Gt.String,so=Gt.TypeError,Cl=qt.prototype,rp=qn.prototype,Fl=Qn.prototype,bu=Gt["__core-js_shared__"],_a=rp.toString,Cs=Fl.hasOwnProperty,nu=0,sp=function(){var pt=/[^.]+$/.exec(bu&&bu.keys&&bu.keys.IE_PROTO||"");return pt?"Symbol(src)_1."+pt:""}(),ru=Fl.toString,Tp=_a.call(Qn),Yo=Hs._,Uu=kr("^"+_a.call(Cs).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gl=Us?Gt.Buffer:nt,Io=Gt.Symbol,zu=Gt.Uint8Array,Au=Gl?Gl.allocUnsafe:nt,Pl=Eu(Qn.getPrototypeOf,Qn),ap=Qn.create,Vu=Fl.propertyIsEnumerable,Su=Cl.splice,Dp=Io?Io.isConcatSpreadable:nt,Hu=Io?Io.iterator:nt,iu=Io?Io.toStringTag:nt,lp=function(){try{var pt=Fp(Qn,"defineProperty");return pt({},"",{}),pt}catch{}}(),zp=Gt.clearTimeout!==Hs.clearTimeout&&Gt.clearTimeout,sm=hn&&hn.now!==Hs.Date.now&&hn.now,Vp=Gt.setTimeout!==Hs.setTimeout&&Gt.setTimeout,up=vr.ceil,cp=vr.floor,ct=Qn.getOwnPropertySymbols,bt=Gl?Gl.isBuffer:nt,Pt=Gt.isFinite,Dt=Cl.join,Zt=Eu(Qn.keys,Qn),fn=vr.max,An=vr.min,Dn=hn.now,zn=Gt.parseInt,tr=vr.random,_r=Cl.reverse,Xr=Fp(Gt,"DataView"),ls=Fp(Gt,"Map"),ko=Fp(Gt,"Promise"),qo=Fp(Gt,"Set"),su=Fp(Gt,"WeakMap"),Xo=Fp(Qn,"create"),Wu=su&&new su,Yu={},om=Gp(Xr),am=Gp(ls),Hp=Gp(ko),lm=Gp(qo),Wp=Gp(su),oo=Io?Io.prototype:nt,ou=oo?oo.valueOf:nt,Yp=oo?oo.toString:nt;function gn(pt){if(bo(pt)&&!cs(pt)&&!(pt instanceof ds)){if(pt instanceof Go)return pt;if(Cs.call(pt,"__wrapped__"))return V0(pt)}return new Go(pt)}var qu=function(){function pt(){}return function(St){if(!_o(St))return{};if(ap)return ap(St);pt.prototype=St;var jt=new pt;return pt.prototype=nt,jt}}();function Xu(){}function Go(pt,St){this.__wrapped__=pt,this.__actions__=[],this.__chain__=!!St,this.__index__=0,this.__values__=nt}gn.templateSettings={escape:Ur,evaluate:Ir,interpolate:jr,variable:"",imports:{_:gn}},gn.prototype=Xu.prototype,gn.prototype.constructor=gn,Go.prototype=qu(Xu.prototype),Go.prototype.constructor=Go;function ds(pt){this.__wrapped__=pt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zt,this.__views__=[]}function Qm(){var pt=new ds(this.__wrapped__);return pt.__actions__=Ol(this.__actions__),pt.__dir__=this.__dir__,pt.__filtered__=this.__filtered__,pt.__iteratees__=Ol(this.__iteratees__),pt.__takeCount__=this.__takeCount__,pt.__views__=Ol(this.__views__),pt}function _g(){if(this.__filtered__){var pt=new ds(this);pt.__dir__=-1,pt.__filtered__=!0}else pt=this.clone(),pt.__dir__*=-1;return pt}function ev(){var pt=this.__wrapped__.value(),St=this.__dir__,jt=cs(pt),Vt=St<0,ln=jt?pt.length:0,_n=qy(0,ln,this.__views__),wn=_n.start,jn=_n.end,In=jn-wn,Zn=Vt?jn:wn-1,Jn=this.__iteratees__,nr=Jn.length,br=0,Dr=An(In,this.__takeCount__);if(!jt||!Vt&&ln==In&&Dr==In)return h0(pt,this.__actions__);var Qr=[];e:for(;In--&&br<Dr;){Zn+=St;for(var Es=-1,_i=pt[Zn];++Es<nr;){var Ss=Jn[Es],Ms=Ss.iteratee,Hl=Ss.type,xl=Ms(_i);if(Hl==sn)_i=xl;else if(!xl){if(Hl==nn)continue e;break e}}Qr[br++]=_i}return Qr}ds.prototype=qu(Xu.prototype),ds.prototype.constructor=ds;function wu(pt){var St=-1,jt=pt==null?0:pt.length;for(this.clear();++St<jt;){var Vt=pt[St];this.set(Vt[0],Vt[1])}}function qp(){this.__data__=Xo?Xo(null):{},this.size=0}function tv(pt){var St=this.has(pt)&&delete this.__data__[pt];return this.size-=St?1:0,St}function nv(pt){var St=this.__data__;if(Xo){var jt=St[pt];return jt===lt?nt:jt}return Cs.call(St,pt)?St[pt]:nt}function rv(pt){var St=this.__data__;return Xo?St[pt]!==nt:Cs.call(St,pt)}function iv(pt,St){var jt=this.__data__;return this.size+=this.has(pt)?0:1,jt[pt]=Xo&&St===nt?lt:St,this}wu.prototype.clear=qp,wu.prototype.delete=tv,wu.prototype.get=nv,wu.prototype.has=rv,wu.prototype.set=iv;function Tu(pt){var St=-1,jt=pt==null?0:pt.length;for(this.clear();++St<jt;){var Vt=pt[St];this.set(Vt[0],Vt[1])}}function sv(){this.__data__=[],this.size=0}function bm(pt){var St=this.__data__,jt=Rl(St,pt);if(jt<0)return!1;var Vt=St.length-1;return jt==Vt?St.pop():Su.call(St,jt,1),--this.size,!0}function ov(pt){var St=this.__data__,jt=Rl(St,pt);return jt<0?nt:St[jt][1]}function av(pt){return Rl(this.__data__,pt)>-1}function Am(pt,St){var jt=this.__data__,Vt=Rl(jt,pt);return Vt<0?(++this.size,jt.push([pt,St])):jt[Vt][1]=St,this}Tu.prototype.clear=sv,Tu.prototype.delete=bm,Tu.prototype.get=ov,Tu.prototype.has=av,Tu.prototype.set=Am;function Cu(pt){var St=-1,jt=pt==null?0:pt.length;for(this.clear();++St<jt;){var Vt=pt[St];this.set(Vt[0],Vt[1])}}function lv(){this.size=0,this.__data__={hash:new wu,map:new(ls||Tu),string:new wu}}function uv(pt){var St=zm(this,pt).delete(pt);return this.size-=St?1:0,St}function Ku(pt){return zm(this,pt).get(pt)}function Sm(pt){return zm(this,pt).has(pt)}function cv(pt,St){var jt=zm(this,pt),Vt=jt.size;return jt.set(pt,St),this.size+=jt.size==Vt?0:1,this}Cu.prototype.clear=lv,Cu.prototype.delete=uv,Cu.prototype.get=Ku,Cu.prototype.has=Sm,Cu.prototype.set=cv;function fp(pt){var St=-1,jt=pt==null?0:pt.length;for(this.__data__=new Cu;++St<jt;)this.add(pt[St])}function fv(pt){return this.__data__.set(pt,lt),this}function lr(pt){return this.__data__.has(pt)}fp.prototype.add=fp.prototype.push=fv,fp.prototype.has=lr;function Ul(pt){var St=this.__data__=new Tu(pt);this.size=St.size}function hv(){this.__data__=new Tu,this.size=0}function wm(pt){var St=this.__data__,jt=St.delete(pt);return this.size=St.size,jt}function Bs(pt){return this.__data__.get(pt)}function Xp(pt){return this.__data__.has(pt)}function Tm(pt,St){var jt=this.__data__;if(jt instanceof Tu){var Vt=jt.__data__;if(!ls||Vt.length<it-1)return Vt.push([pt,St]),this.size=++jt.size,this;jt=this.__data__=new Cu(Vt)}return jt.set(pt,St),this.size=jt.size,this}Ul.prototype.clear=hv,Ul.prototype.delete=wm,Ul.prototype.get=Bs,Ul.prototype.has=Xp,Ul.prototype.set=Tm;function Kp(pt,St){var jt=cs(pt),Vt=!jt&&Up(pt),ln=!jt&&!Vt&&jp(pt),_n=!jt&&!Vt&&!ln&&rm(pt),wn=jt||Vt||ln||_n,jn=wn?Bu(pt.length,Ys):[],In=jn.length;for(var Zn in pt)(St||Cs.call(pt,Zn))&&!(wn&&(Zn=="length"||ln&&(Zn=="offset"||Zn=="parent")||_n&&(Zn=="buffer"||Zn=="byteLength"||Zn=="byteOffset")||gp(Zn,In)))&&jn.push(Zn);return jn}function Cm(pt){var St=pt.length;return St?pt[Tv(0,St-1)]:nt}function dv(pt,St){return Vm(Ol(pt),hp(St,0,pt.length))}function pv(pt){return Vm(Ol(pt))}function um(pt,St,jt){(jt!==nt&&!Ou(pt[St],jt)||jt===nt&&!(St in pt))&&Pu(pt,St,jt)}function Bp(pt,St,jt){var Vt=pt[St];(!(Cs.call(pt,St)&&Ou(Vt,jt))||jt===nt&&!(St in pt))&&Pu(pt,St,jt)}function Rl(pt,St){for(var jt=pt.length;jt--;)if(Ou(pt[jt][0],St))return jt;return-1}function mv(pt,St,jt,Vt){return Zu(pt,function(ln,_n,wn){St(Vt,ln,jt(ln),wn)}),Vt}function cm(pt,St){return pt&&Qu(St,Do(St),pt)}function gv(pt,St){return pt&&Qu(St,Ml(St),pt)}function Pu(pt,St,jt){St=="__proto__"&&lp?lp(pt,St,{configurable:!0,enumerable:!0,value:jt,writable:!0}):pt[St]=jt}function Zp(pt,St){for(var jt=-1,Vt=St.length,ln=qt(Vt),_n=pt==null;++jt<Vt;)ln[jt]=_n?nt:Zv(pt,St[jt]);return ln}function hp(pt,St,jt){return pt===pt&&(jt!==nt&&(pt=pt<=jt?pt:jt),St!==nt&&(pt=pt>=St?pt:St)),pt}function ba(pt,St,jt,Vt,ln,_n){var wn,jn=St&dt,In=St&ht,Zn=St&mt;if(jt&&(wn=ln?jt(pt,Vt,ln,_n):jt(pt)),wn!==nt)return wn;if(!_o(pt))return pt;var Jn=cs(pt);if(Jn){if(wn=Ky(pt),!jn)return Ol(pt,wn)}else{var nr=Ko(pt),br=nr==Fn||nr==Ln;if(jp(pt))return m0(pt,jn);if(nr==un||nr==on||br&&!ln){if(wn=In||br?{}:k0(pt),!jn)return In?Ny(pt,gv(wn,pt)):$y(pt,cm(wn,pt))}else{if(!as[nr])return ln?pt:{};wn=Zy(pt,nr,jn)}}_n||(_n=new Ul);var Dr=_n.get(pt);if(Dr)return Dr;_n.set(pt,wn),cy(pt)?pt.forEach(function(_i){wn.add(ba(_i,St,jt,_i,pt,_n))}):ly(pt)&&pt.forEach(function(_i,Ss){wn.set(Ss,ba(_i,St,jt,Ss,pt,_n))});var Qr=Zn?In?Bv:Dv:In?Ml:Do,Es=Jn?nt:Qr(pt);return Qs(Es||pt,function(_i,Ss){Es&&(Ss=_i,_i=pt[Ss]),Bp(wn,Ss,ba(_i,St,jt,Ss,pt,_n))}),wn}function fm(pt){var St=Do(pt);return function(jt){return Pm(jt,pt,St)}}function Pm(pt,St,jt){var Vt=jt.length;if(pt==null)return!Vt;for(pt=Qn(pt);Vt--;){var ln=jt[Vt],_n=St[ln],wn=pt[ln];if(wn===nt&&!(ln in pt)||!_n(wn))return!1}return!0}function Rm(pt,St,jt){if(typeof pt!="function")throw new so(ot);return _m(function(){pt.apply(nt,jt)},St)}function $a(pt,St,jt,Vt){var ln=-1,_n=ku,wn=!0,jn=pt.length,In=[],Zn=St.length;if(!jn)return In;jt&&(St=Is(St,ho(jt))),Vt?(_n=_f,wn=!1):St.length>=it&&(_n=Ro,wn=!1,St=new fp(St));e:for(;++ln<jn;){var Jn=pt[ln],nr=jt==null?Jn:jt(Jn);if(Jn=Vt||Jn!==0?Jn:0,wn&&nr===nr){for(var br=Zn;br--;)if(St[br]===nr)continue e;In.push(Jn)}else _n(St,nr,Vt)||In.push(Jn)}return In}var Zu=_0(au),jm=_0(dm,!0);function vv(pt,St){var jt=!0;return Zu(pt,function(Vt,ln,_n){return jt=!!St(Vt,ln,_n),jt}),jt}function Jp(pt,St,jt){for(var Vt=-1,ln=pt.length;++Vt<ln;){var _n=pt[Vt],wn=St(_n);if(wn!=null&&(jn===nt?wn===wn&&!Vl(wn):jt(wn,jn)))var jn=wn,In=_n}return In}function yv(pt,St,jt,Vt){var ln=pt.length;for(jt=gs(jt),jt<0&&(jt=-jt>ln?0:ln+jt),Vt=Vt===nt||Vt>ln?ln:gs(Vt),Vt<0&&(Vt+=ln),Vt=jt>Vt?0:hy(Vt);jt<Vt;)pt[jt++]=St;return pt}function Om(pt,St){var jt=[];return Zu(pt,function(Vt,ln,_n){St(Vt,ln,_n)&&jt.push(Vt)}),jt}function Mo(pt,St,jt,Vt,ln){var _n=-1,wn=pt.length;for(jt||(jt=Qy),ln||(ln=[]);++_n<wn;){var jn=pt[_n];St>0&&jt(jn)?St>1?Mo(jn,St-1,jt,Vt,ln):Wo(ln,jn):Vt||(ln[ln.length]=jn)}return ln}var hm=E0(),Im=E0(!0);function au(pt,St){return pt&&hm(pt,St,Do)}function dm(pt,St){return pt&&Im(pt,St,Do)}function lu(pt,St){return na(St,function(jt){return vp(pt[jt])})}function dp(pt,St){St=Pp(St,pt);for(var jt=0,Vt=St.length;pt!=null&&jt<Vt;)pt=pt[_c(St[jt++])];return jt&&jt==Vt?pt:nt}function Mm(pt,St,jt){var Vt=St(pt);return cs(pt)?Vt:Wo(Vt,jt(pt))}function Uo(pt){return pt==null?pt===nt?Un:er:iu&&iu in Qn(pt)?Yy(pt):ox(pt)}function pm(pt,St){return pt>St}function xv(pt,St){return pt!=null&&Cs.call(pt,St)}function _v(pt,St){return pt!=null&&St in Qn(pt)}function Ev(pt,St,jt){return pt>=An(St,jt)&&pt<fn(St,jt)}function mm(pt,St,jt){for(var Vt=jt?_f:ku,ln=pt[0].length,_n=pt.length,wn=_n,jn=qt(_n),In=1/0,Zn=[];wn--;){var Jn=pt[wn];wn&&St&&(Jn=Is(Jn,ho(St))),In=An(Jn.length,In),jn[wn]=!jt&&(St||ln>=120&&Jn.length>=120)?new fp(wn&&Jn):nt}Jn=pt[0];var nr=-1,br=jn[0];e:for(;++nr<ln&&Zn.length<In;){var Dr=Jn[nr],Qr=St?St(Dr):Dr;if(Dr=jt||Dr!==0?Dr:0,!(br?Ro(br,Qr):Vt(Zn,Qr,jt))){for(wn=_n;--wn;){var Es=jn[wn];if(!(Es?Ro(Es,Qr):Vt(pt[wn],Qr,jt)))continue e}br&&br.push(Qr),Zn.push(Dr)}}return Zn}function Ru(pt,St,jt,Vt){return au(pt,function(ln,_n,wn){St(Vt,jt(ln),_n,wn)}),Vt}function uu(pt,St,jt){St=Pp(St,pt),pt=N0(pt,St);var Vt=pt==null?pt:pt[_c(hu(St))];return Vt==null?nt:Ws(Vt,pt,jt)}function Lm(pt){return bo(pt)&&Uo(pt)==on}function bv(pt){return bo(pt)&&Uo(pt)==Kn}function Av(pt){return bo(pt)&&Uo(pt)==En}function $p(pt,St,jt,Vt,ln){return pt===St?!0:pt==null||St==null||!bo(pt)&&!bo(St)?pt!==pt&&St!==St:Sv(pt,St,jt,Vt,$p,ln)}function Sv(pt,St,jt,Vt,ln,_n){var wn=cs(pt),jn=cs(St),In=wn?Wt:Ko(pt),Zn=jn?Wt:Ko(St);In=In==on?un:In,Zn=Zn==on?un:Zn;var Jn=In==un,nr=Zn==un,br=In==Zn;if(br&&jp(pt)){if(!jp(St))return!1;wn=!0,Jn=!1}if(br&&!Jn)return _n||(_n=new Ul),wn||rm(pt)?O0(pt,St,jt,Vt,ln,_n):Hy(pt,St,In,jt,Vt,ln,_n);if(!(jt&xt)){var Dr=Jn&&Cs.call(pt,"__wrapped__"),Qr=nr&&Cs.call(St,"__wrapped__");if(Dr||Qr){var Es=Dr?pt.value():pt,_i=Qr?St.value():St;return _n||(_n=new Ul),ln(Es,_i,jt,Vt,_n)}}return br?(_n||(_n=new Ul),Wy(pt,St,jt,Vt,ln,_n)):!1}function gm(pt){return bo(pt)&&Ko(pt)==Mn}function Ju(pt,St,jt,Vt){var ln=jt.length,_n=ln,wn=!Vt;if(pt==null)return!_n;for(pt=Qn(pt);ln--;){var jn=jt[ln];if(wn&&jn[2]?jn[1]!==pt[jn[0]]:!(jn[0]in pt))return!1}for(;++ln<_n;){jn=jt[ln];var In=jn[0],Zn=pt[In],Jn=jn[1];if(wn&&jn[2]){if(Zn===nt&&!(In in pt))return!1}else{var nr=new Ul;if(Vt)var br=Vt(Zn,Jn,In,pt,St,nr);if(!(br===nt?$p(Jn,Zn,xt|_t,Vt,nr):br))return!1}}return!0}function Np(pt){if(!_o(pt)||tx(pt))return!1;var St=vp(pt)?Uu:Jr;return St.test(Gp(pt))}function Ps(pt){return bo(pt)&&Uo(pt)==bn}function Tt(pt){return bo(pt)&&Ko(pt)==Tn}function Mt(pt){return bo(pt)&&Km(pt.length)&&!!es[Uo(pt)]}function Yt(pt){return typeof pt=="function"?pt:pt==null?Ll:typeof pt=="object"?cs(pt)?us(pt[0],pt[1]):Nr(pt):Ay(pt)}function tn(pt){if(!xm(pt))return Zt(pt);var St=[];for(var jt in Qn(pt))Cs.call(pt,jt)&&jt!="constructor"&&St.push(jt);return St}function pn(pt){if(!_o(pt))return sx(pt);var St=xm(pt),jt=[];for(var Vt in pt)Vt=="constructor"&&(St||!Cs.call(pt,Vt))||jt.push(Vt);return jt}function Rn(pt,St){return pt<St}function Wn(pt,St){var jt=-1,Vt=Il(pt)?qt(pt.length):[];return Zu(pt,function(ln,_n,wn){Vt[++jt]=St(ln,_n,wn)}),Vt}function Nr(pt){var St=Nv(pt);return St.length==1&&St[0][2]?B0(St[0][0],St[0][1]):function(jt){return jt===pt||Ju(jt,pt,St)}}function us(pt,St){return Gv(pt)&&D0(St)?B0(_c(pt),St):function(jt){var Vt=Zv(jt,pt);return Vt===nt&&Vt===St?Jv(jt,pt):$p(St,Vt,xt|_t)}}function Gs(pt,St,jt,Vt,ln){pt!==St&&hm(St,function(_n,wn){if(ln||(ln=new Ul),_o(_n))zo(pt,St,wn,jt,Gs,Vt,ln);else{var jn=Vt?Vt(zv(pt,wn),_n,wn+"",pt,St,ln):nt;jn===nt&&(jn=_n),um(pt,wn,jn)}},Ml)}function zo(pt,St,jt,Vt,ln,_n,wn){var jn=zv(pt,jt),In=zv(St,jt),Zn=wn.get(In);if(Zn){um(pt,jt,Zn);return}var Jn=_n?_n(jn,In,jt+"",pt,St,wn):nt,nr=Jn===nt;if(nr){var br=cs(In),Dr=!br&&jp(In),Qr=!br&&!Dr&&rm(In);Jn=In,br||Dr||Qr?cs(jn)?Jn=jn:So(jn)?Jn=Ol(jn):Dr?(nr=!1,Jn=m0(In,!0)):Qr?(nr=!1,Jn=g0(In,!0)):Jn=[]:Em(In)||Up(In)?(Jn=jn,Up(jn)?Jn=dy(jn):(!_o(jn)||vp(jn))&&(Jn=k0(In))):nr=!1}nr&&(wn.set(In,Jn),ln(Jn,In,Vt,_n,wn),wn.delete(In)),um(pt,jt,Jn)}function cu(pt,St){var jt=pt.length;if(jt)return St+=St<0?jt:0,gp(St,jt)?pt[St]:nt}function ju(pt,St,jt){St.length?St=Is(St,function(_n){return cs(_n)?function(wn){return dp(wn,_n.length===1?_n[0]:_n)}:_n}):St=[Ll];var Vt=-1;St=Is(St,ho(Zr()));var ln=Wn(pt,function(_n,wn,jn){var In=Is(St,function(Zn){return Zn(_n)});return{criteria:In,index:++Vt,value:_n}});return ep(ln,function(_n,wn){return By(_n,wn,jt)})}function wy(pt,St){return o0(pt,St,function(jt,Vt){return Jv(pt,Vt)})}function o0(pt,St,jt){for(var Vt=-1,ln=St.length,_n={};++Vt<ln;){var wn=St[Vt],jn=dp(pt,wn);jt(jn,wn)&&vm(_n,Pp(wn,pt),jn)}return _n}function Ty(pt){return function(St){return dp(St,pt)}}function wv(pt,St,jt,Vt){var ln=Vt?yu:ga,_n=-1,wn=St.length,jn=pt;for(pt===St&&(St=Ol(St)),jt&&(jn=Is(pt,ho(jt)));++_n<wn;)for(var In=0,Zn=St[_n],Jn=jt?jt(Zn):Zn;(In=ln(jn,Jn,In,Vt))>-1;)jn!==pt&&Su.call(jn,In,1),Su.call(pt,In,1);return pt}function a0(pt,St){for(var jt=pt?St.length:0,Vt=jt-1;jt--;){var ln=St[jt];if(jt==Vt||ln!==_n){var _n=ln;gp(ln)?Su.call(pt,ln,1):Rv(pt,ln)}}return pt}function Tv(pt,St){return pt+cp(tr()*(St-pt+1))}function Cy(pt,St,jt,Vt){for(var ln=-1,_n=fn(up((St-pt)/(jt||1)),0),wn=qt(_n);_n--;)wn[Vt?_n:++ln]=pt,pt+=jt;return wn}function Cv(pt,St){var jt="";if(!pt||St<1||St>Ut)return jt;do St%2&&(jt+=pt),St=cp(St/2),St&&(pt+=pt);while(St);return jt}function As(pt,St){return Vv($0(pt,St,Ll),pt+"")}function Py(pt){return Cm(im(pt))}function Ry(pt,St){var jt=im(pt);return Vm(jt,hp(St,0,jt.length))}function vm(pt,St,jt,Vt){if(!_o(pt))return pt;St=Pp(St,pt);for(var ln=-1,_n=St.length,wn=_n-1,jn=pt;jn!=null&&++ln<_n;){var In=_c(St[ln]),Zn=jt;if(In==="__proto__"||In==="constructor"||In==="prototype")return pt;if(ln!=wn){var Jn=jn[In];Zn=Vt?Vt(Jn,In,jn):nt,Zn===nt&&(Zn=_o(Jn)?Jn:gp(St[ln+1])?[]:{})}Bp(jn,In,Zn),jn=jn[In]}return pt}var l0=Wu?function(pt,St){return Wu.set(pt,St),pt}:Ll,jy=lp?function(pt,St){return lp(pt,"toString",{configurable:!0,enumerable:!1,value:e0(St),writable:!0})}:Ll;function Oy(pt){return Vm(im(pt))}function fu(pt,St,jt){var Vt=-1,ln=pt.length;St<0&&(St=-St>ln?0:ln+St),jt=jt>ln?ln:jt,jt<0&&(jt+=ln),ln=St>jt?0:jt-St>>>0,St>>>=0;for(var _n=qt(ln);++Vt<ln;)_n[Vt]=pt[Vt+St];return _n}function Iy(pt,St){var jt;return Zu(pt,function(Vt,ln,_n){return jt=St(Vt,ln,_n),!jt}),!!jt}function km(pt,St,jt){var Vt=0,ln=pt==null?Vt:pt.length;if(typeof St=="number"&&St===St&&ln<=en){for(;Vt<ln;){var _n=Vt+ln>>>1,wn=pt[_n];wn!==null&&!Vl(wn)&&(jt?wn<=St:wn<St)?Vt=_n+1:ln=_n}return ln}return Pv(pt,St,Ll,jt)}function Pv(pt,St,jt,Vt){var ln=0,_n=pt==null?0:pt.length;if(_n===0)return 0;St=jt(St);for(var wn=St!==St,jn=St===null,In=Vl(St),Zn=St===nt;ln<_n;){var Jn=cp((ln+_n)/2),nr=jt(pt[Jn]),br=nr!==nt,Dr=nr===null,Qr=nr===nr,Es=Vl(nr);if(wn)var _i=Vt||Qr;else Zn?_i=Qr&&(Vt||br):jn?_i=Qr&&br&&(Vt||!Dr):In?_i=Qr&&br&&!Dr&&(Vt||!Es):Dr||Es?_i=!1:_i=Vt?nr<=St:nr<St;_i?ln=Jn+1:_n=Jn}return An(_n,Ht)}function u0(pt,St){for(var jt=-1,Vt=pt.length,ln=0,_n=[];++jt<Vt;){var wn=pt[jt],jn=St?St(wn):wn;if(!jt||!Ou(jn,In)){var In=jn;_n[ln++]=wn===0?0:wn}}return _n}function c0(pt){return typeof pt=="number"?pt:Vl(pt)?Qt:+pt}function zl(pt){if(typeof pt=="string")return pt;if(cs(pt))return Is(pt,zl)+"";if(Vl(pt))return Yp?Yp.call(pt):"";var St=pt+"";return St=="0"&&1/pt==-Jt?"-0":St}function Cp(pt,St,jt){var Vt=-1,ln=ku,_n=pt.length,wn=!0,jn=[],In=jn;if(jt)wn=!1,ln=_f;else if(_n>=it){var Zn=St?null:zy(pt);if(Zn)return Zl(Zn);wn=!1,ln=Ro,In=new fp}else In=St?[]:jn;e:for(;++Vt<_n;){var Jn=pt[Vt],nr=St?St(Jn):Jn;if(Jn=jt||Jn!==0?Jn:0,wn&&nr===nr){for(var br=In.length;br--;)if(In[br]===nr)continue e;St&&In.push(nr),jn.push(Jn)}else ln(In,nr,jt)||(In!==jn&&In.push(nr),jn.push(Jn))}return jn}function Rv(pt,St){return St=Pp(St,pt),pt=N0(pt,St),pt==null||delete pt[_c(hu(St))]}function f0(pt,St,jt,Vt){return vm(pt,St,jt(dp(pt,St)),Vt)}function Dm(pt,St,jt,Vt){for(var ln=pt.length,_n=Vt?ln:-1;(Vt?_n--:++_n<ln)&&St(pt[_n],_n,pt););return jt?fu(pt,Vt?0:_n,Vt?_n+1:ln):fu(pt,Vt?_n+1:0,Vt?ln:_n)}function h0(pt,St){var jt=pt;return jt instanceof ds&&(jt=jt.value()),Du(St,function(Vt,ln){return ln.func.apply(ln.thisArg,Wo([Vt],ln.args))},jt)}function jv(pt,St,jt){var Vt=pt.length;if(Vt<2)return Vt?Cp(pt[0]):[];for(var ln=-1,_n=qt(Vt);++ln<Vt;)for(var wn=pt[ln],jn=-1;++jn<Vt;)jn!=ln&&(_n[ln]=$a(_n[ln]||wn,pt[jn],St,jt));return Cp(Mo(_n,1),St,jt)}function d0(pt,St,jt){for(var Vt=-1,ln=pt.length,_n=St.length,wn={};++Vt<ln;){var jn=Vt<_n?St[Vt]:nt;jt(wn,pt[Vt],jn)}return wn}function Ov(pt){return So(pt)?pt:[]}function Iv(pt){return typeof pt=="function"?pt:Ll}function Pp(pt,St){return cs(pt)?pt:Gv(pt,St)?[pt]:z0(qs(pt))}var My=As;function Rp(pt,St,jt){var Vt=pt.length;return jt=jt===nt?Vt:jt,!St&&jt>=Vt?pt:fu(pt,St,jt)}var p0=zp||function(pt){return Hs.clearTimeout(pt)};function m0(pt,St){if(St)return pt.slice();var jt=pt.length,Vt=Au?Au(jt):new pt.constructor(jt);return pt.copy(Vt),Vt}function Mv(pt){var St=new pt.constructor(pt.byteLength);return new zu(St).set(new zu(pt)),St}function Ly(pt,St){var jt=St?Mv(pt.buffer):pt.buffer;return new pt.constructor(jt,pt.byteOffset,pt.byteLength)}function ky(pt){var St=new pt.constructor(pt.source,xs.exec(pt));return St.lastIndex=pt.lastIndex,St}function Dy(pt){return ou?Qn(ou.call(pt)):{}}function g0(pt,St){var jt=St?Mv(pt.buffer):pt.buffer;return new pt.constructor(jt,pt.byteOffset,pt.length)}function v0(pt,St){if(pt!==St){var jt=pt!==nt,Vt=pt===null,ln=pt===pt,_n=Vl(pt),wn=St!==nt,jn=St===null,In=St===St,Zn=Vl(St);if(!jn&&!Zn&&!_n&&pt>St||_n&&wn&&In&&!jn&&!Zn||Vt&&wn&&In||!jt&&In||!ln)return 1;if(!Vt&&!_n&&!Zn&&pt<St||Zn&&jt&&ln&&!Vt&&!_n||jn&&jt&&ln||!wn&&ln||!In)return-1}return 0}function By(pt,St,jt){for(var Vt=-1,ln=pt.criteria,_n=St.criteria,wn=ln.length,jn=jt.length;++Vt<wn;){var In=v0(ln[Vt],_n[Vt]);if(In){if(Vt>=jn)return In;var Zn=jt[Vt];return In*(Zn=="desc"?-1:1)}}return pt.index-St.index}function y0(pt,St,jt,Vt){for(var ln=-1,_n=pt.length,wn=jt.length,jn=-1,In=St.length,Zn=fn(_n-wn,0),Jn=qt(In+Zn),nr=!Vt;++jn<In;)Jn[jn]=St[jn];for(;++ln<wn;)(nr||ln<_n)&&(Jn[jt[ln]]=pt[ln]);for(;Zn--;)Jn[jn++]=pt[ln++];return Jn}function x0(pt,St,jt,Vt){for(var ln=-1,_n=pt.length,wn=-1,jn=jt.length,In=-1,Zn=St.length,Jn=fn(_n-jn,0),nr=qt(Jn+Zn),br=!Vt;++ln<Jn;)nr[ln]=pt[ln];for(var Dr=ln;++In<Zn;)nr[Dr+In]=St[In];for(;++wn<jn;)(br||ln<_n)&&(nr[Dr+jt[wn]]=pt[ln++]);return nr}function Ol(pt,St){var jt=-1,Vt=pt.length;for(St||(St=qt(Vt));++jt<Vt;)St[jt]=pt[jt];return St}function Qu(pt,St,jt,Vt){var ln=!jt;jt||(jt={});for(var _n=-1,wn=St.length;++_n<wn;){var jn=St[_n],In=Vt?Vt(jt[jn],pt[jn],jn,jt,pt):nt;In===nt&&(In=pt[jn]),ln?Pu(jt,jn,In):Bp(jt,jn,In)}return jt}function $y(pt,St){return Qu(pt,Fv(pt),St)}function Ny(pt,St){return Qu(pt,I0(pt),St)}function Bm(pt,St){return function(jt,Vt){var ln=cs(jt)?Op:mv,_n=St?St():{};return ln(jt,pt,Zr(Vt,2),_n)}}function Qp(pt){return As(function(St,jt){var Vt=-1,ln=jt.length,_n=ln>1?jt[ln-1]:nt,wn=ln>2?jt[2]:nt;for(_n=pt.length>3&&typeof _n=="function"?(ln--,_n):nt,wn&&yl(jt[0],jt[1],wn)&&(_n=ln<3?nt:_n,ln=1),St=Qn(St);++Vt<ln;){var jn=jt[Vt];jn&&pt(St,jn,Vt,_n)}return St})}function _0(pt,St){return function(jt,Vt){if(jt==null)return jt;if(!Il(jt))return pt(jt,Vt);for(var ln=jt.length,_n=St?ln:-1,wn=Qn(jt);(St?_n--:++_n<ln)&&Vt(wn[_n],_n,wn)!==!1;);return jt}}function E0(pt){return function(St,jt,Vt){for(var ln=-1,_n=Qn(St),wn=Vt(St),jn=wn.length;jn--;){var In=wn[pt?jn:++ln];if(jt(_n[In],In,_n)===!1)break}return St}}function Fy(pt,St,jt){var Vt=St&At,ln=ym(pt);function _n(){var wn=this&&this!==Hs&&this instanceof _n?ln:pt;return wn.apply(Vt?jt:this,arguments)}return _n}function b0(pt){return function(St){St=qs(St);var jt=xo(St)?jo(St):nt,Vt=jt?jt[0]:St.charAt(0),ln=jt?Rp(jt,1).join(""):St.slice(1);return Vt[pt]()+ln}}function em(pt){return function(St){return Du(Ey(_y(St).replace(_s,"")),pt,"")}}function ym(pt){return function(){var St=arguments;switch(St.length){case 0:return new pt;case 1:return new pt(St[0]);case 2:return new pt(St[0],St[1]);case 3:return new pt(St[0],St[1],St[2]);case 4:return new pt(St[0],St[1],St[2],St[3]);case 5:return new pt(St[0],St[1],St[2],St[3],St[4]);case 6:return new pt(St[0],St[1],St[2],St[3],St[4],St[5]);case 7:return new pt(St[0],St[1],St[2],St[3],St[4],St[5],St[6])}var jt=qu(pt.prototype),Vt=pt.apply(jt,St);return _o(Vt)?Vt:jt}}function Gy(pt,St,jt){var Vt=ym(pt);function ln(){for(var _n=arguments.length,wn=qt(_n),jn=_n,In=tm(ln);jn--;)wn[jn]=arguments[jn];var Zn=_n<3&&wn[0]!==In&&wn[_n-1]!==In?[]:po(wn,In);if(_n-=Zn.length,_n<jt)return C0(pt,St,$m,ln.placeholder,nt,wn,Zn,nt,nt,jt-_n);var Jn=this&&this!==Hs&&this instanceof ln?Vt:pt;return Ws(Jn,this,wn)}return ln}function A0(pt){return function(St,jt,Vt){var ln=Qn(St);if(!Il(St)){var _n=Zr(jt,3);St=Do(St),jt=function(jn){return _n(ln[jn],jn,ln)}}var wn=pt(St,jt,Vt);return wn>-1?ln[_n?St[wn]:wn]:nt}}function S0(pt){return mp(function(St){var jt=St.length,Vt=jt,ln=Go.prototype.thru;for(pt&&St.reverse();Vt--;){var _n=St[Vt];if(typeof _n!="function")throw new so(ot);if(ln&&!wn&&Um(_n)=="wrapper")var wn=new Go([],!0)}for(Vt=wn?Vt:jt;++Vt<jt;){_n=St[Vt];var jn=Um(_n),In=jn=="wrapper"?$v(_n):nt;In&&Uv(In[0])&&In[1]==(Rt|Et|wt|It)&&!In[4].length&&In[9]==1?wn=wn[Um(In[0])].apply(wn,In[3]):wn=_n.length==1&&Uv(_n)?wn[jn]():wn.thru(_n)}return function(){var Zn=arguments,Jn=Zn[0];if(wn&&Zn.length==1&&cs(Jn))return wn.plant(Jn).value();for(var nr=0,br=jt?St[nr].apply(this,Zn):Jn;++nr<jt;)br=St[nr].call(this,br);return br}})}function $m(pt,St,jt,Vt,ln,_n,wn,jn,In,Zn){var Jn=St&Rt,nr=St&At,br=St&gt,Dr=St&(Et|yt),Qr=St&$t,Es=br?nt:ym(pt);function _i(){for(var Ss=arguments.length,Ms=qt(Ss),Hl=Ss;Hl--;)Ms[Hl]=arguments[Hl];if(Dr)var xl=tm(_i),Wl=Mp(Ms,xl);if(Vt&&(Ms=y0(Ms,Vt,ln,Dr)),_n&&(Ms=x0(Ms,_n,wn,Dr)),Ss-=Wl,Dr&&Ss<Zn){var wo=po(Ms,xl);return C0(pt,St,$m,_i.placeholder,jt,Ms,wo,jn,In,Zn-Ss)}var Iu=nr?jt:this,xp=br?Iu[pt]:pt;return Ss=Ms.length,jn?Ms=ax(Ms,jn):Qr&&Ss>1&&Ms.reverse(),Jn&&In<Ss&&(Ms.length=In),this&&this!==Hs&&this instanceof _i&&(xp=Es||ym(xp)),xp.apply(Iu,Ms)}return _i}function w0(pt,St){return function(jt,Vt){return Ru(jt,pt,St(Vt),{})}}function Nm(pt,St){return function(jt,Vt){var ln;if(jt===nt&&Vt===nt)return St;if(jt!==nt&&(ln=jt),Vt!==nt){if(ln===nt)return Vt;typeof jt=="string"||typeof Vt=="string"?(jt=zl(jt),Vt=zl(Vt)):(jt=c0(jt),Vt=c0(Vt)),ln=pt(jt,Vt)}return ln}}function Lv(pt){return mp(function(St){return St=Is(St,ho(Zr())),As(function(jt){var Vt=this;return pt(St,function(ln){return Ws(ln,Vt,jt)})})})}function Fm(pt,St){St=St===nt?" ":zl(St);var jt=St.length;if(jt<2)return jt?Cv(St,pt):St;var Vt=Cv(St,up(pt/Fo(St)));return xo(St)?Rp(jo(Vt),0,pt).join(""):Vt.slice(0,pt)}function Uy(pt,St,jt,Vt){var ln=St&At,_n=ym(pt);function wn(){for(var jn=-1,In=arguments.length,Zn=-1,Jn=Vt.length,nr=qt(Jn+In),br=this&&this!==Hs&&this instanceof wn?_n:pt;++Zn<Jn;)nr[Zn]=Vt[Zn];for(;In--;)nr[Zn++]=arguments[++jn];return Ws(br,ln?jt:this,nr)}return wn}function T0(pt){return function(St,jt,Vt){return Vt&&typeof Vt!="number"&&yl(St,jt,Vt)&&(jt=Vt=nt),St=yp(St),jt===nt?(jt=St,St=0):jt=yp(jt),Vt=Vt===nt?St<jt?1:-1:yp(Vt),Cy(St,jt,Vt,pt)}}function Gm(pt){return function(St,jt){return typeof St=="string"&&typeof jt=="string"||(St=du(St),jt=du(jt)),pt(St,jt)}}function C0(pt,St,jt,Vt,ln,_n,wn,jn,In,Zn){var Jn=St&Et,nr=Jn?wn:nt,br=Jn?nt:wn,Dr=Jn?_n:nt,Qr=Jn?nt:_n;St|=Jn?wt:Ct,St&=~(Jn?Ct:wt),St&vt||(St&=~(At|gt));var Es=[pt,St,ln,Dr,nr,Qr,br,jn,In,Zn],_i=jt.apply(nt,Es);return Uv(pt)&&F0(_i,Es),_i.placeholder=Vt,G0(_i,pt,St)}function kv(pt){var St=vr[pt];return function(jt,Vt){if(jt=du(jt),Vt=Vt==null?0:An(gs(Vt),292),Vt&&Pt(jt)){var ln=(qs(jt)+"e").split("e"),_n=St(ln[0]+"e"+(+ln[1]+Vt));return ln=(qs(_n)+"e").split("e"),+(ln[0]+"e"+(+ln[1]-Vt))}return St(jt)}}var zy=qo&&1/Zl(new qo([,-0]))[1]==Jt?function(pt){return new qo(pt)}:r0;function P0(pt){return function(St){var jt=Ko(St);return jt==Mn?_u(St):jt==Tn?Jl(St):Ip(St,pt(St))}}function pp(pt,St,jt,Vt,ln,_n,wn,jn){var In=St&gt;if(!In&&typeof pt!="function")throw new so(ot);var Zn=Vt?Vt.length:0;if(Zn||(St&=~(wt|Ct),Vt=ln=nt),wn=wn===nt?wn:fn(gs(wn),0),jn=jn===nt?jn:gs(jn),Zn-=ln?ln.length:0,St&Ct){var Jn=Vt,nr=ln;Vt=ln=nt}var br=In?nt:$v(pt),Dr=[pt,St,jt,Vt,ln,Jn,nr,_n,wn,jn];if(br&&ix(Dr,br),pt=Dr[0],St=Dr[1],jt=Dr[2],Vt=Dr[3],ln=Dr[4],jn=Dr[9]=Dr[9]===nt?In?0:pt.length:fn(Dr[9]-Zn,0),!jn&&St&(Et|yt)&&(St&=~(Et|yt)),!St||St==At)var Qr=Fy(pt,St,jt);else St==Et||St==yt?Qr=Gy(pt,St,jn):(St==wt||St==(At|wt))&&!ln.length?Qr=Uy(pt,St,jt,Vt):Qr=$m.apply(nt,Dr);var Es=br?l0:F0;return G0(Es(Qr,Dr),pt,St)}function R0(pt,St,jt,Vt){return pt===nt||Ou(pt,Fl[jt])&&!Cs.call(Vt,jt)?St:pt}function j0(pt,St,jt,Vt,ln,_n){return _o(pt)&&_o(St)&&(_n.set(St,pt),Gs(pt,St,nt,j0,_n),_n.delete(St)),pt}function Vy(pt){return Em(pt)?nt:pt}function O0(pt,St,jt,Vt,ln,_n){var wn=jt&xt,jn=pt.length,In=St.length;if(jn!=In&&!(wn&&In>jn))return!1;var Zn=_n.get(pt),Jn=_n.get(St);if(Zn&&Jn)return Zn==St&&Jn==pt;var nr=-1,br=!0,Dr=jt&_t?new fp:nt;for(_n.set(pt,St),_n.set(St,pt);++nr<jn;){var Qr=pt[nr],Es=St[nr];if(Vt)var _i=wn?Vt(Es,Qr,nr,St,pt,_n):Vt(Qr,Es,nr,pt,St,_n);if(_i!==nt){if(_i)continue;br=!1;break}if(Dr){if(!Kl(St,function(Ss,Ms){if(!Ro(Dr,Ms)&&(Qr===Ss||ln(Qr,Ss,jt,Vt,_n)))return Dr.push(Ms)})){br=!1;break}}else if(!(Qr===Es||ln(Qr,Es,jt,Vt,_n))){br=!1;break}}return _n.delete(pt),_n.delete(St),br}function Hy(pt,St,jt,Vt,ln,_n,wn){switch(jt){case Vn:if(pt.byteLength!=St.byteLength||pt.byteOffset!=St.byteOffset)return!1;pt=pt.buffer,St=St.buffer;case Kn:return!(pt.byteLength!=St.byteLength||!_n(new zu(pt),new zu(St)));case vn:case En:case Gn:return Ou(+pt,+St);case $n:return pt.name==St.name&&pt.message==St.message;case bn:case Pn:return pt==St+"";case Mn:var jn=_u;case Tn:var In=Vt&xt;if(jn||(jn=Zl),pt.size!=St.size&&!In)return!1;var Zn=wn.get(pt);if(Zn)return Zn==St;Vt|=_t,wn.set(pt,St);var Jn=O0(jn(pt),jn(St),Vt,ln,_n,wn);return wn.delete(pt),Jn;case Yn:if(ou)return ou.call(pt)==ou.call(St)}return!1}function Wy(pt,St,jt,Vt,ln,_n){var wn=jt&xt,jn=Dv(pt),In=jn.length,Zn=Dv(St),Jn=Zn.length;if(In!=Jn&&!wn)return!1;for(var nr=In;nr--;){var br=jn[nr];if(!(wn?br in St:Cs.call(St,br)))return!1}var Dr=_n.get(pt),Qr=_n.get(St);if(Dr&&Qr)return Dr==St&&Qr==pt;var Es=!0;_n.set(pt,St),_n.set(St,pt);for(var _i=wn;++nr<In;){br=jn[nr];var Ss=pt[br],Ms=St[br];if(Vt)var Hl=wn?Vt(Ms,Ss,br,St,pt,_n):Vt(Ss,Ms,br,pt,St,_n);if(!(Hl===nt?Ss===Ms||ln(Ss,Ms,jt,Vt,_n):Hl)){Es=!1;break}_i||(_i=br=="constructor")}if(Es&&!_i){var xl=pt.constructor,Wl=St.constructor;xl!=Wl&&"constructor"in pt&&"constructor"in St&&!(typeof xl=="function"&&xl instanceof xl&&typeof Wl=="function"&&Wl instanceof Wl)&&(Es=!1)}return _n.delete(pt),_n.delete(St),Es}function mp(pt){return Vv($0(pt,nt,Y0),pt+"")}function Dv(pt){return Mm(pt,Do,Fv)}function Bv(pt){return Mm(pt,Ml,I0)}var $v=Wu?function(pt){return Wu.get(pt)}:r0;function Um(pt){for(var St=pt.name+"",jt=Yu[St],Vt=Cs.call(Yu,St)?jt.length:0;Vt--;){var ln=jt[Vt],_n=ln.func;if(_n==null||_n==pt)return ln.name}return St}function tm(pt){var St=Cs.call(gn,"placeholder")?gn:pt;return St.placeholder}function Zr(){var pt=gn.iteratee||t0;return pt=pt===t0?Yt:pt,arguments.length?pt(arguments[0],arguments[1]):pt}function zm(pt,St){var jt=pt.__data__;return ex(St)?jt[typeof St=="string"?"string":"hash"]:jt.map}function Nv(pt){for(var St=Do(pt),jt=St.length;jt--;){var Vt=St[jt],ln=pt[Vt];St[jt]=[Vt,ln,D0(ln)]}return St}function Fp(pt,St){var jt=Lp(pt,St);return Np(jt)?jt:nt}function Yy(pt){var St=Cs.call(pt,iu),jt=pt[iu];try{pt[iu]=nt;var Vt=!0}catch{}var ln=ru.call(pt);return Vt&&(St?pt[iu]=jt:delete pt[iu]),ln}var Fv=ct?function(pt){return pt==null?[]:(pt=Qn(pt),na(ct(pt),function(St){return Vu.call(pt,St)}))}:i0,I0=ct?function(pt){for(var St=[];pt;)Wo(St,Fv(pt)),pt=Pl(pt);return St}:i0,Ko=Uo;(Xr&&Ko(new Xr(new ArrayBuffer(1)))!=Vn||ls&&Ko(new ls)!=Mn||ko&&Ko(ko.resolve())!=dn||qo&&Ko(new qo)!=Tn||su&&Ko(new su)!=Nn)&&(Ko=function(pt){var St=Uo(pt),jt=St==un?pt.constructor:nt,Vt=jt?Gp(jt):"";if(Vt)switch(Vt){case om:return Vn;case am:return Mn;case Hp:return dn;case lm:return Tn;case Wp:return Nn}return St});function qy(pt,St,jt){for(var Vt=-1,ln=jt.length;++Vt<ln;){var _n=jt[Vt],wn=_n.size;switch(_n.type){case"drop":pt+=wn;break;case"dropRight":St-=wn;break;case"take":St=An(St,pt+wn);break;case"takeRight":pt=fn(pt,St-wn);break}}return{start:pt,end:St}}function Xy(pt){var St=pt.match(Mr);return St?St[1].split(js):[]}function L0(pt,St,jt){St=Pp(St,pt);for(var Vt=-1,ln=St.length,_n=!1;++Vt<ln;){var wn=_c(St[Vt]);if(!(_n=pt!=null&&jt(pt,wn)))break;pt=pt[wn]}return _n||++Vt!=ln?_n:(ln=pt==null?0:pt.length,!!ln&&Km(ln)&&gp(wn,ln)&&(cs(pt)||Up(pt)))}function Ky(pt){var St=pt.length,jt=new pt.constructor(St);return St&&typeof pt[0]=="string"&&Cs.call(pt,"index")&&(jt.index=pt.index,jt.input=pt.input),jt}function k0(pt){return typeof pt.constructor=="function"&&!xm(pt)?qu(Pl(pt)):{}}function Zy(pt,St,jt){var Vt=pt.constructor;switch(St){case Kn:return Mv(pt);case vn:case En:return new Vt(+pt);case Vn:return Ly(pt,jt);case ir:case gr:case Gr:case Rs:case $s:case kn:case or:case sr:case Ar:return g0(pt,jt);case Mn:return new Vt;case Gn:case Pn:return new Vt(pt);case bn:return ky(pt);case Tn:return new Vt;case Yn:return Dy(pt)}}function Jy(pt,St){var jt=St.length;if(!jt)return pt;var Vt=jt-1;return St[Vt]=(jt>1?"& ":"")+St[Vt],St=St.join(jt>2?", ":" "),pt.replace(cr,`{
/* [wrapped with `+St+`] */
`)}function Qy(pt){return cs(pt)||Up(pt)||!!(Dp&&pt&&pt[Dp])}function gp(pt,St){var jt=typeof pt;return St=St??Ut,!!St&&(jt=="number"||jt!="symbol"&&Os.test(pt))&&pt>-1&&pt%1==0&&pt<St}function yl(pt,St,jt){if(!_o(jt))return!1;var Vt=typeof St;return(Vt=="number"?Il(jt)&&gp(St,jt.length):Vt=="string"&&St in jt)?Ou(jt[St],pt):!1}function Gv(pt,St){if(cs(pt))return!1;var jt=typeof pt;return jt=="number"||jt=="symbol"||jt=="boolean"||pt==null||Vl(pt)?!0:Er.test(pt)||!rs.test(pt)||St!=null&&pt in Qn(St)}function ex(pt){var St=typeof pt;return St=="string"||St=="number"||St=="symbol"||St=="boolean"?pt!=="__proto__":pt===null}function Uv(pt){var St=Um(pt),jt=gn[St];if(typeof jt!="function"||!(St in ds.prototype))return!1;if(pt===jt)return!0;var Vt=$v(jt);return!!Vt&&pt===Vt[0]}function tx(pt){return!!sp&&sp in pt}var nx=bu?vp:s0;function xm(pt){var St=pt&&pt.constructor,jt=typeof St=="function"&&St.prototype||Fl;return pt===jt}function D0(pt){return pt===pt&&!_o(pt)}function B0(pt,St){return function(jt){return jt==null?!1:jt[pt]===St&&(St!==nt||pt in Qn(jt))}}function rx(pt){var St=qm(pt,function(Vt){return jt.size===ut&&jt.clear(),Vt}),jt=St.cache;return St}function ix(pt,St){var jt=pt[1],Vt=St[1],ln=jt|Vt,_n=ln<(At|gt|Rt),wn=Vt==Rt&&jt==Et||Vt==Rt&&jt==It&&pt[7].length<=St[8]||Vt==(Rt|It)&&St[7].length<=St[8]&&jt==Et;if(!(_n||wn))return pt;Vt&At&&(pt[2]=St[2],ln|=jt&At?0:vt);var jn=St[3];if(jn){var In=pt[3];pt[3]=In?y0(In,jn,St[4]):jn,pt[4]=In?po(pt[3],ft):St[4]}return jn=St[5],jn&&(In=pt[5],pt[5]=In?x0(In,jn,St[6]):jn,pt[6]=In?po(pt[5],ft):St[6]),jn=St[7],jn&&(pt[7]=jn),Vt&Rt&&(pt[8]=pt[8]==null?St[8]:An(pt[8],St[8])),pt[9]==null&&(pt[9]=St[9]),pt[0]=St[0],pt[1]=ln,pt}function sx(pt){var St=[];if(pt!=null)for(var jt in Qn(pt))St.push(jt);return St}function ox(pt){return ru.call(pt)}function $0(pt,St,jt){return St=fn(St===nt?pt.length-1:St,0),function(){for(var Vt=arguments,ln=-1,_n=fn(Vt.length-St,0),wn=qt(_n);++ln<_n;)wn[ln]=Vt[St+ln];ln=-1;for(var jn=qt(St+1);++ln<St;)jn[ln]=Vt[ln];return jn[St]=jt(wn),Ws(pt,this,jn)}}function N0(pt,St){return St.length<2?pt:dp(pt,fu(St,0,-1))}function ax(pt,St){for(var jt=pt.length,Vt=An(St.length,jt),ln=Ol(pt);Vt--;){var _n=St[Vt];pt[Vt]=gp(_n,jt)?ln[_n]:nt}return pt}function zv(pt,St){if(!(St==="constructor"&&typeof pt[St]=="function")&&St!="__proto__")return pt[St]}var F0=U0(l0),_m=Vp||function(pt,St){return Hs.setTimeout(pt,St)},Vv=U0(jy);function G0(pt,St,jt){var Vt=St+"";return Vv(pt,Jy(Vt,lx(Xy(Vt),jt)))}function U0(pt){var St=0,jt=0;return function(){var Vt=Dn(),ln=Xt-(Vt-jt);if(jt=Vt,ln>0){if(++St>=Nt)return arguments[0]}else St=0;return pt.apply(nt,arguments)}}function Vm(pt,St){var jt=-1,Vt=pt.length,ln=Vt-1;for(St=St===nt?Vt:St;++jt<St;){var _n=Tv(jt,ln),wn=pt[_n];pt[_n]=pt[jt],pt[jt]=wn}return pt.length=St,pt}var z0=rx(function(pt){var St=[];return pt.charCodeAt(0)===46&&St.push(""),pt.replace(ps,function(jt,Vt,ln,_n){St.push(ln?_n.replace(ss,"$1"):Vt||jt)}),St});function _c(pt){if(typeof pt=="string"||Vl(pt))return pt;var St=pt+"";return St=="0"&&1/pt==-Jt?"-0":St}function Gp(pt){if(pt!=null){try{return _a.call(pt)}catch{}try{return pt+""}catch{}}return""}function lx(pt,St){return Qs(an,function(jt){var Vt="_."+jt[0];St&jt[1]&&!ku(pt,Vt)&&pt.push(Vt)}),pt.sort()}function V0(pt){if(pt instanceof ds)return pt.clone();var St=new Go(pt.__wrapped__,pt.__chain__);return St.__actions__=Ol(pt.__actions__),St.__index__=pt.__index__,St.__values__=pt.__values__,St}function ux(pt,St,jt){(jt?yl(pt,St,jt):St===nt)?St=1:St=fn(gs(St),0);var Vt=pt==null?0:pt.length;if(!Vt||St<1)return[];for(var ln=0,_n=0,wn=qt(up(Vt/St));ln<Vt;)wn[_n++]=fu(pt,ln,ln+=St);return wn}function cx(pt){for(var St=-1,jt=pt==null?0:pt.length,Vt=0,ln=[];++St<jt;){var _n=pt[St];_n&&(ln[Vt++]=_n)}return ln}function fx(){var pt=arguments.length;if(!pt)return[];for(var St=qt(pt-1),jt=arguments[0],Vt=pt;Vt--;)St[Vt-1]=arguments[Vt];return Wo(cs(jt)?Ol(jt):[jt],Mo(St,1))}var hx=As(function(pt,St){return So(pt)?$a(pt,Mo(St,1,So,!0)):[]}),dx=As(function(pt,St){var jt=hu(St);return So(jt)&&(jt=nt),So(pt)?$a(pt,Mo(St,1,So,!0),Zr(jt,2)):[]}),px=As(function(pt,St){var jt=hu(St);return So(jt)&&(jt=nt),So(pt)?$a(pt,Mo(St,1,So,!0),nt,jt):[]});function mx(pt,St,jt){var Vt=pt==null?0:pt.length;return Vt?(St=jt||St===nt?1:gs(St),fu(pt,St<0?0:St,Vt)):[]}function gx(pt,St,jt){var Vt=pt==null?0:pt.length;return Vt?(St=jt||St===nt?1:gs(St),St=Vt-St,fu(pt,0,St<0?0:St)):[]}function vx(pt,St){return pt&&pt.length?Dm(pt,Zr(St,3),!0,!0):[]}function yx(pt,St){return pt&&pt.length?Dm(pt,Zr(St,3),!0):[]}function xx(pt,St,jt,Vt){var ln=pt==null?0:pt.length;return ln?(jt&&typeof jt!="number"&&yl(pt,St,jt)&&(jt=0,Vt=ln),yv(pt,St,jt,Vt)):[]}function H0(pt,St,jt){var Vt=pt==null?0:pt.length;if(!Vt)return-1;var ln=jt==null?0:gs(jt);return ln<0&&(ln=fn(Vt+ln,0)),qr(pt,Zr(St,3),ln)}function W0(pt,St,jt){var Vt=pt==null?0:pt.length;if(!Vt)return-1;var ln=Vt-1;return jt!==nt&&(ln=gs(jt),ln=jt<0?fn(Vt+ln,0):An(ln,Vt-1)),qr(pt,Zr(St,3),ln,!0)}function Y0(pt){var St=pt==null?0:pt.length;return St?Mo(pt,1):[]}function _x(pt){var St=pt==null?0:pt.length;return St?Mo(pt,Jt):[]}function Ex(pt,St){var jt=pt==null?0:pt.length;return jt?(St=St===nt?1:gs(St),Mo(pt,St)):[]}function bx(pt){for(var St=-1,jt=pt==null?0:pt.length,Vt={};++St<jt;){var ln=pt[St];Vt[ln[0]]=ln[1]}return Vt}function q0(pt){return pt&&pt.length?pt[0]:nt}function Ax(pt,St,jt){var Vt=pt==null?0:pt.length;if(!Vt)return-1;var ln=jt==null?0:gs(jt);return ln<0&&(ln=fn(Vt+ln,0)),ga(pt,St,ln)}function Sx(pt){var St=pt==null?0:pt.length;return St?fu(pt,0,-1):[]}var wx=As(function(pt){var St=Is(pt,Ov);return St.length&&St[0]===pt[0]?mm(St):[]}),Tx=As(function(pt){var St=hu(pt),jt=Is(pt,Ov);return St===hu(jt)?St=nt:jt.pop(),jt.length&&jt[0]===pt[0]?mm(jt,Zr(St,2)):[]}),Cx=As(function(pt){var St=hu(pt),jt=Is(pt,Ov);return St=typeof St=="function"?St:nt,St&&jt.pop(),jt.length&&jt[0]===pt[0]?mm(jt,nt,St):[]});function Px(pt,St){return pt==null?"":Dt.call(pt,St)}function hu(pt){var St=pt==null?0:pt.length;return St?pt[St-1]:nt}function Rx(pt,St,jt){var Vt=pt==null?0:pt.length;if(!Vt)return-1;var ln=Vt;return jt!==nt&&(ln=gs(jt),ln=ln<0?fn(Vt+ln,0):An(ln,Vt-1)),St===St?xa(pt,St,ln):qr(pt,_h,ln,!0)}function jx(pt,St){return pt&&pt.length?cu(pt,gs(St)):nt}var Ox=As(X0);function X0(pt,St){return pt&&pt.length&&St&&St.length?wv(pt,St):pt}function Ix(pt,St,jt){return pt&&pt.length&&St&&St.length?wv(pt,St,Zr(jt,2)):pt}function Mx(pt,St,jt){return pt&&pt.length&&St&&St.length?wv(pt,St,nt,jt):pt}var Lx=mp(function(pt,St){var jt=pt==null?0:pt.length,Vt=Zp(pt,St);return a0(pt,Is(St,function(ln){return gp(ln,jt)?+ln:ln}).sort(v0)),Vt});function kx(pt,St){var jt=[];if(!(pt&&pt.length))return jt;var Vt=-1,ln=[],_n=pt.length;for(St=Zr(St,3);++Vt<_n;){var wn=pt[Vt];St(wn,Vt,pt)&&(jt.push(wn),ln.push(Vt))}return a0(pt,ln),jt}function Hv(pt){return pt==null?pt:_r.call(pt)}function Dx(pt,St,jt){var Vt=pt==null?0:pt.length;return Vt?(jt&&typeof jt!="number"&&yl(pt,St,jt)?(St=0,jt=Vt):(St=St==null?0:gs(St),jt=jt===nt?Vt:gs(jt)),fu(pt,St,jt)):[]}function Bx(pt,St){return km(pt,St)}function $x(pt,St,jt){return Pv(pt,St,Zr(jt,2))}function Nx(pt,St){var jt=pt==null?0:pt.length;if(jt){var Vt=km(pt,St);if(Vt<jt&&Ou(pt[Vt],St))return Vt}return-1}function Fx(pt,St){return km(pt,St,!0)}function Gx(pt,St,jt){return Pv(pt,St,Zr(jt,2),!0)}function Ux(pt,St){var jt=pt==null?0:pt.length;if(jt){var Vt=km(pt,St,!0)-1;if(Ou(pt[Vt],St))return Vt}return-1}function zx(pt){return pt&&pt.length?u0(pt):[]}function Vx(pt,St){return pt&&pt.length?u0(pt,Zr(St,2)):[]}function Hx(pt){var St=pt==null?0:pt.length;return St?fu(pt,1,St):[]}function Wx(pt,St,jt){return pt&&pt.length?(St=jt||St===nt?1:gs(St),fu(pt,0,St<0?0:St)):[]}function Yx(pt,St,jt){var Vt=pt==null?0:pt.length;return Vt?(St=jt||St===nt?1:gs(St),St=Vt-St,fu(pt,St<0?0:St,Vt)):[]}function qx(pt,St){return pt&&pt.length?Dm(pt,Zr(St,3),!1,!0):[]}function Xx(pt,St){return pt&&pt.length?Dm(pt,Zr(St,3)):[]}var Kx=As(function(pt){return Cp(Mo(pt,1,So,!0))}),Zx=As(function(pt){var St=hu(pt);return So(St)&&(St=nt),Cp(Mo(pt,1,So,!0),Zr(St,2))}),Jx=As(function(pt){var St=hu(pt);return St=typeof St=="function"?St:nt,Cp(Mo(pt,1,So,!0),nt,St)});function Qx(pt){return pt&&pt.length?Cp(pt):[]}function e1(pt,St){return pt&&pt.length?Cp(pt,Zr(St,2)):[]}function t1(pt,St){return St=typeof St=="function"?St:nt,pt&&pt.length?Cp(pt,nt,St):[]}function Wv(pt){if(!(pt&&pt.length))return[];var St=0;return pt=na(pt,function(jt){if(So(jt))return St=fn(jt.length,St),!0}),Bu(St,function(jt){return Is(pt,_d(jt))})}function K0(pt,St){if(!(pt&&pt.length))return[];var jt=Wv(pt);return St==null?jt:Is(jt,function(Vt){return Ws(St,nt,Vt)})}var n1=As(function(pt,St){return So(pt)?$a(pt,St):[]}),r1=As(function(pt){return jv(na(pt,So))}),i1=As(function(pt){var St=hu(pt);return So(St)&&(St=nt),jv(na(pt,So),Zr(St,2))}),s1=As(function(pt){var St=hu(pt);return St=typeof St=="function"?St:nt,jv(na(pt,So),nt,St)}),o1=As(Wv);function a1(pt,St){return d0(pt||[],St||[],Bp)}function l1(pt,St){return d0(pt||[],St||[],vm)}var u1=As(function(pt){var St=pt.length,jt=St>1?pt[St-1]:nt;return jt=typeof jt=="function"?(pt.pop(),jt):nt,K0(pt,jt)});function Z0(pt){var St=gn(pt);return St.__chain__=!0,St}function c1(pt,St){return St(pt),pt}function Hm(pt,St){return St(pt)}var f1=mp(function(pt){var St=pt.length,jt=St?pt[0]:0,Vt=this.__wrapped__,ln=function(_n){return Zp(_n,pt)};return St>1||this.__actions__.length||!(Vt instanceof ds)||!gp(jt)?this.thru(ln):(Vt=Vt.slice(jt,+jt+(St?1:0)),Vt.__actions__.push({func:Hm,args:[ln],thisArg:nt}),new Go(Vt,this.__chain__).thru(function(_n){return St&&!_n.length&&_n.push(nt),_n}))});function h1(){return Z0(this)}function d1(){return new Go(this.value(),this.__chain__)}function p1(){this.__values__===nt&&(this.__values__=fy(this.value()));var pt=this.__index__>=this.__values__.length,St=pt?nt:this.__values__[this.__index__++];return{done:pt,value:St}}function m1(){return this}function g1(pt){for(var St,jt=this;jt instanceof Xu;){var Vt=V0(jt);Vt.__index__=0,Vt.__values__=nt,St?ln.__wrapped__=Vt:St=Vt;var ln=Vt;jt=jt.__wrapped__}return ln.__wrapped__=pt,St}function v1(){var pt=this.__wrapped__;if(pt instanceof ds){var St=pt;return this.__actions__.length&&(St=new ds(this)),St=St.reverse(),St.__actions__.push({func:Hm,args:[Hv],thisArg:nt}),new Go(St,this.__chain__)}return this.thru(Hv)}function y1(){return h0(this.__wrapped__,this.__actions__)}var x1=Bm(function(pt,St,jt){Cs.call(pt,jt)?++pt[jt]:Pu(pt,jt,1)});function _1(pt,St,jt){var Vt=cs(pt)?Xl:vv;return jt&&yl(pt,St,jt)&&(St=nt),Vt(pt,Zr(St,3))}function E1(pt,St){var jt=cs(pt)?na:Om;return jt(pt,Zr(St,3))}var b1=A0(H0),A1=A0(W0);function S1(pt,St){return Mo(Wm(pt,St),1)}function w1(pt,St){return Mo(Wm(pt,St),Jt)}function T1(pt,St,jt){return jt=jt===nt?1:gs(jt),Mo(Wm(pt,St),jt)}function J0(pt,St){var jt=cs(pt)?Qs:Zu;return jt(pt,Zr(St,3))}function Q0(pt,St){var jt=cs(pt)?Al:jm;return jt(pt,Zr(St,3))}var C1=Bm(function(pt,St,jt){Cs.call(pt,jt)?pt[jt].push(St):Pu(pt,jt,[St])});function P1(pt,St,jt,Vt){pt=Il(pt)?pt:im(pt),jt=jt&&!Vt?gs(jt):0;var ln=pt.length;return jt<0&&(jt=fn(ln+jt,0)),Zm(pt)?jt<=ln&&pt.indexOf(St,jt)>-1:!!ln&&ga(pt,St,jt)>-1}var R1=As(function(pt,St,jt){var Vt=-1,ln=typeof St=="function",_n=Il(pt)?qt(pt.length):[];return Zu(pt,function(wn){_n[++Vt]=ln?Ws(St,wn,jt):uu(wn,St,jt)}),_n}),j1=Bm(function(pt,St,jt){Pu(pt,jt,St)});function Wm(pt,St){var jt=cs(pt)?Is:Wn;return jt(pt,Zr(St,3))}function O1(pt,St,jt,Vt){return pt==null?[]:(cs(St)||(St=St==null?[]:[St]),jt=Vt?nt:jt,cs(jt)||(jt=jt==null?[]:[jt]),ju(pt,St,jt))}var I1=Bm(function(pt,St,jt){pt[jt?0:1].push(St)},function(){return[[],[]]});function L1(pt,St,jt){var Vt=cs(pt)?Du:xu,ln=arguments.length<3;return Vt(pt,Zr(St,4),jt,ln,Zu)}function k1(pt,St,jt){var Vt=cs(pt)?bp:xu,ln=arguments.length<3;return Vt(pt,Zr(St,4),jt,ln,jm)}function D1(pt,St){var jt=cs(pt)?na:Om;return jt(pt,Xm(Zr(St,3)))}function B1(pt){var St=cs(pt)?Cm:Py;return St(pt)}function $1(pt,St,jt){(jt?yl(pt,St,jt):St===nt)?St=1:St=gs(St);var Vt=cs(pt)?dv:Ry;return Vt(pt,St)}function N1(pt){var St=cs(pt)?pv:Oy;return St(pt)}function F1(pt){if(pt==null)return 0;if(Il(pt))return Zm(pt)?Fo(pt):pt.length;var St=Ko(pt);return St==Mn||St==Tn?pt.size:tn(pt).length}function G1(pt,St,jt){var Vt=cs(pt)?Kl:Iy;return jt&&yl(pt,St,jt)&&(St=nt),Vt(pt,Zr(St,3))}var U1=As(function(pt,St){if(pt==null)return[];var jt=St.length;return jt>1&&yl(pt,St[0],St[1])?St=[]:jt>2&&yl(St[0],St[1],St[2])&&(St=[St[0]]),ju(pt,Mo(St,1),[])}),Ym=sm||function(){return Hs.Date.now()};function z1(pt,St){if(typeof St!="function")throw new so(ot);return pt=gs(pt),function(){if(--pt<1)return St.apply(this,arguments)}}function ey(pt,St,jt){return St=jt?nt:St,St=pt&&St==null?pt.length:St,pp(pt,Rt,nt,nt,nt,nt,St)}function ty(pt,St){var jt;if(typeof St!="function")throw new so(ot);return pt=gs(pt),function(){return--pt>0&&(jt=St.apply(this,arguments)),pt<=1&&(St=nt),jt}}var Yv=As(function(pt,St,jt){var Vt=At;if(jt.length){var ln=po(jt,tm(Yv));Vt|=wt}return pp(pt,Vt,St,jt,ln)}),ny=As(function(pt,St,jt){var Vt=At|gt;if(jt.length){var ln=po(jt,tm(ny));Vt|=wt}return pp(St,Vt,pt,jt,ln)});function ry(pt,St,jt){St=jt?nt:St;var Vt=pp(pt,Et,nt,nt,nt,nt,nt,St);return Vt.placeholder=ry.placeholder,Vt}function iy(pt,St,jt){St=jt?nt:St;var Vt=pp(pt,yt,nt,nt,nt,nt,nt,St);return Vt.placeholder=iy.placeholder,Vt}function sy(pt,St,jt){var Vt,ln,_n,wn,jn,In,Zn=0,Jn=!1,nr=!1,br=!0;if(typeof pt!="function")throw new so(ot);St=du(St)||0,_o(jt)&&(Jn=!!jt.leading,nr="maxWait"in jt,_n=nr?fn(du(jt.maxWait)||0,St):_n,br="trailing"in jt?!!jt.trailing:br);function Dr(wo){var Iu=Vt,xp=ln;return Vt=ln=nt,Zn=wo,wn=pt.apply(xp,Iu),wn}function Qr(wo){return Zn=wo,jn=_m(Ss,St),Jn?Dr(wo):wn}function Es(wo){var Iu=wo-In,xp=wo-Zn,Sy=St-Iu;return nr?An(Sy,_n-xp):Sy}function _i(wo){var Iu=wo-In,xp=wo-Zn;return In===nt||Iu>=St||Iu<0||nr&&xp>=_n}function Ss(){var wo=Ym();if(_i(wo))return Ms(wo);jn=_m(Ss,Es(wo))}function Ms(wo){return jn=nt,br&&Vt?Dr(wo):(Vt=ln=nt,wn)}function Hl(){jn!==nt&&p0(jn),Zn=0,Vt=In=ln=jn=nt}function xl(){return jn===nt?wn:Ms(Ym())}function Wl(){var wo=Ym(),Iu=_i(wo);if(Vt=arguments,ln=this,In=wo,Iu){if(jn===nt)return Qr(In);if(nr)return p0(jn),jn=_m(Ss,St),Dr(In)}return jn===nt&&(jn=_m(Ss,St)),wn}return Wl.cancel=Hl,Wl.flush=xl,Wl}var V1=As(function(pt,St){return Rm(pt,1,St)}),H1=As(function(pt,St,jt){return Rm(pt,du(St)||0,jt)});function W1(pt){return pp(pt,$t)}function qm(pt,St){if(typeof pt!="function"||St!=null&&typeof St!="function")throw new so(ot);var jt=function(){var Vt=arguments,ln=St?St.apply(this,Vt):Vt[0],_n=jt.cache;if(_n.has(ln))return _n.get(ln);var wn=pt.apply(this,Vt);return jt.cache=_n.set(ln,wn)||_n,wn};return jt.cache=new(qm.Cache||Cu),jt}qm.Cache=Cu;function Xm(pt){if(typeof pt!="function")throw new so(ot);return function(){var St=arguments;switch(St.length){case 0:return!pt.call(this);case 1:return!pt.call(this,St[0]);case 2:return!pt.call(this,St[0],St[1]);case 3:return!pt.call(this,St[0],St[1],St[2])}return!pt.apply(this,St)}}function Y1(pt){return ty(2,pt)}var q1=My(function(pt,St){St=St.length==1&&cs(St[0])?Is(St[0],ho(Zr())):Is(Mo(St,1),ho(Zr()));var jt=St.length;return As(function(Vt){for(var ln=-1,_n=An(Vt.length,jt);++ln<_n;)Vt[ln]=St[ln].call(this,Vt[ln]);return Ws(pt,this,Vt)})}),qv=As(function(pt,St){var jt=po(St,tm(qv));return pp(pt,wt,nt,St,jt)}),oy=As(function(pt,St){var jt=po(St,tm(oy));return pp(pt,Ct,nt,St,jt)}),X1=mp(function(pt,St){return pp(pt,It,nt,nt,nt,St)});function K1(pt,St){if(typeof pt!="function")throw new so(ot);return St=St===nt?St:gs(St),As(pt,St)}function Z1(pt,St){if(typeof pt!="function")throw new so(ot);return St=St==null?0:fn(gs(St),0),As(function(jt){var Vt=jt[St],ln=Rp(jt,0,St);return Vt&&Wo(ln,Vt),Ws(pt,this,ln)})}function J1(pt,St,jt){var Vt=!0,ln=!0;if(typeof pt!="function")throw new so(ot);return _o(jt)&&(Vt="leading"in jt?!!jt.leading:Vt,ln="trailing"in jt?!!jt.trailing:ln),sy(pt,St,{leading:Vt,maxWait:St,trailing:ln})}function Q1(pt){return ey(pt,1)}function e_(pt,St){return qv(Iv(St),pt)}function t_(){if(!arguments.length)return[];var pt=arguments[0];return cs(pt)?pt:[pt]}function n_(pt){return ba(pt,mt)}function r_(pt,St){return St=typeof St=="function"?St:nt,ba(pt,mt,St)}function i_(pt){return ba(pt,dt|mt)}function s_(pt,St){return St=typeof St=="function"?St:nt,ba(pt,dt|mt,St)}function o_(pt,St){return St==null||Pm(pt,St,Do(St))}function Ou(pt,St){return pt===St||pt!==pt&&St!==St}var a_=Gm(pm),l_=Gm(function(pt,St){return pt>=St}),Up=Lm(function(){return arguments}())?Lm:function(pt){return bo(pt)&&Cs.call(pt,"callee")&&!Vu.call(pt,"callee")},cs=qt.isArray,u_=Ep?ho(Ep):bv;function Il(pt){return pt!=null&&Km(pt.length)&&!vp(pt)}function So(pt){return bo(pt)&&Il(pt)}function c_(pt){return pt===!0||pt===!1||bo(pt)&&Uo(pt)==vn}var jp=bt||s0,f_=Mu?ho(Mu):Av;function h_(pt){return bo(pt)&&pt.nodeType===1&&!Em(pt)}function d_(pt){if(pt==null)return!0;if(Il(pt)&&(cs(pt)||typeof pt=="string"||typeof pt.splice=="function"||jp(pt)||rm(pt)||Up(pt)))return!pt.length;var St=Ko(pt);if(St==Mn||St==Tn)return!pt.size;if(xm(pt))return!tn(pt).length;for(var jt in pt)if(Cs.call(pt,jt))return!1;return!0}function p_(pt,St){return $p(pt,St)}function m_(pt,St,jt){jt=typeof jt=="function"?jt:nt;var Vt=jt?jt(pt,St):nt;return Vt===nt?$p(pt,St,nt,jt):!!Vt}function Xv(pt){if(!bo(pt))return!1;var St=Uo(pt);return St==$n||St==Cn||typeof pt.message=="string"&&typeof pt.name=="string"&&!Em(pt)}function g_(pt){return typeof pt=="number"&&Pt(pt)}function vp(pt){if(!_o(pt))return!1;var St=Uo(pt);return St==Fn||St==Ln||St==mn||St==yn}function ay(pt){return typeof pt=="number"&&pt==gs(pt)}function Km(pt){return typeof pt=="number"&&pt>-1&&pt%1==0&&pt<=Ut}function _o(pt){var St=typeof pt;return pt!=null&&(St=="object"||St=="function")}function bo(pt){return pt!=null&&typeof pt=="object"}var ly=Lu?ho(Lu):gm;function v_(pt,St){return pt===St||Ju(pt,St,Nv(St))}function y_(pt,St,jt){return jt=typeof jt=="function"?jt:nt,Ju(pt,St,Nv(St),jt)}function x_(pt){return uy(pt)&&pt!=+pt}function __(pt){if(nx(pt))throw new On(st);return Np(pt)}function E_(pt){return pt===null}function b_(pt){return pt==null}function uy(pt){return typeof pt=="number"||bo(pt)&&Uo(pt)==Gn}function Em(pt){if(!bo(pt)||Uo(pt)!=un)return!1;var St=Pl(pt);if(St===null)return!0;var jt=Cs.call(St,"constructor")&&St.constructor;return typeof jt=="function"&&jt instanceof jt&&_a.call(jt)==Tp}var Kv=El?ho(El):Ps;function A_(pt){return ay(pt)&&pt>=-Ut&&pt<=Ut}var cy=Bl?ho(Bl):Tt;function Zm(pt){return typeof pt=="string"||!cs(pt)&&bo(pt)&&Uo(pt)==Pn}function Vl(pt){return typeof pt=="symbol"||bo(pt)&&Uo(pt)==Yn}var rm=Qo?ho(Qo):Mt;function S_(pt){return pt===nt}function w_(pt){return bo(pt)&&Ko(pt)==Nn}function T_(pt){return bo(pt)&&Uo(pt)==rr}var C_=Gm(Rn),P_=Gm(function(pt,St){return pt<=St});function fy(pt){if(!pt)return[];if(Il(pt))return Zm(pt)?jo(pt):Ol(pt);if(Hu&&pt[Hu])return kp(pt[Hu]());var St=Ko(pt),jt=St==Mn?_u:St==Tn?Zl:im;return jt(pt)}function yp(pt){if(!pt)return pt===0?pt:0;if(pt=du(pt),pt===Jt||pt===-Jt){var St=pt<0?-1:1;return St*Kt}return pt===pt?pt:0}function gs(pt){var St=yp(pt),jt=St%1;return St===St?jt?St-jt:St:0}function hy(pt){return pt?hp(gs(pt),0,zt):0}function du(pt){if(typeof pt=="number")return pt;if(Vl(pt))return Qt;if(_o(pt)){var St=typeof pt.valueOf=="function"?pt.valueOf():pt;pt=_o(St)?St+"":St}if(typeof pt!="string")return pt===0?pt:+pt;pt=Lo(pt);var jt=Fr.test(pt);return jt||hs.test(pt)?yo(pt.slice(2),jt?2:8):ts.test(pt)?Qt:+pt}function dy(pt){return Qu(pt,Ml(pt))}function R_(pt){return pt?hp(gs(pt),-Ut,Ut):pt===0?pt:0}function qs(pt){return pt==null?"":zl(pt)}var j_=Qp(function(pt,St){if(xm(St)||Il(St)){Qu(St,Do(St),pt);return}for(var jt in St)Cs.call(St,jt)&&Bp(pt,jt,St[jt])}),py=Qp(function(pt,St){Qu(St,Ml(St),pt)}),Jm=Qp(function(pt,St,jt,Vt){Qu(St,Ml(St),pt,Vt)}),O_=Qp(function(pt,St,jt,Vt){Qu(St,Do(St),pt,Vt)}),I_=mp(Zp);function M_(pt,St){var jt=qu(pt);return St==null?jt:cm(jt,St)}var L_=As(function(pt,St){pt=Qn(pt);var jt=-1,Vt=St.length,ln=Vt>2?St[2]:nt;for(ln&&yl(St[0],St[1],ln)&&(Vt=1);++jt<Vt;)for(var _n=St[jt],wn=Ml(_n),jn=-1,In=wn.length;++jn<In;){var Zn=wn[jn],Jn=pt[Zn];(Jn===nt||Ou(Jn,Fl[Zn])&&!Cs.call(pt,Zn))&&(pt[Zn]=_n[Zn])}return pt}),k_=As(function(pt){return pt.push(nt,j0),Ws(my,nt,pt)});function D_(pt,St){return Oo(pt,Zr(St,3),au)}function B_(pt,St){return Oo(pt,Zr(St,3),dm)}function $_(pt,St){return pt==null?pt:hm(pt,Zr(St,3),Ml)}function N_(pt,St){return pt==null?pt:Im(pt,Zr(St,3),Ml)}function F_(pt,St){return pt&&au(pt,Zr(St,3))}function G_(pt,St){return pt&&dm(pt,Zr(St,3))}function U_(pt){return pt==null?[]:lu(pt,Do(pt))}function z_(pt){return pt==null?[]:lu(pt,Ml(pt))}function Zv(pt,St,jt){var Vt=pt==null?nt:dp(pt,St);return Vt===nt?jt:Vt}function V_(pt,St){return pt!=null&&L0(pt,St,xv)}function Jv(pt,St){return pt!=null&&L0(pt,St,_v)}var H_=w0(function(pt,St,jt){St!=null&&typeof St.toString!="function"&&(St=ru.call(St)),pt[St]=jt},e0(Ll)),W_=w0(function(pt,St,jt){St!=null&&typeof St.toString!="function"&&(St=ru.call(St)),Cs.call(pt,St)?pt[St].push(jt):pt[St]=[jt]},Zr),Y_=As(uu);function Do(pt){return Il(pt)?Kp(pt):tn(pt)}function Ml(pt){return Il(pt)?Kp(pt,!0):pn(pt)}function q_(pt,St){var jt={};return St=Zr(St,3),au(pt,function(Vt,ln,_n){Pu(jt,St(Vt,ln,_n),Vt)}),jt}function X_(pt,St){var jt={};return St=Zr(St,3),au(pt,function(Vt,ln,_n){Pu(jt,ln,St(Vt,ln,_n))}),jt}var K_=Qp(function(pt,St,jt){Gs(pt,St,jt)}),my=Qp(function(pt,St,jt,Vt){Gs(pt,St,jt,Vt)}),Z_=mp(function(pt,St){var jt={};if(pt==null)return jt;var Vt=!1;St=Is(St,function(_n){return _n=Pp(_n,pt),Vt||(Vt=_n.length>1),_n}),Qu(pt,Bv(pt),jt),Vt&&(jt=ba(jt,dt|ht|mt,Vy));for(var ln=St.length;ln--;)Rv(jt,St[ln]);return jt});function J_(pt,St){return gy(pt,Xm(Zr(St)))}var Q_=mp(function(pt,St){return pt==null?{}:wy(pt,St)});function gy(pt,St){if(pt==null)return{};var jt=Is(Bv(pt),function(Vt){return[Vt]});return St=Zr(St),o0(pt,jt,function(Vt,ln){return St(Vt,ln[0])})}function eE(pt,St,jt){St=Pp(St,pt);var Vt=-1,ln=St.length;for(ln||(ln=1,pt=nt);++Vt<ln;){var _n=pt==null?nt:pt[_c(St[Vt])];_n===nt&&(Vt=ln,_n=jt),pt=vp(_n)?_n.call(pt):_n}return pt}function tE(pt,St,jt){return pt==null?pt:vm(pt,St,jt)}function nE(pt,St,jt,Vt){return Vt=typeof Vt=="function"?Vt:nt,pt==null?pt:vm(pt,St,jt,Vt)}var vy=P0(Do),yy=P0(Ml);function rE(pt,St,jt){var Vt=cs(pt),ln=Vt||jp(pt)||rm(pt);if(St=Zr(St,4),jt==null){var _n=pt&&pt.constructor;ln?jt=Vt?new _n:[]:_o(pt)?jt=vp(_n)?qu(Pl(pt)):{}:jt={}}return(ln?Qs:au)(pt,function(wn,jn,In){return St(jt,wn,jn,In)}),jt}function iE(pt,St){return pt==null?!0:Rv(pt,St)}function sE(pt,St,jt){return pt==null?pt:f0(pt,St,Iv(jt))}function oE(pt,St,jt,Vt){return Vt=typeof Vt=="function"?Vt:nt,pt==null?pt:f0(pt,St,Iv(jt),Vt)}function im(pt){return pt==null?[]:np(pt,Do(pt))}function aE(pt){return pt==null?[]:np(pt,Ml(pt))}function lE(pt,St,jt){return jt===nt&&(jt=St,St=nt),jt!==nt&&(jt=du(jt),jt=jt===jt?jt:0),St!==nt&&(St=du(St),St=St===St?St:0),hp(du(pt),St,jt)}function uE(pt,St,jt){return St=yp(St),jt===nt?(jt=St,St=0):jt=yp(jt),pt=du(pt),Ev(pt,St,jt)}function cE(pt,St,jt){if(jt&&typeof jt!="boolean"&&yl(pt,St,jt)&&(St=jt=nt),jt===nt&&(typeof St=="boolean"?(jt=St,St=nt):typeof pt=="boolean"&&(jt=pt,pt=nt)),pt===nt&&St===nt?(pt=0,St=1):(pt=yp(pt),St===nt?(St=pt,pt=0):St=yp(St)),pt>St){var Vt=pt;pt=St,St=Vt}if(jt||pt%1||St%1){var ln=tr();return An(pt+ln*(St-pt+Wr("1e-"+((ln+"").length-1))),St)}return Tv(pt,St)}var fE=em(function(pt,St,jt){return St=St.toLowerCase(),pt+(jt?xy(St):St)});function xy(pt){return Qv(qs(pt).toLowerCase())}function _y(pt){return pt=qs(pt),pt&&pt.replace(uo,No).replace(ro,"")}function hE(pt,St,jt){pt=qs(pt),St=zl(St);var Vt=pt.length;jt=jt===nt?Vt:hp(gs(jt),0,Vt);var ln=jt;return jt-=St.length,jt>=0&&pt.slice(jt,ln)==St}function dE(pt){return pt=qs(pt),pt&&Or.test(pt)?pt.replace(pr,Sp):pt}function pE(pt){return pt=qs(pt),pt&&is.test(pt)?pt.replace(Br,"\\$&"):pt}var mE=em(function(pt,St,jt){return pt+(jt?"-":"")+St.toLowerCase()}),gE=em(function(pt,St,jt){return pt+(jt?" ":"")+St.toLowerCase()}),vE=b0("toLowerCase");function yE(pt,St,jt){pt=qs(pt),St=gs(St);var Vt=St?Fo(pt):0;if(!St||Vt>=St)return pt;var ln=(St-Vt)/2;return Fm(cp(ln),jt)+pt+Fm(up(ln),jt)}function xE(pt,St,jt){pt=qs(pt),St=gs(St);var Vt=St?Fo(pt):0;return St&&Vt<St?pt+Fm(St-Vt,jt):pt}function _E(pt,St,jt){pt=qs(pt),St=gs(St);var Vt=St?Fo(pt):0;return St&&Vt<St?Fm(St-Vt,jt)+pt:pt}function EE(pt,St,jt){return jt||St==null?St=0:St&&(St=+St),zn(qs(pt).replace(ur,""),St||0)}function bE(pt,St,jt){return(jt?yl(pt,St,jt):St===nt)?St=1:St=gs(St),Cv(qs(pt),St)}function AE(){var pt=arguments,St=qs(pt[0]);return pt.length<3?St:St.replace(pt[1],pt[2])}var SE=em(function(pt,St,jt){return pt+(jt?"_":"")+St.toLowerCase()});function wE(pt,St,jt){return jt&&typeof jt!="number"&&yl(pt,St,jt)&&(St=jt=nt),jt=jt===nt?zt:jt>>>0,jt?(pt=qs(pt),pt&&(typeof St=="string"||St!=null&&!Kv(St))&&(St=zl(St),!St&&xo(pt))?Rp(jo(pt),0,jt):pt.split(St,jt)):[]}var TE=em(function(pt,St,jt){return pt+(jt?" ":"")+Qv(St)});function CE(pt,St,jt){return pt=qs(pt),jt=jt==null?0:hp(gs(jt),0,pt.length),St=zl(St),pt.slice(jt,jt+St.length)==St}function PE(pt,St,jt){var Vt=gn.templateSettings;jt&&yl(pt,St,jt)&&(St=nt),pt=qs(pt),St=Jm({},St,Vt,R0);var ln=Jm({},St.imports,Vt.imports,R0),_n=Do(ln),wn=np(ln,_n),jn,In,Zn=0,Jn=St.interpolate||ws,nr="__p += '",br=kr((St.escape||ws).source+"|"+Jn.source+"|"+(Jn===jr?os:ws).source+"|"+(St.evaluate||ws).source+"|$","g"),Dr="//# sourceURL="+(Cs.call(St,"sourceURL")?(St.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ho+"]")+`
`;pt.replace(br,function(_i,Ss,Ms,Hl,xl,Wl){return Ms||(Ms=Hl),nr+=pt.slice(Zn,Wl).replace(go,$u),Ss&&(jn=!0,nr+=`' +
__e(`+Ss+`) +
'`),xl&&(In=!0,nr+=`';
`+xl+`;
__p += '`),Ms&&(nr+=`' +
((__t = (`+Ms+`)) == null ? '' : __t) +
'`),Zn=Wl+_i.length,_i}),nr+=`';
`;var Qr=Cs.call(St,"variable")&&St.variable;if(!Qr)nr=`with (obj) {
`+nr+`
}
`;else if(ys.test(Qr))throw new On(at);nr=(In?nr.replace(ar,""):nr).replace(Pr,"$1").replace(dr,"$1;"),nr="function("+(Qr||"obj")+`) {
`+(Qr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(jn?", __e = _.escape":"")+(In?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nr+`return __p
}`;var Es=by(function(){return qn(_n,Dr+"return "+nr).apply(nt,wn)});if(Es.source=nr,Xv(Es))throw Es;return Es}function RE(pt){return qs(pt).toLowerCase()}function jE(pt){return qs(pt).toUpperCase()}function OE(pt,St,jt){if(pt=qs(pt),pt&&(jt||St===nt))return Lo(pt);if(!pt||!(St=zl(St)))return pt;var Vt=jo(pt),ln=jo(St),_n=zs(Vt,ln),wn=Nl(Vt,ln)+1;return Rp(Vt,_n,wn).join("")}function IE(pt,St,jt){if(pt=qs(pt),pt&&(jt||St===nt))return pt.slice(0,Ql(pt)+1);if(!pt||!(St=zl(St)))return pt;var Vt=jo(pt),ln=Nl(Vt,jo(St))+1;return Rp(Vt,0,ln).join("")}function ME(pt,St,jt){if(pt=qs(pt),pt&&(jt||St===nt))return pt.replace(ur,"");if(!pt||!(St=zl(St)))return pt;var Vt=jo(pt),ln=zs(Vt,jo(St));return Rp(Vt,ln).join("")}function kE(pt,St){var jt=Ft,Vt=Bt;if(_o(St)){var ln="separator"in St?St.separator:ln;jt="length"in St?gs(St.length):jt,Vt="omission"in St?zl(St.omission):Vt}pt=qs(pt);var _n=pt.length;if(xo(pt)){var wn=jo(pt);_n=wn.length}if(jt>=_n)return pt;var jn=jt-Fo(Vt);if(jn<1)return Vt;var In=wn?Rp(wn,0,jn).join(""):pt.slice(0,jn);if(ln===nt)return In+Vt;if(wn&&(jn+=In.length-jn),Kv(ln)){if(pt.slice(jn).search(ln)){var Zn,Jn=In;for(ln.global||(ln=kr(ln.source,qs(xs.exec(ln))+"g")),ln.lastIndex=0;Zn=ln.exec(Jn);)var nr=Zn.index;In=In.slice(0,nr===nt?jn:nr)}}else if(pt.indexOf(zl(ln),jn)!=jn){var br=In.lastIndexOf(ln);br>-1&&(In=In.slice(0,br))}return In+Vt}function DE(pt){return pt=qs(pt),pt&&Sr.test(pt)?pt.replace(xr,Fu):pt}var BE=em(function(pt,St,jt){return pt+(jt?" ":"")+St.toUpperCase()}),Qv=b0("toUpperCase");function Ey(pt,St,jt){return pt=qs(pt),St=jt?nt:St,St===nt?Nu(pt)?tu(pt):vu(pt):pt.match(St)||[]}var by=As(function(pt,St){try{return Ws(pt,nt,St)}catch(jt){return Xv(jt)?jt:new On(jt)}}),$E=mp(function(pt,St){return Qs(St,function(jt){jt=_c(jt),Pu(pt,jt,Yv(pt[jt],pt))}),pt});function NE(pt){var St=pt==null?0:pt.length,jt=Zr();return pt=St?Is(pt,function(Vt){if(typeof Vt[1]!="function")throw new so(ot);return[jt(Vt[0]),Vt[1]]}):[],As(function(Vt){for(var ln=-1;++ln<St;){var _n=pt[ln];if(Ws(_n[0],this,Vt))return Ws(_n[1],this,Vt)}})}function FE(pt){return fm(ba(pt,dt))}function e0(pt){return function(){return pt}}function GE(pt,St){return pt==null||pt!==pt?St:pt}var UE=S0(),zE=S0(!0);function Ll(pt){return pt}function t0(pt){return Yt(typeof pt=="function"?pt:ba(pt,dt))}function VE(pt){return Nr(ba(pt,dt))}function HE(pt,St){return us(pt,ba(St,dt))}var WE=As(function(pt,St){return function(jt){return uu(jt,pt,St)}}),YE=As(function(pt,St){return function(jt){return uu(pt,jt,St)}});function n0(pt,St,jt){var Vt=Do(St),ln=lu(St,Vt);jt==null&&!(_o(St)&&(ln.length||!Vt.length))&&(jt=St,St=pt,pt=this,ln=lu(St,Do(St)));var _n=!(_o(jt)&&"chain"in jt)||!!jt.chain,wn=vp(pt);return Qs(ln,function(jn){var In=St[jn];pt[jn]=In,wn&&(pt.prototype[jn]=function(){var Zn=this.__chain__;if(_n||Zn){var Jn=pt(this.__wrapped__),nr=Jn.__actions__=Ol(this.__actions__);return nr.push({func:In,args:arguments,thisArg:pt}),Jn.__chain__=Zn,Jn}return In.apply(pt,Wo([this.value()],arguments))})}),pt}function qE(){return Hs._===this&&(Hs._=Yo),this}function r0(){}function XE(pt){return pt=gs(pt),As(function(St){return cu(St,pt)})}var KE=Lv(Is),ZE=Lv(Xl),JE=Lv(Kl);function Ay(pt){return Gv(pt)?_d(_c(pt)):Ty(pt)}function QE(pt){return function(St){return pt==null?nt:dp(pt,St)}}var _b=T0(),eA=T0(!0);function i0(){return[]}function s0(){return!1}function tA(){return{}}function nA(){return""}function rA(){return!0}function iA(pt,St){if(pt=gs(pt),pt<1||pt>Ut)return[];var jt=zt,Vt=An(pt,zt);St=Zr(St),pt-=zt;for(var ln=Bu(Vt,St);++jt<pt;)St(jt);return ln}function sA(pt){return cs(pt)?Is(pt,_c):Vl(pt)?[pt]:Ol(z0(qs(pt)))}function oA(pt){var St=++nu;return qs(pt)+St}var aA=Nm(function(pt,St){return pt+St},0),lA=kv("ceil"),uA=Nm(function(pt,St){return pt/St},1),cA=kv("floor");function fA(pt){return pt&&pt.length?Jp(pt,Ll,pm):nt}function hA(pt,St){return pt&&pt.length?Jp(pt,Zr(St,2),pm):nt}function dA(pt){return Tl(pt,Ll)}function pA(pt,St){return Tl(pt,Zr(St,2))}function mA(pt){return pt&&pt.length?Jp(pt,Ll,Rn):nt}function gA(pt,St){return pt&&pt.length?Jp(pt,Zr(St,2),Rn):nt}var vA=Nm(function(pt,St){return pt*St},1),yA=kv("round"),xA=Nm(function(pt,St){return pt-St},0);function _A(pt){return pt&&pt.length?tp(pt,Ll):0}function EA(pt,St){return pt&&pt.length?tp(pt,Zr(St,2)):0}return gn.after=z1,gn.ary=ey,gn.assign=j_,gn.assignIn=py,gn.assignInWith=Jm,gn.assignWith=O_,gn.at=I_,gn.before=ty,gn.bind=Yv,gn.bindAll=$E,gn.bindKey=ny,gn.castArray=t_,gn.chain=Z0,gn.chunk=ux,gn.compact=cx,gn.concat=fx,gn.cond=NE,gn.conforms=FE,gn.constant=e0,gn.countBy=x1,gn.create=M_,gn.curry=ry,gn.curryRight=iy,gn.debounce=sy,gn.defaults=L_,gn.defaultsDeep=k_,gn.defer=V1,gn.delay=H1,gn.difference=hx,gn.differenceBy=dx,gn.differenceWith=px,gn.drop=mx,gn.dropRight=gx,gn.dropRightWhile=vx,gn.dropWhile=yx,gn.fill=xx,gn.filter=E1,gn.flatMap=S1,gn.flatMapDeep=w1,gn.flatMapDepth=T1,gn.flatten=Y0,gn.flattenDeep=_x,gn.flattenDepth=Ex,gn.flip=W1,gn.flow=UE,gn.flowRight=zE,gn.fromPairs=bx,gn.functions=U_,gn.functionsIn=z_,gn.groupBy=C1,gn.initial=Sx,gn.intersection=wx,gn.intersectionBy=Tx,gn.intersectionWith=Cx,gn.invert=H_,gn.invertBy=W_,gn.invokeMap=R1,gn.iteratee=t0,gn.keyBy=j1,gn.keys=Do,gn.keysIn=Ml,gn.map=Wm,gn.mapKeys=q_,gn.mapValues=X_,gn.matches=VE,gn.matchesProperty=HE,gn.memoize=qm,gn.merge=K_,gn.mergeWith=my,gn.method=WE,gn.methodOf=YE,gn.mixin=n0,gn.negate=Xm,gn.nthArg=XE,gn.omit=Z_,gn.omitBy=J_,gn.once=Y1,gn.orderBy=O1,gn.over=KE,gn.overArgs=q1,gn.overEvery=ZE,gn.overSome=JE,gn.partial=qv,gn.partialRight=oy,gn.partition=I1,gn.pick=Q_,gn.pickBy=gy,gn.property=Ay,gn.propertyOf=QE,gn.pull=Ox,gn.pullAll=X0,gn.pullAllBy=Ix,gn.pullAllWith=Mx,gn.pullAt=Lx,gn.range=_b,gn.rangeRight=eA,gn.rearg=X1,gn.reject=D1,gn.remove=kx,gn.rest=K1,gn.reverse=Hv,gn.sampleSize=$1,gn.set=tE,gn.setWith=nE,gn.shuffle=N1,gn.slice=Dx,gn.sortBy=U1,gn.sortedUniq=zx,gn.sortedUniqBy=Vx,gn.split=wE,gn.spread=Z1,gn.tail=Hx,gn.take=Wx,gn.takeRight=Yx,gn.takeRightWhile=qx,gn.takeWhile=Xx,gn.tap=c1,gn.throttle=J1,gn.thru=Hm,gn.toArray=fy,gn.toPairs=vy,gn.toPairsIn=yy,gn.toPath=sA,gn.toPlainObject=dy,gn.transform=rE,gn.unary=Q1,gn.union=Kx,gn.unionBy=Zx,gn.unionWith=Jx,gn.uniq=Qx,gn.uniqBy=e1,gn.uniqWith=t1,gn.unset=iE,gn.unzip=Wv,gn.unzipWith=K0,gn.update=sE,gn.updateWith=oE,gn.values=im,gn.valuesIn=aE,gn.without=n1,gn.words=Ey,gn.wrap=e_,gn.xor=r1,gn.xorBy=i1,gn.xorWith=s1,gn.zip=o1,gn.zipObject=a1,gn.zipObjectDeep=l1,gn.zipWith=u1,gn.entries=vy,gn.entriesIn=yy,gn.extend=py,gn.extendWith=Jm,n0(gn,gn),gn.add=aA,gn.attempt=by,gn.camelCase=fE,gn.capitalize=xy,gn.ceil=lA,gn.clamp=lE,gn.clone=n_,gn.cloneDeep=i_,gn.cloneDeepWith=s_,gn.cloneWith=r_,gn.conformsTo=o_,gn.deburr=_y,gn.defaultTo=GE,gn.divide=uA,gn.endsWith=hE,gn.eq=Ou,gn.escape=dE,gn.escapeRegExp=pE,gn.every=_1,gn.find=b1,gn.findIndex=H0,gn.findKey=D_,gn.findLast=A1,gn.findLastIndex=W0,gn.findLastKey=B_,gn.floor=cA,gn.forEach=J0,gn.forEachRight=Q0,gn.forIn=$_,gn.forInRight=N_,gn.forOwn=F_,gn.forOwnRight=G_,gn.get=Zv,gn.gt=a_,gn.gte=l_,gn.has=V_,gn.hasIn=Jv,gn.head=q0,gn.identity=Ll,gn.includes=P1,gn.indexOf=Ax,gn.inRange=uE,gn.invoke=Y_,gn.isArguments=Up,gn.isArray=cs,gn.isArrayBuffer=u_,gn.isArrayLike=Il,gn.isArrayLikeObject=So,gn.isBoolean=c_,gn.isBuffer=jp,gn.isDate=f_,gn.isElement=h_,gn.isEmpty=d_,gn.isEqual=p_,gn.isEqualWith=m_,gn.isError=Xv,gn.isFinite=g_,gn.isFunction=vp,gn.isInteger=ay,gn.isLength=Km,gn.isMap=ly,gn.isMatch=v_,gn.isMatchWith=y_,gn.isNaN=x_,gn.isNative=__,gn.isNil=b_,gn.isNull=E_,gn.isNumber=uy,gn.isObject=_o,gn.isObjectLike=bo,gn.isPlainObject=Em,gn.isRegExp=Kv,gn.isSafeInteger=A_,gn.isSet=cy,gn.isString=Zm,gn.isSymbol=Vl,gn.isTypedArray=rm,gn.isUndefined=S_,gn.isWeakMap=w_,gn.isWeakSet=T_,gn.join=Px,gn.kebabCase=mE,gn.last=hu,gn.lastIndexOf=Rx,gn.lowerCase=gE,gn.lowerFirst=vE,gn.lt=C_,gn.lte=P_,gn.max=fA,gn.maxBy=hA,gn.mean=dA,gn.meanBy=pA,gn.min=mA,gn.minBy=gA,gn.stubArray=i0,gn.stubFalse=s0,gn.stubObject=tA,gn.stubString=nA,gn.stubTrue=rA,gn.multiply=vA,gn.nth=jx,gn.noConflict=qE,gn.noop=r0,gn.now=Ym,gn.pad=yE,gn.padEnd=xE,gn.padStart=_E,gn.parseInt=EE,gn.random=cE,gn.reduce=L1,gn.reduceRight=k1,gn.repeat=bE,gn.replace=AE,gn.result=eE,gn.round=yA,gn.runInContext=Ot,gn.sample=B1,gn.size=F1,gn.snakeCase=SE,gn.some=G1,gn.sortedIndex=Bx,gn.sortedIndexBy=$x,gn.sortedIndexOf=Nx,gn.sortedLastIndex=Fx,gn.sortedLastIndexBy=Gx,gn.sortedLastIndexOf=Ux,gn.startCase=TE,gn.startsWith=CE,gn.subtract=xA,gn.sum=_A,gn.sumBy=EA,gn.template=PE,gn.times=iA,gn.toFinite=yp,gn.toInteger=gs,gn.toLength=hy,gn.toLower=RE,gn.toNumber=du,gn.toSafeInteger=R_,gn.toString=qs,gn.toUpper=jE,gn.trim=OE,gn.trimEnd=IE,gn.trimStart=ME,gn.truncate=kE,gn.unescape=DE,gn.uniqueId=oA,gn.upperCase=BE,gn.upperFirst=Qv,gn.each=J0,gn.eachRight=Q0,gn.first=q0,n0(gn,function(){var pt={};return au(gn,function(St,jt){Cs.call(gn.prototype,jt)||(pt[jt]=St)}),pt}(),{chain:!1}),gn.VERSION=rt,Qs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(pt){gn[pt].placeholder=gn}),Qs(["drop","take"],function(pt,St){ds.prototype[pt]=function(jt){jt=jt===nt?1:fn(gs(jt),0);var Vt=this.__filtered__&&!St?new ds(this):this.clone();return Vt.__filtered__?Vt.__takeCount__=An(jt,Vt.__takeCount__):Vt.__views__.push({size:An(jt,zt),type:pt+(Vt.__dir__<0?"Right":"")}),Vt},ds.prototype[pt+"Right"]=function(jt){return this.reverse()[pt](jt).reverse()}}),Qs(["filter","map","takeWhile"],function(pt,St){var jt=St+1,Vt=jt==nn||jt==rn;ds.prototype[pt]=function(ln){var _n=this.clone();return _n.__iteratees__.push({iteratee:Zr(ln,3),type:jt}),_n.__filtered__=_n.__filtered__||Vt,_n}}),Qs(["head","last"],function(pt,St){var jt="take"+(St?"Right":"");ds.prototype[pt]=function(){return this[jt](1).value()[0]}}),Qs(["initial","tail"],function(pt,St){var jt="drop"+(St?"":"Right");ds.prototype[pt]=function(){return this.__filtered__?new ds(this):this[jt](1)}}),ds.prototype.compact=function(){return this.filter(Ll)},ds.prototype.find=function(pt){return this.filter(pt).head()},ds.prototype.findLast=function(pt){return this.reverse().find(pt)},ds.prototype.invokeMap=As(function(pt,St){return typeof pt=="function"?new ds(this):this.map(function(jt){return uu(jt,pt,St)})}),ds.prototype.reject=function(pt){return this.filter(Xm(Zr(pt)))},ds.prototype.slice=function(pt,St){pt=gs(pt);var jt=this;return jt.__filtered__&&(pt>0||St<0)?new ds(jt):(pt<0?jt=jt.takeRight(-pt):pt&&(jt=jt.drop(pt)),St!==nt&&(St=gs(St),jt=St<0?jt.dropRight(-St):jt.take(St-pt)),jt)},ds.prototype.takeRightWhile=function(pt){return this.reverse().takeWhile(pt).reverse()},ds.prototype.toArray=function(){return this.take(zt)},au(ds.prototype,function(pt,St){var jt=/^(?:filter|find|map|reject)|While$/.test(St),Vt=/^(?:head|last)$/.test(St),ln=gn[Vt?"take"+(St=="last"?"Right":""):St],_n=Vt||/^find/.test(St);ln&&(gn.prototype[St]=function(){var wn=this.__wrapped__,jn=Vt?[1]:arguments,In=wn instanceof ds,Zn=jn[0],Jn=In||cs(wn),nr=function(Ss){var Ms=ln.apply(gn,Wo([Ss],jn));return Vt&&br?Ms[0]:Ms};Jn&&jt&&typeof Zn=="function"&&Zn.length!=1&&(In=Jn=!1);var br=this.__chain__,Dr=!!this.__actions__.length,Qr=_n&&!br,Es=In&&!Dr;if(!_n&&Jn){wn=Es?wn:new ds(this);var _i=pt.apply(wn,jn);return _i.__actions__.push({func:Hm,args:[nr],thisArg:nt}),new Go(_i,br)}return Qr&&Es?pt.apply(this,jn):(_i=this.thru(nr),Qr?Vt?_i.value()[0]:_i.value():_i)})}),Qs(["pop","push","shift","sort","splice","unshift"],function(pt){var St=Cl[pt],jt=/^(?:push|sort|unshift)$/.test(pt)?"tap":"thru",Vt=/^(?:pop|shift)$/.test(pt);gn.prototype[pt]=function(){var ln=arguments;if(Vt&&!this.__chain__){var _n=this.value();return St.apply(cs(_n)?_n:[],ln)}return this[jt](function(wn){return St.apply(cs(wn)?wn:[],ln)})}}),au(ds.prototype,function(pt,St){var jt=gn[St];if(jt){var Vt=jt.name+"";Cs.call(Yu,Vt)||(Yu[Vt]=[]),Yu[Vt].push({name:St,func:jt})}}),Yu[$m(nt,gt).name]=[{name:"wrapper",func:nt}],ds.prototype.clone=Qm,ds.prototype.reverse=_g,ds.prototype.value=ev,gn.prototype.at=f1,gn.prototype.chain=h1,gn.prototype.commit=d1,gn.prototype.next=p1,gn.prototype.plant=g1,gn.prototype.reverse=v1,gn.prototype.toJSON=gn.prototype.valueOf=gn.prototype.value=y1,gn.prototype.first=gn.prototype.head,Hu&&(gn.prototype[Hu]=m1),gn},Lt=kt();Po?((Po.exports=Lt)._=Lt,Fs._=Lt):Hs._=Lt}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports),UserItem$3=styled.div`
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 200px;
  width: 100%;
  border-bottom: 1px solid #777;
  padding: 0 10px;
`,ImgContainer=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  gap: 5px;
`,ProfilePhoto$3=styled.img`
  width: 50px;
  height: 50px;
  border-radius: 6px;
`,Icons=styled.img`
  width: 35px;
  aspect-ratio: 1/1;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.678));
  cursor: pointer;
`,DetailsContainer=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: end;
  gap: 15px;
`,SpanDetails=styled.div`
  display: flex;
  align-items: center;
  justify-content: end;
  gap: 5px;

  >:last-child {
   width: 105px;
   text-align: end;
  }
`,UserContainer$2=({user:tt})=>{const{Request:et}=useRequest(),nt=useNavigate(),[rt,it]=reactExports.useContext(FollowContext),st=at=>{et(`follow/${at}`).then(()=>{et("following").then(lt=>{it(lt.data.data)})})},ot=at=>{et(`unfollow/${at}`).then(()=>{et("following").then(lt=>{it(lt.data.data)})})};return jsxRuntimeExports.jsxs(UserItem$3,{children:[jsxRuntimeExports.jsxs(ImgContainer,{children:[jsxRuntimeExports.jsx(ProfilePhoto$3,{src:tt!=null&&tt.photo?tt==null?void 0:tt.photo:AnonymousImage}),_.findIndex(rt,function(at){return parseInt(at.id)===parseInt(tt==null?void 0:tt.id)})>-1?jsxRuntimeExports.jsx(Icons,{src:CrossIcon$1,onClick:()=>ot(tt==null?void 0:tt.id)}):jsxRuntimeExports.jsx(Icons,{src:FollowImage,onClick:()=>st(tt==null?void 0:tt.id)}),jsxRuntimeExports.jsx(Icons,{src:ChatIcon}),jsxRuntimeExports.jsx(Icons,{src:SanadImage,onClick:()=>nt("/metaverse/sanad",{state:{code:tt==null?void 0:tt.code,user:tt==null?void 0:tt.id}})})]}),jsxRuntimeExports.jsxs(DetailsContainer,{children:[jsxRuntimeExports.jsxs(SpanDetails,{children:[jsxRuntimeExports.jsx("span",{onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${tt.code}`,"_blank"),style:{fontWeight:"600",color:"blue",cursor:"pointer",fontFamily:"Segoe UI"},children:tt.code}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx("span",{children:" شناسه شهروند"})]}),jsxRuntimeExports.jsxs(SpanDetails,{children:[jsxRuntimeExports.jsx("span",{children:tt.name})," ",jsxRuntimeExports.jsx("span",{children:":"})," ",jsxRuntimeExports.jsx("span",{children:"نام شهروند "})]}),jsxRuntimeExports.jsxs(SpanDetails,{children:[jsxRuntimeExports.jsx("span",{children:tt.level})," ",jsxRuntimeExports.jsx("span",{children:" : "})," ",jsxRuntimeExports.jsx("span",{children:"سطح"})]}),jsxRuntimeExports.jsxs(SpanDetails,{children:[jsxRuntimeExports.jsx("span",{children:tt.followers})," ",jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx("span",{children:"دنبال کنندگان "})]}),jsxRuntimeExports.jsxs(SpanDetails,{children:[jsxRuntimeExports.jsx("span",{children:" - "}),jsxRuntimeExports.jsx("span",{children:":"})," ",jsxRuntimeExports.jsx("span",{children:"شناسه شهروند "})]})]})]},tt.id)},ParentInput$6=styled.div`
  width: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 10px;
`,InputSearch$6=styled.input`
  width: 100%;
  text-align: right;
  direction: rtl;
  padding: 8px 16px;
  width: 100%;
  margin-bottom: 16px;
  font-size: 1rem !important;
  font-family: iransans;
`,IconSearch$6=styled.img`
  width: 32px;
  height: 32px;
  left: 15px;
  top: 5px;
  position: absolute;
  cursor: pointer;
`,UsersContainer=styled.div`
  position: absolute;

  padding: 8px;
  z-index: 5002;
  width: 100%;
  top: 56px;
`;function Search$1({setCurrentUser:tt,currentUser:et,setCurrentUserId:nt,isCitizen:rt}){const[it,st]=reactExports.useState(""),{Request:ot,HTTP_METHOD:at}=useRequest(),[lt,ut]=reactExports.useState([]),[ft,dt]=reactExports.useState(!1),ht=reactExports.useCallback(()=>{dt(!0),searchAPI(ot,at,it,rt).then(xt=>{ut(xt.data.data),dt(!1)})},[it,rt,ot,at]),mt=reactExports.useCallback(()=>{tt(null),nt(null),st(""),ut([])},[tt,nt]);return jsxRuntimeExports.jsxs(ParentInput$6,{children:[jsxRuntimeExports.jsx(InputSearch$6,{disabled:et,type:"text",placeholder:`${rt?" شناسه شهروند یا نام را جستجوی کنید":"شناسه ملک را وارد کنید "}`,onChange:xt=>st(xt.target.value),value:et||it}),!ft&&lt.length<=0&&jsxRuntimeExports.jsx(UsersContainer,{children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center"},children:"اطلاعات موجود نمیباشد جستجوی کنید"})}),ft&&jsxRuntimeExports.jsx(UsersContainer,{children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center"},children:"درحال دریافت اطلاعات"})}),lt.length>0&&jsxRuntimeExports.jsx(UsersContainer,{children:lt.map(xt=>rt?jsxRuntimeExports.jsx(UserContainer$2,{user:xt},xt.id):jsxRuntimeExports.jsx(FeatureContainer$1,{feature:xt},xt.id))}),et||lt.length>0?jsxRuntimeExports.jsx(IconSearch$6,{src:CrossIcon$1,onClick:mt}):jsxRuntimeExports.jsx(IconSearch$6,{src:SearchIcon,onClick:ht})]})}function searchAPI(tt,et,nt,rt){const it=rt?"search/users":"search/features",st={searchTerm:nt};return tt(it,et.POST,st)}const Container$M=styled.div`
  width: 100%;
  height: 110%;
  display: flex;
  align-items: start;
  justify-content: center;
 
`,TopContainer$1=styled.div`
  width: 100%;
  overflow-y: auto;
  height: 95%;
`;function CitizenSearch(tt){const[et,nt]=reactExports.useState(null),[rt,it]=reactExports.useState(null);return jsxRuntimeExports.jsx(Container$M,{children:jsxRuntimeExports.jsx(TopContainer$1,{children:jsxRuntimeExports.jsx(Search$1,{setCurrentUser:nt,currentUser:et,setCurrentUserId:it,isCitizen:!0})})})}const Container$L=styled.div`
  width: 100%;
  height: 110%;
  display: flex;
  align-items: start;
  justify-content: center;
 
`,TopContainer=styled.div`

  width: 100%;
  overflow-y: auto;
  height: 95%;
`;function PropertySearch(tt){const[et,nt]=reactExports.useState(null),[rt,it]=reactExports.useState(null);return jsxRuntimeExports.jsx(Container$L,{children:jsxRuntimeExports.jsx(TopContainer,{children:jsxRuntimeExports.jsx(Search$1,{setCurrentUser:nt,currentUser:et,setCurrentUserId:it})})})}function Search(){const et=useTabs([{title:"جستجوی شهروند",content:jsxRuntimeExports.jsx(CitizenSearch,{})},{title:"جستجوی ملک",content:jsxRuntimeExports.jsx(PropertySearch,{})}],0,!0);return jsxRuntimeExports.jsx(ModalPosition,{title:"جستجوی در متارنگ",children:et})}const Label$5=styled.label`
    color: #707070!important;
    position: absolute;
    top: 16px;
    right: 16px;
    background-color: transparent !important;
    transition: 0.2s ease all;
    -moz-transition: 0.2s ease all;
    -webkit-transition: 0.2s ease all;
`,InputField$1=styled.input`
    padding: 8px 16px;
    width: 100%;
    margin-bottom: 32px;
    font-size: 1.2rem !important;
    font-family: iransans;
    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    &[type=number] {
        -moz-appearance:textfield;
    }

    &:not([value='']) {
        direction: ltr !important;
    }

    &:not([value='']) + i {
        display: block;
    }

    @media screen and (max-height: 840px)  {
        font-weight: 700;
        margin-bottom: 16px;
        padding: 8px 16px;
    }
`,Container$K=styled.div`
    position: relative;
    width: 100%;

    & i {
        color: #555;
        position: absolute;
        right: 16px;
        top: 22%;
        font-size: 20px;
        display: none;
    }

    & i:hover {
        cursor: pointer;
    }
    
    ${InputField$1}[value='']:focus + ${Label$5} {
        top: -26px;
        right: 16px;
        background: white;
        padding-right: 8px;
        padding-left: 8px;
        font-size: 16px;
    }

    ${InputField$1}:not([value='']) + ${Label$5} {
        top: -26px;
        right: 16px;
        background: white;
        padding-right: 8px;
        padding-left: 8px;
        font-size: 16px;
    }
`;function Input$7({placeholder:tt,className:et,dispatch:nt,value:rt,maxLength:it,style:st,name:ot,options:at,type:lt="text",nextSibling:ut=!1,floatLabel:ft=!1}){const[dt,ht]=reactExports.useState(!1),mt=xt=>{nt&&(typeof it=="number"&&rt.length<=it&&(rt=xt.target.value.substring(0,it),xt.target.value=rt),nt(_t=>({..._t,[xt.target.name]:xt.target.value})),ut&&xt.target.nextElementSibling.focus())};return ft?jsxRuntimeExports.jsxs(Container$K,{children:[jsxRuntimeExports.jsx(InputField$1,{name:ot,style:{...st},type:lt,className:et,value:rt,onChange:xt=>{xt.preventDefault(),mt(xt)},...at}),jsxRuntimeExports.jsx(Label$5,{children:tt})]}):jsxRuntimeExports.jsxs(Container$K,{children:[jsxRuntimeExports.jsx(InputField$1,{name:ot,style:{...st},type:lt==="password"?dt?"text":"password":lt,className:et,placeholder:tt,value:rt,onChange:xt=>{xt.preventDefault(),mt(xt)},...at}),lt==="password"&&(dt?jsxRuntimeExports.jsx("i",{className:"fa-solid fa-eye-slash",onClick:()=>ht(!1)}):jsxRuntimeExports.jsx("i",{className:"fa-solid fa-eye",onClick:()=>ht(!0)}))]})}const areEqual$2=(tt,et)=>{var nt,rt;return tt.value===et.value&&((nt=tt==null?void 0:tt.options)==null?void 0:nt.disabled)===((rt=et==null?void 0:et.options)==null?void 0:rt.disabled)},Input$8=reactExports.memo(Input$7,areEqual$2),Modal$2="";var cssUnit={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function parseLengthAndUnit(tt){if(typeof tt=="number")return{value:tt,unit:"px"};var et,nt=(tt.match(/^[0-9.]*/)||"").toString();nt.includes(".")?et=parseFloat(nt):et=parseInt(nt,10);var rt=(tt.match(/[^0-9]*$/)||"").toString();return cssUnit[rt]?{value:et,unit:rt}:(console.warn("React Spinners: ".concat(tt," is not a valid css value. Defaulting to ").concat(et,"px.")),{value:et,unit:"px"})}function cssValue(tt){var et=parseLengthAndUnit(tt);return"".concat(et.value).concat(et.unit)}var createAnimation=function(tt,et,nt){var rt="react-spinners-".concat(tt,"-").concat(nt);if(typeof window>"u"||!window.document)return rt;var it=document.createElement("style");document.head.appendChild(it);var st=it.sheet,ot=`
    @keyframes `.concat(rt,` {
      `).concat(et,`
    }
  `);return st&&st.insertRule(ot,0),rt},__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(tt){for(var et,nt=1,rt=arguments.length;nt<rt;nt++){et=arguments[nt];for(var it in et)Object.prototype.hasOwnProperty.call(et,it)&&(tt[it]=et[it])}return tt},__assign$2.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(tt,et){var nt={};for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&et.indexOf(rt)<0&&(nt[rt]=tt[rt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,rt=Object.getOwnPropertySymbols(tt);it<rt.length;it++)et.indexOf(rt[it])<0&&Object.prototype.propertyIsEnumerable.call(tt,rt[it])&&(nt[rt[it]]=tt[rt[it]]);return nt},scale=createAnimation("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function ScaleLoader(tt){var et=tt.loading,nt=et===void 0?!0:et,rt=tt.color,it=rt===void 0?"#000000":rt,st=tt.speedMultiplier,ot=st===void 0?1:st,at=tt.cssOverride,lt=at===void 0?{}:at,ut=tt.height,ft=ut===void 0?35:ut,dt=tt.width,ht=dt===void 0?4:dt,mt=tt.radius,xt=mt===void 0?2:mt,_t=tt.margin,At=_t===void 0?2:_t,gt=__rest(tt,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),vt=__assign$2({display:"inherit"},lt),Et=function(yt){return{backgroundColor:it,width:cssValue(ht),height:cssValue(ft),margin:cssValue(At),borderRadius:cssValue(xt),display:"inline-block",animation:"".concat(scale," ").concat(1/ot,"s ").concat(yt*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return nt?reactExports.createElement("span",__assign$2({style:vt},gt),reactExports.createElement("span",{style:Et(1)}),reactExports.createElement("span",{style:Et(2)}),reactExports.createElement("span",{style:Et(3)}),reactExports.createElement("span",{style:Et(4)}),reactExports.createElement("span",{style:Et(5)})):null}const Text$5=styled.p`
  color: #fff;
  font-size: 24px;
  font-weight: bold;
  margin-top: 24px;
`,Container$J=styled.div`
  position: absolute;
  height: 100%;
  top:0;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0px 0px 32px 0px rgb(215, 215, 128);
  background-color: rgba(152, 152, 152, 0.438);
  background-color: #7777779e;
  z-index: 99999;
  border-radius: 29px 29px 8px 8px;
  flex-direction: column;
`;function Loading(){return jsxRuntimeExports.jsxs(Container$J,{children:[jsxRuntimeExports.jsx(ScaleLoader,{color:"orange",loading:!0,height:"100",width:"10",margin:"5"}),jsxRuntimeExports.jsx(Text$5,{children:"... چند لحظه صبر کنید"})]})}const PromiseModal=(tt,et)=>rt=>{const[it,st]=reactExports.useState(!1);return reactExports.useEffect(()=>{et.interceptors.request.use(function(ot){return st(!0),ot},function(ot){return st(!1),Promise.reject(ot)}),et.interceptors.response.use(function(ot){return setTimeout(()=>{st(!1)},1e3),ot},function(ot){return st(!1),Promise.reject(ot)})},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(tt,{...rt,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it&&jsxRuntimeExports.jsx(Loading,{}),rt.children]})})})};function Modal({children:tt,title:et,disabled:nt=!1,type:rt="modal-section-sm"}){var ft;const it=useNavigate(),st=useLocation(),[ot,at]=reactExports.useState(!1),lt=st.pathname.replace(/\/metaverse\//g,"")+"-",ut=useAdviserData(lt,(ft=st==null?void 0:st.state)==null?void 0:ft.locationPage);return jsxRuntimeExports.jsx("section",{className:"modal",children:jsxRuntimeExports.jsxs("div",{className:`modal-section modal-border ${rt}`,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header modal-border",children:[!nt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{className:"modal-icon white-drop-shadow cursor-pointer",src:HelpImage,alt:"help",onClick:()=>at(dt=>!dt)}),jsxRuntimeExports.jsx("img",{className:"modal-icon white-drop-shadow cursor-pointer",src:ReportImage,alt:"report",onClick:()=>it("/metaverse/report",{state:{href:window.location.href.split("/").slice(3).join("/")}})})]}),jsxRuntimeExports.jsx("div",{className:`modal-title modal-header-shadow ${nt&&"w-85 top-left-rounded"}`,children:jsxRuntimeExports.jsx("p",{className:"rtl",children:et})}),jsxRuntimeExports.jsx("img",{className:"modal-icon white-drop-shadow cursor-pointer",src:ExitImage,alt:"exit",onClick:()=>it("/metaverse")})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body ",children:[tt," ",ot&&jsxRuntimeExports.jsx(Amozesh,{creator:ut==null?void 0:ut.creator,title:ut==null?void 0:ut.title,video:ut==null?void 0:ut.video,description:ut==null?void 0:ut.description,setShowModal:at,dislikes:ut==null?void 0:ut.dislikes,likes:ut==null?void 0:ut.likes,views:ut==null?void 0:ut.views})]})]})})}const Modal$1=PromiseModal(Modal,axios$2),Container$I=styled.div`
    color: #707070;
    font-size: 1.5rem;
    margin-right: 16px;
`,Label$4=styled.label`
    color: #707070;
    font-size: 1.5rem;
`,Input$6=styled.input`
    -webkit-transform: scale(2, 2);
`;function CheckBox({value:tt,onClickHandler:et}){const nt=shortid$1.generate();return jsxRuntimeExports.jsx(Container$I,{className:"mt-4",children:jsxRuntimeExports.jsxs(Label$4,{htmlhtmlFor:nt,children:["مرا به خاطر بسپار",jsxRuntimeExports.jsx(Input$6,{className:"ms-3",type:"checkbox",id:nt,value:tt,onClick:()=>et(!tt)})]})})}const CheckBox$1=reactExports.memo(CheckBox),HtmlForm=styled.form`
  display: flex;
  flex-direction: column;
  width: 100%;
  justify-content: space-between;
  align-items: center;
`;function Form({children:tt,onSubmit:et,options:nt={}}){return jsxRuntimeExports.jsx(HtmlForm,{onSubmit:rt=>{rt.preventDefault(),et()},...nt,children:tt})}Form.propTypes={children:propTypes.node.isRequired,onSubmit:propTypes.func.isRequired};const PrimaryButton=styled.button`
  --bs-bg-opacity: 1;
  background-color: var(--bs-orange) !important;
  border: none;
  border-radius: 8px;
  --bs-text-opacity: 1;
  color: rgba(var(--bs-light-rgb), var(--bs-text-opacity)) !important;
  padding: 8px 24px 8px 24px;
`,SecondaryButton=styled.button`
  --tw-border-opacity: 1;
  --tw-gradient-from: #16a34a;
  --tw-gradient-to: rgba(22,163,74,0);
  --tw-gradient-stops: var(--tw-gradient-from),var(--tw-gradient-to);
  --tw-gradient-stops: var(--tw-gradient-from),#65a30d,var(--tw-gradient-to);
  --tw-gradient-to: #fff;
  --tw-text-opacity: 1;
  background-image: linear-gradient(to top,var(--tw-gradient-stops));
  border-color: rgb(22 163 74/var(--tw-border-opacity));
  border-radius: 9999px;
  border-width: 4px;
  color: rgb(255 255 255/var(--tw-text-opacity));
  font-size: 24px;
  font-weight: 800;
  line-height: 1.75rem;
  padding: 16px 16px;
  width: 100%;
  cursor: pointer;
  
  @media screen and (max-height: 840px)  {
    padding: 8px 8px;
  }
`;function Submit({text:tt,type:et,options:nt}){const[rt,it]=reactExports.useState();return reactExports.useLayoutEffect(()=>{switch(et){case"secondary":it(jsxRuntimeExports.jsx(SecondaryButton,{type:"submit",...nt,children:tt}));break;case"primary":it(jsxRuntimeExports.jsx(PrimaryButton,{type:"submit",...nt,children:tt}));break;default:return}},[]),rt}Submit.propTypes={text:propTypes.string.isRequired,type:propTypes.string.isRequired,options:propTypes.object};const areEqual$1=(tt,et)=>tt.text===et.text,Submit$1=reactExports.memo(Submit,areEqual$1);function Login(){const{Request:tt,HTTP_METHOD:et}=useRequest(),nt=useNavigate(),{setUser:rt}=useAuth(),[it,st]=reactExports.useState({email:"",password:""}),[ot,at]=reactExports.useState(!1),[lt,ut]=reactExports.useState(""),ft=()=>{ut(""),tt("login",et.POST,it).then(dt=>{rt(dt.data),nt("/metaverse")}).catch(dt=>{ut(dt.response.data.message)})};return jsxRuntimeExports.jsx(Modal$1,{title:"ورود",children:jsxRuntimeExports.jsxs(Form,{onSubmit:ft,children:[jsxRuntimeExports.jsx(Input$8,{name:"email",type:"email",className:"mt-5",placeholder:"name@example.com",value:it.email,dispatch:st}),jsxRuntimeExports.jsx(Input$8,{name:"password",type:"password",placeholder:"********",value:it.password,dispatch:st}),lt&&jsxRuntimeExports.jsx("p",{className:"w-100 text-right mb-3 text-danger",children:lt}),jsxRuntimeExports.jsx(Submit$1,{text:"ورود",type:"secondary"}),jsxRuntimeExports.jsx(CheckBox$1,{value:ot,onClickHandler:at}),jsxRuntimeExports.jsx(Link,{to:"/metaverse/reset-password",className:"link text-1 mt-3 mb-3",children:"فراموشی رمز عبور"}),jsxRuntimeExports.jsx(Link,{to:"/metaverse/signup",className:"link text-2 mt-auto",children:"ثبت نام و عضویت در سامانه"}),jsxRuntimeExports.jsx("p",{className:"text-information mt-4",children:"با کلیک بر روی دکمه ورود به سامانه موافقت میکنید"}),jsxRuntimeExports.jsx("a",{href:"https://rgb.irpsc.com/overview",target:"_blank",rel:"noreferrer",className:"link text-1 mt-2 pb-3",children:"شرایط قرارداد خدمات"})]})})}function Signup(){const[tt]=useSearchParams(),[et,nt]=reactExports.useState({name:"",email:"",password:"",referral:tt.get("referral")}),[rt,it]=reactExports.useState(""),{Request:st,HTTP_METHOD:ot}=useRequest(),at=useNavigate(),lt=()=>{st("register",ot.POST,et).then(()=>{at("/metaverse/successful/signup")}).catch(ut=>{var ft,dt,ht;((ft=ut==null?void 0:ut.response)==null?void 0:ft.status)===422&&it((ht=(dt=ut==null?void 0:ut.response)==null?void 0:dt.data)==null?void 0:ht.message)})};return jsxRuntimeExports.jsx(Modal$1,{title:"ثبت نام",children:jsxRuntimeExports.jsxs(Form,{onSubmit:lt,children:[jsxRuntimeExports.jsx(Input$8,{name:"name",type:"text",className:"mt-5",placeholder:"نام کاربری میتوان نام شرکت و یا برند باشد",value:et.name,dispatch:nt}),jsxRuntimeExports.jsx(Input$8,{name:"email",type:"email",placeholder:"name@example.com",value:et.email,dispatch:nt}),jsxRuntimeExports.jsx(Input$8,{name:"password",type:"password",placeholder:"********",value:et.password,dispatch:nt}),rt&&jsxRuntimeExports.jsx("p",{className:"w-100 text-right mb-4 text-danger",children:rt}),jsxRuntimeExports.jsx(Submit$1,{text:"ثبت نام",type:"secondary"}),jsxRuntimeExports.jsx(Link,{to:"/metaverse/login",className:"link text-2 mt-3 ",children:"ثبت نام کرده ام' وارد شوید'"}),jsxRuntimeExports.jsx("p",{className:"text-information mt-4",children:"با کلیک بر روی دکمه ورود به سامانه موافقت میکنید"}),jsxRuntimeExports.jsx("a",{href:"https://rgb.irpsc.com/overview",className:"link text-1 mt-2",target:"_blank",rel:"noreferrer",children:"شرایط قرارداد خدمات"}),jsxRuntimeExports.jsx("p",{className:"text-information mt-4",children:"سئوالی دارید یا میخواهید بیشتر بدانید؟"}),jsxRuntimeExports.jsx("a",{href:"https://rgb.irpsc.com/",className:"link text-1 mt-2 pb-2",children:".از وبسایت ما دیدن کنید"})]})})}function _classCallCheck$2(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function _createClass$2(tt,et,nt){return et&&_defineProperties$2(tt.prototype,et),nt&&_defineProperties$2(tt,nt),tt}function _inherits$1(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),et&&_setPrototypeOf$1(tt,et)}function _getPrototypeOf$1(tt){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf$1(tt)}function _setPrototypeOf$1(tt,et){return _setPrototypeOf$1=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf$1(tt,et)}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _assertThisInitialized$1(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _possibleConstructorReturn$1(tt,et){return et&&(typeof et=="object"||typeof et=="function")?et:_assertThisInitialized$1(tt)}function _createSuper$1(tt){var et=_isNativeReflectConstruct$1();return function(){var rt=_getPrototypeOf$1(tt),it;if(et){var st=_getPrototypeOf$1(this).constructor;it=Reflect.construct(rt,arguments,st)}else it=rt.apply(this,arguments);return _possibleConstructorReturn$1(this,it)}}function _toConsumableArray(tt){return _arrayWithoutHoles(tt)||_iterableToArray(tt)||_unsupportedIterableToArray$1(tt)||_nonIterableSpread()}function _arrayWithoutHoles(tt){if(Array.isArray(tt))return _arrayLikeToArray$1(tt)}function _iterableToArray(tt){if(typeof Symbol<"u"&&Symbol.iterator in Object(tt))return Array.from(tt)}function _unsupportedIterableToArray$1(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray$1(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$1(tt,et)}}function _arrayLikeToArray$1(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zeroPad(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,nt=String(tt);if(et===0)return nt;var rt=nt.match(/(.*?)([0-9]+)(.*)/),it=rt?rt[1]:"",st=rt?rt[3]:"",ot=rt?rt[2]:nt,at=ot.length>=et?ot:(_toConsumableArray(Array(et)).map(function(){return"0"}).join("")+ot).slice(et*-1);return"".concat(it).concat(at).concat(st)}var timeDeltaFormatOptionsDefaults={daysInHours:!1,zeroPadTime:2};function calcTimeDelta(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=et.now,rt=nt===void 0?Date.now:nt,it=et.precision,st=it===void 0?0:it,ot=et.controlled,at=et.offsetTime,lt=at===void 0?0:at,ut=et.overtime,ft;typeof tt=="string"?ft=new Date(tt).getTime():tt instanceof Date?ft=tt.getTime():ft=tt,ot||(ft+=lt);var dt=ot?ft:ft-rt(),ht=Math.min(20,Math.max(0,st)),mt=Math.round(parseFloat(((ut?dt:Math.max(0,dt))/1e3).toFixed(ht))*1e3),xt=Math.abs(mt)/1e3;return{total:mt,days:Math.floor(xt/(3600*24)),hours:Math.floor(xt/3600%24),minutes:Math.floor(xt/60%60),seconds:Math.floor(xt%60),milliseconds:Number((xt%1*1e3).toFixed()),completed:mt<=0}}function formatTimeDelta(tt,et){var nt=tt.days,rt=tt.hours,it=tt.minutes,st=tt.seconds,ot=Object.assign(Object.assign({},timeDeltaFormatOptionsDefaults),et),at=ot.daysInHours,lt=ot.zeroPadTime,ut=ot.zeroPadDays,ft=ut===void 0?lt:ut,dt=Math.min(2,lt),ht=at?zeroPad(rt+nt*24,lt):zeroPad(rt,dt);return{days:at?"":zeroPad(nt,ft),hours:ht,minutes:zeroPad(it,dt),seconds:zeroPad(st,dt)}}var Countdown=function(tt){_inherits$1(nt,tt);var et=_createSuper$1(nt);function nt(){var rt;return _classCallCheck$2(this,nt),rt=et.apply(this,arguments),rt.state={count:rt.props.count||3},rt.startCountdown=function(){rt.interval=window.setInterval(function(){var it=rt.state.count-1;it===0?(rt.stopCountdown(),rt.props.onComplete&&rt.props.onComplete()):rt.setState(function(st){return{count:st.count-1}})},1e3)},rt.stopCountdown=function(){clearInterval(rt.interval)},rt.addTime=function(it){rt.stopCountdown(),rt.setState(function(st){return{count:st.count+it}},rt.startCountdown)},rt}return _createClass$2(nt,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?reactExports.cloneElement(this.props.children,{count:this.state.count}):null}}]),nt}(reactExports.Component);Countdown.propTypes={count:propTypesExports.number,children:propTypesExports.element,onComplete:propTypesExports.func};var Countdown$1=function(tt){_inherits$1(nt,tt);var et=_createSuper$1(nt);function nt(rt){var it;if(_classCallCheck$2(this,nt),it=et.call(this,rt),it.mounted=!1,it.initialTimestamp=it.calcOffsetStartTimestamp(),it.offsetStartTimestamp=it.props.autoStart?0:it.initialTimestamp,it.offsetTime=0,it.legacyMode=!1,it.legacyCountdownRef=reactExports.createRef(),it.tick=function(){var ot=it.calcTimeDelta(),at=ot.completed&&!it.props.overtime?void 0:it.props.onTick;it.setTimeDeltaState(ot,void 0,at)},it.start=function(){if(!it.isStarted()){var ot=it.offsetStartTimestamp;it.offsetStartTimestamp=0,it.offsetTime+=ot?it.calcOffsetStartTimestamp()-ot:0;var at=it.calcTimeDelta();it.setTimeDeltaState(at,"STARTED",it.props.onStart),!it.props.controlled&&(!at.completed||it.props.overtime)&&(it.clearTimer(),it.interval=window.setInterval(it.tick,it.props.intervalDelay))}},it.pause=function(){it.isPaused()||(it.clearTimer(),it.offsetStartTimestamp=it.calcOffsetStartTimestamp(),it.setTimeDeltaState(it.state.timeDelta,"PAUSED",it.props.onPause))},it.stop=function(){it.isStopped()||(it.clearTimer(),it.offsetStartTimestamp=it.calcOffsetStartTimestamp(),it.offsetTime=it.offsetStartTimestamp-it.initialTimestamp,it.setTimeDeltaState(it.calcTimeDelta(),"STOPPED",it.props.onStop))},it.isStarted=function(){return it.isStatus("STARTED")},it.isPaused=function(){return it.isStatus("PAUSED")},it.isStopped=function(){return it.isStatus("STOPPED")},it.isCompleted=function(){return it.isStatus("COMPLETED")},rt.date){var st=it.calcTimeDelta();it.state={timeDelta:st,status:st.completed?"COMPLETED":"STOPPED"}}else it.legacyMode=!0;return it}return _createClass$2(nt,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(it){this.legacyMode||this.props.date!==it.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var it=this.props,st=it.date,ot=it.now,at=it.precision,lt=it.controlled,ut=it.overtime;return calcTimeDelta(st,{now:ot,precision:at,controlled:lt,offsetTime:this.offsetTime,overtime:ut})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(it){this.legacyCountdownRef.current.addTime(it)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(it){return this.state.status===it}},{key:"setTimeDeltaState",value:function(it,st,ot){var at=this;if(this.mounted){var lt=it.completed&&!this.state.timeDelta.completed,ut=it.completed&&st==="STARTED";lt&&!this.props.overtime&&this.clearTimer();var ft=function(){ot&&ot(at.state.timeDelta),at.props.onComplete&&(lt||ut)&&at.props.onComplete(it,ut)};return this.setState(function(dt){var ht=st||dt.status;return it.completed&&!at.props.overtime?ht="COMPLETED":!st&&ht==="COMPLETED"&&(ht="STOPPED"),{timeDelta:it,status:ht}},ft)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var it=this.props,st=it.daysInHours,ot=it.zeroPadTime,at=it.zeroPadDays,lt=this.state.timeDelta;return Object.assign(Object.assign({},lt),{api:this.getApi(),props:this.props,formatted:formatTimeDelta(lt,{daysInHours:st,zeroPadTime:ot,zeroPadDays:at})})}},{key:"render",value:function(){if(this.legacyMode){var it=this.props,st=it.count,ot=it.children,at=it.onComplete;return reactExports.createElement(Countdown,{ref:this.legacyCountdownRef,count:st,onComplete:at},ot)}var lt=this.props,ut=lt.className,ft=lt.overtime,dt=lt.children,ht=lt.renderer,mt=this.getRenderProps();if(ht)return ht(mt);if(dt&&this.state.timeDelta.completed&&!ft)return reactExports.cloneElement(dt,{countdown:mt});var xt=mt.formatted,_t=xt.days,At=xt.hours,gt=xt.minutes,vt=xt.seconds;return reactExports.createElement("span",{className:ut},mt.total<0?"-":"",_t,_t?":":"",At,":",gt,":",vt)}}]),nt}(reactExports.Component);Countdown$1.defaultProps=Object.assign(Object.assign({},timeDeltaFormatOptionsDefaults),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});Countdown$1.propTypes={date:propTypesExports.oneOfType([propTypesExports.instanceOf(Date),propTypesExports.string,propTypesExports.number]),daysInHours:propTypesExports.bool,zeroPadTime:propTypesExports.number,zeroPadDays:propTypesExports.number,controlled:propTypesExports.bool,intervalDelay:propTypesExports.number,precision:propTypesExports.number,autoStart:propTypesExports.bool,overtime:propTypesExports.bool,className:propTypesExports.string,children:propTypesExports.element,renderer:propTypesExports.func,now:propTypesExports.func,onMount:propTypesExports.func,onStart:propTypesExports.func,onPause:propTypesExports.func,onStop:propTypesExports.func,onTick:propTypesExports.func,onComplete:propTypesExports.func};const InputField=styled.input`
    padding: 8px 16px;
    width: 100%;
    margin-bottom: 32px;
    font-size: 1.4rem !important;
    font-family: iransans;
    
    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    &[type=number] {
        -moz-appearance:textfield;
    }

    &:not([value='']) {
        direction: ltr !important;
    }

    &:not([value='']) + i {
        display: block;
    }

    @media screen and (max-height: 840px)  {
        font-weight: 700;
        margin-bottom: 16px;
        padding: 8px 16px;
    }
`;function OtpInput({className:tt,dispatch:et,value:nt,maxLength:rt,style:it,name:st,options:ot,type:at="text",nextSibling:lt=!1}){const ut=ft=>{et&&(typeof rt=="number"&&nt.length<=rt&&(nt=ft.target.value.substring(0,rt),ft.target.value=nt),et(dt=>({...dt,[ft.target.name]:ft.target.value})),lt&&ft.target.nextElementSibling.focus())};return jsxRuntimeExports.jsx(InputField,{name:st,style:{...it},type:at,className:tt,value:nt,onChange:ft=>{ft.preventDefault(),ut(ft)},...ot})}const renderer$1=({hours:tt,minutes:et,seconds:nt,completed:rt})=>jsxRuntimeExports.jsxs("span",{children:[et,":",nt]});function ConfirmOtp({paginate:tt}){const[et,nt]=reactExports.useState({otp_1:"",otp_2:"",otp_3:"",otp_4:"",otp_5:"",otp_6:""}),[rt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(!1),{Request:at,HTTP_METHOD:lt}=useRequest(),ut=useNavigate(),ft=()=>{const ht=Object.keys(et).map(mt=>et[mt]).join("");ht.length===6?(it(!1),at("account/security/verify",lt.POST,{code:ht}).then(()=>{setItem("account_security",Date.now()+tt.options.data.time*60*1e3),ut("/metaverse")}).catch(()=>{it(!0)})):it(!0)},dt=()=>{at("account/security",lt.POST,{time:tt.options.data.time}).then(()=>{ot(!1)})};return jsxRuntimeExports.jsxs(Form,{onSubmit:ft,children:[jsxRuntimeExports.jsxs("div",{className:"account-security-section",children:[jsxRuntimeExports.jsx(OtpInput,{name:"otp_1",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_1,nextSibling:!0}),jsxRuntimeExports.jsx(OtpInput,{name:"otp_2",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_2,nextSibling:!0}),jsxRuntimeExports.jsx(OtpInput,{name:"otp_3",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_3,nextSibling:!0}),jsxRuntimeExports.jsx(OtpInput,{name:"otp_4",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_4,nextSibling:!0}),jsxRuntimeExports.jsx(OtpInput,{name:"otp_5",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_5,nextSibling:!0}),jsxRuntimeExports.jsx(OtpInput,{name:"otp_6",maxLength:1,type:"number",className:`d-number-arrows w-50-px account-security-code-input ${rt&&"invalid-input"}`,dispatch:nt,value:et.otp_6})]}),st?jsxRuntimeExports.jsx("p",{className:"link cursor-pointer mb-5",onClick:()=>dt(),children:"ارسال مجدد"}):jsxRuntimeExports.jsxs("p",{className:"text-information w-75 mt-2 mb-5 text-center text-1 rtl",children:["اگر کد تایید را دریافت نکرده اید میتوانید",jsxRuntimeExports.jsx(Countdown$1,{date:Date.now()+12e4,onComplete:()=>ot(!0),renderer:renderer$1}),"دقیقه دیگر مجددا کد تایید را ارسال کنید."]}),jsxRuntimeExports.jsx(Submit$1,{text:"تایید",type:"primary",options:{className:"w-100"}})]})}const ArrowUpImage="/metaverse/assets/arrow-up-6425a1ce.png",ArrowDownImage="/metaverse/assets/arrow-down-8d955794.png";function CounterInput({text:tt,name:et,dispatch:nt,value:rt=0,step:it=1,max:st=55,min:ot=5}){const at=()=>{nt&&rt[et]<st&&nt({...rt,[et]:rt[et]+it})},lt=()=>{nt&&rt[et]>ot&&nt({...rt,[et]:rt[et]-it})};return jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-center",children:[jsxRuntimeExports.jsx("p",{className:"pre-time-input text-information",children:tt}),jsxRuntimeExports.jsx("input",{type:"text",className:"d-number-arrows w-100-px account-security-code-input pe-5",maxLength:"2",value:rt[et],disabled:!0}),jsxRuntimeExports.jsxs("div",{className:"d-flex flex-direction-column ms-2",children:[jsxRuntimeExports.jsx("div",{className:`cursor-pointer text-1 text-light p-1 d-flex mb-2 ${rt[et]===st&&"object-disabled"}`,children:jsxRuntimeExports.jsx("img",{src:ArrowUpImage,width:"16",alt:"arrow-up",onClick:()=>at()})}),jsxRuntimeExports.jsx("div",{className:`cursor-pointer text-1 text-light p-1 d-flex ${rt[et]<=ot&&"object-disabled"}`,children:jsxRuntimeExports.jsx("img",{src:ArrowDownImage,width:"16",alt:"arrow-down",onClick:()=>lt()})})]})]})}const IranImage="/metaverse/assets/iran-7a644937.png";function SendOtp({paginate:tt}){const[et,nt]=reactExports.useState(!0),[rt,it]=reactExports.useState({phone:"",time:5}),{Request:st,HTTP_METHOD:ot}=useRequest(),at=()=>{et?st("account/security",ot.POST,{time:rt.time}).then(()=>{tt.setOptions({nextPage:!0,data:{time:rt.time}})}).catch(lt=>{lt.response.status===422&&nt(!1)}):st("account/security",ot.POST,rt).then(()=>{tt.setOptions({nextPage:!0,data:{time:rt.time}})})};return jsxRuntimeExports.jsxs(Form,{onSubmit:at,children:[!et&&jsxRuntimeExports.jsxs("div",{className:"account-security-section w-100 px-4",children:[jsxRuntimeExports.jsxs("div",{htmlFor:"pre-phone",className:"me-3",children:[jsxRuntimeExports.jsx("img",{src:IranImage,className:"pre-phone-logo",width:"32",alt:"iran-flag"}),jsxRuntimeExports.jsx("input",{type:"text",className:"d-number-arrows w-100-px account-security-code-input ps-5 h-100",disabled:!0,value:"98"})]}),jsxRuntimeExports.jsx(Input$8,{name:"phone",type:"number",className:"w-100 mb-0",maxLength:11,placeholder:"091XXXXXXXX",value:rt.phone,dispatch:it})]}),jsxRuntimeExports.jsxs("div",{className:"account-security-section w-100 px-4 mt-4 mb-5",children:[jsxRuntimeExports.jsx(CounterInput,{name:"time",text:"دقیقه",dispatch:it,value:rt,step:5}),jsxRuntimeExports.jsx("p",{className:"text-information text-1 text-danger",children:". مدت زمانی که میخواهید کیف پولتان خاموش بماند"})]}),jsxRuntimeExports.jsx(Submit$1,{text:"ادامه",type:"primary",options:{className:"w-100"}})]})}const Security$1="",renderer=({hours:tt,minutes:et,seconds:nt,completed:rt})=>jsxRuntimeExports.jsxs("span",{children:[et,":",nt]});function Security(){const[tt,et]=reactExports.useState({data:{},nextPage:!1}),[nt,rt]=reactExports.useState();return reactExports.useEffect(()=>{rt(getItem("account_security"))},[]),jsxRuntimeExports.jsx(Modal$1,{title:"امنیت حساب کاربری",children:nt?jsxRuntimeExports.jsx(Countdown$1,{className:"counter-down",renderer,date:nt,onComplete:()=>{removeItem("account_security"),rt(null)}}):tt.nextPage?jsxRuntimeExports.jsx(ConfirmOtp,{paginate:{options:tt,setOptions:et}}):jsxRuntimeExports.jsx(SendOtp,{paginate:{options:tt,setOptions:et}})})}function PrivateRoute({children:tt}){const{isLoggedIn:et}=useAuth(),nt=useNavigate(),[rt,it]=reactExports.useState();return reactExports.useEffect(()=>{if(!et())return nt("/metaverse/login");it(tt)},[et]),rt||jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(tt,et){return tt===et||tt!==tt&&et!==et}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(tt,et){for(var nt=tt.length;nt--;)if(eq$1(tt[nt][0],et))return nt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(tt){var et=this.__data__,nt=assocIndexOf$3(et,tt);if(nt<0)return!1;var rt=et.length-1;return nt==rt?et.pop():splice.call(et,nt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tt){var et=this.__data__,nt=assocIndexOf$2(et,tt);return nt<0?void 0:et[nt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tt){return assocIndexOf$1(this.__data__,tt)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tt,et){var nt=this.__data__,rt=assocIndexOf(nt,tt);return rt<0?(++this.size,nt.push([tt,et])):nt[rt][1]=et,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tt){var et=-1,nt=tt==null?0:tt.length;for(this.clear();++et<nt;){var rt=tt[et];this.set(rt[0],rt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tt){var et=this.__data__,nt=et.delete(tt);return this.size=et.size,nt}var _stackDelete=stackDelete$1;function stackGet$1(tt){return this.__data__.get(tt)}var _stackGet=stackGet$1;function stackHas$1(tt){return this.__data__.has(tt)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$4=root$8.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(tt){var et=hasOwnProperty$8.call(tt,symToStringTag$1),nt=tt[symToStringTag$1];try{tt[symToStringTag$1]=void 0;var rt=!0}catch{}var it=nativeObjectToString$1.call(tt);return rt&&(et?tt[symToStringTag$1]=nt:delete tt[symToStringTag$1]),it}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(tt){return nativeObjectToString.call(tt)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$4(tt){return tt==null?tt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tt)?getRawTag(tt):objectToString(tt)}var _baseGetTag=baseGetTag$4;function isObject$5(tt){var et=typeof tt;return tt!=null&&(et=="object"||et=="function")}var isObject_1=isObject$5,baseGetTag$3=_baseGetTag,isObject$4=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(tt){if(!isObject$4(tt))return!1;var et=baseGetTag$3(tt);return et==funcTag$1||et==genTag||et==asyncTag||et==proxyTag}var isFunction_1=isFunction$2,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var tt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}();function isMasked$1(tt){return!!maskSrcKey&&maskSrcKey in tt}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(tt){if(tt!=null){try{return funcToString$1.call(tt)}catch{}try{return tt+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$3=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tt){if(!isObject$3(tt)||isMasked(tt))return!1;var et=isFunction$1(tt)?reIsNative:reIsHostCtor;return et.test(toSource$1(tt))}var _baseIsNative=baseIsNative$1;function getValue$1(tt,et){return tt==null?void 0:tt[et]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(tt,et){var nt=getValue(tt,et);return baseIsNative(nt)?nt:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$6=_root,Map$5=getNative$5(root$6,"Map"),_Map=Map$5,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tt){var et=this.has(tt)&&delete this.__data__[tt];return this.size-=et?1:0,et}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashGet$1(tt){var et=this.__data__;if(nativeCreate$2){var nt=et[tt];return nt===HASH_UNDEFINED$2?void 0:nt}return hasOwnProperty$6.call(et,tt)?et[tt]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashHas$1(tt){var et=this.__data__;return nativeCreate$1?et[tt]!==void 0:hasOwnProperty$5.call(et,tt)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tt,et){var nt=this.__data__;return this.size+=this.has(tt)?0:1,nt[tt]=nativeCreate&&et===void 0?HASH_UNDEFINED$1:et,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(tt){var et=-1,nt=tt==null?0:tt.length;for(this.clear();++et<nt;){var rt=tt[et];this.set(rt[0],rt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$4=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$4||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tt){var et=typeof tt;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?tt!=="__proto__":tt===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tt,et){var nt=tt.__data__;return isKeyable(et)?nt[typeof et=="string"?"string":"hash"]:nt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tt){var et=getMapData$3(this,tt).delete(tt);return this.size-=et?1:0,et}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tt){return getMapData$2(this,tt).get(tt)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tt){return getMapData$1(this,tt).has(tt)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tt,et){var nt=getMapData(this,tt),rt=nt.size;return nt.set(tt,et),this.size+=nt.size==rt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(tt){var et=-1,nt=tt==null?0:tt.length;for(this.clear();++et<nt;){var rt=tt[et];this.set(rt[0],rt[1])}}MapCache$2.prototype.clear=mapCacheClear;MapCache$2.prototype.delete=mapCacheDelete;MapCache$2.prototype.get=mapCacheGet;MapCache$2.prototype.has=mapCacheHas;MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$3=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(tt,et){var nt=this.__data__;if(nt instanceof ListCache$1){var rt=nt.__data__;if(!Map$3||rt.length<LARGE_ARRAY_SIZE-1)return rt.push([tt,et]),this.size=++nt.size,this;nt=this.__data__=new MapCache$1(rt)}return nt.set(tt,et),this.size=nt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(tt){var et=this.__data__=new ListCache(tt);this.size=et.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tt){return this.__data__.set(tt,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tt){return this.__data__.has(tt)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(tt){var et=-1,nt=tt==null?0:tt.length;for(this.__data__=new MapCache;++et<nt;)this.add(tt[et])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(tt,et){for(var nt=-1,rt=tt==null?0:tt.length;++nt<rt;)if(et(tt[nt],nt,tt))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(tt,et){return tt.has(et)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(tt,et,nt,rt,it,st){var ot=nt&COMPARE_PARTIAL_FLAG$3,at=tt.length,lt=et.length;if(at!=lt&&!(ot&&lt>at))return!1;var ut=st.get(tt),ft=st.get(et);if(ut&&ft)return ut==et&&ft==tt;var dt=-1,ht=!0,mt=nt&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(st.set(tt,et),st.set(et,tt);++dt<at;){var xt=tt[dt],_t=et[dt];if(rt)var At=ot?rt(_t,xt,dt,et,tt,st):rt(xt,_t,dt,tt,et,st);if(At!==void 0){if(At)continue;ht=!1;break}if(mt){if(!arraySome(et,function(gt,vt){if(!cacheHas(mt,vt)&&(xt===gt||it(xt,gt,nt,rt,st)))return mt.push(vt)})){ht=!1;break}}else if(!(xt===_t||it(xt,_t,nt,rt,st))){ht=!1;break}}return st.delete(tt),st.delete(et),ht}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(tt){var et=-1,nt=Array(tt.size);return tt.forEach(function(rt,it){nt[++et]=[it,rt]}),nt}var _mapToArray=mapToArray$1;function setToArray$1(tt){var et=-1,nt=Array(tt.size);return tt.forEach(function(rt){nt[++et]=rt}),nt}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(tt,et,nt,rt,it,st,ot){switch(nt){case dataViewTag$2:if(tt.byteLength!=et.byteLength||tt.byteOffset!=et.byteOffset)return!1;tt=tt.buffer,et=et.buffer;case arrayBufferTag$1:return!(tt.byteLength!=et.byteLength||!st(new Uint8Array$1(tt),new Uint8Array$1(et)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+tt,+et);case errorTag$1:return tt.name==et.name&&tt.message==et.message;case regexpTag$1:case stringTag$1:return tt==et+"";case mapTag$2:var at=mapToArray;case setTag$2:var lt=rt&COMPARE_PARTIAL_FLAG$2;if(at||(at=setToArray),tt.size!=et.size&&!lt)return!1;var ut=ot.get(tt);if(ut)return ut==et;rt|=COMPARE_UNORDERED_FLAG,ot.set(tt,et);var ft=equalArrays$1(at(tt),at(et),rt,it,st,ot);return ot.delete(tt),ft;case symbolTag:if(symbolValueOf)return symbolValueOf.call(tt)==symbolValueOf.call(et)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(tt,et){for(var nt=-1,rt=et.length,it=tt.length;++nt<rt;)tt[it+nt]=et[nt];return tt}var _arrayPush=arrayPush$1,isArray$4=Array.isArray,isArray_1=isArray$4,arrayPush=_arrayPush,isArray$3=isArray_1;function baseGetAllKeys$1(tt,et,nt){var rt=et(tt);return isArray$3(tt)?rt:arrayPush(rt,nt(tt))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(tt,et){for(var nt=-1,rt=tt==null?0:tt.length,it=0,st=[];++nt<rt;){var ot=tt[nt];et(ot,nt,tt)&&(st[it++]=ot)}return st}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(tt){return tt==null?[]:(tt=Object(tt),arrayFilter(nativeGetSymbols(tt),function(et){return propertyIsEnumerable$1.call(tt,et)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(tt,et){for(var nt=-1,rt=Array(tt);++nt<tt;)rt[nt]=et(nt);return rt}var _baseTimes=baseTimes$1;function isObjectLike$4(tt){return tt!=null&&typeof tt=="object"}var isObjectLike_1=isObjectLike$4,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(tt){return isObjectLike$3(tt)&&baseGetTag$2(tt)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tt){return isObjectLike$2(tt)&&hasOwnProperty$4.call(tt,"callee")&&!propertyIsEnumerable.call(tt,"callee")},isArguments_1=isArguments$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(tt,et){var nt=_root,rt=stubFalse_1,it=et&&!et.nodeType&&et,st=it&&!0&&tt&&!tt.nodeType&&tt,ot=st&&st.exports===it,at=ot?nt.Buffer:void 0,lt=at?at.isBuffer:void 0,ut=lt||rt;tt.exports=ut})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(tt,et){var nt=typeof tt;return et=et??MAX_SAFE_INTEGER$1,!!et&&(nt=="number"||nt!="symbol"&&reIsUint.test(tt))&&tt>-1&&tt%1==0&&tt<et}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(tt){return isObjectLike$1(tt)&&isLength$1(tt.length)&&!!typedArrayTags[baseGetTag$1(tt)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(tt){return function(et){return tt(et)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports;(function(tt,et){var nt=_freeGlobal,rt=et&&!et.nodeType&&et,it=rt&&!0&&tt&&!tt.nodeType&&tt,st=it&&it.exports===rt,ot=st&&nt.process,at=function(){try{var lt=it&&it.require&&it.require("util").types;return lt||ot&&ot.binding&&ot.binding("util")}catch{}}();tt.exports=at})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$2=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(tt,et){var nt=isArray$2(tt),rt=!nt&&isArguments(tt),it=!nt&&!rt&&isBuffer$1(tt),st=!nt&&!rt&&!it&&isTypedArray$1(tt),ot=nt||rt||it||st,at=ot?baseTimes(tt.length,String):[],lt=at.length;for(var ut in tt)(et||hasOwnProperty$3.call(tt,ut))&&!(ot&&(ut=="length"||it&&(ut=="offset"||ut=="parent")||st&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||isIndex(ut,lt)))&&at.push(ut);return at}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(tt){var et=tt&&tt.constructor,nt=typeof et=="function"&&et.prototype||objectProto$3;return tt===nt}var _isPrototype=isPrototype$1;function overArg$1(tt,et){return function(nt){return tt(et(nt))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(tt){if(!isPrototype(tt))return nativeKeys(tt);var et=[];for(var nt in Object(tt))hasOwnProperty$2.call(tt,nt)&&nt!="constructor"&&et.push(nt);return et}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$1(tt){return tt!=null&&isLength(tt.length)&&!isFunction(tt)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$1(tt){return isArrayLike(tt)?arrayLikeKeys(tt):baseKeys(tt)}var keys_1=keys$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys=keys_1;function getAllKeys$1(tt){return baseGetAllKeys(tt,keys,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(tt,et,nt,rt,it,st){var ot=nt&COMPARE_PARTIAL_FLAG$1,at=getAllKeys(tt),lt=at.length,ut=getAllKeys(et),ft=ut.length;if(lt!=ft&&!ot)return!1;for(var dt=lt;dt--;){var ht=at[dt];if(!(ot?ht in et:hasOwnProperty$1.call(et,ht)))return!1}var mt=st.get(tt),xt=st.get(et);if(mt&&xt)return mt==et&&xt==tt;var _t=!0;st.set(tt,et),st.set(et,tt);for(var At=ot;++dt<lt;){ht=at[dt];var gt=tt[ht],vt=et[ht];if(rt)var Et=ot?rt(vt,gt,ht,et,tt,st):rt(gt,vt,ht,tt,et,st);if(!(Et===void 0?gt===vt||it(gt,vt,nt,rt,st):Et)){_t=!1;break}At||(At=ht=="constructor")}if(_t&&!At){var yt=tt.constructor,wt=et.constructor;yt!=wt&&"constructor"in tt&&"constructor"in et&&!(typeof yt=="function"&&yt instanceof yt&&typeof wt=="function"&&wt instanceof wt)&&(_t=!1)}return st.delete(tt),st.delete(et),_t}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$2=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag$1(new Map$2)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(tt){var et=baseGetTag(tt),nt=et==objectTag$1?tt.constructor:void 0,rt=nt?toSource(nt):"";if(rt)switch(rt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return et});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$1=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(tt,et,nt,rt,it,st){var ot=isArray$1(tt),at=isArray$1(et),lt=ot?arrayTag:getTag(tt),ut=at?arrayTag:getTag(et);lt=lt==argsTag?objectTag:lt,ut=ut==argsTag?objectTag:ut;var ft=lt==objectTag,dt=ut==objectTag,ht=lt==ut;if(ht&&isBuffer(tt)){if(!isBuffer(et))return!1;ot=!0,ft=!1}if(ht&&!ft)return st||(st=new Stack),ot||isTypedArray(tt)?equalArrays(tt,et,nt,rt,it,st):equalByTag(tt,et,lt,nt,rt,it,st);if(!(nt&COMPARE_PARTIAL_FLAG)){var mt=ft&&hasOwnProperty.call(tt,"__wrapped__"),xt=dt&&hasOwnProperty.call(et,"__wrapped__");if(mt||xt){var _t=mt?tt.value():tt,At=xt?et.value():et;return st||(st=new Stack),it(_t,At,nt,rt,st)}}return ht?(st||(st=new Stack),equalObjects(tt,et,nt,rt,it,st)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(tt,et,nt,rt,it){return tt===et?!0:tt==null||et==null||!isObjectLike(tt)&&!isObjectLike(et)?tt!==tt&&et!==et:baseIsEqualDeep(tt,et,nt,rt,baseIsEqual$1,it)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual(tt,et){return baseIsEqual(tt,et)}var isEqual_1$1=isEqual,quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(tt,et){(function(rt,it){tt.exports=it()})(typeof self<"u"?self:commonjsGlobal,function(){return function(nt){var rt={};function it(st){if(rt[st])return rt[st].exports;var ot=rt[st]={i:st,l:!1,exports:{}};return nt[st].call(ot.exports,ot,ot.exports,it),ot.l=!0,ot.exports}return it.m=nt,it.c=rt,it.d=function(st,ot,at){it.o(st,ot)||Object.defineProperty(st,ot,{configurable:!1,enumerable:!0,get:at})},it.n=function(st){var ot=st&&st.__esModule?function(){return st.default}:function(){return st};return it.d(ot,"a",ot),ot},it.o=function(st,ot){return Object.prototype.hasOwnProperty.call(st,ot)},it.p="",it(it.s=109)}([function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(17),ot=it(18),at=it(19),lt=it(45),ut=it(46),ft=it(47),dt=it(48),ht=it(49),mt=it(12),xt=it(32),_t=it(33),At=it(31),gt=it(1),vt={Scope:gt.Scope,create:gt.create,find:gt.find,query:gt.query,register:gt.register,Container:st.default,Format:ot.default,Leaf:at.default,Embed:dt.default,Scroll:lt.default,Block:ft.default,Inline:ut.default,Text:ht.default,Attributor:{Attribute:mt.default,Class:xt.default,Style:_t.default,Store:At.default}};rt.default=vt},function(nt,rt,it){var st=this&&this.__extends||function(){var At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,vt){gt.__proto__=vt}||function(gt,vt){for(var Et in vt)vt.hasOwnProperty(Et)&&(gt[Et]=vt[Et])};return function(gt,vt){At(gt,vt);function Et(){this.constructor=gt}gt.prototype=vt===null?Object.create(vt):(Et.prototype=vt.prototype,new Et)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=function(At){st(gt,At);function gt(vt){var Et=this;return vt="[Parchment] "+vt,Et=At.call(this,vt)||this,Et.message=vt,Et.name=Et.constructor.name,Et}return gt}(Error);rt.ParchmentError=ot;var at={},lt={},ut={},ft={};rt.DATA_KEY="__blot";var dt;(function(At){At[At.TYPE=3]="TYPE",At[At.LEVEL=12]="LEVEL",At[At.ATTRIBUTE=13]="ATTRIBUTE",At[At.BLOT=14]="BLOT",At[At.INLINE=7]="INLINE",At[At.BLOCK=11]="BLOCK",At[At.BLOCK_BLOT=10]="BLOCK_BLOT",At[At.INLINE_BLOT=6]="INLINE_BLOT",At[At.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",At[At.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",At[At.ANY=15]="ANY"})(dt=rt.Scope||(rt.Scope={}));function ht(At,gt){var vt=xt(At);if(vt==null)throw new ot("Unable to create "+At+" blot");var Et=vt,yt=At instanceof Node||At.nodeType===Node.TEXT_NODE?At:Et.create(gt);return new Et(yt,gt)}rt.create=ht;function mt(At,gt){return gt===void 0&&(gt=!1),At==null?null:At[rt.DATA_KEY]!=null?At[rt.DATA_KEY].blot:gt?mt(At.parentNode,gt):null}rt.find=mt;function xt(At,gt){gt===void 0&&(gt=dt.ANY);var vt;if(typeof At=="string")vt=ft[At]||at[At];else if(At instanceof Text||At.nodeType===Node.TEXT_NODE)vt=ft.text;else if(typeof At=="number")At&dt.LEVEL&dt.BLOCK?vt=ft.block:At&dt.LEVEL&dt.INLINE&&(vt=ft.inline);else if(At instanceof HTMLElement){var Et=(At.getAttribute("class")||"").split(/\s+/);for(var yt in Et)if(vt=lt[Et[yt]],vt)break;vt=vt||ut[At.tagName]}return vt==null?null:gt&dt.LEVEL&vt.scope&&gt&dt.TYPE&vt.scope?vt:null}rt.query=xt;function _t(){for(var At=[],gt=0;gt<arguments.length;gt++)At[gt]=arguments[gt];if(At.length>1)return At.map(function(yt){return _t(yt)});var vt=At[0];if(typeof vt.blotName!="string"&&typeof vt.attrName!="string")throw new ot("Invalid definition");if(vt.blotName==="abstract")throw new ot("Cannot register abstract class");if(ft[vt.blotName||vt.attrName]=vt,typeof vt.keyName=="string")at[vt.keyName]=vt;else if(vt.className!=null&&(lt[vt.className]=vt),vt.tagName!=null){Array.isArray(vt.tagName)?vt.tagName=vt.tagName.map(function(yt){return yt.toUpperCase()}):vt.tagName=vt.tagName.toUpperCase();var Et=Array.isArray(vt.tagName)?vt.tagName:[vt.tagName];Et.forEach(function(yt){(ut[yt]==null||vt.className==null)&&(ut[yt]=vt)})}return vt}rt.register=_t},function(nt,rt,it){var st=it(51),ot=it(11),at=it(3),lt=it(20),ut=String.fromCharCode(0),ft=function(dt){Array.isArray(dt)?this.ops=dt:dt!=null&&Array.isArray(dt.ops)?this.ops=dt.ops:this.ops=[]};ft.prototype.insert=function(dt,ht){var mt={};return dt.length===0?this:(mt.insert=dt,ht!=null&&typeof ht=="object"&&Object.keys(ht).length>0&&(mt.attributes=ht),this.push(mt))},ft.prototype.delete=function(dt){return dt<=0?this:this.push({delete:dt})},ft.prototype.retain=function(dt,ht){if(dt<=0)return this;var mt={retain:dt};return ht!=null&&typeof ht=="object"&&Object.keys(ht).length>0&&(mt.attributes=ht),this.push(mt)},ft.prototype.push=function(dt){var ht=this.ops.length,mt=this.ops[ht-1];if(dt=at(!0,{},dt),typeof mt=="object"){if(typeof dt.delete=="number"&&typeof mt.delete=="number")return this.ops[ht-1]={delete:mt.delete+dt.delete},this;if(typeof mt.delete=="number"&&dt.insert!=null&&(ht-=1,mt=this.ops[ht-1],typeof mt!="object"))return this.ops.unshift(dt),this;if(ot(dt.attributes,mt.attributes)){if(typeof dt.insert=="string"&&typeof mt.insert=="string")return this.ops[ht-1]={insert:mt.insert+dt.insert},typeof dt.attributes=="object"&&(this.ops[ht-1].attributes=dt.attributes),this;if(typeof dt.retain=="number"&&typeof mt.retain=="number")return this.ops[ht-1]={retain:mt.retain+dt.retain},typeof dt.attributes=="object"&&(this.ops[ht-1].attributes=dt.attributes),this}}return ht===this.ops.length?this.ops.push(dt):this.ops.splice(ht,0,dt),this},ft.prototype.chop=function(){var dt=this.ops[this.ops.length-1];return dt&&dt.retain&&!dt.attributes&&this.ops.pop(),this},ft.prototype.filter=function(dt){return this.ops.filter(dt)},ft.prototype.forEach=function(dt){this.ops.forEach(dt)},ft.prototype.map=function(dt){return this.ops.map(dt)},ft.prototype.partition=function(dt){var ht=[],mt=[];return this.forEach(function(xt){var _t=dt(xt)?ht:mt;_t.push(xt)}),[ht,mt]},ft.prototype.reduce=function(dt,ht){return this.ops.reduce(dt,ht)},ft.prototype.changeLength=function(){return this.reduce(function(dt,ht){return ht.insert?dt+lt.length(ht):ht.delete?dt-ht.delete:dt},0)},ft.prototype.length=function(){return this.reduce(function(dt,ht){return dt+lt.length(ht)},0)},ft.prototype.slice=function(dt,ht){dt=dt||0,typeof ht!="number"&&(ht=1/0);for(var mt=[],xt=lt.iterator(this.ops),_t=0;_t<ht&&xt.hasNext();){var At;_t<dt?At=xt.next(dt-_t):(At=xt.next(ht-_t),mt.push(At)),_t+=lt.length(At)}return new ft(mt)},ft.prototype.compose=function(dt){var ht=lt.iterator(this.ops),mt=lt.iterator(dt.ops),xt=[],_t=mt.peek();if(_t!=null&&typeof _t.retain=="number"&&_t.attributes==null){for(var At=_t.retain;ht.peekType()==="insert"&&ht.peekLength()<=At;)At-=ht.peekLength(),xt.push(ht.next());_t.retain-At>0&&mt.next(_t.retain-At)}for(var gt=new ft(xt);ht.hasNext()||mt.hasNext();)if(mt.peekType()==="insert")gt.push(mt.next());else if(ht.peekType()==="delete")gt.push(ht.next());else{var vt=Math.min(ht.peekLength(),mt.peekLength()),Et=ht.next(vt),yt=mt.next(vt);if(typeof yt.retain=="number"){var wt={};typeof Et.retain=="number"?wt.retain=vt:wt.insert=Et.insert;var Ct=lt.attributes.compose(Et.attributes,yt.attributes,typeof Et.retain=="number");if(Ct&&(wt.attributes=Ct),gt.push(wt),!mt.hasNext()&&ot(gt.ops[gt.ops.length-1],wt)){var Rt=new ft(ht.rest());return gt.concat(Rt).chop()}}else typeof yt.delete=="number"&&typeof Et.retain=="number"&&gt.push(yt)}return gt.chop()},ft.prototype.concat=function(dt){var ht=new ft(this.ops.slice());return dt.ops.length>0&&(ht.push(dt.ops[0]),ht.ops=ht.ops.concat(dt.ops.slice(1))),ht},ft.prototype.diff=function(dt,ht){if(this.ops===dt.ops)return new ft;var mt=[this,dt].map(function(vt){return vt.map(function(Et){if(Et.insert!=null)return typeof Et.insert=="string"?Et.insert:ut;var yt=vt===dt?"on":"with";throw new Error("diff() called "+yt+" non-document")}).join("")}),xt=new ft,_t=st(mt[0],mt[1],ht),At=lt.iterator(this.ops),gt=lt.iterator(dt.ops);return _t.forEach(function(vt){for(var Et=vt[1].length;Et>0;){var yt=0;switch(vt[0]){case st.INSERT:yt=Math.min(gt.peekLength(),Et),xt.push(gt.next(yt));break;case st.DELETE:yt=Math.min(Et,At.peekLength()),At.next(yt),xt.delete(yt);break;case st.EQUAL:yt=Math.min(At.peekLength(),gt.peekLength(),Et);var wt=At.next(yt),Ct=gt.next(yt);ot(wt.insert,Ct.insert)?xt.retain(yt,lt.attributes.diff(wt.attributes,Ct.attributes)):xt.push(Ct).delete(yt);break}Et-=yt}}),xt.chop()},ft.prototype.eachLine=function(dt,ht){ht=ht||`
`;for(var mt=lt.iterator(this.ops),xt=new ft,_t=0;mt.hasNext();){if(mt.peekType()!=="insert")return;var At=mt.peek(),gt=lt.length(At)-mt.peekLength(),vt=typeof At.insert=="string"?At.insert.indexOf(ht,gt)-gt:-1;if(vt<0)xt.push(mt.next());else if(vt>0)xt.push(mt.next(vt));else{if(dt(xt,mt.next(1).attributes||{},_t)===!1)return;_t+=1,xt=new ft}}xt.length()>0&&dt(xt,{},_t)},ft.prototype.transform=function(dt,ht){if(ht=!!ht,typeof dt=="number")return this.transformPosition(dt,ht);for(var mt=lt.iterator(this.ops),xt=lt.iterator(dt.ops),_t=new ft;mt.hasNext()||xt.hasNext();)if(mt.peekType()==="insert"&&(ht||xt.peekType()!=="insert"))_t.retain(lt.length(mt.next()));else if(xt.peekType()==="insert")_t.push(xt.next());else{var At=Math.min(mt.peekLength(),xt.peekLength()),gt=mt.next(At),vt=xt.next(At);if(gt.delete)continue;vt.delete?_t.push(vt):_t.retain(At,lt.attributes.transform(gt.attributes,vt.attributes,ht))}return _t.chop()},ft.prototype.transformPosition=function(dt,ht){ht=!!ht;for(var mt=lt.iterator(this.ops),xt=0;mt.hasNext()&&xt<=dt;){var _t=mt.peekLength(),At=mt.peekType();if(mt.next(),At==="delete"){dt-=Math.min(_t,dt-xt);continue}else At==="insert"&&(xt<dt||!ht)&&(dt+=_t);xt+=_t}return dt},nt.exports=ft},function(nt,rt){var it=Object.prototype.hasOwnProperty,st=Object.prototype.toString,ot=Object.defineProperty,at=Object.getOwnPropertyDescriptor,lt=function(mt){return typeof Array.isArray=="function"?Array.isArray(mt):st.call(mt)==="[object Array]"},ut=function(mt){if(!mt||st.call(mt)!=="[object Object]")return!1;var xt=it.call(mt,"constructor"),_t=mt.constructor&&mt.constructor.prototype&&it.call(mt.constructor.prototype,"isPrototypeOf");if(mt.constructor&&!xt&&!_t)return!1;var At;for(At in mt);return typeof At>"u"||it.call(mt,At)},ft=function(mt,xt){ot&&xt.name==="__proto__"?ot(mt,xt.name,{enumerable:!0,configurable:!0,value:xt.newValue,writable:!0}):mt[xt.name]=xt.newValue},dt=function(mt,xt){if(xt==="__proto__")if(it.call(mt,xt)){if(at)return at(mt,xt).value}else return;return mt[xt]};nt.exports=function ht(){var mt,xt,_t,At,gt,vt,Et=arguments[0],yt=1,wt=arguments.length,Ct=!1;for(typeof Et=="boolean"&&(Ct=Et,Et=arguments[1]||{},yt=2),(Et==null||typeof Et!="object"&&typeof Et!="function")&&(Et={});yt<wt;++yt)if(mt=arguments[yt],mt!=null)for(xt in mt)_t=dt(Et,xt),At=dt(mt,xt),Et!==At&&(Ct&&At&&(ut(At)||(gt=lt(At)))?(gt?(gt=!1,vt=_t&&lt(_t)?_t:[]):vt=_t&&ut(_t)?_t:{},ft(Et,{name:xt,newValue:ht(Ct,vt,At)})):typeof At<"u"&&ft(Et,{name:xt,newValue:At}));return Et}},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.BlockEmbed=rt.bubbleFormats=void 0;var st=function(){function Bt(Nt,Xt){for(var nn=0;nn<Xt.length;nn++){var sn=Xt[nn];sn.enumerable=sn.enumerable||!1,sn.configurable=!0,"value"in sn&&(sn.writable=!0),Object.defineProperty(Nt,sn.key,sn)}}return function(Nt,Xt,nn){return Xt&&Bt(Nt.prototype,Xt),nn&&Bt(Nt,nn),Nt}}(),ot=function Bt(Nt,Xt,nn){Nt===null&&(Nt=Function.prototype);var sn=Object.getOwnPropertyDescriptor(Nt,Xt);if(sn===void 0){var rn=Object.getPrototypeOf(Nt);return rn===null?void 0:Bt(rn,Xt,nn)}else{if("value"in sn)return sn.value;var Jt=sn.get;return Jt===void 0?void 0:Jt.call(nn)}},at=it(3),lt=Et(at),ut=it(2),ft=Et(ut),dt=it(0),ht=Et(dt),mt=it(16),xt=Et(mt),_t=it(6),At=Et(_t),gt=it(7),vt=Et(gt);function Et(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function yt(Bt,Nt){if(!(Bt instanceof Nt))throw new TypeError("Cannot call a class as a function")}function wt(Bt,Nt){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt&&(typeof Nt=="object"||typeof Nt=="function")?Nt:Bt}function Ct(Bt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Nt);Bt.prototype=Object.create(Nt&&Nt.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Nt&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Nt):Bt.__proto__=Nt)}var Rt=1,It=function(Bt){Ct(Nt,Bt);function Nt(){return yt(this,Nt),wt(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).apply(this,arguments))}return st(Nt,[{key:"attach",value:function(){ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"attach",this).call(this),this.attributes=new ht.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new ft.default().insert(this.value(),(0,lt.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(nn,sn){var rn=ht.default.query(nn,ht.default.Scope.BLOCK_ATTRIBUTE);rn!=null&&this.attributes.attribute(rn,sn)}},{key:"formatAt",value:function(nn,sn,rn,Jt){this.format(rn,Jt)}},{key:"insertAt",value:function(nn,sn,rn){if(typeof sn=="string"&&sn.endsWith(`
`)){var Jt=ht.default.create($t.blotName);this.parent.insertBefore(Jt,nn===0?this:this.next),Jt.insertAt(0,sn.slice(0,-1))}else ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"insertAt",this).call(this,nn,sn,rn)}}]),Nt}(ht.default.Embed);It.scope=ht.default.Scope.BLOCK_BLOT;var $t=function(Bt){Ct(Nt,Bt);function Nt(Xt){yt(this,Nt);var nn=wt(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).call(this,Xt));return nn.cache={},nn}return st(Nt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(ht.default.Leaf).reduce(function(nn,sn){return sn.length()===0?nn:nn.insert(sn.value(),Ft(sn))},new ft.default).insert(`
`,Ft(this))),this.cache.delta}},{key:"deleteAt",value:function(nn,sn){ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"deleteAt",this).call(this,nn,sn),this.cache={}}},{key:"formatAt",value:function(nn,sn,rn,Jt){sn<=0||(ht.default.query(rn,ht.default.Scope.BLOCK)?nn+sn===this.length()&&this.format(rn,Jt):ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"formatAt",this).call(this,nn,Math.min(sn,this.length()-nn-1),rn,Jt),this.cache={})}},{key:"insertAt",value:function(nn,sn,rn){if(rn!=null)return ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"insertAt",this).call(this,nn,sn,rn);if(sn.length!==0){var Jt=sn.split(`
`),Ut=Jt.shift();Ut.length>0&&(nn<this.length()-1||this.children.tail==null?ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"insertAt",this).call(this,Math.min(nn,this.length()-1),Ut):this.children.tail.insertAt(this.children.tail.length(),Ut),this.cache={});var Kt=this;Jt.reduce(function(Qt,zt){return Kt=Kt.split(Qt,!0),Kt.insertAt(0,zt),zt.length},nn+Ut.length)}}},{key:"insertBefore",value:function(nn,sn){var rn=this.children.head;ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"insertBefore",this).call(this,nn,sn),rn instanceof xt.default&&rn.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"length",this).call(this)+Rt),this.cache.length}},{key:"moveChildren",value:function(nn,sn){ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"moveChildren",this).call(this,nn,sn),this.cache={}}},{key:"optimize",value:function(nn){ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"optimize",this).call(this,nn),this.cache={}}},{key:"path",value:function(nn){return ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"path",this).call(this,nn,!0)}},{key:"removeChild",value:function(nn){ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"removeChild",this).call(this,nn),this.cache={}}},{key:"split",value:function(nn){var sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(sn&&(nn===0||nn>=this.length()-Rt)){var rn=this.clone();return nn===0?(this.parent.insertBefore(rn,this),this):(this.parent.insertBefore(rn,this.next),rn)}else{var Jt=ot(Nt.prototype.__proto__||Object.getPrototypeOf(Nt.prototype),"split",this).call(this,nn,sn);return this.cache={},Jt}}}]),Nt}(ht.default.Block);$t.blotName="block",$t.tagName="P",$t.defaultChild="break",$t.allowedChildren=[At.default,ht.default.Embed,vt.default];function Ft(Bt){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Bt==null||(typeof Bt.formats=="function"&&(Nt=(0,lt.default)(Nt,Bt.formats())),Bt.parent==null||Bt.parent.blotName=="scroll"||Bt.parent.statics.scope!==Bt.statics.scope)?Nt:Ft(Bt.parent,Nt)}rt.bubbleFormats=Ft,rt.BlockEmbed=It,rt.default=$t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.overload=rt.expandConfig=void 0;var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kt){return typeof Kt}:function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},ot=function(){function Kt(Qt,zt){var Ht=[],en=!0,an=!1,on=void 0;try{for(var Wt=Qt[Symbol.iterator](),mn;!(en=(mn=Wt.next()).done)&&(Ht.push(mn.value),!(zt&&Ht.length===zt));en=!0);}catch(vn){an=!0,on=vn}finally{try{!en&&Wt.return&&Wt.return()}finally{if(an)throw on}}return Ht}return function(Qt,zt){if(Array.isArray(Qt))return Qt;if(Symbol.iterator in Object(Qt))return Kt(Qt,zt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(){function Kt(Qt,zt){for(var Ht=0;Ht<zt.length;Ht++){var en=zt[Ht];en.enumerable=en.enumerable||!1,en.configurable=!0,"value"in en&&(en.writable=!0),Object.defineProperty(Qt,en.key,en)}}return function(Qt,zt,Ht){return zt&&Kt(Qt.prototype,zt),Ht&&Kt(Qt,Ht),Qt}}();it(50);var lt=it(2),ut=Ft(lt),ft=it(14),dt=Ft(ft),ht=it(8),mt=Ft(ht),xt=it(9),_t=Ft(xt),At=it(0),gt=Ft(At),vt=it(15),Et=Ft(vt),yt=it(3),wt=Ft(yt),Ct=it(10),Rt=Ft(Ct),It=it(34),$t=Ft(It);function Ft(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}}function Bt(Kt,Qt,zt){return Qt in Kt?Object.defineProperty(Kt,Qt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):Kt[Qt]=zt,Kt}function Nt(Kt,Qt){if(!(Kt instanceof Qt))throw new TypeError("Cannot call a class as a function")}var Xt=(0,Rt.default)("quill"),nn=function(){at(Kt,null,[{key:"debug",value:function(zt){zt===!0&&(zt="log"),Rt.default.level(zt)}},{key:"find",value:function(zt){return zt.__quill||gt.default.find(zt)}},{key:"import",value:function(zt){return this.imports[zt]==null&&Xt.error("Cannot import "+zt+". Are you sure it was registered?"),this.imports[zt]}},{key:"register",value:function(zt,Ht){var en=this,an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof zt!="string"){var on=zt.attrName||zt.blotName;typeof on=="string"?this.register("formats/"+on,zt,Ht):Object.keys(zt).forEach(function(Wt){en.register(Wt,zt[Wt],Ht)})}else this.imports[zt]!=null&&!an&&Xt.warn("Overwriting "+zt+" with",Ht),this.imports[zt]=Ht,(zt.startsWith("blots/")||zt.startsWith("formats/"))&&Ht.blotName!=="abstract"?gt.default.register(Ht):zt.startsWith("modules")&&typeof Ht.register=="function"&&Ht.register()}}]);function Kt(Qt){var zt=this,Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Nt(this,Kt),this.options=sn(Qt,Ht),this.container=this.options.container,this.container==null)return Xt.error("Invalid Quill container",Qt);this.options.debug&&Kt.debug(this.options.debug);var en=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new mt.default,this.scroll=gt.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new dt.default(this.scroll),this.selection=new Et.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(mt.default.events.EDITOR_CHANGE,function(on){on===mt.default.events.TEXT_CHANGE&&zt.root.classList.toggle("ql-blank",zt.editor.isBlank())}),this.emitter.on(mt.default.events.SCROLL_UPDATE,function(on,Wt){var mn=zt.selection.lastRange,vn=mn&&mn.length===0?mn.index:void 0;rn.call(zt,function(){return zt.editor.update(null,Wt,vn)},on)});var an=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+en+"<p><br></p></div>");this.setContents(an),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return at(Kt,[{key:"addContainer",value:function(zt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof zt=="string"){var en=zt;zt=document.createElement("div"),zt.classList.add(en)}return this.container.insertBefore(zt,Ht),zt}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(zt,Ht,en){var an=this,on=Jt(zt,Ht,en),Wt=ot(on,4);return zt=Wt[0],Ht=Wt[1],en=Wt[3],rn.call(this,function(){return an.editor.deleteText(zt,Ht)},en,zt,-1*Ht)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(zt),this.container.classList.toggle("ql-disabled",!zt)}},{key:"focus",value:function(){var zt=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=zt,this.scrollIntoView()}},{key:"format",value:function(zt,Ht){var en=this,an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mt.default.sources.API;return rn.call(this,function(){var on=en.getSelection(!0),Wt=new ut.default;if(on==null)return Wt;if(gt.default.query(zt,gt.default.Scope.BLOCK))Wt=en.editor.formatLine(on.index,on.length,Bt({},zt,Ht));else{if(on.length===0)return en.selection.format(zt,Ht),Wt;Wt=en.editor.formatText(on.index,on.length,Bt({},zt,Ht))}return en.setSelection(on,mt.default.sources.SILENT),Wt},an)}},{key:"formatLine",value:function(zt,Ht,en,an,on){var Wt=this,mn=void 0,vn=Jt(zt,Ht,en,an,on),En=ot(vn,4);return zt=En[0],Ht=En[1],mn=En[2],on=En[3],rn.call(this,function(){return Wt.editor.formatLine(zt,Ht,mn)},on,zt,0)}},{key:"formatText",value:function(zt,Ht,en,an,on){var Wt=this,mn=void 0,vn=Jt(zt,Ht,en,an,on),En=ot(vn,4);return zt=En[0],Ht=En[1],mn=En[2],on=En[3],rn.call(this,function(){return Wt.editor.formatText(zt,Ht,mn)},on,zt,0)}},{key:"getBounds",value:function(zt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,en=void 0;typeof zt=="number"?en=this.selection.getBounds(zt,Ht):en=this.selection.getBounds(zt.index,zt.length);var an=this.container.getBoundingClientRect();return{bottom:en.bottom-an.top,height:en.height,left:en.left-an.left,right:en.right-an.left,top:en.top-an.top,width:en.width}}},{key:"getContents",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-zt,en=Jt(zt,Ht),an=ot(en,2);return zt=an[0],Ht=an[1],this.editor.getContents(zt,Ht)}},{key:"getFormat",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof zt=="number"?this.editor.getFormat(zt,Ht):this.editor.getFormat(zt.index,zt.length)}},{key:"getIndex",value:function(zt){return zt.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(zt){return this.scroll.leaf(zt)}},{key:"getLine",value:function(zt){return this.scroll.line(zt)}},{key:"getLines",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof zt!="number"?this.scroll.lines(zt.index,zt.length):this.scroll.lines(zt,Ht)}},{key:"getModule",value:function(zt){return this.theme.modules[zt]}},{key:"getSelection",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return zt&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-zt,en=Jt(zt,Ht),an=ot(en,2);return zt=an[0],Ht=an[1],this.editor.getText(zt,Ht)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(zt,Ht,en){var an=this,on=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Kt.sources.API;return rn.call(this,function(){return an.editor.insertEmbed(zt,Ht,en)},on,zt)}},{key:"insertText",value:function(zt,Ht,en,an,on){var Wt=this,mn=void 0,vn=Jt(zt,0,en,an,on),En=ot(vn,4);return zt=En[0],mn=En[2],on=En[3],rn.call(this,function(){return Wt.editor.insertText(zt,Ht,mn)},on,zt,Ht.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(zt,Ht,en){this.clipboard.dangerouslyPasteHTML(zt,Ht,en)}},{key:"removeFormat",value:function(zt,Ht,en){var an=this,on=Jt(zt,Ht,en),Wt=ot(on,4);return zt=Wt[0],Ht=Wt[1],en=Wt[3],rn.call(this,function(){return an.editor.removeFormat(zt,Ht)},en,zt)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(zt){var Ht=this,en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt.default.sources.API;return rn.call(this,function(){zt=new ut.default(zt);var an=Ht.getLength(),on=Ht.editor.deleteText(0,an),Wt=Ht.editor.applyDelta(zt),mn=Wt.ops[Wt.ops.length-1];mn!=null&&typeof mn.insert=="string"&&mn.insert[mn.insert.length-1]===`
`&&(Ht.editor.deleteText(Ht.getLength()-1,1),Wt.delete(1));var vn=on.compose(Wt);return vn},en)}},{key:"setSelection",value:function(zt,Ht,en){if(zt==null)this.selection.setRange(null,Ht||Kt.sources.API);else{var an=Jt(zt,Ht,en),on=ot(an,4);zt=on[0],Ht=on[1],en=on[3],this.selection.setRange(new vt.Range(zt,Ht),en),en!==mt.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(zt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt.default.sources.API,en=new ut.default().insert(zt);return this.setContents(en,Ht)}},{key:"update",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mt.default.sources.USER,Ht=this.scroll.update(zt);return this.selection.update(zt),Ht}},{key:"updateContents",value:function(zt){var Ht=this,en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt.default.sources.API;return rn.call(this,function(){return zt=new ut.default(zt),Ht.editor.applyDelta(zt,en)},en,!0)}}]),Kt}();nn.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},nn.events=mt.default.events,nn.sources=mt.default.sources,nn.version="1.3.7",nn.imports={delta:ut.default,parchment:gt.default,"core/module":_t.default,"core/theme":$t.default};function sn(Kt,Qt){if(Qt=(0,wt.default)(!0,{container:Kt,modules:{clipboard:!0,keyboard:!0,history:!0}},Qt),!Qt.theme||Qt.theme===nn.DEFAULTS.theme)Qt.theme=$t.default;else if(Qt.theme=nn.import("themes/"+Qt.theme),Qt.theme==null)throw new Error("Invalid theme "+Qt.theme+". Did you register it?");var zt=(0,wt.default)(!0,{},Qt.theme.DEFAULTS);[zt,Qt].forEach(function(an){an.modules=an.modules||{},Object.keys(an.modules).forEach(function(on){an.modules[on]===!0&&(an.modules[on]={})})});var Ht=Object.keys(zt.modules).concat(Object.keys(Qt.modules)),en=Ht.reduce(function(an,on){var Wt=nn.import("modules/"+on);return Wt==null?Xt.error("Cannot load "+on+" module. Are you sure you registered it?"):an[on]=Wt.DEFAULTS||{},an},{});return Qt.modules!=null&&Qt.modules.toolbar&&Qt.modules.toolbar.constructor!==Object&&(Qt.modules.toolbar={container:Qt.modules.toolbar}),Qt=(0,wt.default)(!0,{},nn.DEFAULTS,{modules:en},zt,Qt),["bounds","container","scrollingContainer"].forEach(function(an){typeof Qt[an]=="string"&&(Qt[an]=document.querySelector(Qt[an]))}),Qt.modules=Object.keys(Qt.modules).reduce(function(an,on){return Qt.modules[on]&&(an[on]=Qt.modules[on]),an},{}),Qt}function rn(Kt,Qt,zt,Ht){if(this.options.strict&&!this.isEnabled()&&Qt===mt.default.sources.USER)return new ut.default;var en=zt==null?null:this.getSelection(),an=this.editor.delta,on=Kt();if(en!=null&&(zt===!0&&(zt=en.index),Ht==null?en=Ut(en,on,Qt):Ht!==0&&(en=Ut(en,zt,Ht,Qt)),this.setSelection(en,mt.default.sources.SILENT)),on.length()>0){var Wt,mn=[mt.default.events.TEXT_CHANGE,on,an,Qt];if((Wt=this.emitter).emit.apply(Wt,[mt.default.events.EDITOR_CHANGE].concat(mn)),Qt!==mt.default.sources.SILENT){var vn;(vn=this.emitter).emit.apply(vn,mn)}}return on}function Jt(Kt,Qt,zt,Ht,en){var an={};return typeof Kt.index=="number"&&typeof Kt.length=="number"?typeof Qt!="number"?(en=Ht,Ht=zt,zt=Qt,Qt=Kt.length,Kt=Kt.index):(Qt=Kt.length,Kt=Kt.index):typeof Qt!="number"&&(en=Ht,Ht=zt,zt=Qt,Qt=0),(typeof zt>"u"?"undefined":st(zt))==="object"?(an=zt,en=Ht):typeof zt=="string"&&(Ht!=null?an[zt]=Ht:en=zt),en=en||mt.default.sources.API,[Kt,Qt,an,en]}function Ut(Kt,Qt,zt,Ht){if(Kt==null)return null;var en=void 0,an=void 0;if(Qt instanceof ut.default){var on=[Kt.index,Kt.index+Kt.length].map(function(En){return Qt.transformPosition(En,Ht!==mt.default.sources.USER)}),Wt=ot(on,2);en=Wt[0],an=Wt[1]}else{var mn=[Kt.index,Kt.index+Kt.length].map(function(En){return En<Qt||En===Qt&&Ht===mt.default.sources.USER?En:zt>=0?En+zt:Math.max(Qt,En+zt)}),vn=ot(mn,2);en=vn[0],an=vn[1]}return new vt.Range(en,an-en)}rt.expandConfig=sn,rt.overload=Jt,rt.default=nn},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function At(gt,vt){for(var Et=0;Et<vt.length;Et++){var yt=vt[Et];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,yt.key,yt)}}return function(gt,vt,Et){return vt&&At(gt.prototype,vt),Et&&At(gt,Et),gt}}(),ot=function At(gt,vt,Et){gt===null&&(gt=Function.prototype);var yt=Object.getOwnPropertyDescriptor(gt,vt);if(yt===void 0){var wt=Object.getPrototypeOf(gt);return wt===null?void 0:At(wt,vt,Et)}else{if("value"in yt)return yt.value;var Ct=yt.get;return Ct===void 0?void 0:Ct.call(Et)}},at=it(7),lt=dt(at),ut=it(0),ft=dt(ut);function dt(At){return At&&At.__esModule?At:{default:At}}function ht(At,gt){if(!(At instanceof gt))throw new TypeError("Cannot call a class as a function")}function mt(At,gt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:At}function xt(At,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);At.prototype=Object.create(gt&&gt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,gt):At.__proto__=gt)}var _t=function(At){xt(gt,At);function gt(){return ht(this,gt),mt(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return st(gt,[{key:"formatAt",value:function(Et,yt,wt,Ct){if(gt.compare(this.statics.blotName,wt)<0&&ft.default.query(wt,ft.default.Scope.BLOT)){var Rt=this.isolate(Et,yt);Ct&&Rt.wrap(wt,Ct)}else ot(gt.prototype.__proto__||Object.getPrototypeOf(gt.prototype),"formatAt",this).call(this,Et,yt,wt,Ct)}},{key:"optimize",value:function(Et){if(ot(gt.prototype.__proto__||Object.getPrototypeOf(gt.prototype),"optimize",this).call(this,Et),this.parent instanceof gt&&gt.compare(this.statics.blotName,this.parent.statics.blotName)>0){var yt=this.parent.isolate(this.offset(),this.length());this.moveChildren(yt),yt.wrap(this)}}}],[{key:"compare",value:function(Et,yt){var wt=gt.order.indexOf(Et),Ct=gt.order.indexOf(yt);return wt>=0||Ct>=0?wt-Ct:Et===yt?0:Et<yt?-1:1}}]),gt}(ft.default.Inline);_t.allowedChildren=[_t,ft.default.Embed,lt.default],_t.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],rt.default=_t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(0),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function lt(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")}function ut(ht,mt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ht}function ft(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,mt):ht.__proto__=mt)}var dt=function(ht){ft(mt,ht);function mt(){return lt(this,mt),ut(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(ot.default.Text);rt.default=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function vt(Et,yt){for(var wt=0;wt<yt.length;wt++){var Ct=yt[wt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(Et,Ct.key,Ct)}}return function(Et,yt,wt){return yt&&vt(Et.prototype,yt),wt&&vt(Et,wt),Et}}(),ot=function vt(Et,yt,wt){Et===null&&(Et=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(Et,yt);if(Ct===void 0){var Rt=Object.getPrototypeOf(Et);return Rt===null?void 0:vt(Rt,yt,wt)}else{if("value"in Ct)return Ct.value;var It=Ct.get;return It===void 0?void 0:It.call(wt)}},at=it(54),lt=dt(at),ut=it(10),ft=dt(ut);function dt(vt){return vt&&vt.__esModule?vt:{default:vt}}function ht(vt,Et){if(!(vt instanceof Et))throw new TypeError("Cannot call a class as a function")}function mt(vt,Et){if(!vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et&&(typeof Et=="object"||typeof Et=="function")?Et:vt}function xt(vt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Et);vt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}),Et&&(Object.setPrototypeOf?Object.setPrototypeOf(vt,Et):vt.__proto__=Et)}var _t=(0,ft.default)("quill:events"),At=["selectionchange","mousedown","mouseup","click"];At.forEach(function(vt){document.addEventListener(vt,function(){for(var Et=arguments.length,yt=Array(Et),wt=0;wt<Et;wt++)yt[wt]=arguments[wt];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(Ct){if(Ct.__quill&&Ct.__quill.emitter){var Rt;(Rt=Ct.__quill.emitter).handleDOM.apply(Rt,yt)}})})});var gt=function(vt){xt(Et,vt);function Et(){ht(this,Et);var yt=mt(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this));return yt.listeners={},yt.on("error",_t.error),yt}return st(Et,[{key:"emit",value:function(){_t.log.apply(_t,arguments),ot(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(wt){for(var Ct=arguments.length,Rt=Array(Ct>1?Ct-1:0),It=1;It<Ct;It++)Rt[It-1]=arguments[It];(this.listeners[wt.type]||[]).forEach(function($t){var Ft=$t.node,Bt=$t.handler;(wt.target===Ft||Ft.contains(wt.target))&&Bt.apply(void 0,[wt].concat(Rt))})}},{key:"listenDOM",value:function(wt,Ct,Rt){this.listeners[wt]||(this.listeners[wt]=[]),this.listeners[wt].push({node:Ct,handler:Rt})}}]),Et}(lt.default);gt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},gt.sources={API:"api",SILENT:"silent",USER:"user"},rt.default=gt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});function st(at,lt){if(!(at instanceof lt))throw new TypeError("Cannot call a class as a function")}var ot=function at(lt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};st(this,at),this.quill=lt,this.options=ut};ot.DEFAULTS={},rt.default=ot},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=["error","warn","log","info"],ot="warn";function at(ut){if(st.indexOf(ut)<=st.indexOf(ot)){for(var ft,dt=arguments.length,ht=Array(dt>1?dt-1:0),mt=1;mt<dt;mt++)ht[mt-1]=arguments[mt];(ft=console)[ut].apply(ft,ht)}}function lt(ut){return st.reduce(function(ft,dt){return ft[dt]=at.bind(console,dt,ut),ft},{})}at.level=lt.level=function(ut){ot=ut},rt.default=lt},function(nt,rt,it){var st=Array.prototype.slice,ot=it(52),at=it(53),lt=nt.exports=function(ht,mt,xt){return xt||(xt={}),ht===mt?!0:ht instanceof Date&&mt instanceof Date?ht.getTime()===mt.getTime():!ht||!mt||typeof ht!="object"&&typeof mt!="object"?xt.strict?ht===mt:ht==mt:dt(ht,mt,xt)};function ut(ht){return ht==null}function ft(ht){return!(!ht||typeof ht!="object"||typeof ht.length!="number"||typeof ht.copy!="function"||typeof ht.slice!="function"||ht.length>0&&typeof ht[0]!="number")}function dt(ht,mt,xt){var _t,At;if(ut(ht)||ut(mt)||ht.prototype!==mt.prototype)return!1;if(at(ht))return at(mt)?(ht=st.call(ht),mt=st.call(mt),lt(ht,mt,xt)):!1;if(ft(ht)){if(!ft(mt)||ht.length!==mt.length)return!1;for(_t=0;_t<ht.length;_t++)if(ht[_t]!==mt[_t])return!1;return!0}try{var gt=ot(ht),vt=ot(mt)}catch{return!1}if(gt.length!=vt.length)return!1;for(gt.sort(),vt.sort(),_t=gt.length-1;_t>=0;_t--)if(gt[_t]!=vt[_t])return!1;for(_t=gt.length-1;_t>=0;_t--)if(At=gt[_t],!lt(ht[At],mt[At],xt))return!1;return typeof ht==typeof mt}},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(1),ot=function(){function at(lt,ut,ft){ft===void 0&&(ft={}),this.attrName=lt,this.keyName=ut;var dt=st.Scope.TYPE&st.Scope.ATTRIBUTE;ft.scope!=null?this.scope=ft.scope&st.Scope.LEVEL|dt:this.scope=st.Scope.ATTRIBUTE,ft.whitelist!=null&&(this.whitelist=ft.whitelist)}return at.keys=function(lt){return[].map.call(lt.attributes,function(ut){return ut.name})},at.prototype.add=function(lt,ut){return this.canAdd(lt,ut)?(lt.setAttribute(this.keyName,ut),!0):!1},at.prototype.canAdd=function(lt,ut){var ft=st.query(lt,st.Scope.BLOT&(this.scope|st.Scope.TYPE));return ft==null?!1:this.whitelist==null?!0:typeof ut=="string"?this.whitelist.indexOf(ut.replace(/["']/g,""))>-1:this.whitelist.indexOf(ut)>-1},at.prototype.remove=function(lt){lt.removeAttribute(this.keyName)},at.prototype.value=function(lt){var ut=lt.getAttribute(this.keyName);return this.canAdd(lt,ut)&&ut?ut:""},at}();rt.default=ot},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.Code=void 0;var st=function(){function It($t,Ft){var Bt=[],Nt=!0,Xt=!1,nn=void 0;try{for(var sn=$t[Symbol.iterator](),rn;!(Nt=(rn=sn.next()).done)&&(Bt.push(rn.value),!(Ft&&Bt.length===Ft));Nt=!0);}catch(Jt){Xt=!0,nn=Jt}finally{try{!Nt&&sn.return&&sn.return()}finally{if(Xt)throw nn}}return Bt}return function($t,Ft){if(Array.isArray($t))return $t;if(Symbol.iterator in Object($t))return It($t,Ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function(){function It($t,Ft){for(var Bt=0;Bt<Ft.length;Bt++){var Nt=Ft[Bt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty($t,Nt.key,Nt)}}return function($t,Ft,Bt){return Ft&&It($t.prototype,Ft),Bt&&It($t,Bt),$t}}(),at=function It($t,Ft,Bt){$t===null&&($t=Function.prototype);var Nt=Object.getOwnPropertyDescriptor($t,Ft);if(Nt===void 0){var Xt=Object.getPrototypeOf($t);return Xt===null?void 0:It(Xt,Ft,Bt)}else{if("value"in Nt)return Nt.value;var nn=Nt.get;return nn===void 0?void 0:nn.call(Bt)}},lt=it(2),ut=vt(lt),ft=it(0),dt=vt(ft),ht=it(4),mt=vt(ht),xt=it(6),_t=vt(xt),At=it(7),gt=vt(At);function vt(It){return It&&It.__esModule?It:{default:It}}function Et(It,$t){if(!(It instanceof $t))throw new TypeError("Cannot call a class as a function")}function yt(It,$t){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:It}function wt(It,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);It.prototype=Object.create($t&&$t.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(It,$t):It.__proto__=$t)}var Ct=function(It){wt($t,It);function $t(){return Et(this,$t),yt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(_t.default);Ct.blotName="code",Ct.tagName="CODE";var Rt=function(It){wt($t,It);function $t(){return Et(this,$t),yt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return ot($t,[{key:"delta",value:function(){var Bt=this,Nt=this.domNode.textContent;return Nt.endsWith(`
`)&&(Nt=Nt.slice(0,-1)),Nt.split(`
`).reduce(function(Xt,nn){return Xt.insert(nn).insert(`
`,Bt.formats())},new ut.default)}},{key:"format",value:function(Bt,Nt){if(!(Bt===this.statics.blotName&&Nt)){var Xt=this.descendant(gt.default,this.length()-1),nn=st(Xt,1),sn=nn[0];sn!=null&&sn.deleteAt(sn.length()-1,1),at($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"format",this).call(this,Bt,Nt)}}},{key:"formatAt",value:function(Bt,Nt,Xt,nn){if(Nt!==0&&!(dt.default.query(Xt,dt.default.Scope.BLOCK)==null||Xt===this.statics.blotName&&nn===this.statics.formats(this.domNode))){var sn=this.newlineIndex(Bt);if(!(sn<0||sn>=Bt+Nt)){var rn=this.newlineIndex(Bt,!0)+1,Jt=sn-rn+1,Ut=this.isolate(rn,Jt),Kt=Ut.next;Ut.format(Xt,nn),Kt instanceof $t&&Kt.formatAt(0,Bt-rn+Nt-Jt,Xt,nn)}}}},{key:"insertAt",value:function(Bt,Nt,Xt){if(Xt==null){var nn=this.descendant(gt.default,Bt),sn=st(nn,2),rn=sn[0],Jt=sn[1];rn.insertAt(Jt,Nt)}}},{key:"length",value:function(){var Bt=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?Bt:Bt+1}},{key:"newlineIndex",value:function(Bt){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Nt)return this.domNode.textContent.slice(0,Bt).lastIndexOf(`
`);var Xt=this.domNode.textContent.slice(Bt).indexOf(`
`);return Xt>-1?Bt+Xt:-1}},{key:"optimize",value:function(Bt){this.domNode.textContent.endsWith(`
`)||this.appendChild(dt.default.create("text",`
`)),at($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"optimize",this).call(this,Bt);var Nt=this.next;Nt!=null&&Nt.prev===this&&Nt.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===Nt.statics.formats(Nt.domNode)&&(Nt.optimize(Bt),Nt.moveChildren(this),Nt.remove())}},{key:"replace",value:function(Bt){at($t.prototype.__proto__||Object.getPrototypeOf($t.prototype),"replace",this).call(this,Bt),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(Nt){var Xt=dt.default.find(Nt);Xt==null?Nt.parentNode.removeChild(Nt):Xt instanceof dt.default.Embed?Xt.remove():Xt.unwrap()})}}],[{key:"create",value:function(Bt){var Nt=at($t.__proto__||Object.getPrototypeOf($t),"create",this).call(this,Bt);return Nt.setAttribute("spellcheck",!1),Nt}},{key:"formats",value:function(){return!0}}]),$t}(mt.default);Rt.blotName="code-block",Rt.tagName="PRE",Rt.TAB="  ",rt.Code=Ct,rt.default=Rt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kt){return typeof Kt}:function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},ot=function(){function Kt(Qt,zt){var Ht=[],en=!0,an=!1,on=void 0;try{for(var Wt=Qt[Symbol.iterator](),mn;!(en=(mn=Wt.next()).done)&&(Ht.push(mn.value),!(zt&&Ht.length===zt));en=!0);}catch(vn){an=!0,on=vn}finally{try{!en&&Wt.return&&Wt.return()}finally{if(an)throw on}}return Ht}return function(Qt,zt){if(Array.isArray(Qt))return Qt;if(Symbol.iterator in Object(Qt))return Kt(Qt,zt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(){function Kt(Qt,zt){for(var Ht=0;Ht<zt.length;Ht++){var en=zt[Ht];en.enumerable=en.enumerable||!1,en.configurable=!0,"value"in en&&(en.writable=!0),Object.defineProperty(Qt,en.key,en)}}return function(Qt,zt,Ht){return zt&&Kt(Qt.prototype,zt),Ht&&Kt(Qt,Ht),Qt}}(),lt=it(2),ut=Nt(lt),ft=it(20),dt=Nt(ft),ht=it(0),mt=Nt(ht),xt=it(13),_t=Nt(xt),At=it(24),gt=Nt(At),vt=it(4),Et=Nt(vt),yt=it(16),wt=Nt(yt),Ct=it(21),Rt=Nt(Ct),It=it(11),$t=Nt(It),Ft=it(3),Bt=Nt(Ft);function Nt(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}}function Xt(Kt,Qt,zt){return Qt in Kt?Object.defineProperty(Kt,Qt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):Kt[Qt]=zt,Kt}function nn(Kt,Qt){if(!(Kt instanceof Qt))throw new TypeError("Cannot call a class as a function")}var sn=/^[ -~]*$/,rn=function(){function Kt(Qt){nn(this,Kt),this.scroll=Qt,this.delta=this.getDelta()}return at(Kt,[{key:"applyDelta",value:function(zt){var Ht=this,en=!1;this.scroll.update();var an=this.scroll.length();return this.scroll.batchStart(),zt=Ut(zt),zt.reduce(function(on,Wt){var mn=Wt.retain||Wt.delete||Wt.insert.length||1,vn=Wt.attributes||{};if(Wt.insert!=null){if(typeof Wt.insert=="string"){var En=Wt.insert;En.endsWith(`
`)&&en&&(en=!1,En=En.slice(0,-1)),on>=an&&!En.endsWith(`
`)&&(en=!0),Ht.scroll.insertAt(on,En);var Cn=Ht.scroll.line(on),$n=ot(Cn,2),Fn=$n[0],Ln=$n[1],Mn=(0,Bt.default)({},(0,vt.bubbleFormats)(Fn));if(Fn instanceof Et.default){var Gn=Fn.descendant(mt.default.Leaf,Ln),er=ot(Gn,1),un=er[0];Mn=(0,Bt.default)(Mn,(0,vt.bubbleFormats)(un))}vn=dt.default.attributes.diff(Mn,vn)||{}}else if(st(Wt.insert)==="object"){var dn=Object.keys(Wt.insert)[0];if(dn==null)return on;Ht.scroll.insertAt(on,dn,Wt.insert[dn])}an+=mn}return Object.keys(vn).forEach(function(yn){Ht.scroll.formatAt(on,mn,yn,vn[yn])}),on+mn},0),zt.reduce(function(on,Wt){return typeof Wt.delete=="number"?(Ht.scroll.deleteAt(on,Wt.delete),on):on+(Wt.retain||Wt.insert.length||1)},0),this.scroll.batchEnd(),this.update(zt)}},{key:"deleteText",value:function(zt,Ht){return this.scroll.deleteAt(zt,Ht),this.update(new ut.default().retain(zt).delete(Ht))}},{key:"formatLine",value:function(zt,Ht){var en=this,an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(an).forEach(function(on){if(!(en.scroll.whitelist!=null&&!en.scroll.whitelist[on])){var Wt=en.scroll.lines(zt,Math.max(Ht,1)),mn=Ht;Wt.forEach(function(vn){var En=vn.length();if(!(vn instanceof _t.default))vn.format(on,an[on]);else{var Cn=zt-vn.offset(en.scroll),$n=vn.newlineIndex(Cn+mn)-Cn+1;vn.formatAt(Cn,$n,on,an[on])}mn-=En})}}),this.scroll.optimize(),this.update(new ut.default().retain(zt).retain(Ht,(0,Rt.default)(an)))}},{key:"formatText",value:function(zt,Ht){var en=this,an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(an).forEach(function(on){en.scroll.formatAt(zt,Ht,on,an[on])}),this.update(new ut.default().retain(zt).retain(Ht,(0,Rt.default)(an)))}},{key:"getContents",value:function(zt,Ht){return this.delta.slice(zt,zt+Ht)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(zt,Ht){return zt.concat(Ht.delta())},new ut.default)}},{key:"getFormat",value:function(zt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,en=[],an=[];Ht===0?this.scroll.path(zt).forEach(function(Wt){var mn=ot(Wt,1),vn=mn[0];vn instanceof Et.default?en.push(vn):vn instanceof mt.default.Leaf&&an.push(vn)}):(en=this.scroll.lines(zt,Ht),an=this.scroll.descendants(mt.default.Leaf,zt,Ht));var on=[en,an].map(function(Wt){if(Wt.length===0)return{};for(var mn=(0,vt.bubbleFormats)(Wt.shift());Object.keys(mn).length>0;){var vn=Wt.shift();if(vn==null)return mn;mn=Jt((0,vt.bubbleFormats)(vn),mn)}return mn});return Bt.default.apply(Bt.default,on)}},{key:"getText",value:function(zt,Ht){return this.getContents(zt,Ht).filter(function(en){return typeof en.insert=="string"}).map(function(en){return en.insert}).join("")}},{key:"insertEmbed",value:function(zt,Ht,en){return this.scroll.insertAt(zt,Ht,en),this.update(new ut.default().retain(zt).insert(Xt({},Ht,en)))}},{key:"insertText",value:function(zt,Ht){var en=this,an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ht=Ht.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(zt,Ht),Object.keys(an).forEach(function(on){en.scroll.formatAt(zt,Ht.length,on,an[on])}),this.update(new ut.default().retain(zt).insert(Ht,(0,Rt.default)(an)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var zt=this.scroll.children.head;return zt.statics.blotName!==Et.default.blotName||zt.children.length>1?!1:zt.children.head instanceof wt.default}},{key:"removeFormat",value:function(zt,Ht){var en=this.getText(zt,Ht),an=this.scroll.line(zt+Ht),on=ot(an,2),Wt=on[0],mn=on[1],vn=0,En=new ut.default;Wt!=null&&(Wt instanceof _t.default?vn=Wt.newlineIndex(mn)-mn+1:vn=Wt.length()-mn,En=Wt.delta().slice(mn,mn+vn-1).insert(`
`));var Cn=this.getContents(zt,Ht+vn),$n=Cn.diff(new ut.default().insert(en).concat(En)),Fn=new ut.default().retain(zt).concat($n);return this.applyDelta(Fn)}},{key:"update",value:function(zt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],en=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,an=this.delta;if(Ht.length===1&&Ht[0].type==="characterData"&&Ht[0].target.data.match(sn)&&mt.default.find(Ht[0].target)){var on=mt.default.find(Ht[0].target),Wt=(0,vt.bubbleFormats)(on),mn=on.offset(this.scroll),vn=Ht[0].oldValue.replace(gt.default.CONTENTS,""),En=new ut.default().insert(vn),Cn=new ut.default().insert(on.value()),$n=new ut.default().retain(mn).concat(En.diff(Cn,en));zt=$n.reduce(function(Fn,Ln){return Ln.insert?Fn.insert(Ln.insert,Wt):Fn.push(Ln)},new ut.default),this.delta=an.compose(zt)}else this.delta=this.getDelta(),(!zt||!(0,$t.default)(an.compose(zt),this.delta))&&(zt=an.diff(this.delta,en));return zt}}]),Kt}();function Jt(Kt,Qt){return Object.keys(Qt).reduce(function(zt,Ht){return Kt[Ht]==null||(Qt[Ht]===Kt[Ht]?zt[Ht]=Qt[Ht]:Array.isArray(Qt[Ht])?Qt[Ht].indexOf(Kt[Ht])<0&&(zt[Ht]=Qt[Ht].concat([Kt[Ht]])):zt[Ht]=[Qt[Ht],Kt[Ht]]),zt},{})}function Ut(Kt){return Kt.reduce(function(Qt,zt){if(zt.insert===1){var Ht=(0,Rt.default)(zt.attributes);return delete Ht.image,Qt.insert({image:zt.attributes.image},Ht)}if(zt.attributes!=null&&(zt.attributes.list===!0||zt.attributes.bullet===!0)&&(zt=(0,Rt.default)(zt),zt.attributes.list?zt.attributes.list="ordered":(zt.attributes.list="bullet",delete zt.attributes.bullet)),typeof zt.insert=="string"){var en=zt.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Qt.insert(en,zt.attributes)}return Qt.push(zt)},new ut.default)}rt.default=rn},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.Range=void 0;var st=function(){function It($t,Ft){var Bt=[],Nt=!0,Xt=!1,nn=void 0;try{for(var sn=$t[Symbol.iterator](),rn;!(Nt=(rn=sn.next()).done)&&(Bt.push(rn.value),!(Ft&&Bt.length===Ft));Nt=!0);}catch(Jt){Xt=!0,nn=Jt}finally{try{!Nt&&sn.return&&sn.return()}finally{if(Xt)throw nn}}return Bt}return function($t,Ft){if(Array.isArray($t))return $t;if(Symbol.iterator in Object($t))return It($t,Ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function(){function It($t,Ft){for(var Bt=0;Bt<Ft.length;Bt++){var Nt=Ft[Bt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty($t,Nt.key,Nt)}}return function($t,Ft,Bt){return Ft&&It($t.prototype,Ft),Bt&&It($t,Bt),$t}}(),at=it(0),lt=gt(at),ut=it(21),ft=gt(ut),dt=it(11),ht=gt(dt),mt=it(8),xt=gt(mt),_t=it(10),At=gt(_t);function gt(It){return It&&It.__esModule?It:{default:It}}function vt(It){if(Array.isArray(It)){for(var $t=0,Ft=Array(It.length);$t<It.length;$t++)Ft[$t]=It[$t];return Ft}else return Array.from(It)}function Et(It,$t){if(!(It instanceof $t))throw new TypeError("Cannot call a class as a function")}var yt=(0,At.default)("quill:selection"),wt=function It($t){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Et(this,It),this.index=$t,this.length=Ft},Ct=function(){function It($t,Ft){var Bt=this;Et(this,It),this.emitter=Ft,this.scroll=$t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=lt.default.create("cursor",this),this.lastRange=this.savedRange=new wt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Bt.mouseDown||setTimeout(Bt.update.bind(Bt,xt.default.sources.USER),1)}),this.emitter.on(xt.default.events.EDITOR_CHANGE,function(Nt,Xt){Nt===xt.default.events.TEXT_CHANGE&&Xt.length()>0&&Bt.update(xt.default.sources.SILENT)}),this.emitter.on(xt.default.events.SCROLL_BEFORE_UPDATE,function(){if(Bt.hasFocus()){var Nt=Bt.getNativeRange();Nt!=null&&Nt.start.node!==Bt.cursor.textNode&&Bt.emitter.once(xt.default.events.SCROLL_UPDATE,function(){try{Bt.setNativeRange(Nt.start.node,Nt.start.offset,Nt.end.node,Nt.end.offset)}catch{}})}}),this.emitter.on(xt.default.events.SCROLL_OPTIMIZE,function(Nt,Xt){if(Xt.range){var nn=Xt.range,sn=nn.startNode,rn=nn.startOffset,Jt=nn.endNode,Ut=nn.endOffset;Bt.setNativeRange(sn,rn,Jt,Ut)}}),this.update(xt.default.sources.SILENT)}return ot(It,[{key:"handleComposition",value:function(){var Ft=this;this.root.addEventListener("compositionstart",function(){Ft.composing=!0}),this.root.addEventListener("compositionend",function(){if(Ft.composing=!1,Ft.cursor.parent){var Bt=Ft.cursor.restore();if(!Bt)return;setTimeout(function(){Ft.setNativeRange(Bt.startNode,Bt.startOffset,Bt.endNode,Bt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var Ft=this;this.emitter.listenDOM("mousedown",document.body,function(){Ft.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){Ft.mouseDown=!1,Ft.update(xt.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(Ft,Bt){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[Ft])){this.scroll.update();var Nt=this.getNativeRange();if(!(Nt==null||!Nt.native.collapsed||lt.default.query(Ft,lt.default.Scope.BLOCK))){if(Nt.start.node!==this.cursor.textNode){var Xt=lt.default.find(Nt.start.node,!1);if(Xt==null)return;if(Xt instanceof lt.default.Leaf){var nn=Xt.split(Nt.start.offset);Xt.parent.insertBefore(this.cursor,nn)}else Xt.insertBefore(this.cursor,Nt.start.node);this.cursor.attach()}this.cursor.format(Ft,Bt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(Ft){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Nt=this.scroll.length();Ft=Math.min(Ft,Nt-1),Bt=Math.min(Ft+Bt,Nt-1)-Ft;var Xt=void 0,nn=this.scroll.leaf(Ft),sn=st(nn,2),rn=sn[0],Jt=sn[1];if(rn==null)return null;var Ut=rn.position(Jt,!0),Kt=st(Ut,2);Xt=Kt[0],Jt=Kt[1];var Qt=document.createRange();if(Bt>0){Qt.setStart(Xt,Jt);var zt=this.scroll.leaf(Ft+Bt),Ht=st(zt,2);if(rn=Ht[0],Jt=Ht[1],rn==null)return null;var en=rn.position(Jt,!0),an=st(en,2);return Xt=an[0],Jt=an[1],Qt.setEnd(Xt,Jt),Qt.getBoundingClientRect()}else{var on="left",Wt=void 0;return Xt instanceof Text?(Jt<Xt.data.length?(Qt.setStart(Xt,Jt),Qt.setEnd(Xt,Jt+1)):(Qt.setStart(Xt,Jt-1),Qt.setEnd(Xt,Jt),on="right"),Wt=Qt.getBoundingClientRect()):(Wt=rn.domNode.getBoundingClientRect(),Jt>0&&(on="right")),{bottom:Wt.top+Wt.height,height:Wt.height,left:Wt[on],right:Wt[on],top:Wt.top,width:0}}}},{key:"getNativeRange",value:function(){var Ft=document.getSelection();if(Ft==null||Ft.rangeCount<=0)return null;var Bt=Ft.getRangeAt(0);if(Bt==null)return null;var Nt=this.normalizeNative(Bt);return yt.info("getNativeRange",Nt),Nt}},{key:"getRange",value:function(){var Ft=this.getNativeRange();if(Ft==null)return[null,null];var Bt=this.normalizedToRange(Ft);return[Bt,Ft]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(Ft){var Bt=this,Nt=[[Ft.start.node,Ft.start.offset]];Ft.native.collapsed||Nt.push([Ft.end.node,Ft.end.offset]);var Xt=Nt.map(function(rn){var Jt=st(rn,2),Ut=Jt[0],Kt=Jt[1],Qt=lt.default.find(Ut,!0),zt=Qt.offset(Bt.scroll);return Kt===0?zt:Qt instanceof lt.default.Container?zt+Qt.length():zt+Qt.index(Ut,Kt)}),nn=Math.min(Math.max.apply(Math,vt(Xt)),this.scroll.length()-1),sn=Math.min.apply(Math,[nn].concat(vt(Xt)));return new wt(sn,nn-sn)}},{key:"normalizeNative",value:function(Ft){if(!Rt(this.root,Ft.startContainer)||!Ft.collapsed&&!Rt(this.root,Ft.endContainer))return null;var Bt={start:{node:Ft.startContainer,offset:Ft.startOffset},end:{node:Ft.endContainer,offset:Ft.endOffset},native:Ft};return[Bt.start,Bt.end].forEach(function(Nt){for(var Xt=Nt.node,nn=Nt.offset;!(Xt instanceof Text)&&Xt.childNodes.length>0;)if(Xt.childNodes.length>nn)Xt=Xt.childNodes[nn],nn=0;else if(Xt.childNodes.length===nn)Xt=Xt.lastChild,nn=Xt instanceof Text?Xt.data.length:Xt.childNodes.length+1;else break;Nt.node=Xt,Nt.offset=nn}),Bt}},{key:"rangeToNative",value:function(Ft){var Bt=this,Nt=Ft.collapsed?[Ft.index]:[Ft.index,Ft.index+Ft.length],Xt=[],nn=this.scroll.length();return Nt.forEach(function(sn,rn){sn=Math.min(nn-1,sn);var Jt=void 0,Ut=Bt.scroll.leaf(sn),Kt=st(Ut,2),Qt=Kt[0],zt=Kt[1],Ht=Qt.position(zt,rn!==0),en=st(Ht,2);Jt=en[0],zt=en[1],Xt.push(Jt,zt)}),Xt.length<2&&(Xt=Xt.concat(Xt)),Xt}},{key:"scrollIntoView",value:function(Ft){var Bt=this.lastRange;if(Bt!=null){var Nt=this.getBounds(Bt.index,Bt.length);if(Nt!=null){var Xt=this.scroll.length()-1,nn=this.scroll.line(Math.min(Bt.index,Xt)),sn=st(nn,1),rn=sn[0],Jt=rn;if(Bt.length>0){var Ut=this.scroll.line(Math.min(Bt.index+Bt.length,Xt)),Kt=st(Ut,1);Jt=Kt[0]}if(!(rn==null||Jt==null)){var Qt=Ft.getBoundingClientRect();Nt.top<Qt.top?Ft.scrollTop-=Qt.top-Nt.top:Nt.bottom>Qt.bottom&&(Ft.scrollTop+=Nt.bottom-Qt.bottom)}}}}},{key:"setNativeRange",value:function(Ft,Bt){var Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft,Xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bt,nn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(yt.info("setNativeRange",Ft,Bt,Nt,Xt),!(Ft!=null&&(this.root.parentNode==null||Ft.parentNode==null||Nt.parentNode==null))){var sn=document.getSelection();if(sn!=null)if(Ft!=null){this.hasFocus()||this.root.focus();var rn=(this.getNativeRange()||{}).native;if(rn==null||nn||Ft!==rn.startContainer||Bt!==rn.startOffset||Nt!==rn.endContainer||Xt!==rn.endOffset){Ft.tagName=="BR"&&(Bt=[].indexOf.call(Ft.parentNode.childNodes,Ft),Ft=Ft.parentNode),Nt.tagName=="BR"&&(Xt=[].indexOf.call(Nt.parentNode.childNodes,Nt),Nt=Nt.parentNode);var Jt=document.createRange();Jt.setStart(Ft,Bt),Jt.setEnd(Nt,Xt),sn.removeAllRanges(),sn.addRange(Jt)}}else sn.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(Ft){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt.default.sources.API;if(typeof Bt=="string"&&(Nt=Bt,Bt=!1),yt.info("setRange",Ft),Ft!=null){var Xt=this.rangeToNative(Ft);this.setNativeRange.apply(this,vt(Xt).concat([Bt]))}else this.setNativeRange(null);this.update(Nt)}},{key:"update",value:function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xt.default.sources.USER,Bt=this.lastRange,Nt=this.getRange(),Xt=st(Nt,2),nn=Xt[0],sn=Xt[1];if(this.lastRange=nn,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,ht.default)(Bt,this.lastRange)){var rn;!this.composing&&sn!=null&&sn.native.collapsed&&sn.start.node!==this.cursor.textNode&&this.cursor.restore();var Jt=[xt.default.events.SELECTION_CHANGE,(0,ft.default)(this.lastRange),(0,ft.default)(Bt),Ft];if((rn=this.emitter).emit.apply(rn,[xt.default.events.EDITOR_CHANGE].concat(Jt)),Ft!==xt.default.sources.SILENT){var Ut;(Ut=this.emitter).emit.apply(Ut,Jt)}}}}]),It}();function Rt(It,$t){try{$t.parentNode}catch{return!1}return $t instanceof Text&&($t=$t.parentNode),It.contains($t)}rt.Range=wt,rt.default=Ct},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function xt(_t,At){for(var gt=0;gt<At.length;gt++){var vt=At[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_t,vt.key,vt)}}return function(_t,At,gt){return At&&xt(_t.prototype,At),gt&&xt(_t,gt),_t}}(),ot=function xt(_t,At,gt){_t===null&&(_t=Function.prototype);var vt=Object.getOwnPropertyDescriptor(_t,At);if(vt===void 0){var Et=Object.getPrototypeOf(_t);return Et===null?void 0:xt(Et,At,gt)}else{if("value"in vt)return vt.value;var yt=vt.get;return yt===void 0?void 0:yt.call(gt)}},at=it(0),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(){return ft(this,_t),dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return st(_t,[{key:"insertInto",value:function(gt,vt){gt.children.length===0?ot(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"insertInto",this).call(this,gt,vt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_t}(lt.default.Embed);mt.blotName="break",mt.tagName="BR",rt.default=mt},function(nt,rt,it){var st=this&&this.__extends||function(){var dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,mt){ht.__proto__=mt}||function(ht,mt){for(var xt in mt)mt.hasOwnProperty(xt)&&(ht[xt]=mt[xt])};return function(ht,mt){dt(ht,mt);function xt(){this.constructor=ht}ht.prototype=mt===null?Object.create(mt):(xt.prototype=mt.prototype,new xt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(44),at=it(30),lt=it(1),ut=function(dt){st(ht,dt);function ht(mt){var xt=dt.call(this,mt)||this;return xt.build(),xt}return ht.prototype.appendChild=function(mt){this.insertBefore(mt)},ht.prototype.attach=function(){dt.prototype.attach.call(this),this.children.forEach(function(mt){mt.attach()})},ht.prototype.build=function(){var mt=this;this.children=new ot.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(xt){try{var _t=ft(xt);mt.insertBefore(_t,mt.children.head||void 0)}catch(At){if(At instanceof lt.ParchmentError)return;throw At}})},ht.prototype.deleteAt=function(mt,xt){if(mt===0&&xt===this.length())return this.remove();this.children.forEachAt(mt,xt,function(_t,At,gt){_t.deleteAt(At,gt)})},ht.prototype.descendant=function(mt,xt){var _t=this.children.find(xt),At=_t[0],gt=_t[1];return mt.blotName==null&&mt(At)||mt.blotName!=null&&At instanceof mt?[At,gt]:At instanceof ht?At.descendant(mt,gt):[null,-1]},ht.prototype.descendants=function(mt,xt,_t){xt===void 0&&(xt=0),_t===void 0&&(_t=Number.MAX_VALUE);var At=[],gt=_t;return this.children.forEachAt(xt,_t,function(vt,Et,yt){(mt.blotName==null&&mt(vt)||mt.blotName!=null&&vt instanceof mt)&&At.push(vt),vt instanceof ht&&(At=At.concat(vt.descendants(mt,Et,gt))),gt-=yt}),At},ht.prototype.detach=function(){this.children.forEach(function(mt){mt.detach()}),dt.prototype.detach.call(this)},ht.prototype.formatAt=function(mt,xt,_t,At){this.children.forEachAt(mt,xt,function(gt,vt,Et){gt.formatAt(vt,Et,_t,At)})},ht.prototype.insertAt=function(mt,xt,_t){var At=this.children.find(mt),gt=At[0],vt=At[1];if(gt)gt.insertAt(vt,xt,_t);else{var Et=_t==null?lt.create("text",xt):lt.create(xt,_t);this.appendChild(Et)}},ht.prototype.insertBefore=function(mt,xt){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_t){return mt instanceof _t}))throw new lt.ParchmentError("Cannot insert "+mt.statics.blotName+" into "+this.statics.blotName);mt.insertInto(this,xt)},ht.prototype.length=function(){return this.children.reduce(function(mt,xt){return mt+xt.length()},0)},ht.prototype.moveChildren=function(mt,xt){this.children.forEach(function(_t){mt.insertBefore(_t,xt)})},ht.prototype.optimize=function(mt){if(dt.prototype.optimize.call(this,mt),this.children.length===0)if(this.statics.defaultChild!=null){var xt=lt.create(this.statics.defaultChild);this.appendChild(xt),xt.optimize(mt)}else this.remove()},ht.prototype.path=function(mt,xt){xt===void 0&&(xt=!1);var _t=this.children.find(mt,xt),At=_t[0],gt=_t[1],vt=[[this,mt]];return At instanceof ht?vt.concat(At.path(gt,xt)):(At!=null&&vt.push([At,gt]),vt)},ht.prototype.removeChild=function(mt){this.children.remove(mt)},ht.prototype.replace=function(mt){mt instanceof ht&&mt.moveChildren(this),dt.prototype.replace.call(this,mt)},ht.prototype.split=function(mt,xt){if(xt===void 0&&(xt=!1),!xt){if(mt===0)return this;if(mt===this.length())return this.next}var _t=this.clone();return this.parent.insertBefore(_t,this.next),this.children.forEachAt(mt,this.length(),function(At,gt,vt){At=At.split(gt,xt),_t.appendChild(At)}),_t},ht.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},ht.prototype.update=function(mt,xt){var _t=this,At=[],gt=[];mt.forEach(function(vt){vt.target===_t.domNode&&vt.type==="childList"&&(At.push.apply(At,vt.addedNodes),gt.push.apply(gt,vt.removedNodes))}),gt.forEach(function(vt){if(!(vt.parentNode!=null&&vt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(vt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Et=lt.find(vt);Et!=null&&(Et.domNode.parentNode==null||Et.domNode.parentNode===_t.domNode)&&Et.detach()}}),At.filter(function(vt){return vt.parentNode==_t.domNode}).sort(function(vt,Et){return vt===Et?0:vt.compareDocumentPosition(Et)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(vt){var Et=null;vt.nextSibling!=null&&(Et=lt.find(vt.nextSibling));var yt=ft(vt);(yt.next!=Et||yt.next==null)&&(yt.parent!=null&&yt.parent.removeChild(_t),_t.insertBefore(yt,Et||void 0))})},ht}(at.default);function ft(dt){var ht=lt.find(dt);if(ht==null)try{ht=lt.create(dt)}catch{ht=lt.create(lt.Scope.INLINE),[].slice.call(dt.childNodes).forEach(function(xt){ht.domNode.appendChild(xt)}),dt.parentNode&&dt.parentNode.replaceChild(ht.domNode,dt),ht.attach()}return ht}rt.default=ut},function(nt,rt,it){var st=this&&this.__extends||function(){var dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,mt){ht.__proto__=mt}||function(ht,mt){for(var xt in mt)mt.hasOwnProperty(xt)&&(ht[xt]=mt[xt])};return function(ht,mt){dt(ht,mt);function xt(){this.constructor=ht}ht.prototype=mt===null?Object.create(mt):(xt.prototype=mt.prototype,new xt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(12),at=it(31),lt=it(17),ut=it(1),ft=function(dt){st(ht,dt);function ht(mt){var xt=dt.call(this,mt)||this;return xt.attributes=new at.default(xt.domNode),xt}return ht.formats=function(mt){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return mt.tagName.toLowerCase()},ht.prototype.format=function(mt,xt){var _t=ut.query(mt);_t instanceof ot.default?this.attributes.attribute(_t,xt):xt&&_t!=null&&(mt!==this.statics.blotName||this.formats()[mt]!==xt)&&this.replaceWith(mt,xt)},ht.prototype.formats=function(){var mt=this.attributes.values(),xt=this.statics.formats(this.domNode);return xt!=null&&(mt[this.statics.blotName]=xt),mt},ht.prototype.replaceWith=function(mt,xt){var _t=dt.prototype.replaceWith.call(this,mt,xt);return this.attributes.copy(_t),_t},ht.prototype.update=function(mt,xt){var _t=this;dt.prototype.update.call(this,mt,xt),mt.some(function(At){return At.target===_t.domNode&&At.type==="attributes"})&&this.attributes.build()},ht.prototype.wrap=function(mt,xt){var _t=dt.prototype.wrap.call(this,mt,xt);return _t instanceof ht&&_t.statics.scope===this.statics.scope&&this.attributes.move(_t),_t},ht}(lt.default);rt.default=ft},function(nt,rt,it){var st=this&&this.__extends||function(){var ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])};return function(ft,dt){ut(ft,dt);function ht(){this.constructor=ft}ft.prototype=dt===null?Object.create(dt):(ht.prototype=dt.prototype,new ht)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(30),at=it(1),lt=function(ut){st(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.value=function(dt){return!0},ft.prototype.index=function(dt,ht){return this.domNode===dt||this.domNode.compareDocumentPosition(dt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(ht,1):-1},ft.prototype.position=function(dt,ht){var mt=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return dt>0&&(mt+=1),[this.parent.domNode,mt]},ft.prototype.value=function(){var dt;return dt={},dt[this.statics.blotName]=this.statics.value(this.domNode)||!0,dt},ft.scope=at.Scope.INLINE_BLOT,ft}(ot.default);rt.default=lt},function(nt,rt,it){var st=it(11),ot=it(3),at={attributes:{compose:function(ut,ft,dt){typeof ut!="object"&&(ut={}),typeof ft!="object"&&(ft={});var ht=ot(!0,{},ft);dt||(ht=Object.keys(ht).reduce(function(xt,_t){return ht[_t]!=null&&(xt[_t]=ht[_t]),xt},{}));for(var mt in ut)ut[mt]!==void 0&&ft[mt]===void 0&&(ht[mt]=ut[mt]);return Object.keys(ht).length>0?ht:void 0},diff:function(ut,ft){typeof ut!="object"&&(ut={}),typeof ft!="object"&&(ft={});var dt=Object.keys(ut).concat(Object.keys(ft)).reduce(function(ht,mt){return st(ut[mt],ft[mt])||(ht[mt]=ft[mt]===void 0?null:ft[mt]),ht},{});return Object.keys(dt).length>0?dt:void 0},transform:function(ut,ft,dt){if(typeof ut!="object")return ft;if(typeof ft=="object"){if(!dt)return ft;var ht=Object.keys(ft).reduce(function(mt,xt){return ut[xt]===void 0&&(mt[xt]=ft[xt]),mt},{});return Object.keys(ht).length>0?ht:void 0}}},iterator:function(ut){return new lt(ut)},length:function(ut){return typeof ut.delete=="number"?ut.delete:typeof ut.retain=="number"?ut.retain:typeof ut.insert=="string"?ut.insert.length:1}};function lt(ut){this.ops=ut,this.index=0,this.offset=0}lt.prototype.hasNext=function(){return this.peekLength()<1/0},lt.prototype.next=function(ut){ut||(ut=1/0);var ft=this.ops[this.index];if(ft){var dt=this.offset,ht=at.length(ft);if(ut>=ht-dt?(ut=ht-dt,this.index+=1,this.offset=0):this.offset+=ut,typeof ft.delete=="number")return{delete:ut};var mt={};return ft.attributes&&(mt.attributes=ft.attributes),typeof ft.retain=="number"?mt.retain=ut:typeof ft.insert=="string"?mt.insert=ft.insert.substr(dt,ut):mt.insert=ft.insert,mt}else return{retain:1/0}},lt.prototype.peek=function(){return this.ops[this.index]},lt.prototype.peekLength=function(){return this.ops[this.index]?at.length(this.ops[this.index])-this.offset:1/0},lt.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},lt.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var ut=this.offset,ft=this.index,dt=this.next(),ht=this.ops.slice(this.index);return this.offset=ut,this.index=ft,[dt].concat(ht)}else return[]},nt.exports=at},function(nt,rt){var it=function(){function st(_t,At){return At!=null&&_t instanceof At}var ot;try{ot=Map}catch{ot=function(){}}var at;try{at=Set}catch{at=function(){}}var lt;try{lt=Promise}catch{lt=function(){}}function ut(_t,At,gt,vt,Et){typeof At=="object"&&(gt=At.depth,vt=At.prototype,Et=At.includeNonEnumerable,At=At.circular);var yt=[],wt=[],Ct=typeof Buffer<"u";typeof At>"u"&&(At=!0),typeof gt>"u"&&(gt=1/0);function Rt(It,$t){if(It===null)return null;if($t===0)return It;var Ft,Bt;if(typeof It!="object")return It;if(st(It,ot))Ft=new ot;else if(st(It,at))Ft=new at;else if(st(It,lt))Ft=new lt(function(Qt,zt){It.then(function(Ht){Qt(Rt(Ht,$t-1))},function(Ht){zt(Rt(Ht,$t-1))})});else if(ut.__isArray(It))Ft=[];else if(ut.__isRegExp(It))Ft=new RegExp(It.source,xt(It)),It.lastIndex&&(Ft.lastIndex=It.lastIndex);else if(ut.__isDate(It))Ft=new Date(It.getTime());else{if(Ct&&Buffer.isBuffer(It))return Buffer.allocUnsafe?Ft=Buffer.allocUnsafe(It.length):Ft=new Buffer(It.length),It.copy(Ft),Ft;st(It,Error)?Ft=Object.create(It):typeof vt>"u"?(Bt=Object.getPrototypeOf(It),Ft=Object.create(Bt)):(Ft=Object.create(vt),Bt=vt)}if(At){var Nt=yt.indexOf(It);if(Nt!=-1)return wt[Nt];yt.push(It),wt.push(Ft)}st(It,ot)&&It.forEach(function(Qt,zt){var Ht=Rt(zt,$t-1),en=Rt(Qt,$t-1);Ft.set(Ht,en)}),st(It,at)&&It.forEach(function(Qt){var zt=Rt(Qt,$t-1);Ft.add(zt)});for(var Xt in It){var nn;Bt&&(nn=Object.getOwnPropertyDescriptor(Bt,Xt)),!(nn&&nn.set==null)&&(Ft[Xt]=Rt(It[Xt],$t-1))}if(Object.getOwnPropertySymbols)for(var sn=Object.getOwnPropertySymbols(It),Xt=0;Xt<sn.length;Xt++){var rn=sn[Xt],Jt=Object.getOwnPropertyDescriptor(It,rn);Jt&&!Jt.enumerable&&!Et||(Ft[rn]=Rt(It[rn],$t-1),Jt.enumerable||Object.defineProperty(Ft,rn,{enumerable:!1}))}if(Et)for(var Ut=Object.getOwnPropertyNames(It),Xt=0;Xt<Ut.length;Xt++){var Kt=Ut[Xt],Jt=Object.getOwnPropertyDescriptor(It,Kt);Jt&&Jt.enumerable||(Ft[Kt]=Rt(It[Kt],$t-1),Object.defineProperty(Ft,Kt,{enumerable:!1}))}return Ft}return Rt(_t,gt)}ut.clonePrototype=function(At){if(At===null)return null;var gt=function(){};return gt.prototype=At,new gt};function ft(_t){return Object.prototype.toString.call(_t)}ut.__objToStr=ft;function dt(_t){return typeof _t=="object"&&ft(_t)==="[object Date]"}ut.__isDate=dt;function ht(_t){return typeof _t=="object"&&ft(_t)==="[object Array]"}ut.__isArray=ht;function mt(_t){return typeof _t=="object"&&ft(_t)==="[object RegExp]"}ut.__isRegExp=mt;function xt(_t){var At="";return _t.global&&(At+="g"),_t.ignoreCase&&(At+="i"),_t.multiline&&(At+="m"),At}return ut.__getRegExpFlags=xt,ut}();typeof nt=="object"&&nt.exports&&(nt.exports=it)},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function Ft(Bt,Nt){var Xt=[],nn=!0,sn=!1,rn=void 0;try{for(var Jt=Bt[Symbol.iterator](),Ut;!(nn=(Ut=Jt.next()).done)&&(Xt.push(Ut.value),!(Nt&&Xt.length===Nt));nn=!0);}catch(Kt){sn=!0,rn=Kt}finally{try{!nn&&Jt.return&&Jt.return()}finally{if(sn)throw rn}}return Xt}return function(Bt,Nt){if(Array.isArray(Bt))return Bt;if(Symbol.iterator in Object(Bt))return Ft(Bt,Nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function(){function Ft(Bt,Nt){for(var Xt=0;Xt<Nt.length;Xt++){var nn=Nt[Xt];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Bt,nn.key,nn)}}return function(Bt,Nt,Xt){return Nt&&Ft(Bt.prototype,Nt),Xt&&Ft(Bt,Xt),Bt}}(),at=function Ft(Bt,Nt,Xt){Bt===null&&(Bt=Function.prototype);var nn=Object.getOwnPropertyDescriptor(Bt,Nt);if(nn===void 0){var sn=Object.getPrototypeOf(Bt);return sn===null?void 0:Ft(sn,Nt,Xt)}else{if("value"in nn)return nn.value;var rn=nn.get;return rn===void 0?void 0:rn.call(Xt)}},lt=it(0),ut=yt(lt),ft=it(8),dt=yt(ft),ht=it(4),mt=yt(ht),xt=it(16),_t=yt(xt),At=it(13),gt=yt(At),vt=it(25),Et=yt(vt);function yt(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}}function wt(Ft,Bt){if(!(Ft instanceof Bt))throw new TypeError("Cannot call a class as a function")}function Ct(Ft,Bt){if(!Ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Ft}function Rt(Ft,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Ft.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Ft,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ft,Bt):Ft.__proto__=Bt)}function It(Ft){return Ft instanceof mt.default||Ft instanceof ht.BlockEmbed}var $t=function(Ft){Rt(Bt,Ft);function Bt(Nt,Xt){wt(this,Bt);var nn=Ct(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,Nt));return nn.emitter=Xt.emitter,Array.isArray(Xt.whitelist)&&(nn.whitelist=Xt.whitelist.reduce(function(sn,rn){return sn[rn]=!0,sn},{})),nn.domNode.addEventListener("DOMNodeInserted",function(){}),nn.optimize(),nn.enable(),nn}return ot(Bt,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Xt,nn){var sn=this.line(Xt),rn=st(sn,2),Jt=rn[0],Ut=rn[1],Kt=this.line(Xt+nn),Qt=st(Kt,1),zt=Qt[0];if(at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"deleteAt",this).call(this,Xt,nn),zt!=null&&Jt!==zt&&Ut>0){if(Jt instanceof ht.BlockEmbed||zt instanceof ht.BlockEmbed){this.optimize();return}if(Jt instanceof gt.default){var Ht=Jt.newlineIndex(Jt.length(),!0);if(Ht>-1&&(Jt=Jt.split(Ht+1),Jt===zt)){this.optimize();return}}else if(zt instanceof gt.default){var en=zt.newlineIndex(0);en>-1&&zt.split(en+1)}var an=zt.children.head instanceof _t.default?null:zt.children.head;Jt.moveChildren(zt,an),Jt.remove()}this.optimize()}},{key:"enable",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",Xt)}},{key:"formatAt",value:function(Xt,nn,sn,rn){this.whitelist!=null&&!this.whitelist[sn]||(at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"formatAt",this).call(this,Xt,nn,sn,rn),this.optimize())}},{key:"insertAt",value:function(Xt,nn,sn){if(!(sn!=null&&this.whitelist!=null&&!this.whitelist[nn])){if(Xt>=this.length())if(sn==null||ut.default.query(nn,ut.default.Scope.BLOCK)==null){var rn=ut.default.create(this.statics.defaultChild);this.appendChild(rn),sn==null&&nn.endsWith(`
`)&&(nn=nn.slice(0,-1)),rn.insertAt(0,nn,sn)}else{var Jt=ut.default.create(nn,sn);this.appendChild(Jt)}else at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"insertAt",this).call(this,Xt,nn,sn);this.optimize()}}},{key:"insertBefore",value:function(Xt,nn){if(Xt.statics.scope===ut.default.Scope.INLINE_BLOT){var sn=ut.default.create(this.statics.defaultChild);sn.appendChild(Xt),Xt=sn}at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"insertBefore",this).call(this,Xt,nn)}},{key:"leaf",value:function(Xt){return this.path(Xt).pop()||[null,-1]}},{key:"line",value:function(Xt){return Xt===this.length()?this.line(Xt-1):this.descendant(It,Xt)}},{key:"lines",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,sn=function rn(Jt,Ut,Kt){var Qt=[],zt=Kt;return Jt.children.forEachAt(Ut,Kt,function(Ht,en,an){It(Ht)?Qt.push(Ht):Ht instanceof ut.default.Container&&(Qt=Qt.concat(rn(Ht,en,zt))),zt-=an}),Qt};return sn(this,Xt,nn)}},{key:"optimize",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"optimize",this).call(this,Xt,nn),Xt.length>0&&this.emitter.emit(dt.default.events.SCROLL_OPTIMIZE,Xt,nn))}},{key:"path",value:function(Xt){return at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"path",this).call(this,Xt).slice(1)}},{key:"update",value:function(Xt){if(this.batch!==!0){var nn=dt.default.sources.USER;typeof Xt=="string"&&(nn=Xt),Array.isArray(Xt)||(Xt=this.observer.takeRecords()),Xt.length>0&&this.emitter.emit(dt.default.events.SCROLL_BEFORE_UPDATE,nn,Xt),at(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"update",this).call(this,Xt.concat([])),Xt.length>0&&this.emitter.emit(dt.default.events.SCROLL_UPDATE,nn,Xt)}}}]),Bt}(ut.default.Scroll);$t.blotName="scroll",$t.className="ql-editor",$t.tagName="DIV",$t.defaultChild="block",$t.allowedChildren=[mt.default,ht.BlockEmbed,Et.default],rt.default=$t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.SHORTKEY=rt.default=void 0;var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Wt){return typeof Wt}:function(Wt){return Wt&&typeof Symbol=="function"&&Wt.constructor===Symbol&&Wt!==Symbol.prototype?"symbol":typeof Wt},ot=function(){function Wt(mn,vn){var En=[],Cn=!0,$n=!1,Fn=void 0;try{for(var Ln=mn[Symbol.iterator](),Mn;!(Cn=(Mn=Ln.next()).done)&&(En.push(Mn.value),!(vn&&En.length===vn));Cn=!0);}catch(Gn){$n=!0,Fn=Gn}finally{try{!Cn&&Ln.return&&Ln.return()}finally{if($n)throw Fn}}return En}return function(mn,vn){if(Array.isArray(mn))return mn;if(Symbol.iterator in Object(mn))return Wt(mn,vn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(){function Wt(mn,vn){for(var En=0;En<vn.length;En++){var Cn=vn[En];Cn.enumerable=Cn.enumerable||!1,Cn.configurable=!0,"value"in Cn&&(Cn.writable=!0),Object.defineProperty(mn,Cn.key,Cn)}}return function(mn,vn,En){return vn&&Wt(mn.prototype,vn),En&&Wt(mn,En),mn}}(),lt=it(21),ut=Ft(lt),ft=it(11),dt=Ft(ft),ht=it(3),mt=Ft(ht),xt=it(2),_t=Ft(xt),At=it(20),gt=Ft(At),vt=it(0),Et=Ft(vt),yt=it(5),wt=Ft(yt),Ct=it(10),Rt=Ft(Ct),It=it(9),$t=Ft(It);function Ft(Wt){return Wt&&Wt.__esModule?Wt:{default:Wt}}function Bt(Wt,mn,vn){return mn in Wt?Object.defineProperty(Wt,mn,{value:vn,enumerable:!0,configurable:!0,writable:!0}):Wt[mn]=vn,Wt}function Nt(Wt,mn){if(!(Wt instanceof mn))throw new TypeError("Cannot call a class as a function")}function Xt(Wt,mn){if(!Wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:Wt}function nn(Wt,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);Wt.prototype=Object.create(mn&&mn.prototype,{constructor:{value:Wt,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(Wt,mn):Wt.__proto__=mn)}var sn=(0,Rt.default)("quill:keyboard"),rn=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Jt=function(Wt){nn(mn,Wt),at(mn,null,[{key:"match",value:function(En,Cn){return Cn=on(Cn),["altKey","ctrlKey","metaKey","shiftKey"].some(function($n){return!!Cn[$n]!==En[$n]&&Cn[$n]!==null})?!1:Cn.key===(En.which||En.keyCode)}}]);function mn(vn,En){Nt(this,mn);var Cn=Xt(this,(mn.__proto__||Object.getPrototypeOf(mn)).call(this,vn,En));return Cn.bindings={},Object.keys(Cn.options.bindings).forEach(function($n){$n==="list autofill"&&vn.scroll.whitelist!=null&&!vn.scroll.whitelist.list||Cn.options.bindings[$n]&&Cn.addBinding(Cn.options.bindings[$n])}),Cn.addBinding({key:mn.keys.ENTER,shiftKey:null},Ht),Cn.addBinding({key:mn.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Cn.addBinding({key:mn.keys.BACKSPACE},{collapsed:!0},Kt),Cn.addBinding({key:mn.keys.DELETE},{collapsed:!0},Qt)):(Cn.addBinding({key:mn.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Kt),Cn.addBinding({key:mn.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Qt)),Cn.addBinding({key:mn.keys.BACKSPACE},{collapsed:!1},zt),Cn.addBinding({key:mn.keys.DELETE},{collapsed:!1},zt),Cn.addBinding({key:mn.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Kt),Cn.listen(),Cn}return at(mn,[{key:"addBinding",value:function(En){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Fn=on(En);if(Fn==null||Fn.key==null)return sn.warn("Attempted to add invalid keyboard binding",Fn);typeof Cn=="function"&&(Cn={handler:Cn}),typeof $n=="function"&&($n={handler:$n}),Fn=(0,mt.default)(Fn,Cn,$n),this.bindings[Fn.key]=this.bindings[Fn.key]||[],this.bindings[Fn.key].push(Fn)}},{key:"listen",value:function(){var En=this;this.quill.root.addEventListener("keydown",function(Cn){if(!Cn.defaultPrevented){var $n=Cn.which||Cn.keyCode,Fn=(En.bindings[$n]||[]).filter(function(gr){return mn.match(Cn,gr)});if(Fn.length!==0){var Ln=En.quill.getSelection();if(!(Ln==null||!En.quill.hasFocus())){var Mn=En.quill.getLine(Ln.index),Gn=ot(Mn,2),er=Gn[0],un=Gn[1],dn=En.quill.getLeaf(Ln.index),yn=ot(dn,2),bn=yn[0],Tn=yn[1],Pn=Ln.length===0?[bn,Tn]:En.quill.getLeaf(Ln.index+Ln.length),Yn=ot(Pn,2),Un=Yn[0],Nn=Yn[1],rr=bn instanceof Et.default.Text?bn.value().slice(0,Tn):"",Kn=Un instanceof Et.default.Text?Un.value().slice(Nn):"",Vn={collapsed:Ln.length===0,empty:Ln.length===0&&er.length()<=1,format:En.quill.getFormat(Ln),offset:un,prefix:rr,suffix:Kn},ir=Fn.some(function(gr){if(gr.collapsed!=null&&gr.collapsed!==Vn.collapsed||gr.empty!=null&&gr.empty!==Vn.empty||gr.offset!=null&&gr.offset!==Vn.offset)return!1;if(Array.isArray(gr.format)){if(gr.format.every(function(Gr){return Vn.format[Gr]==null}))return!1}else if(st(gr.format)==="object"&&!Object.keys(gr.format).every(function(Gr){return gr.format[Gr]===!0?Vn.format[Gr]!=null:gr.format[Gr]===!1?Vn.format[Gr]==null:(0,dt.default)(gr.format[Gr],Vn.format[Gr])}))return!1;return gr.prefix!=null&&!gr.prefix.test(Vn.prefix)||gr.suffix!=null&&!gr.suffix.test(Vn.suffix)?!1:gr.handler.call(En,Ln,Vn)!==!0});ir&&Cn.preventDefault()}}}})}}]),mn}($t.default);Jt.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Jt.DEFAULTS={bindings:{bold:an("bold"),italic:an("italic"),underline:an("underline"),indent:{key:Jt.keys.TAB,format:["blockquote","indent","list"],handler:function(mn,vn){if(vn.collapsed&&vn.offset!==0)return!0;this.quill.format("indent","+1",wt.default.sources.USER)}},outdent:{key:Jt.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(mn,vn){if(vn.collapsed&&vn.offset!==0)return!0;this.quill.format("indent","-1",wt.default.sources.USER)}},"outdent backspace":{key:Jt.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(mn,vn){vn.format.indent!=null?this.quill.format("indent","-1",wt.default.sources.USER):vn.format.list!=null&&this.quill.format("list",!1,wt.default.sources.USER)}},"indent code-block":en(!0),"outdent code-block":en(!1),"remove tab":{key:Jt.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(mn){this.quill.deleteText(mn.index-1,1,wt.default.sources.USER)}},tab:{key:Jt.keys.TAB,handler:function(mn){this.quill.history.cutoff();var vn=new _t.default().retain(mn.index).delete(mn.length).insert("	");this.quill.updateContents(vn,wt.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(mn.index+1,wt.default.sources.SILENT)}},"list empty enter":{key:Jt.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(mn,vn){this.quill.format("list",!1,wt.default.sources.USER),vn.format.indent&&this.quill.format("indent",!1,wt.default.sources.USER)}},"checklist enter":{key:Jt.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(mn){var vn=this.quill.getLine(mn.index),En=ot(vn,2),Cn=En[0],$n=En[1],Fn=(0,mt.default)({},Cn.formats(),{list:"checked"}),Ln=new _t.default().retain(mn.index).insert(`
`,Fn).retain(Cn.length()-$n-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ln,wt.default.sources.USER),this.quill.setSelection(mn.index+1,wt.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Jt.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(mn,vn){var En=this.quill.getLine(mn.index),Cn=ot(En,2),$n=Cn[0],Fn=Cn[1],Ln=new _t.default().retain(mn.index).insert(`
`,vn.format).retain($n.length()-Fn-1).retain(1,{header:null});this.quill.updateContents(Ln,wt.default.sources.USER),this.quill.setSelection(mn.index+1,wt.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(mn,vn){var En=vn.prefix.length,Cn=this.quill.getLine(mn.index),$n=ot(Cn,2),Fn=$n[0],Ln=$n[1];if(Ln>En)return!0;var Mn=void 0;switch(vn.prefix.trim()){case"[]":case"[ ]":Mn="unchecked";break;case"[x]":Mn="checked";break;case"-":case"*":Mn="bullet";break;default:Mn="ordered"}this.quill.insertText(mn.index," ",wt.default.sources.USER),this.quill.history.cutoff();var Gn=new _t.default().retain(mn.index-Ln).delete(En+1).retain(Fn.length()-2-Ln).retain(1,{list:Mn});this.quill.updateContents(Gn,wt.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(mn.index-En,wt.default.sources.SILENT)}},"code exit":{key:Jt.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(mn){var vn=this.quill.getLine(mn.index),En=ot(vn,2),Cn=En[0],$n=En[1],Fn=new _t.default().retain(mn.index+Cn.length()-$n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Fn,wt.default.sources.USER)}},"embed left":Ut(Jt.keys.LEFT,!1),"embed left shift":Ut(Jt.keys.LEFT,!0),"embed right":Ut(Jt.keys.RIGHT,!1),"embed right shift":Ut(Jt.keys.RIGHT,!0)}};function Ut(Wt,mn){var vn,En=Wt===Jt.keys.LEFT?"prefix":"suffix";return vn={key:Wt,shiftKey:mn,altKey:null},Bt(vn,En,/^$/),Bt(vn,"handler",function($n){var Fn=$n.index;Wt===Jt.keys.RIGHT&&(Fn+=$n.length+1);var Ln=this.quill.getLeaf(Fn),Mn=ot(Ln,1),Gn=Mn[0];return Gn instanceof Et.default.Embed?(Wt===Jt.keys.LEFT?mn?this.quill.setSelection($n.index-1,$n.length+1,wt.default.sources.USER):this.quill.setSelection($n.index-1,wt.default.sources.USER):mn?this.quill.setSelection($n.index,$n.length+1,wt.default.sources.USER):this.quill.setSelection($n.index+$n.length+1,wt.default.sources.USER),!1):!0}),vn}function Kt(Wt,mn){if(!(Wt.index===0||this.quill.getLength()<=1)){var vn=this.quill.getLine(Wt.index),En=ot(vn,1),Cn=En[0],$n={};if(mn.offset===0){var Fn=this.quill.getLine(Wt.index-1),Ln=ot(Fn,1),Mn=Ln[0];if(Mn!=null&&Mn.length()>1){var Gn=Cn.formats(),er=this.quill.getFormat(Wt.index-1,1);$n=gt.default.attributes.diff(Gn,er)||{}}}var un=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(mn.prefix)?2:1;this.quill.deleteText(Wt.index-un,un,wt.default.sources.USER),Object.keys($n).length>0&&this.quill.formatLine(Wt.index-un,un,$n,wt.default.sources.USER),this.quill.focus()}}function Qt(Wt,mn){var vn=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(mn.suffix)?2:1;if(!(Wt.index>=this.quill.getLength()-vn)){var En={},Cn=0,$n=this.quill.getLine(Wt.index),Fn=ot($n,1),Ln=Fn[0];if(mn.offset>=Ln.length()-1){var Mn=this.quill.getLine(Wt.index+1),Gn=ot(Mn,1),er=Gn[0];if(er){var un=Ln.formats(),dn=this.quill.getFormat(Wt.index,1);En=gt.default.attributes.diff(un,dn)||{},Cn=er.length()}}this.quill.deleteText(Wt.index,vn,wt.default.sources.USER),Object.keys(En).length>0&&this.quill.formatLine(Wt.index+Cn-1,vn,En,wt.default.sources.USER)}}function zt(Wt){var mn=this.quill.getLines(Wt),vn={};if(mn.length>1){var En=mn[0].formats(),Cn=mn[mn.length-1].formats();vn=gt.default.attributes.diff(Cn,En)||{}}this.quill.deleteText(Wt,wt.default.sources.USER),Object.keys(vn).length>0&&this.quill.formatLine(Wt.index,1,vn,wt.default.sources.USER),this.quill.setSelection(Wt.index,wt.default.sources.SILENT),this.quill.focus()}function Ht(Wt,mn){var vn=this;Wt.length>0&&this.quill.scroll.deleteAt(Wt.index,Wt.length);var En=Object.keys(mn.format).reduce(function(Cn,$n){return Et.default.query($n,Et.default.Scope.BLOCK)&&!Array.isArray(mn.format[$n])&&(Cn[$n]=mn.format[$n]),Cn},{});this.quill.insertText(Wt.index,`
`,En,wt.default.sources.USER),this.quill.setSelection(Wt.index+1,wt.default.sources.SILENT),this.quill.focus(),Object.keys(mn.format).forEach(function(Cn){En[Cn]==null&&(Array.isArray(mn.format[Cn])||Cn!=="link"&&vn.quill.format(Cn,mn.format[Cn],wt.default.sources.USER))})}function en(Wt){return{key:Jt.keys.TAB,shiftKey:!Wt,format:{"code-block":!0},handler:function(vn){var En=Et.default.query("code-block"),Cn=vn.index,$n=vn.length,Fn=this.quill.scroll.descendant(En,Cn),Ln=ot(Fn,2),Mn=Ln[0],Gn=Ln[1];if(Mn!=null){var er=this.quill.getIndex(Mn),un=Mn.newlineIndex(Gn,!0)+1,dn=Mn.newlineIndex(er+Gn+$n),yn=Mn.domNode.textContent.slice(un,dn).split(`
`);Gn=0,yn.forEach(function(bn,Tn){Wt?(Mn.insertAt(un+Gn,En.TAB),Gn+=En.TAB.length,Tn===0?Cn+=En.TAB.length:$n+=En.TAB.length):bn.startsWith(En.TAB)&&(Mn.deleteAt(un+Gn,En.TAB.length),Gn-=En.TAB.length,Tn===0?Cn-=En.TAB.length:$n-=En.TAB.length),Gn+=bn.length+1}),this.quill.update(wt.default.sources.USER),this.quill.setSelection(Cn,$n,wt.default.sources.SILENT)}}}}function an(Wt){return{key:Wt[0].toUpperCase(),shortKey:!0,handler:function(vn,En){this.quill.format(Wt,!En.format[Wt],wt.default.sources.USER)}}}function on(Wt){if(typeof Wt=="string"||typeof Wt=="number")return on({key:Wt});if((typeof Wt>"u"?"undefined":st(Wt))==="object"&&(Wt=(0,ut.default)(Wt,!1)),typeof Wt.key=="string")if(Jt.keys[Wt.key.toUpperCase()]!=null)Wt.key=Jt.keys[Wt.key.toUpperCase()];else if(Wt.key.length===1)Wt.key=Wt.key.toUpperCase().charCodeAt(0);else return null;return Wt.shortKey&&(Wt[rn]=Wt.shortKey,delete Wt.shortKey),Wt}rt.default=Jt,rt.SHORTKEY=rn},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function gt(vt,Et){var yt=[],wt=!0,Ct=!1,Rt=void 0;try{for(var It=vt[Symbol.iterator](),$t;!(wt=($t=It.next()).done)&&(yt.push($t.value),!(Et&&yt.length===Et));wt=!0);}catch(Ft){Ct=!0,Rt=Ft}finally{try{!wt&&It.return&&It.return()}finally{if(Ct)throw Rt}}return yt}return function(vt,Et){if(Array.isArray(vt))return vt;if(Symbol.iterator in Object(vt))return gt(vt,Et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function gt(vt,Et,yt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Et);if(wt===void 0){var Ct=Object.getPrototypeOf(vt);return Ct===null?void 0:gt(Ct,Et,yt)}else{if("value"in wt)return wt.value;var Rt=wt.get;return Rt===void 0?void 0:Rt.call(yt)}},at=function(){function gt(vt,Et){for(var yt=0;yt<Et.length;yt++){var wt=Et[yt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Et,yt){return Et&&gt(vt.prototype,Et),yt&&gt(vt,yt),vt}}(),lt=it(0),ut=ht(lt),ft=it(7),dt=ht(ft);function ht(gt){return gt&&gt.__esModule?gt:{default:gt}}function mt(gt,vt){if(!(gt instanceof vt))throw new TypeError("Cannot call a class as a function")}function xt(gt,vt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt&&(typeof vt=="object"||typeof vt=="function")?vt:gt}function _t(gt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);gt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,vt):gt.__proto__=vt)}var At=function(gt){_t(vt,gt),at(vt,null,[{key:"value",value:function(){}}]);function vt(Et,yt){mt(this,vt);var wt=xt(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Et));return wt.selection=yt,wt.textNode=document.createTextNode(vt.CONTENTS),wt.domNode.appendChild(wt.textNode),wt._length=0,wt}return at(vt,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(yt,wt){if(this._length!==0)return ot(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"format",this).call(this,yt,wt);for(var Ct=this,Rt=0;Ct!=null&&Ct.statics.scope!==ut.default.Scope.BLOCK_BLOT;)Rt+=Ct.offset(Ct.parent),Ct=Ct.parent;Ct!=null&&(this._length=vt.CONTENTS.length,Ct.optimize(),Ct.formatAt(Rt,vt.CONTENTS.length,yt,wt),this._length=0)}},{key:"index",value:function(yt,wt){return yt===this.textNode?0:ot(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"index",this).call(this,yt,wt)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){ot(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var yt=this.textNode,wt=this.selection.getNativeRange(),Ct=void 0,Rt=void 0,It=void 0;if(wt!=null&&wt.start.node===yt&&wt.end.node===yt){var $t=[yt,wt.start.offset,wt.end.offset];Ct=$t[0],Rt=$t[1],It=$t[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==vt.CONTENTS){var Ft=this.textNode.data.split(vt.CONTENTS).join("");this.next instanceof dt.default?(Ct=this.next.domNode,this.next.insertAt(0,Ft),this.textNode.data=vt.CONTENTS):(this.textNode.data=Ft,this.parent.insertBefore(ut.default.create(this.textNode),this),this.textNode=document.createTextNode(vt.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),Rt!=null){var Bt=[Rt,It].map(function(Xt){return Math.max(0,Math.min(Ct.data.length,Xt-1))}),Nt=st(Bt,2);return Rt=Nt[0],It=Nt[1],{startNode:Ct,startOffset:Rt,endNode:Ct,endOffset:It}}}}},{key:"update",value:function(yt,wt){var Ct=this;if(yt.some(function(It){return It.type==="characterData"&&It.target===Ct.textNode})){var Rt=this.restore();Rt&&(wt.range=Rt)}}},{key:"value",value:function(){return""}}]),vt}(ut.default.Embed);At.blotName="cursor",At.className="ql-cursor",At.tagName="span",At.CONTENTS="\uFEFF",rt.default=At},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(0),ot=ut(st),at=it(4),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(){return ft(this,_t),dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return _t}(ot.default.Container);mt.allowedChildren=[lt.default,at.BlockEmbed,mt],rt.default=mt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.ColorStyle=rt.ColorClass=rt.ColorAttributor=void 0;var st=function(){function At(gt,vt){for(var Et=0;Et<vt.length;Et++){var yt=vt[Et];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,yt.key,yt)}}return function(gt,vt,Et){return vt&&At(gt.prototype,vt),Et&&At(gt,Et),gt}}(),ot=function At(gt,vt,Et){gt===null&&(gt=Function.prototype);var yt=Object.getOwnPropertyDescriptor(gt,vt);if(yt===void 0){var wt=Object.getPrototypeOf(gt);return wt===null?void 0:At(wt,vt,Et)}else{if("value"in yt)return yt.value;var Ct=yt.get;return Ct===void 0?void 0:Ct.call(Et)}},at=it(0),lt=ut(at);function ut(At){return At&&At.__esModule?At:{default:At}}function ft(At,gt){if(!(At instanceof gt))throw new TypeError("Cannot call a class as a function")}function dt(At,gt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:At}function ht(At,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);At.prototype=Object.create(gt&&gt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,gt):At.__proto__=gt)}var mt=function(At){ht(gt,At);function gt(){return ft(this,gt),dt(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return st(gt,[{key:"value",value:function(Et){var yt=ot(gt.prototype.__proto__||Object.getPrototypeOf(gt.prototype),"value",this).call(this,Et);return yt.startsWith("rgb(")?(yt=yt.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+yt.split(",").map(function(wt){return("00"+parseInt(wt).toString(16)).slice(-2)}).join("")):yt}}]),gt}(lt.default.Attributor.Style),xt=new lt.default.Attributor.Class("color","ql-color",{scope:lt.default.Scope.INLINE}),_t=new mt("color","color",{scope:lt.default.Scope.INLINE});rt.ColorAttributor=mt,rt.ColorClass=xt,rt.ColorStyle=_t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.sanitize=rt.default=void 0;var st=function(){function _t(At,gt){for(var vt=0;vt<gt.length;vt++){var Et=gt[vt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(At,Et.key,Et)}}return function(At,gt,vt){return gt&&_t(At.prototype,gt),vt&&_t(At,vt),At}}(),ot=function _t(At,gt,vt){At===null&&(At=Function.prototype);var Et=Object.getOwnPropertyDescriptor(At,gt);if(Et===void 0){var yt=Object.getPrototypeOf(At);return yt===null?void 0:_t(yt,gt,vt)}else{if("value"in Et)return Et.value;var wt=Et.get;return wt===void 0?void 0:wt.call(vt)}},at=it(6),lt=ut(at);function ut(_t){return _t&&_t.__esModule?_t:{default:_t}}function ft(_t,At){if(!(_t instanceof At))throw new TypeError("Cannot call a class as a function")}function dt(_t,At){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:_t}function ht(_t,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);_t.prototype=Object.create(At&&At.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,At):_t.__proto__=At)}var mt=function(_t){ht(At,_t);function At(){return ft(this,At),dt(this,(At.__proto__||Object.getPrototypeOf(At)).apply(this,arguments))}return st(At,[{key:"format",value:function(vt,Et){if(vt!==this.statics.blotName||!Et)return ot(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"format",this).call(this,vt,Et);Et=this.constructor.sanitize(Et),this.domNode.setAttribute("href",Et)}}],[{key:"create",value:function(vt){var Et=ot(At.__proto__||Object.getPrototypeOf(At),"create",this).call(this,vt);return vt=this.sanitize(vt),Et.setAttribute("href",vt),Et.setAttribute("rel","noopener noreferrer"),Et.setAttribute("target","_blank"),Et}},{key:"formats",value:function(vt){return vt.getAttribute("href")}},{key:"sanitize",value:function(vt){return xt(vt,this.PROTOCOL_WHITELIST)?vt:this.SANITIZED_URL}}]),At}(lt.default);mt.blotName="link",mt.tagName="A",mt.SANITIZED_URL="about:blank",mt.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function xt(_t,At){var gt=document.createElement("a");gt.href=_t;var vt=gt.href.slice(0,gt.href.indexOf(":"));return At.indexOf(vt)>-1}rt.default=mt,rt.sanitize=xt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(At){return typeof At}:function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},ot=function(){function At(gt,vt){for(var Et=0;Et<vt.length;Et++){var yt=vt[Et];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,yt.key,yt)}}return function(gt,vt,Et){return vt&&At(gt.prototype,vt),Et&&At(gt,Et),gt}}(),at=it(23),lt=dt(at),ut=it(107),ft=dt(ut);function dt(At){return At&&At.__esModule?At:{default:At}}function ht(At,gt){if(!(At instanceof gt))throw new TypeError("Cannot call a class as a function")}var mt=0;function xt(At,gt){At.setAttribute(gt,At.getAttribute(gt)!=="true")}var _t=function(){function At(gt){var vt=this;ht(this,At),this.select=gt,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){vt.togglePicker()}),this.label.addEventListener("keydown",function(Et){switch(Et.keyCode){case lt.default.keys.ENTER:vt.togglePicker();break;case lt.default.keys.ESCAPE:vt.escape(),Et.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return ot(At,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),xt(this.label,"aria-expanded"),xt(this.options,"aria-hidden")}},{key:"buildItem",value:function(vt){var Et=this,yt=document.createElement("span");return yt.tabIndex="0",yt.setAttribute("role","button"),yt.classList.add("ql-picker-item"),vt.hasAttribute("value")&&yt.setAttribute("data-value",vt.getAttribute("value")),vt.textContent&&yt.setAttribute("data-label",vt.textContent),yt.addEventListener("click",function(){Et.selectItem(yt,!0)}),yt.addEventListener("keydown",function(wt){switch(wt.keyCode){case lt.default.keys.ENTER:Et.selectItem(yt,!0),wt.preventDefault();break;case lt.default.keys.ESCAPE:Et.escape(),wt.preventDefault();break}}),yt}},{key:"buildLabel",value:function(){var vt=document.createElement("span");return vt.classList.add("ql-picker-label"),vt.innerHTML=ft.default,vt.tabIndex="0",vt.setAttribute("role","button"),vt.setAttribute("aria-expanded","false"),this.container.appendChild(vt),vt}},{key:"buildOptions",value:function(){var vt=this,Et=document.createElement("span");Et.classList.add("ql-picker-options"),Et.setAttribute("aria-hidden","true"),Et.tabIndex="-1",Et.id="ql-picker-options-"+mt,mt+=1,this.label.setAttribute("aria-controls",Et.id),this.options=Et,[].slice.call(this.select.options).forEach(function(yt){var wt=vt.buildItem(yt);Et.appendChild(wt),yt.selected===!0&&vt.selectItem(wt)}),this.container.appendChild(Et)}},{key:"buildPicker",value:function(){var vt=this;[].slice.call(this.select.attributes).forEach(function(Et){vt.container.setAttribute(Et.name,Et.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var vt=this;this.close(),setTimeout(function(){return vt.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(vt){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,yt=this.container.querySelector(".ql-selected");if(vt!==yt&&(yt!=null&&yt.classList.remove("ql-selected"),vt!=null&&(vt.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(vt.parentNode.children,vt),vt.hasAttribute("data-value")?this.label.setAttribute("data-value",vt.getAttribute("data-value")):this.label.removeAttribute("data-value"),vt.hasAttribute("data-label")?this.label.setAttribute("data-label",vt.getAttribute("data-label")):this.label.removeAttribute("data-label"),Et))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":st(Event))==="object"){var wt=document.createEvent("Event");wt.initEvent("change",!0,!0),this.select.dispatchEvent(wt)}this.close()}}},{key:"update",value:function(){var vt=void 0;if(this.select.selectedIndex>-1){var Et=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];vt=this.select.options[this.select.selectedIndex],this.selectItem(Et)}else this.selectItem(null);var yt=vt!=null&&vt!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",yt)}}]),At}();rt.default=_t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(0),ot=sn(st),at=it(5),lt=sn(at),ut=it(4),ft=sn(ut),dt=it(16),ht=sn(dt),mt=it(25),xt=sn(mt),_t=it(24),At=sn(_t),gt=it(35),vt=sn(gt),Et=it(6),yt=sn(Et),wt=it(22),Ct=sn(wt),Rt=it(7),It=sn(Rt),$t=it(55),Ft=sn($t),Bt=it(42),Nt=sn(Bt),Xt=it(23),nn=sn(Xt);function sn(rn){return rn&&rn.__esModule?rn:{default:rn}}lt.default.register({"blots/block":ft.default,"blots/block/embed":ut.BlockEmbed,"blots/break":ht.default,"blots/container":xt.default,"blots/cursor":At.default,"blots/embed":vt.default,"blots/inline":yt.default,"blots/scroll":Ct.default,"blots/text":It.default,"modules/clipboard":Ft.default,"modules/history":Nt.default,"modules/keyboard":nn.default}),ot.default.register(ft.default,ht.default,At.default,yt.default,Ct.default,It.default),rt.default=lt.default},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(1),ot=function(){function at(lt){this.domNode=lt,this.domNode[st.DATA_KEY]={blot:this}}return Object.defineProperty(at.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),at.create=function(lt){if(this.tagName==null)throw new st.ParchmentError("Blot definition missing tagName");var ut;return Array.isArray(this.tagName)?(typeof lt=="string"&&(lt=lt.toUpperCase(),parseInt(lt).toString()===lt&&(lt=parseInt(lt))),typeof lt=="number"?ut=document.createElement(this.tagName[lt-1]):this.tagName.indexOf(lt)>-1?ut=document.createElement(lt):ut=document.createElement(this.tagName[0])):ut=document.createElement(this.tagName),this.className&&ut.classList.add(this.className),ut},at.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},at.prototype.clone=function(){var lt=this.domNode.cloneNode(!1);return st.create(lt)},at.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[st.DATA_KEY]},at.prototype.deleteAt=function(lt,ut){var ft=this.isolate(lt,ut);ft.remove()},at.prototype.formatAt=function(lt,ut,ft,dt){var ht=this.isolate(lt,ut);if(st.query(ft,st.Scope.BLOT)!=null&&dt)ht.wrap(ft,dt);else if(st.query(ft,st.Scope.ATTRIBUTE)!=null){var mt=st.create(this.statics.scope);ht.wrap(mt),mt.format(ft,dt)}},at.prototype.insertAt=function(lt,ut,ft){var dt=ft==null?st.create("text",ut):st.create(ut,ft),ht=this.split(lt);this.parent.insertBefore(dt,ht)},at.prototype.insertInto=function(lt,ut){ut===void 0&&(ut=null),this.parent!=null&&this.parent.children.remove(this);var ft=null;lt.children.insertBefore(this,ut),ut!=null&&(ft=ut.domNode),(this.domNode.parentNode!=lt.domNode||this.domNode.nextSibling!=ft)&&lt.domNode.insertBefore(this.domNode,ft),this.parent=lt,this.attach()},at.prototype.isolate=function(lt,ut){var ft=this.split(lt);return ft.split(ut),ft},at.prototype.length=function(){return 1},at.prototype.offset=function(lt){return lt===void 0&&(lt=this.parent),this.parent==null||this==lt?0:this.parent.children.offset(this)+this.parent.offset(lt)},at.prototype.optimize=function(lt){this.domNode[st.DATA_KEY]!=null&&delete this.domNode[st.DATA_KEY].mutations},at.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},at.prototype.replace=function(lt){lt.parent!=null&&(lt.parent.insertBefore(this,lt.next),lt.remove())},at.prototype.replaceWith=function(lt,ut){var ft=typeof lt=="string"?st.create(lt,ut):lt;return ft.replace(this),ft},at.prototype.split=function(lt,ut){return lt===0?this:this.next},at.prototype.update=function(lt,ut){},at.prototype.wrap=function(lt,ut){var ft=typeof lt=="string"?st.create(lt,ut):lt;return this.parent!=null&&this.parent.insertBefore(ft,this.next),ft.appendChild(this),ft},at.blotName="abstract",at}();rt.default=ot},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(12),ot=it(32),at=it(33),lt=it(1),ut=function(){function ft(dt){this.attributes={},this.domNode=dt,this.build()}return ft.prototype.attribute=function(dt,ht){ht?dt.add(this.domNode,ht)&&(dt.value(this.domNode)!=null?this.attributes[dt.attrName]=dt:delete this.attributes[dt.attrName]):(dt.remove(this.domNode),delete this.attributes[dt.attrName])},ft.prototype.build=function(){var dt=this;this.attributes={};var ht=st.default.keys(this.domNode),mt=ot.default.keys(this.domNode),xt=at.default.keys(this.domNode);ht.concat(mt).concat(xt).forEach(function(_t){var At=lt.query(_t,lt.Scope.ATTRIBUTE);At instanceof st.default&&(dt.attributes[At.attrName]=At)})},ft.prototype.copy=function(dt){var ht=this;Object.keys(this.attributes).forEach(function(mt){var xt=ht.attributes[mt].value(ht.domNode);dt.format(mt,xt)})},ft.prototype.move=function(dt){var ht=this;this.copy(dt),Object.keys(this.attributes).forEach(function(mt){ht.attributes[mt].remove(ht.domNode)}),this.attributes={}},ft.prototype.values=function(){var dt=this;return Object.keys(this.attributes).reduce(function(ht,mt){return ht[mt]=dt.attributes[mt].value(dt.domNode),ht},{})},ft}();rt.default=ut},function(nt,rt,it){var st=this&&this.__extends||function(){var ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])};return function(ft,dt){ut(ft,dt);function ht(){this.constructor=ft}ft.prototype=dt===null?Object.create(dt):(ht.prototype=dt.prototype,new ht)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(12);function at(ut,ft){var dt=ut.getAttribute("class")||"";return dt.split(/\s+/).filter(function(ht){return ht.indexOf(ft+"-")===0})}var lt=function(ut){st(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.keys=function(dt){return(dt.getAttribute("class")||"").split(/\s+/).map(function(ht){return ht.split("-").slice(0,-1).join("-")})},ft.prototype.add=function(dt,ht){return this.canAdd(dt,ht)?(this.remove(dt),dt.classList.add(this.keyName+"-"+ht),!0):!1},ft.prototype.remove=function(dt){var ht=at(dt,this.keyName);ht.forEach(function(mt){dt.classList.remove(mt)}),dt.classList.length===0&&dt.removeAttribute("class")},ft.prototype.value=function(dt){var ht=at(dt,this.keyName)[0]||"",mt=ht.slice(this.keyName.length+1);return this.canAdd(dt,mt)?mt:""},ft}(ot.default);rt.default=lt},function(nt,rt,it){var st=this&&this.__extends||function(){var ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])};return function(ft,dt){ut(ft,dt);function ht(){this.constructor=ft}ft.prototype=dt===null?Object.create(dt):(ht.prototype=dt.prototype,new ht)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(12);function at(ut){var ft=ut.split("-"),dt=ft.slice(1).map(function(ht){return ht[0].toUpperCase()+ht.slice(1)}).join("");return ft[0]+dt}var lt=function(ut){st(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.keys=function(dt){return(dt.getAttribute("style")||"").split(";").map(function(ht){var mt=ht.split(":");return mt[0].trim()})},ft.prototype.add=function(dt,ht){return this.canAdd(dt,ht)?(dt.style[at(this.keyName)]=ht,!0):!1},ft.prototype.remove=function(dt){dt.style[at(this.keyName)]="",dt.getAttribute("style")||dt.removeAttribute("style")},ft.prototype.value=function(dt){var ht=dt.style[at(this.keyName)];return this.canAdd(dt,ht)?ht:""},ft}(ot.default);rt.default=lt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function lt(ut,ft){for(var dt=0;dt<ft.length;dt++){var ht=ft[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ut,ht.key,ht)}}return function(ut,ft,dt){return ft&&lt(ut.prototype,ft),dt&&lt(ut,dt),ut}}();function ot(lt,ut){if(!(lt instanceof ut))throw new TypeError("Cannot call a class as a function")}var at=function(){function lt(ut,ft){ot(this,lt),this.quill=ut,this.options=ft,this.modules={}}return st(lt,[{key:"init",value:function(){var ft=this;Object.keys(this.options.modules).forEach(function(dt){ft.modules[dt]==null&&ft.addModule(dt)})}},{key:"addModule",value:function(ft){var dt=this.quill.constructor.import("modules/"+ft);return this.modules[ft]=new dt(this.quill,this.options.modules[ft]||{}),this.modules[ft]}}]),lt}();at.DEFAULTS={modules:{}},at.themes={default:at},rt.default=at},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function gt(vt,Et){for(var yt=0;yt<Et.length;yt++){var wt=Et[yt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Et,yt){return Et&&gt(vt.prototype,Et),yt&&gt(vt,yt),vt}}(),ot=function gt(vt,Et,yt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Et);if(wt===void 0){var Ct=Object.getPrototypeOf(vt);return Ct===null?void 0:gt(Ct,Et,yt)}else{if("value"in wt)return wt.value;var Rt=wt.get;return Rt===void 0?void 0:Rt.call(yt)}},at=it(0),lt=dt(at),ut=it(7),ft=dt(ut);function dt(gt){return gt&&gt.__esModule?gt:{default:gt}}function ht(gt,vt){if(!(gt instanceof vt))throw new TypeError("Cannot call a class as a function")}function mt(gt,vt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt&&(typeof vt=="object"||typeof vt=="function")?vt:gt}function xt(gt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);gt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,vt):gt.__proto__=vt)}var _t="\uFEFF",At=function(gt){xt(vt,gt);function vt(Et){ht(this,vt);var yt=mt(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Et));return yt.contentNode=document.createElement("span"),yt.contentNode.setAttribute("contenteditable",!1),[].slice.call(yt.domNode.childNodes).forEach(function(wt){yt.contentNode.appendChild(wt)}),yt.leftGuard=document.createTextNode(_t),yt.rightGuard=document.createTextNode(_t),yt.domNode.appendChild(yt.leftGuard),yt.domNode.appendChild(yt.contentNode),yt.domNode.appendChild(yt.rightGuard),yt}return st(vt,[{key:"index",value:function(yt,wt){return yt===this.leftGuard?0:yt===this.rightGuard?1:ot(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"index",this).call(this,yt,wt)}},{key:"restore",value:function(yt){var wt=void 0,Ct=void 0,Rt=yt.data.split(_t).join("");if(yt===this.leftGuard)if(this.prev instanceof ft.default){var It=this.prev.length();this.prev.insertAt(It,Rt),wt={startNode:this.prev.domNode,startOffset:It+Rt.length}}else Ct=document.createTextNode(Rt),this.parent.insertBefore(lt.default.create(Ct),this),wt={startNode:Ct,startOffset:Rt.length};else yt===this.rightGuard&&(this.next instanceof ft.default?(this.next.insertAt(0,Rt),wt={startNode:this.next.domNode,startOffset:Rt.length}):(Ct=document.createTextNode(Rt),this.parent.insertBefore(lt.default.create(Ct),this.next),wt={startNode:Ct,startOffset:Rt.length}));return yt.data=_t,wt}},{key:"update",value:function(yt,wt){var Ct=this;yt.forEach(function(Rt){if(Rt.type==="characterData"&&(Rt.target===Ct.leftGuard||Rt.target===Ct.rightGuard)){var It=Ct.restore(Rt.target);It&&(wt.range=It)}})}}]),vt}(lt.default.Embed);rt.default=At},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.AlignStyle=rt.AlignClass=rt.AlignAttribute=void 0;var st=it(0),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}var lt={scope:ot.default.Scope.BLOCK,whitelist:["right","center","justify"]},ut=new ot.default.Attributor.Attribute("align","align",lt),ft=new ot.default.Attributor.Class("align","ql-align",lt),dt=new ot.default.Attributor.Style("align","text-align",lt);rt.AlignAttribute=ut,rt.AlignClass=ft,rt.AlignStyle=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.BackgroundStyle=rt.BackgroundClass=void 0;var st=it(0),ot=lt(st),at=it(26);function lt(dt){return dt&&dt.__esModule?dt:{default:dt}}var ut=new ot.default.Attributor.Class("background","ql-bg",{scope:ot.default.Scope.INLINE}),ft=new at.ColorAttributor("background","background-color",{scope:ot.default.Scope.INLINE});rt.BackgroundClass=ut,rt.BackgroundStyle=ft},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.DirectionStyle=rt.DirectionClass=rt.DirectionAttribute=void 0;var st=it(0),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}var lt={scope:ot.default.Scope.BLOCK,whitelist:["rtl"]},ut=new ot.default.Attributor.Attribute("direction","dir",lt),ft=new ot.default.Attributor.Class("direction","ql-direction",lt),dt=new ot.default.Attributor.Style("direction","direction",lt);rt.DirectionAttribute=ut,rt.DirectionClass=ft,rt.DirectionStyle=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.FontClass=rt.FontStyle=void 0;var st=function(){function gt(vt,Et){for(var yt=0;yt<Et.length;yt++){var wt=Et[yt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Et,yt){return Et&&gt(vt.prototype,Et),yt&&gt(vt,yt),vt}}(),ot=function gt(vt,Et,yt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Et);if(wt===void 0){var Ct=Object.getPrototypeOf(vt);return Ct===null?void 0:gt(Ct,Et,yt)}else{if("value"in wt)return wt.value;var Rt=wt.get;return Rt===void 0?void 0:Rt.call(yt)}},at=it(0),lt=ut(at);function ut(gt){return gt&&gt.__esModule?gt:{default:gt}}function ft(gt,vt){if(!(gt instanceof vt))throw new TypeError("Cannot call a class as a function")}function dt(gt,vt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt&&(typeof vt=="object"||typeof vt=="function")?vt:gt}function ht(gt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);gt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,vt):gt.__proto__=vt)}var mt={scope:lt.default.Scope.INLINE,whitelist:["serif","monospace"]},xt=new lt.default.Attributor.Class("font","ql-font",mt),_t=function(gt){ht(vt,gt);function vt(){return ft(this,vt),dt(this,(vt.__proto__||Object.getPrototypeOf(vt)).apply(this,arguments))}return st(vt,[{key:"value",value:function(yt){return ot(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"value",this).call(this,yt).replace(/["']/g,"")}}]),vt}(lt.default.Attributor.Style),At=new _t("font","font-family",mt);rt.FontStyle=At,rt.FontClass=xt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.SizeStyle=rt.SizeClass=void 0;var st=it(0),ot=at(st);function at(ft){return ft&&ft.__esModule?ft:{default:ft}}var lt=new ot.default.Attributor.Class("size","ql-size",{scope:ot.default.Scope.INLINE,whitelist:["small","large","huge"]}),ut=new ot.default.Attributor.Style("size","font-size",{scope:ot.default.Scope.INLINE,whitelist:["10px","18px","32px"]});rt.SizeClass=lt,rt.SizeStyle=ut},function(nt,rt,it){nt.exports={align:{"":it(76),center:it(77),right:it(78),justify:it(79)},background:it(80),blockquote:it(81),bold:it(82),clean:it(83),code:it(58),"code-block":it(58),color:it(84),direction:{"":it(85),rtl:it(86)},float:{center:it(87),full:it(88),left:it(89),right:it(90)},formula:it(91),header:{1:it(92),2:it(93)},italic:it(94),image:it(95),indent:{"+1":it(96),"-1":it(97)},link:it(98),list:{ordered:it(99),bullet:it(100),check:it(101)},script:{sub:it(102),super:it(103)},strike:it(104),underline:it(105),video:it(106)}},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.getLastChangeIndex=rt.default=void 0;var st=function(){function Et(yt,wt){for(var Ct=0;Ct<wt.length;Ct++){var Rt=wt[Ct];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(yt,Rt.key,Rt)}}return function(yt,wt,Ct){return wt&&Et(yt.prototype,wt),Ct&&Et(yt,Ct),yt}}(),ot=it(0),at=ht(ot),lt=it(5),ut=ht(lt),ft=it(9),dt=ht(ft);function ht(Et){return Et&&Et.__esModule?Et:{default:Et}}function mt(Et,yt){if(!(Et instanceof yt))throw new TypeError("Cannot call a class as a function")}function xt(Et,yt){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt&&(typeof yt=="object"||typeof yt=="function")?yt:Et}function _t(Et,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof yt);Et.prototype=Object.create(yt&&yt.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,yt):Et.__proto__=yt)}var At=function(Et){_t(yt,Et);function yt(wt,Ct){mt(this,yt);var Rt=xt(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this,wt,Ct));return Rt.lastRecorded=0,Rt.ignoreChange=!1,Rt.clear(),Rt.quill.on(ut.default.events.EDITOR_CHANGE,function(It,$t,Ft,Bt){It!==ut.default.events.TEXT_CHANGE||Rt.ignoreChange||(!Rt.options.userOnly||Bt===ut.default.sources.USER?Rt.record($t,Ft):Rt.transform($t))}),Rt.quill.keyboard.addBinding({key:"Z",shortKey:!0},Rt.undo.bind(Rt)),Rt.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},Rt.redo.bind(Rt)),/Win/i.test(navigator.platform)&&Rt.quill.keyboard.addBinding({key:"Y",shortKey:!0},Rt.redo.bind(Rt)),Rt}return st(yt,[{key:"change",value:function(Ct,Rt){if(this.stack[Ct].length!==0){var It=this.stack[Ct].pop();this.stack[Rt].push(It),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(It[Ct],ut.default.sources.USER),this.ignoreChange=!1;var $t=vt(It[Ct]);this.quill.setSelection($t)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Ct,Rt){if(Ct.ops.length!==0){this.stack.redo=[];var It=this.quill.getContents().diff(Rt),$t=Date.now();if(this.lastRecorded+this.options.delay>$t&&this.stack.undo.length>0){var Ft=this.stack.undo.pop();It=It.compose(Ft.undo),Ct=Ft.redo.compose(Ct)}else this.lastRecorded=$t;this.stack.undo.push({redo:Ct,undo:It}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Ct){this.stack.undo.forEach(function(Rt){Rt.undo=Ct.transform(Rt.undo,!0),Rt.redo=Ct.transform(Rt.redo,!0)}),this.stack.redo.forEach(function(Rt){Rt.undo=Ct.transform(Rt.undo,!0),Rt.redo=Ct.transform(Rt.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),yt}(dt.default);At.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function gt(Et){var yt=Et.ops[Et.ops.length-1];return yt==null?!1:yt.insert!=null?typeof yt.insert=="string"&&yt.insert.endsWith(`
`):yt.attributes!=null?Object.keys(yt.attributes).some(function(wt){return at.default.query(wt,at.default.Scope.BLOCK)!=null}):!1}function vt(Et){var yt=Et.reduce(function(Ct,Rt){return Ct+=Rt.delete||0,Ct},0),wt=Et.length()-yt;return gt(Et)&&(wt-=1),wt}rt.default=At,rt.getLastChangeIndex=vt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.BaseTooltip=void 0;var st=function(){function Ht(en,an){for(var on=0;on<an.length;on++){var Wt=an[on];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(en,Wt.key,Wt)}}return function(en,an,on){return an&&Ht(en.prototype,an),on&&Ht(en,on),en}}(),ot=function Ht(en,an,on){en===null&&(en=Function.prototype);var Wt=Object.getOwnPropertyDescriptor(en,an);if(Wt===void 0){var mn=Object.getPrototypeOf(en);return mn===null?void 0:Ht(mn,an,on)}else{if("value"in Wt)return Wt.value;var vn=Wt.get;return vn===void 0?void 0:vn.call(on)}},at=it(3),lt=$t(at),ut=it(2),ft=$t(ut),dt=it(8),ht=$t(dt),mt=it(23),xt=$t(mt),_t=it(34),At=$t(_t),gt=it(59),vt=$t(gt),Et=it(60),yt=$t(Et),wt=it(28),Ct=$t(wt),Rt=it(61),It=$t(Rt);function $t(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function Ft(Ht,en){if(!(Ht instanceof en))throw new TypeError("Cannot call a class as a function")}function Bt(Ht,en){if(!Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return en&&(typeof en=="object"||typeof en=="function")?en:Ht}function Nt(Ht,en){if(typeof en!="function"&&en!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof en);Ht.prototype=Object.create(en&&en.prototype,{constructor:{value:Ht,enumerable:!1,writable:!0,configurable:!0}}),en&&(Object.setPrototypeOf?Object.setPrototypeOf(Ht,en):Ht.__proto__=en)}var Xt=[!1,"center","right","justify"],nn=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],sn=[!1,"serif","monospace"],rn=["1","2","3",!1],Jt=["small",!1,"large","huge"],Ut=function(Ht){Nt(en,Ht);function en(an,on){Ft(this,en);var Wt=Bt(this,(en.__proto__||Object.getPrototypeOf(en)).call(this,an,on)),mn=function vn(En){if(!document.body.contains(an.root))return document.body.removeEventListener("click",vn);Wt.tooltip!=null&&!Wt.tooltip.root.contains(En.target)&&document.activeElement!==Wt.tooltip.textbox&&!Wt.quill.hasFocus()&&Wt.tooltip.hide(),Wt.pickers!=null&&Wt.pickers.forEach(function(Cn){Cn.container.contains(En.target)||Cn.close()})};return an.emitter.listenDOM("click",document.body,mn),Wt}return st(en,[{key:"addModule",value:function(on){var Wt=ot(en.prototype.__proto__||Object.getPrototypeOf(en.prototype),"addModule",this).call(this,on);return on==="toolbar"&&this.extendToolbar(Wt),Wt}},{key:"buildButtons",value:function(on,Wt){on.forEach(function(mn){var vn=mn.getAttribute("class")||"";vn.split(/\s+/).forEach(function(En){if(En.startsWith("ql-")&&(En=En.slice(3),Wt[En]!=null))if(En==="direction")mn.innerHTML=Wt[En][""]+Wt[En].rtl;else if(typeof Wt[En]=="string")mn.innerHTML=Wt[En];else{var Cn=mn.value||"";Cn!=null&&Wt[En][Cn]&&(mn.innerHTML=Wt[En][Cn])}})})}},{key:"buildPickers",value:function(on,Wt){var mn=this;this.pickers=on.map(function(En){if(En.classList.contains("ql-align"))return En.querySelector("option")==null&&zt(En,Xt),new yt.default(En,Wt.align);if(En.classList.contains("ql-background")||En.classList.contains("ql-color")){var Cn=En.classList.contains("ql-background")?"background":"color";return En.querySelector("option")==null&&zt(En,nn,Cn==="background"?"#ffffff":"#000000"),new vt.default(En,Wt[Cn])}else return En.querySelector("option")==null&&(En.classList.contains("ql-font")?zt(En,sn):En.classList.contains("ql-header")?zt(En,rn):En.classList.contains("ql-size")&&zt(En,Jt)),new Ct.default(En)});var vn=function(){mn.pickers.forEach(function(Cn){Cn.update()})};this.quill.on(ht.default.events.EDITOR_CHANGE,vn)}}]),en}(At.default);Ut.DEFAULTS=(0,lt.default)(!0,{},At.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var en=this,an=this.container.querySelector("input.ql-image[type=file]");an==null&&(an=document.createElement("input"),an.setAttribute("type","file"),an.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),an.classList.add("ql-image"),an.addEventListener("change",function(){if(an.files!=null&&an.files[0]!=null){var on=new FileReader;on.onload=function(Wt){var mn=en.quill.getSelection(!0);en.quill.updateContents(new ft.default().retain(mn.index).delete(mn.length).insert({image:Wt.target.result}),ht.default.sources.USER),en.quill.setSelection(mn.index+1,ht.default.sources.SILENT),an.value=""},on.readAsDataURL(an.files[0])}}),this.container.appendChild(an)),an.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Kt=function(Ht){Nt(en,Ht);function en(an,on){Ft(this,en);var Wt=Bt(this,(en.__proto__||Object.getPrototypeOf(en)).call(this,an,on));return Wt.textbox=Wt.root.querySelector('input[type="text"]'),Wt.listen(),Wt}return st(en,[{key:"listen",value:function(){var on=this;this.textbox.addEventListener("keydown",function(Wt){xt.default.match(Wt,"enter")?(on.save(),Wt.preventDefault()):xt.default.match(Wt,"escape")&&(on.cancel(),Wt.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var on=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Wt!=null?this.textbox.value=Wt:on!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+on)||""),this.root.setAttribute("data-mode",on)}},{key:"restoreFocus",value:function(){var on=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=on}},{key:"save",value:function(){var on=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Wt=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",on,ht.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",on,ht.default.sources.USER)),this.quill.root.scrollTop=Wt;break}case"video":on=Qt(on);case"formula":{if(!on)break;var mn=this.quill.getSelection(!0);if(mn!=null){var vn=mn.index+mn.length;this.quill.insertEmbed(vn,this.root.getAttribute("data-mode"),on,ht.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(vn+1," ",ht.default.sources.USER),this.quill.setSelection(vn+2,ht.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),en}(It.default);function Qt(Ht){var en=Ht.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Ht.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return en?(en[1]||"https")+"://www.youtube.com/embed/"+en[2]+"?showinfo=0":(en=Ht.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(en[1]||"https")+"://player.vimeo.com/video/"+en[2]+"/":Ht}function zt(Ht,en){var an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;en.forEach(function(on){var Wt=document.createElement("option");on===an?Wt.setAttribute("selected","selected"):Wt.setAttribute("value",on),Ht.appendChild(Wt)})}rt.BaseTooltip=Kt,rt.default=Ut},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function ot(){this.head=this.tail=null,this.length=0}return ot.prototype.append=function(){for(var at=[],lt=0;lt<arguments.length;lt++)at[lt]=arguments[lt];this.insertBefore(at[0],null),at.length>1&&this.append.apply(this,at.slice(1))},ot.prototype.contains=function(at){for(var lt,ut=this.iterator();lt=ut();)if(lt===at)return!0;return!1},ot.prototype.insertBefore=function(at,lt){at&&(at.next=lt,lt!=null?(at.prev=lt.prev,lt.prev!=null&&(lt.prev.next=at),lt.prev=at,lt===this.head&&(this.head=at)):this.tail!=null?(this.tail.next=at,at.prev=this.tail,this.tail=at):(at.prev=null,this.head=this.tail=at),this.length+=1)},ot.prototype.offset=function(at){for(var lt=0,ut=this.head;ut!=null;){if(ut===at)return lt;lt+=ut.length(),ut=ut.next}return-1},ot.prototype.remove=function(at){this.contains(at)&&(at.prev!=null&&(at.prev.next=at.next),at.next!=null&&(at.next.prev=at.prev),at===this.head&&(this.head=at.next),at===this.tail&&(this.tail=at.prev),this.length-=1)},ot.prototype.iterator=function(at){return at===void 0&&(at=this.head),function(){var lt=at;return at!=null&&(at=at.next),lt}},ot.prototype.find=function(at,lt){lt===void 0&&(lt=!1);for(var ut,ft=this.iterator();ut=ft();){var dt=ut.length();if(at<dt||lt&&at===dt&&(ut.next==null||ut.next.length()!==0))return[ut,at];at-=dt}return[null,0]},ot.prototype.forEach=function(at){for(var lt,ut=this.iterator();lt=ut();)at(lt)},ot.prototype.forEachAt=function(at,lt,ut){if(!(lt<=0))for(var ft=this.find(at),dt=ft[0],ht=ft[1],mt,xt=at-ht,_t=this.iterator(dt);(mt=_t())&&xt<at+lt;){var At=mt.length();at>xt?ut(mt,at-xt,Math.min(lt,xt+At-at)):ut(mt,0,Math.min(At,at+lt-xt)),xt+=At}},ot.prototype.map=function(at){return this.reduce(function(lt,ut){return lt.push(at(ut)),lt},[])},ot.prototype.reduce=function(at,lt){for(var ut,ft=this.iterator();ut=ft();)lt=at(lt,ut);return lt},ot}();rt.default=st},function(nt,rt,it){var st=this&&this.__extends||function(){var dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,mt){ht.__proto__=mt}||function(ht,mt){for(var xt in mt)mt.hasOwnProperty(xt)&&(ht[xt]=mt[xt])};return function(ht,mt){dt(ht,mt);function xt(){this.constructor=ht}ht.prototype=mt===null?Object.create(mt):(xt.prototype=mt.prototype,new xt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(17),at=it(1),lt={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ut=100,ft=function(dt){st(ht,dt);function ht(mt){var xt=dt.call(this,mt)||this;return xt.scroll=xt,xt.observer=new MutationObserver(function(_t){xt.update(_t)}),xt.observer.observe(xt.domNode,lt),xt.attach(),xt}return ht.prototype.detach=function(){dt.prototype.detach.call(this),this.observer.disconnect()},ht.prototype.deleteAt=function(mt,xt){this.update(),mt===0&&xt===this.length()?this.children.forEach(function(_t){_t.remove()}):dt.prototype.deleteAt.call(this,mt,xt)},ht.prototype.formatAt=function(mt,xt,_t,At){this.update(),dt.prototype.formatAt.call(this,mt,xt,_t,At)},ht.prototype.insertAt=function(mt,xt,_t){this.update(),dt.prototype.insertAt.call(this,mt,xt,_t)},ht.prototype.optimize=function(mt,xt){var _t=this;mt===void 0&&(mt=[]),xt===void 0&&(xt={}),dt.prototype.optimize.call(this,xt);for(var At=[].slice.call(this.observer.takeRecords());At.length>0;)mt.push(At.pop());for(var gt=function(wt,Ct){Ct===void 0&&(Ct=!0),!(wt==null||wt===_t)&&wt.domNode.parentNode!=null&&(wt.domNode[at.DATA_KEY].mutations==null&&(wt.domNode[at.DATA_KEY].mutations=[]),Ct&&gt(wt.parent))},vt=function(wt){wt.domNode[at.DATA_KEY]==null||wt.domNode[at.DATA_KEY].mutations==null||(wt instanceof ot.default&&wt.children.forEach(vt),wt.optimize(xt))},Et=mt,yt=0;Et.length>0;yt+=1){if(yt>=ut)throw new Error("[Parchment] Maximum optimize iterations reached");for(Et.forEach(function(wt){var Ct=at.find(wt.target,!0);Ct!=null&&(Ct.domNode===wt.target&&(wt.type==="childList"?(gt(at.find(wt.previousSibling,!1)),[].forEach.call(wt.addedNodes,function(Rt){var It=at.find(Rt,!1);gt(It,!1),It instanceof ot.default&&It.children.forEach(function($t){gt($t,!1)})})):wt.type==="attributes"&&gt(Ct.prev)),gt(Ct))}),this.children.forEach(vt),Et=[].slice.call(this.observer.takeRecords()),At=Et.slice();At.length>0;)mt.push(At.pop())}},ht.prototype.update=function(mt,xt){var _t=this;xt===void 0&&(xt={}),mt=mt||this.observer.takeRecords(),mt.map(function(At){var gt=at.find(At.target,!0);return gt==null?null:gt.domNode[at.DATA_KEY].mutations==null?(gt.domNode[at.DATA_KEY].mutations=[At],gt):(gt.domNode[at.DATA_KEY].mutations.push(At),null)}).forEach(function(At){At==null||At===_t||At.domNode[at.DATA_KEY]==null||At.update(At.domNode[at.DATA_KEY].mutations||[],xt)}),this.domNode[at.DATA_KEY].mutations!=null&&dt.prototype.update.call(this,this.domNode[at.DATA_KEY].mutations,xt),this.optimize(mt,xt)},ht.blotName="scroll",ht.defaultChild="block",ht.scope=at.Scope.BLOCK_BLOT,ht.tagName="DIV",ht}(ot.default);rt.default=ft},function(nt,rt,it){var st=this&&this.__extends||function(){var ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,ht){dt.__proto__=ht}||function(dt,ht){for(var mt in ht)ht.hasOwnProperty(mt)&&(dt[mt]=ht[mt])};return function(dt,ht){ft(dt,ht);function mt(){this.constructor=dt}dt.prototype=ht===null?Object.create(ht):(mt.prototype=ht.prototype,new mt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(18),at=it(1);function lt(ft,dt){if(Object.keys(ft).length!==Object.keys(dt).length)return!1;for(var ht in ft)if(ft[ht]!==dt[ht])return!1;return!0}var ut=function(ft){st(dt,ft);function dt(){return ft!==null&&ft.apply(this,arguments)||this}return dt.formats=function(ht){if(ht.tagName!==dt.tagName)return ft.formats.call(this,ht)},dt.prototype.format=function(ht,mt){var xt=this;ht===this.statics.blotName&&!mt?(this.children.forEach(function(_t){_t instanceof ot.default||(_t=_t.wrap(dt.blotName,!0)),xt.attributes.copy(_t)}),this.unwrap()):ft.prototype.format.call(this,ht,mt)},dt.prototype.formatAt=function(ht,mt,xt,_t){if(this.formats()[xt]!=null||at.query(xt,at.Scope.ATTRIBUTE)){var At=this.isolate(ht,mt);At.format(xt,_t)}else ft.prototype.formatAt.call(this,ht,mt,xt,_t)},dt.prototype.optimize=function(ht){ft.prototype.optimize.call(this,ht);var mt=this.formats();if(Object.keys(mt).length===0)return this.unwrap();var xt=this.next;xt instanceof dt&&xt.prev===this&&lt(mt,xt.formats())&&(xt.moveChildren(this),xt.remove())},dt.blotName="inline",dt.scope=at.Scope.INLINE_BLOT,dt.tagName="SPAN",dt}(ot.default);rt.default=ut},function(nt,rt,it){var st=this&&this.__extends||function(){var ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])};return function(ft,dt){ut(ft,dt);function ht(){this.constructor=ft}ft.prototype=dt===null?Object.create(dt):(ht.prototype=dt.prototype,new ht)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(18),at=it(1),lt=function(ut){st(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.formats=function(dt){var ht=at.query(ft.blotName).tagName;if(dt.tagName!==ht)return ut.formats.call(this,dt)},ft.prototype.format=function(dt,ht){at.query(dt,at.Scope.BLOCK)!=null&&(dt===this.statics.blotName&&!ht?this.replaceWith(ft.blotName):ut.prototype.format.call(this,dt,ht))},ft.prototype.formatAt=function(dt,ht,mt,xt){at.query(mt,at.Scope.BLOCK)!=null?this.format(mt,xt):ut.prototype.formatAt.call(this,dt,ht,mt,xt)},ft.prototype.insertAt=function(dt,ht,mt){if(mt==null||at.query(ht,at.Scope.INLINE)!=null)ut.prototype.insertAt.call(this,dt,ht,mt);else{var xt=this.split(dt),_t=at.create(ht,mt);xt.parent.insertBefore(_t,xt)}},ft.prototype.update=function(dt,ht){navigator.userAgent.match(/Trident/)?this.build():ut.prototype.update.call(this,dt,ht)},ft.blotName="block",ft.scope=at.Scope.BLOCK_BLOT,ft.tagName="P",ft}(ot.default);rt.default=lt},function(nt,rt,it){var st=this&&this.__extends||function(){var lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,ft){ut.__proto__=ft}||function(ut,ft){for(var dt in ft)ft.hasOwnProperty(dt)&&(ut[dt]=ft[dt])};return function(ut,ft){lt(ut,ft);function dt(){this.constructor=ut}ut.prototype=ft===null?Object.create(ft):(dt.prototype=ft.prototype,new dt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(19),at=function(lt){st(ut,lt);function ut(){return lt!==null&&lt.apply(this,arguments)||this}return ut.formats=function(ft){},ut.prototype.format=function(ft,dt){lt.prototype.formatAt.call(this,0,this.length(),ft,dt)},ut.prototype.formatAt=function(ft,dt,ht,mt){ft===0&&dt===this.length()?this.format(ht,mt):lt.prototype.formatAt.call(this,ft,dt,ht,mt)},ut.prototype.formats=function(){return this.statics.formats(this.domNode)},ut}(ot.default);rt.default=at},function(nt,rt,it){var st=this&&this.__extends||function(){var ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])};return function(ft,dt){ut(ft,dt);function ht(){this.constructor=ft}ft.prototype=dt===null?Object.create(dt):(ht.prototype=dt.prototype,new ht)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=it(19),at=it(1),lt=function(ut){st(ft,ut);function ft(dt){var ht=ut.call(this,dt)||this;return ht.text=ht.statics.value(ht.domNode),ht}return ft.create=function(dt){return document.createTextNode(dt)},ft.value=function(dt){var ht=dt.data;return ht.normalize&&(ht=ht.normalize()),ht},ft.prototype.deleteAt=function(dt,ht){this.domNode.data=this.text=this.text.slice(0,dt)+this.text.slice(dt+ht)},ft.prototype.index=function(dt,ht){return this.domNode===dt?ht:-1},ft.prototype.insertAt=function(dt,ht,mt){mt==null?(this.text=this.text.slice(0,dt)+ht+this.text.slice(dt),this.domNode.data=this.text):ut.prototype.insertAt.call(this,dt,ht,mt)},ft.prototype.length=function(){return this.text.length},ft.prototype.optimize=function(dt){ut.prototype.optimize.call(this,dt),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof ft&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},ft.prototype.position=function(dt,ht){return[this.domNode,dt]},ft.prototype.split=function(dt,ht){if(ht===void 0&&(ht=!1),!ht){if(dt===0)return this;if(dt===this.length())return this.next}var mt=at.create(this.domNode.splitText(dt));return this.parent.insertBefore(mt,this.next),this.text=this.statics.value(this.domNode),mt},ft.prototype.update=function(dt,ht){var mt=this;dt.some(function(xt){return xt.type==="characterData"&&xt.target===mt.domNode})&&(this.text=this.statics.value(this.domNode))},ft.prototype.value=function(){return this.text},ft.blotName="text",ft.scope=at.Scope.INLINE_BLOT,ft}(ot.default);rt.default=lt},function(nt,rt,it){var st=document.createElement("div");if(st.classList.toggle("test-class",!1),st.classList.contains("test-class")){var ot=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(at,lt){return arguments.length>1&&!this.contains(at)==!lt?lt:ot.call(this,at)}}String.prototype.startsWith||(String.prototype.startsWith=function(at,lt){return lt=lt||0,this.substr(lt,at.length)===at}),String.prototype.endsWith||(String.prototype.endsWith=function(at,lt){var ut=this.toString();(typeof lt!="number"||!isFinite(lt)||Math.floor(lt)!==lt||lt>ut.length)&&(lt=ut.length),lt-=at.length;var ft=ut.indexOf(at,lt);return ft!==-1&&ft===lt}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(lt){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof lt!="function")throw new TypeError("predicate must be a function");for(var ut=Object(this),ft=ut.length>>>0,dt=arguments[1],ht,mt=0;mt<ft;mt++)if(ht=ut[mt],lt.call(dt,ht,mt,ut))return ht}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(nt,rt){var it=-1,st=1,ot=0;function at(yt,wt,Ct){if(yt==wt)return yt?[[ot,yt]]:[];(Ct<0||yt.length<Ct)&&(Ct=null);var Rt=dt(yt,wt),It=yt.substring(0,Rt);yt=yt.substring(Rt),wt=wt.substring(Rt),Rt=ht(yt,wt);var $t=yt.substring(yt.length-Rt);yt=yt.substring(0,yt.length-Rt),wt=wt.substring(0,wt.length-Rt);var Ft=lt(yt,wt);return It&&Ft.unshift([ot,It]),$t&&Ft.push([ot,$t]),xt(Ft),Ct!=null&&(Ft=gt(Ft,Ct)),Ft=vt(Ft),Ft}function lt(yt,wt){var Ct;if(!yt)return[[st,wt]];if(!wt)return[[it,yt]];var Rt=yt.length>wt.length?yt:wt,It=yt.length>wt.length?wt:yt,$t=Rt.indexOf(It);if($t!=-1)return Ct=[[st,Rt.substring(0,$t)],[ot,It],[st,Rt.substring($t+It.length)]],yt.length>wt.length&&(Ct[0][0]=Ct[2][0]=it),Ct;if(It.length==1)return[[it,yt],[st,wt]];var Ft=mt(yt,wt);if(Ft){var Bt=Ft[0],Nt=Ft[1],Xt=Ft[2],nn=Ft[3],sn=Ft[4],rn=at(Bt,Xt),Jt=at(Nt,nn);return rn.concat([[ot,sn]],Jt)}return ut(yt,wt)}function ut(yt,wt){for(var Ct=yt.length,Rt=wt.length,It=Math.ceil((Ct+Rt)/2),$t=It,Ft=2*It,Bt=new Array(Ft),Nt=new Array(Ft),Xt=0;Xt<Ft;Xt++)Bt[Xt]=-1,Nt[Xt]=-1;Bt[$t+1]=0,Nt[$t+1]=0;for(var nn=Ct-Rt,sn=nn%2!=0,rn=0,Jt=0,Ut=0,Kt=0,Qt=0;Qt<It;Qt++){for(var zt=-Qt+rn;zt<=Qt-Jt;zt+=2){var Ht=$t+zt,en;zt==-Qt||zt!=Qt&&Bt[Ht-1]<Bt[Ht+1]?en=Bt[Ht+1]:en=Bt[Ht-1]+1;for(var an=en-zt;en<Ct&&an<Rt&&yt.charAt(en)==wt.charAt(an);)en++,an++;if(Bt[Ht]=en,en>Ct)Jt+=2;else if(an>Rt)rn+=2;else if(sn){var on=$t+nn-zt;if(on>=0&&on<Ft&&Nt[on]!=-1){var Wt=Ct-Nt[on];if(en>=Wt)return ft(yt,wt,en,an)}}}for(var mn=-Qt+Ut;mn<=Qt-Kt;mn+=2){var on=$t+mn,Wt;mn==-Qt||mn!=Qt&&Nt[on-1]<Nt[on+1]?Wt=Nt[on+1]:Wt=Nt[on-1]+1;for(var vn=Wt-mn;Wt<Ct&&vn<Rt&&yt.charAt(Ct-Wt-1)==wt.charAt(Rt-vn-1);)Wt++,vn++;if(Nt[on]=Wt,Wt>Ct)Kt+=2;else if(vn>Rt)Ut+=2;else if(!sn){var Ht=$t+nn-mn;if(Ht>=0&&Ht<Ft&&Bt[Ht]!=-1){var en=Bt[Ht],an=$t+en-Ht;if(Wt=Ct-Wt,en>=Wt)return ft(yt,wt,en,an)}}}}return[[it,yt],[st,wt]]}function ft(yt,wt,Ct,Rt){var It=yt.substring(0,Ct),$t=wt.substring(0,Rt),Ft=yt.substring(Ct),Bt=wt.substring(Rt),Nt=at(It,$t),Xt=at(Ft,Bt);return Nt.concat(Xt)}function dt(yt,wt){if(!yt||!wt||yt.charAt(0)!=wt.charAt(0))return 0;for(var Ct=0,Rt=Math.min(yt.length,wt.length),It=Rt,$t=0;Ct<It;)yt.substring($t,It)==wt.substring($t,It)?(Ct=It,$t=Ct):Rt=It,It=Math.floor((Rt-Ct)/2+Ct);return It}function ht(yt,wt){if(!yt||!wt||yt.charAt(yt.length-1)!=wt.charAt(wt.length-1))return 0;for(var Ct=0,Rt=Math.min(yt.length,wt.length),It=Rt,$t=0;Ct<It;)yt.substring(yt.length-It,yt.length-$t)==wt.substring(wt.length-It,wt.length-$t)?(Ct=It,$t=Ct):Rt=It,It=Math.floor((Rt-Ct)/2+Ct);return It}function mt(yt,wt){var Ct=yt.length>wt.length?yt:wt,Rt=yt.length>wt.length?wt:yt;if(Ct.length<4||Rt.length*2<Ct.length)return null;function It(Jt,Ut,Kt){for(var Qt=Jt.substring(Kt,Kt+Math.floor(Jt.length/4)),zt=-1,Ht="",en,an,on,Wt;(zt=Ut.indexOf(Qt,zt+1))!=-1;){var mn=dt(Jt.substring(Kt),Ut.substring(zt)),vn=ht(Jt.substring(0,Kt),Ut.substring(0,zt));Ht.length<vn+mn&&(Ht=Ut.substring(zt-vn,zt)+Ut.substring(zt,zt+mn),en=Jt.substring(0,Kt-vn),an=Jt.substring(Kt+mn),on=Ut.substring(0,zt-vn),Wt=Ut.substring(zt+mn))}return Ht.length*2>=Jt.length?[en,an,on,Wt,Ht]:null}var $t=It(Ct,Rt,Math.ceil(Ct.length/4)),Ft=It(Ct,Rt,Math.ceil(Ct.length/2)),Bt;if(!$t&&!Ft)return null;Ft?$t?Bt=$t[4].length>Ft[4].length?$t:Ft:Bt=Ft:Bt=$t;var Nt,Xt,nn,sn;yt.length>wt.length?(Nt=Bt[0],Xt=Bt[1],nn=Bt[2],sn=Bt[3]):(nn=Bt[0],sn=Bt[1],Nt=Bt[2],Xt=Bt[3]);var rn=Bt[4];return[Nt,Xt,nn,sn,rn]}function xt(yt){yt.push([ot,""]);for(var wt=0,Ct=0,Rt=0,It="",$t="",Ft;wt<yt.length;)switch(yt[wt][0]){case st:Rt++,$t+=yt[wt][1],wt++;break;case it:Ct++,It+=yt[wt][1],wt++;break;case ot:Ct+Rt>1?(Ct!==0&&Rt!==0&&(Ft=dt($t,It),Ft!==0&&(wt-Ct-Rt>0&&yt[wt-Ct-Rt-1][0]==ot?yt[wt-Ct-Rt-1][1]+=$t.substring(0,Ft):(yt.splice(0,0,[ot,$t.substring(0,Ft)]),wt++),$t=$t.substring(Ft),It=It.substring(Ft)),Ft=ht($t,It),Ft!==0&&(yt[wt][1]=$t.substring($t.length-Ft)+yt[wt][1],$t=$t.substring(0,$t.length-Ft),It=It.substring(0,It.length-Ft))),Ct===0?yt.splice(wt-Rt,Ct+Rt,[st,$t]):Rt===0?yt.splice(wt-Ct,Ct+Rt,[it,It]):yt.splice(wt-Ct-Rt,Ct+Rt,[it,It],[st,$t]),wt=wt-Ct-Rt+(Ct?1:0)+(Rt?1:0)+1):wt!==0&&yt[wt-1][0]==ot?(yt[wt-1][1]+=yt[wt][1],yt.splice(wt,1)):wt++,Rt=0,Ct=0,It="",$t="";break}yt[yt.length-1][1]===""&&yt.pop();var Bt=!1;for(wt=1;wt<yt.length-1;)yt[wt-1][0]==ot&&yt[wt+1][0]==ot&&(yt[wt][1].substring(yt[wt][1].length-yt[wt-1][1].length)==yt[wt-1][1]?(yt[wt][1]=yt[wt-1][1]+yt[wt][1].substring(0,yt[wt][1].length-yt[wt-1][1].length),yt[wt+1][1]=yt[wt-1][1]+yt[wt+1][1],yt.splice(wt-1,1),Bt=!0):yt[wt][1].substring(0,yt[wt+1][1].length)==yt[wt+1][1]&&(yt[wt-1][1]+=yt[wt+1][1],yt[wt][1]=yt[wt][1].substring(yt[wt+1][1].length)+yt[wt+1][1],yt.splice(wt+1,1),Bt=!0)),wt++;Bt&&xt(yt)}var _t=at;_t.INSERT=st,_t.DELETE=it,_t.EQUAL=ot,nt.exports=_t;function At(yt,wt){if(wt===0)return[ot,yt];for(var Ct=0,Rt=0;Rt<yt.length;Rt++){var It=yt[Rt];if(It[0]===it||It[0]===ot){var $t=Ct+It[1].length;if(wt===$t)return[Rt+1,yt];if(wt<$t){yt=yt.slice();var Ft=wt-Ct,Bt=[It[0],It[1].slice(0,Ft)],Nt=[It[0],It[1].slice(Ft)];return yt.splice(Rt,1,Bt,Nt),[Rt+1,yt]}else Ct=$t}}throw new Error("cursor_pos is out of bounds!")}function gt(yt,wt){var Ct=At(yt,wt),Rt=Ct[1],It=Ct[0],$t=Rt[It],Ft=Rt[It+1];if($t==null)return yt;if($t[0]!==ot)return yt;if(Ft!=null&&$t[1]+Ft[1]===Ft[1]+$t[1])return Rt.splice(It,2,Ft,$t),Et(Rt,It,2);if(Ft!=null&&Ft[1].indexOf($t[1])===0){Rt.splice(It,2,[Ft[0],$t[1]],[0,$t[1]]);var Bt=Ft[1].slice($t[1].length);return Bt.length>0&&Rt.splice(It+2,0,[Ft[0],Bt]),Et(Rt,It,3)}else return yt}function vt(yt){for(var wt=!1,Ct=function(Ft){return Ft.charCodeAt(0)>=56320&&Ft.charCodeAt(0)<=57343},Rt=function(Ft){return Ft.charCodeAt(Ft.length-1)>=55296&&Ft.charCodeAt(Ft.length-1)<=56319},It=2;It<yt.length;It+=1)yt[It-2][0]===ot&&Rt(yt[It-2][1])&&yt[It-1][0]===it&&Ct(yt[It-1][1])&&yt[It][0]===st&&Ct(yt[It][1])&&(wt=!0,yt[It-1][1]=yt[It-2][1].slice(-1)+yt[It-1][1],yt[It][1]=yt[It-2][1].slice(-1)+yt[It][1],yt[It-2][1]=yt[It-2][1].slice(0,-1));if(!wt)return yt;for(var $t=[],It=0;It<yt.length;It+=1)yt[It][1].length>0&&$t.push(yt[It]);return $t}function Et(yt,wt,Ct){for(var Rt=wt+Ct-1;Rt>=0&&Rt>=wt-1;Rt--)if(Rt+1<yt.length){var It=yt[Rt],$t=yt[Rt+1];It[0]===$t[1]&&yt.splice(Rt,2,[It[0],It[1]+$t[1]])}return yt}},function(nt,rt){rt=nt.exports=typeof Object.keys=="function"?Object.keys:it,rt.shim=it;function it(st){var ot=[];for(var at in st)ot.push(at);return ot}},function(nt,rt){var it=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";rt=nt.exports=it?st:ot,rt.supported=st;function st(at){return Object.prototype.toString.call(at)=="[object Arguments]"}rt.unsupported=ot;function ot(at){return at&&typeof at=="object"&&typeof at.length=="number"&&Object.prototype.hasOwnProperty.call(at,"callee")&&!Object.prototype.propertyIsEnumerable.call(at,"callee")||!1}},function(nt,rt){var it=Object.prototype.hasOwnProperty,st="~";function ot(){}Object.create&&(ot.prototype=Object.create(null),new ot().__proto__||(st=!1));function at(ut,ft,dt){this.fn=ut,this.context=ft,this.once=dt||!1}function lt(){this._events=new ot,this._eventsCount=0}lt.prototype.eventNames=function(){var ft=[],dt,ht;if(this._eventsCount===0)return ft;for(ht in dt=this._events)it.call(dt,ht)&&ft.push(st?ht.slice(1):ht);return Object.getOwnPropertySymbols?ft.concat(Object.getOwnPropertySymbols(dt)):ft},lt.prototype.listeners=function(ft,dt){var ht=st?st+ft:ft,mt=this._events[ht];if(dt)return!!mt;if(!mt)return[];if(mt.fn)return[mt.fn];for(var xt=0,_t=mt.length,At=new Array(_t);xt<_t;xt++)At[xt]=mt[xt].fn;return At},lt.prototype.emit=function(ft,dt,ht,mt,xt,_t){var At=st?st+ft:ft;if(!this._events[At])return!1;var gt=this._events[At],vt=arguments.length,Et,yt;if(gt.fn){switch(gt.once&&this.removeListener(ft,gt.fn,void 0,!0),vt){case 1:return gt.fn.call(gt.context),!0;case 2:return gt.fn.call(gt.context,dt),!0;case 3:return gt.fn.call(gt.context,dt,ht),!0;case 4:return gt.fn.call(gt.context,dt,ht,mt),!0;case 5:return gt.fn.call(gt.context,dt,ht,mt,xt),!0;case 6:return gt.fn.call(gt.context,dt,ht,mt,xt,_t),!0}for(yt=1,Et=new Array(vt-1);yt<vt;yt++)Et[yt-1]=arguments[yt];gt.fn.apply(gt.context,Et)}else{var wt=gt.length,Ct;for(yt=0;yt<wt;yt++)switch(gt[yt].once&&this.removeListener(ft,gt[yt].fn,void 0,!0),vt){case 1:gt[yt].fn.call(gt[yt].context);break;case 2:gt[yt].fn.call(gt[yt].context,dt);break;case 3:gt[yt].fn.call(gt[yt].context,dt,ht);break;case 4:gt[yt].fn.call(gt[yt].context,dt,ht,mt);break;default:if(!Et)for(Ct=1,Et=new Array(vt-1);Ct<vt;Ct++)Et[Ct-1]=arguments[Ct];gt[yt].fn.apply(gt[yt].context,Et)}}return!0},lt.prototype.on=function(ft,dt,ht){var mt=new at(dt,ht||this),xt=st?st+ft:ft;return this._events[xt]?this._events[xt].fn?this._events[xt]=[this._events[xt],mt]:this._events[xt].push(mt):(this._events[xt]=mt,this._eventsCount++),this},lt.prototype.once=function(ft,dt,ht){var mt=new at(dt,ht||this,!0),xt=st?st+ft:ft;return this._events[xt]?this._events[xt].fn?this._events[xt]=[this._events[xt],mt]:this._events[xt].push(mt):(this._events[xt]=mt,this._eventsCount++),this},lt.prototype.removeListener=function(ft,dt,ht,mt){var xt=st?st+ft:ft;if(!this._events[xt])return this;if(!dt)return--this._eventsCount===0?this._events=new ot:delete this._events[xt],this;var _t=this._events[xt];if(_t.fn)_t.fn===dt&&(!mt||_t.once)&&(!ht||_t.context===ht)&&(--this._eventsCount===0?this._events=new ot:delete this._events[xt]);else{for(var At=0,gt=[],vt=_t.length;At<vt;At++)(_t[At].fn!==dt||mt&&!_t[At].once||ht&&_t[At].context!==ht)&&gt.push(_t[At]);gt.length?this._events[xt]=gt.length===1?gt[0]:gt:--this._eventsCount===0?this._events=new ot:delete this._events[xt]}return this},lt.prototype.removeAllListeners=function(ft){var dt;return ft?(dt=st?st+ft:ft,this._events[dt]&&(--this._eventsCount===0?this._events=new ot:delete this._events[dt])):(this._events=new ot,this._eventsCount=0),this},lt.prototype.off=lt.prototype.removeListener,lt.prototype.addListener=lt.prototype.on,lt.prototype.setMaxListeners=function(){return this},lt.prefixed=st,lt.EventEmitter=lt,typeof nt<"u"&&(nt.exports=lt)},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.matchText=rt.matchSpacing=rt.matchNewline=rt.matchBlot=rt.matchAttributor=rt.default=void 0;var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},ot=function(){function dn(yn,bn){var Tn=[],Pn=!0,Yn=!1,Un=void 0;try{for(var Nn=yn[Symbol.iterator](),rr;!(Pn=(rr=Nn.next()).done)&&(Tn.push(rr.value),!(bn&&Tn.length===bn));Pn=!0);}catch(Kn){Yn=!0,Un=Kn}finally{try{!Pn&&Nn.return&&Nn.return()}finally{if(Yn)throw Un}}return Tn}return function(yn,bn){if(Array.isArray(yn))return yn;if(Symbol.iterator in Object(yn))return dn(yn,bn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(){function dn(yn,bn){for(var Tn=0;Tn<bn.length;Tn++){var Pn=bn[Tn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(yn,Pn.key,Pn)}}return function(yn,bn,Tn){return bn&&dn(yn.prototype,bn),Tn&&dn(yn,Tn),yn}}(),lt=it(3),ut=Nt(lt),ft=it(2),dt=Nt(ft),ht=it(0),mt=Nt(ht),xt=it(5),_t=Nt(xt),At=it(10),gt=Nt(At),vt=it(9),Et=Nt(vt),yt=it(36),wt=it(37),Ct=it(13),Rt=Nt(Ct),It=it(26),$t=it(38),Ft=it(39),Bt=it(40);function Nt(dn){return dn&&dn.__esModule?dn:{default:dn}}function Xt(dn,yn,bn){return yn in dn?Object.defineProperty(dn,yn,{value:bn,enumerable:!0,configurable:!0,writable:!0}):dn[yn]=bn,dn}function nn(dn,yn){if(!(dn instanceof yn))throw new TypeError("Cannot call a class as a function")}function sn(dn,yn){if(!dn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yn&&(typeof yn=="object"||typeof yn=="function")?yn:dn}function rn(dn,yn){if(typeof yn!="function"&&yn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof yn);dn.prototype=Object.create(yn&&yn.prototype,{constructor:{value:dn,enumerable:!1,writable:!0,configurable:!0}}),yn&&(Object.setPrototypeOf?Object.setPrototypeOf(dn,yn):dn.__proto__=yn)}var Jt=(0,gt.default)("quill:clipboard"),Ut="__ql-matcher",Kt=[[Node.TEXT_NODE,un],[Node.TEXT_NODE,Mn],["br",$n],[Node.ELEMENT_NODE,Mn],[Node.ELEMENT_NODE,Cn],[Node.ELEMENT_NODE,Gn],[Node.ELEMENT_NODE,En],[Node.ELEMENT_NODE,er],["li",Ln],["b",vn.bind(vn,"bold")],["i",vn.bind(vn,"italic")],["style",Fn]],Qt=[yt.AlignAttribute,$t.DirectionAttribute].reduce(function(dn,yn){return dn[yn.keyName]=yn,dn},{}),zt=[yt.AlignStyle,wt.BackgroundStyle,It.ColorStyle,$t.DirectionStyle,Ft.FontStyle,Bt.SizeStyle].reduce(function(dn,yn){return dn[yn.keyName]=yn,dn},{}),Ht=function(dn){rn(yn,dn);function yn(bn,Tn){nn(this,yn);var Pn=sn(this,(yn.__proto__||Object.getPrototypeOf(yn)).call(this,bn,Tn));return Pn.quill.root.addEventListener("paste",Pn.onPaste.bind(Pn)),Pn.container=Pn.quill.addContainer("ql-clipboard"),Pn.container.setAttribute("contenteditable",!0),Pn.container.setAttribute("tabindex",-1),Pn.matchers=[],Kt.concat(Pn.options.matchers).forEach(function(Yn){var Un=ot(Yn,2),Nn=Un[0],rr=Un[1];!Tn.matchVisual&&rr===Gn||Pn.addMatcher(Nn,rr)}),Pn}return at(yn,[{key:"addMatcher",value:function(Tn,Pn){this.matchers.push([Tn,Pn])}},{key:"convert",value:function(Tn){if(typeof Tn=="string")return this.container.innerHTML=Tn.replace(/\>\r?\n +\</g,"><"),this.convert();var Pn=this.quill.getFormat(this.quill.selection.savedRange.index);if(Pn[Rt.default.blotName]){var Yn=this.container.innerText;return this.container.innerHTML="",new dt.default().insert(Yn,Xt({},Rt.default.blotName,Pn[Rt.default.blotName]))}var Un=this.prepareMatching(),Nn=ot(Un,2),rr=Nn[0],Kn=Nn[1],Vn=mn(this.container,rr,Kn);return on(Vn,`
`)&&Vn.ops[Vn.ops.length-1].attributes==null&&(Vn=Vn.compose(new dt.default().retain(Vn.length()-1).delete(1))),Jt.log("convert",this.container.innerHTML,Vn),this.container.innerHTML="",Vn}},{key:"dangerouslyPasteHTML",value:function(Tn,Pn){var Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.default.sources.API;if(typeof Tn=="string")this.quill.setContents(this.convert(Tn),Pn),this.quill.setSelection(0,_t.default.sources.SILENT);else{var Un=this.convert(Pn);this.quill.updateContents(new dt.default().retain(Tn).concat(Un),Yn),this.quill.setSelection(Tn+Un.length(),_t.default.sources.SILENT)}}},{key:"onPaste",value:function(Tn){var Pn=this;if(!(Tn.defaultPrevented||!this.quill.isEnabled())){var Yn=this.quill.getSelection(),Un=new dt.default().retain(Yn.index),Nn=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_t.default.sources.SILENT),setTimeout(function(){Un=Un.concat(Pn.convert()).delete(Yn.length),Pn.quill.updateContents(Un,_t.default.sources.USER),Pn.quill.setSelection(Un.length()-Yn.length,_t.default.sources.SILENT),Pn.quill.scrollingContainer.scrollTop=Nn,Pn.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Tn=this,Pn=[],Yn=[];return this.matchers.forEach(function(Un){var Nn=ot(Un,2),rr=Nn[0],Kn=Nn[1];switch(rr){case Node.TEXT_NODE:Yn.push(Kn);break;case Node.ELEMENT_NODE:Pn.push(Kn);break;default:[].forEach.call(Tn.container.querySelectorAll(rr),function(Vn){Vn[Ut]=Vn[Ut]||[],Vn[Ut].push(Kn)});break}}),[Pn,Yn]}}]),yn}(Et.default);Ht.DEFAULTS={matchers:[],matchVisual:!0};function en(dn,yn,bn){return(typeof yn>"u"?"undefined":st(yn))==="object"?Object.keys(yn).reduce(function(Tn,Pn){return en(Tn,Pn,yn[Pn])},dn):dn.reduce(function(Tn,Pn){return Pn.attributes&&Pn.attributes[yn]?Tn.push(Pn):Tn.insert(Pn.insert,(0,ut.default)({},Xt({},yn,bn),Pn.attributes))},new dt.default)}function an(dn){if(dn.nodeType!==Node.ELEMENT_NODE)return{};var yn="__ql-computed-style";return dn[yn]||(dn[yn]=window.getComputedStyle(dn))}function on(dn,yn){for(var bn="",Tn=dn.ops.length-1;Tn>=0&&bn.length<yn.length;--Tn){var Pn=dn.ops[Tn];if(typeof Pn.insert!="string")break;bn=Pn.insert+bn}return bn.slice(-1*yn.length)===yn}function Wt(dn){if(dn.childNodes.length===0)return!1;var yn=an(dn);return["block","list-item"].indexOf(yn.display)>-1}function mn(dn,yn,bn){return dn.nodeType===dn.TEXT_NODE?bn.reduce(function(Tn,Pn){return Pn(dn,Tn)},new dt.default):dn.nodeType===dn.ELEMENT_NODE?[].reduce.call(dn.childNodes||[],function(Tn,Pn){var Yn=mn(Pn,yn,bn);return Pn.nodeType===dn.ELEMENT_NODE&&(Yn=yn.reduce(function(Un,Nn){return Nn(Pn,Un)},Yn),Yn=(Pn[Ut]||[]).reduce(function(Un,Nn){return Nn(Pn,Un)},Yn)),Tn.concat(Yn)},new dt.default):new dt.default}function vn(dn,yn,bn){return en(bn,dn,!0)}function En(dn,yn){var bn=mt.default.Attributor.Attribute.keys(dn),Tn=mt.default.Attributor.Class.keys(dn),Pn=mt.default.Attributor.Style.keys(dn),Yn={};return bn.concat(Tn).concat(Pn).forEach(function(Un){var Nn=mt.default.query(Un,mt.default.Scope.ATTRIBUTE);Nn!=null&&(Yn[Nn.attrName]=Nn.value(dn),Yn[Nn.attrName])||(Nn=Qt[Un],Nn!=null&&(Nn.attrName===Un||Nn.keyName===Un)&&(Yn[Nn.attrName]=Nn.value(dn)||void 0),Nn=zt[Un],Nn!=null&&(Nn.attrName===Un||Nn.keyName===Un)&&(Nn=zt[Un],Yn[Nn.attrName]=Nn.value(dn)||void 0))}),Object.keys(Yn).length>0&&(yn=en(yn,Yn)),yn}function Cn(dn,yn){var bn=mt.default.query(dn);if(bn==null)return yn;if(bn.prototype instanceof mt.default.Embed){var Tn={},Pn=bn.value(dn);Pn!=null&&(Tn[bn.blotName]=Pn,yn=new dt.default().insert(Tn,bn.formats(dn)))}else typeof bn.formats=="function"&&(yn=en(yn,bn.blotName,bn.formats(dn)));return yn}function $n(dn,yn){return on(yn,`
`)||yn.insert(`
`),yn}function Fn(){return new dt.default}function Ln(dn,yn){var bn=mt.default.query(dn);if(bn==null||bn.blotName!=="list-item"||!on(yn,`
`))return yn;for(var Tn=-1,Pn=dn.parentNode;!Pn.classList.contains("ql-clipboard");)(mt.default.query(Pn)||{}).blotName==="list"&&(Tn+=1),Pn=Pn.parentNode;return Tn<=0?yn:yn.compose(new dt.default().retain(yn.length()-1).retain(1,{indent:Tn}))}function Mn(dn,yn){return on(yn,`
`)||(Wt(dn)||yn.length()>0&&dn.nextSibling&&Wt(dn.nextSibling))&&yn.insert(`
`),yn}function Gn(dn,yn){if(Wt(dn)&&dn.nextElementSibling!=null&&!on(yn,`

`)){var bn=dn.offsetHeight+parseFloat(an(dn).marginTop)+parseFloat(an(dn).marginBottom);dn.nextElementSibling.offsetTop>dn.offsetTop+bn*1.5&&yn.insert(`
`)}return yn}function er(dn,yn){var bn={},Tn=dn.style||{};return Tn.fontStyle&&an(dn).fontStyle==="italic"&&(bn.italic=!0),Tn.fontWeight&&(an(dn).fontWeight.startsWith("bold")||parseInt(an(dn).fontWeight)>=700)&&(bn.bold=!0),Object.keys(bn).length>0&&(yn=en(yn,bn)),parseFloat(Tn.textIndent||0)>0&&(yn=new dt.default().insert("	").concat(yn)),yn}function un(dn,yn){var bn=dn.data;if(dn.parentNode.tagName==="O:P")return yn.insert(bn.trim());if(bn.trim().length===0&&dn.parentNode.classList.contains("ql-clipboard"))return yn;if(!an(dn.parentNode).whiteSpace.startsWith("pre")){var Tn=function(Yn,Un){return Un=Un.replace(/[^\u00a0]/g,""),Un.length<1&&Yn?" ":Un};bn=bn.replace(/\r\n/g," ").replace(/\n/g," "),bn=bn.replace(/\s\s+/g,Tn.bind(Tn,!0)),(dn.previousSibling==null&&Wt(dn.parentNode)||dn.previousSibling!=null&&Wt(dn.previousSibling))&&(bn=bn.replace(/^\s+/,Tn.bind(Tn,!1))),(dn.nextSibling==null&&Wt(dn.parentNode)||dn.nextSibling!=null&&Wt(dn.nextSibling))&&(bn=bn.replace(/\s+$/,Tn.bind(Tn,!1)))}return yn.insert(bn)}rt.default=Ht,rt.matchAttributor=En,rt.matchBlot=Cn,rt.matchNewline=Mn,rt.matchSpacing=Gn,rt.matchText=un},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function xt(_t,At){for(var gt=0;gt<At.length;gt++){var vt=At[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_t,vt.key,vt)}}return function(_t,At,gt){return At&&xt(_t.prototype,At),gt&&xt(_t,gt),_t}}(),ot=function xt(_t,At,gt){_t===null&&(_t=Function.prototype);var vt=Object.getOwnPropertyDescriptor(_t,At);if(vt===void 0){var Et=Object.getPrototypeOf(_t);return Et===null?void 0:xt(Et,At,gt)}else{if("value"in vt)return vt.value;var yt=vt.get;return yt===void 0?void 0:yt.call(gt)}},at=it(6),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(){return ft(this,_t),dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return st(_t,[{key:"optimize",value:function(gt){ot(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"optimize",this).call(this,gt),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return ot(_t.__proto__||Object.getPrototypeOf(_t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_t}(lt.default);mt.blotName="bold",mt.tagName=["STRONG","B"],rt.default=mt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.addControls=rt.default=void 0;var st=function(){function Bt(Nt,Xt){var nn=[],sn=!0,rn=!1,Jt=void 0;try{for(var Ut=Nt[Symbol.iterator](),Kt;!(sn=(Kt=Ut.next()).done)&&(nn.push(Kt.value),!(Xt&&nn.length===Xt));sn=!0);}catch(Qt){rn=!0,Jt=Qt}finally{try{!sn&&Ut.return&&Ut.return()}finally{if(rn)throw Jt}}return nn}return function(Nt,Xt){if(Array.isArray(Nt))return Nt;if(Symbol.iterator in Object(Nt))return Bt(Nt,Xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function(){function Bt(Nt,Xt){for(var nn=0;nn<Xt.length;nn++){var sn=Xt[nn];sn.enumerable=sn.enumerable||!1,sn.configurable=!0,"value"in sn&&(sn.writable=!0),Object.defineProperty(Nt,sn.key,sn)}}return function(Nt,Xt,nn){return Xt&&Bt(Nt.prototype,Xt),nn&&Bt(Nt,nn),Nt}}(),at=it(2),lt=gt(at),ut=it(0),ft=gt(ut),dt=it(5),ht=gt(dt),mt=it(10),xt=gt(mt),_t=it(9),At=gt(_t);function gt(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function vt(Bt,Nt,Xt){return Nt in Bt?Object.defineProperty(Bt,Nt,{value:Xt,enumerable:!0,configurable:!0,writable:!0}):Bt[Nt]=Xt,Bt}function Et(Bt,Nt){if(!(Bt instanceof Nt))throw new TypeError("Cannot call a class as a function")}function yt(Bt,Nt){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt&&(typeof Nt=="object"||typeof Nt=="function")?Nt:Bt}function wt(Bt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Nt);Bt.prototype=Object.create(Nt&&Nt.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Nt&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Nt):Bt.__proto__=Nt)}var Ct=(0,xt.default)("quill:toolbar"),Rt=function(Bt){wt(Nt,Bt);function Nt(Xt,nn){Et(this,Nt);var sn=yt(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).call(this,Xt,nn));if(Array.isArray(sn.options.container)){var rn=document.createElement("div");$t(rn,sn.options.container),Xt.container.parentNode.insertBefore(rn,Xt.container),sn.container=rn}else typeof sn.options.container=="string"?sn.container=document.querySelector(sn.options.container):sn.container=sn.options.container;if(!(sn.container instanceof HTMLElement)){var Jt;return Jt=Ct.error("Container required for toolbar",sn.options),yt(sn,Jt)}return sn.container.classList.add("ql-toolbar"),sn.controls=[],sn.handlers={},Object.keys(sn.options.handlers).forEach(function(Ut){sn.addHandler(Ut,sn.options.handlers[Ut])}),[].forEach.call(sn.container.querySelectorAll("button, select"),function(Ut){sn.attach(Ut)}),sn.quill.on(ht.default.events.EDITOR_CHANGE,function(Ut,Kt){Ut===ht.default.events.SELECTION_CHANGE&&sn.update(Kt)}),sn.quill.on(ht.default.events.SCROLL_OPTIMIZE,function(){var Ut=sn.quill.selection.getRange(),Kt=st(Ut,1),Qt=Kt[0];sn.update(Qt)}),sn}return ot(Nt,[{key:"addHandler",value:function(nn,sn){this.handlers[nn]=sn}},{key:"attach",value:function(nn){var sn=this,rn=[].find.call(nn.classList,function(Ut){return Ut.indexOf("ql-")===0});if(rn){if(rn=rn.slice(3),nn.tagName==="BUTTON"&&nn.setAttribute("type","button"),this.handlers[rn]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[rn]==null){Ct.warn("ignoring attaching to disabled format",rn,nn);return}if(ft.default.query(rn)==null){Ct.warn("ignoring attaching to nonexistent format",rn,nn);return}}var Jt=nn.tagName==="SELECT"?"change":"click";nn.addEventListener(Jt,function(Ut){var Kt=void 0;if(nn.tagName==="SELECT"){if(nn.selectedIndex<0)return;var Qt=nn.options[nn.selectedIndex];Qt.hasAttribute("selected")?Kt=!1:Kt=Qt.value||!1}else nn.classList.contains("ql-active")?Kt=!1:Kt=nn.value||!nn.hasAttribute("value"),Ut.preventDefault();sn.quill.focus();var zt=sn.quill.selection.getRange(),Ht=st(zt,1),en=Ht[0];if(sn.handlers[rn]!=null)sn.handlers[rn].call(sn,Kt);else if(ft.default.query(rn).prototype instanceof ft.default.Embed){if(Kt=prompt("Enter "+rn),!Kt)return;sn.quill.updateContents(new lt.default().retain(en.index).delete(en.length).insert(vt({},rn,Kt)),ht.default.sources.USER)}else sn.quill.format(rn,Kt,ht.default.sources.USER);sn.update(en)}),this.controls.push([rn,nn])}}},{key:"update",value:function(nn){var sn=nn==null?{}:this.quill.getFormat(nn);this.controls.forEach(function(rn){var Jt=st(rn,2),Ut=Jt[0],Kt=Jt[1];if(Kt.tagName==="SELECT"){var Qt=void 0;if(nn==null)Qt=null;else if(sn[Ut]==null)Qt=Kt.querySelector("option[selected]");else if(!Array.isArray(sn[Ut])){var zt=sn[Ut];typeof zt=="string"&&(zt=zt.replace(/\"/g,'\\"')),Qt=Kt.querySelector('option[value="'+zt+'"]')}Qt==null?(Kt.value="",Kt.selectedIndex=-1):Qt.selected=!0}else if(nn==null)Kt.classList.remove("ql-active");else if(Kt.hasAttribute("value")){var Ht=sn[Ut]===Kt.getAttribute("value")||sn[Ut]!=null&&sn[Ut].toString()===Kt.getAttribute("value")||sn[Ut]==null&&!Kt.getAttribute("value");Kt.classList.toggle("ql-active",Ht)}else Kt.classList.toggle("ql-active",sn[Ut]!=null)})}}]),Nt}(At.default);Rt.DEFAULTS={};function It(Bt,Nt,Xt){var nn=document.createElement("button");nn.setAttribute("type","button"),nn.classList.add("ql-"+Nt),Xt!=null&&(nn.value=Xt),Bt.appendChild(nn)}function $t(Bt,Nt){Array.isArray(Nt[0])||(Nt=[Nt]),Nt.forEach(function(Xt){var nn=document.createElement("span");nn.classList.add("ql-formats"),Xt.forEach(function(sn){if(typeof sn=="string")It(nn,sn);else{var rn=Object.keys(sn)[0],Jt=sn[rn];Array.isArray(Jt)?Ft(nn,rn,Jt):It(nn,rn,Jt)}}),Bt.appendChild(nn)})}function Ft(Bt,Nt,Xt){var nn=document.createElement("select");nn.classList.add("ql-"+Nt),Xt.forEach(function(sn){var rn=document.createElement("option");sn!==!1?rn.setAttribute("value",sn):rn.setAttribute("selected","selected"),nn.appendChild(rn)}),Bt.appendChild(nn)}Rt.DEFAULTS={container:null,handlers:{clean:function(){var Nt=this,Xt=this.quill.getSelection();if(Xt!=null)if(Xt.length==0){var nn=this.quill.getFormat();Object.keys(nn).forEach(function(sn){ft.default.query(sn,ft.default.Scope.INLINE)!=null&&Nt.quill.format(sn,!1)})}else this.quill.removeFormat(Xt,ht.default.sources.USER)},direction:function(Nt){var Xt=this.quill.getFormat().align;Nt==="rtl"&&Xt==null?this.quill.format("align","right",ht.default.sources.USER):!Nt&&Xt==="right"&&this.quill.format("align",!1,ht.default.sources.USER),this.quill.format("direction",Nt,ht.default.sources.USER)},indent:function(Nt){var Xt=this.quill.getSelection(),nn=this.quill.getFormat(Xt),sn=parseInt(nn.indent||0);if(Nt==="+1"||Nt==="-1"){var rn=Nt==="+1"?1:-1;nn.direction==="rtl"&&(rn*=-1),this.quill.format("indent",sn+rn,ht.default.sources.USER)}},link:function(Nt){Nt===!0&&(Nt=prompt("Enter link URL:")),this.quill.format("link",Nt,ht.default.sources.USER)},list:function(Nt){var Xt=this.quill.getSelection(),nn=this.quill.getFormat(Xt);Nt==="check"?nn.list==="checked"||nn.list==="unchecked"?this.quill.format("list",!1,ht.default.sources.USER):this.quill.format("list","unchecked",ht.default.sources.USER):this.quill.format("list",Nt,ht.default.sources.USER)}}},rt.default=Rt,rt.addControls=$t},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function xt(_t,At){for(var gt=0;gt<At.length;gt++){var vt=At[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_t,vt.key,vt)}}return function(_t,At,gt){return At&&xt(_t.prototype,At),gt&&xt(_t,gt),_t}}(),ot=function xt(_t,At,gt){_t===null&&(_t=Function.prototype);var vt=Object.getOwnPropertyDescriptor(_t,At);if(vt===void 0){var Et=Object.getPrototypeOf(_t);return Et===null?void 0:xt(Et,At,gt)}else{if("value"in vt)return vt.value;var yt=vt.get;return yt===void 0?void 0:yt.call(gt)}},at=it(28),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(At,gt){ft(this,_t);var vt=dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,At));return vt.label.innerHTML=gt,vt.container.classList.add("ql-color-picker"),[].slice.call(vt.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(Et){Et.classList.add("ql-primary")}),vt}return st(_t,[{key:"buildItem",value:function(gt){var vt=ot(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"buildItem",this).call(this,gt);return vt.style.backgroundColor=gt.getAttribute("value")||"",vt}},{key:"selectItem",value:function(gt,vt){ot(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"selectItem",this).call(this,gt,vt);var Et=this.label.querySelector(".ql-color-label"),yt=gt&&gt.getAttribute("data-value")||"";Et&&(Et.tagName==="line"?Et.style.stroke=yt:Et.style.fill=yt)}}]),_t}(lt.default);rt.default=mt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function xt(_t,At){for(var gt=0;gt<At.length;gt++){var vt=At[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_t,vt.key,vt)}}return function(_t,At,gt){return At&&xt(_t.prototype,At),gt&&xt(_t,gt),_t}}(),ot=function xt(_t,At,gt){_t===null&&(_t=Function.prototype);var vt=Object.getOwnPropertyDescriptor(_t,At);if(vt===void 0){var Et=Object.getPrototypeOf(_t);return Et===null?void 0:xt(Et,At,gt)}else{if("value"in vt)return vt.value;var yt=vt.get;return yt===void 0?void 0:yt.call(gt)}},at=it(28),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(At,gt){ft(this,_t);var vt=dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,At));return vt.container.classList.add("ql-icon-picker"),[].forEach.call(vt.container.querySelectorAll(".ql-picker-item"),function(Et){Et.innerHTML=gt[Et.getAttribute("data-value")||""]}),vt.defaultItem=vt.container.querySelector(".ql-selected"),vt.selectItem(vt.defaultItem),vt}return st(_t,[{key:"selectItem",value:function(gt,vt){ot(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"selectItem",this).call(this,gt,vt),gt=gt||this.defaultItem,this.label.innerHTML=gt.innerHTML}}]),_t}(lt.default);rt.default=mt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function lt(ut,ft){for(var dt=0;dt<ft.length;dt++){var ht=ft[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ut,ht.key,ht)}}return function(ut,ft,dt){return ft&&lt(ut.prototype,ft),dt&&lt(ut,dt),ut}}();function ot(lt,ut){if(!(lt instanceof ut))throw new TypeError("Cannot call a class as a function")}var at=function(){function lt(ut,ft){var dt=this;ot(this,lt),this.quill=ut,this.boundsContainer=ft||document.body,this.root=ut.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){dt.root.style.marginTop=-1*dt.quill.root.scrollTop+"px"}),this.hide()}return st(lt,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(ft){var dt=ft.left+ft.width/2-this.root.offsetWidth/2,ht=ft.bottom+this.quill.root.scrollTop;this.root.style.left=dt+"px",this.root.style.top=ht+"px",this.root.classList.remove("ql-flip");var mt=this.boundsContainer.getBoundingClientRect(),xt=this.root.getBoundingClientRect(),_t=0;if(xt.right>mt.right&&(_t=mt.right-xt.right,this.root.style.left=dt+_t+"px"),xt.left<mt.left&&(_t=mt.left-xt.left,this.root.style.left=dt+_t+"px"),xt.bottom>mt.bottom){var At=xt.bottom-xt.top,gt=ft.bottom-ft.top+At;this.root.style.top=ht-gt+"px",this.root.classList.add("ql-flip")}return _t}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),lt}();rt.default=at},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function Ft(Bt,Nt){var Xt=[],nn=!0,sn=!1,rn=void 0;try{for(var Jt=Bt[Symbol.iterator](),Ut;!(nn=(Ut=Jt.next()).done)&&(Xt.push(Ut.value),!(Nt&&Xt.length===Nt));nn=!0);}catch(Kt){sn=!0,rn=Kt}finally{try{!nn&&Jt.return&&Jt.return()}finally{if(sn)throw rn}}return Xt}return function(Bt,Nt){if(Array.isArray(Bt))return Bt;if(Symbol.iterator in Object(Bt))return Ft(Bt,Nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function Ft(Bt,Nt,Xt){Bt===null&&(Bt=Function.prototype);var nn=Object.getOwnPropertyDescriptor(Bt,Nt);if(nn===void 0){var sn=Object.getPrototypeOf(Bt);return sn===null?void 0:Ft(sn,Nt,Xt)}else{if("value"in nn)return nn.value;var rn=nn.get;return rn===void 0?void 0:rn.call(Xt)}},at=function(){function Ft(Bt,Nt){for(var Xt=0;Xt<Nt.length;Xt++){var nn=Nt[Xt];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Bt,nn.key,nn)}}return function(Bt,Nt,Xt){return Nt&&Ft(Bt.prototype,Nt),Xt&&Ft(Bt,Xt),Bt}}(),lt=it(3),ut=Et(lt),ft=it(8),dt=Et(ft),ht=it(43),mt=Et(ht),xt=it(27),_t=Et(xt),At=it(15),gt=it(41),vt=Et(gt);function Et(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}}function yt(Ft,Bt){if(!(Ft instanceof Bt))throw new TypeError("Cannot call a class as a function")}function wt(Ft,Bt){if(!Ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Ft}function Ct(Ft,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Ft.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Ft,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ft,Bt):Ft.__proto__=Bt)}var Rt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],It=function(Ft){Ct(Bt,Ft);function Bt(Nt,Xt){yt(this,Bt),Xt.modules.toolbar!=null&&Xt.modules.toolbar.container==null&&(Xt.modules.toolbar.container=Rt);var nn=wt(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,Nt,Xt));return nn.quill.container.classList.add("ql-snow"),nn}return at(Bt,[{key:"extendToolbar",value:function(Xt){Xt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Xt.container.querySelectorAll("button")),vt.default),this.buildPickers([].slice.call(Xt.container.querySelectorAll("select")),vt.default),this.tooltip=new $t(this.quill,this.options.bounds),Xt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(nn,sn){Xt.handlers.link.call(Xt,!sn.format.link)})}}]),Bt}(mt.default);It.DEFAULTS=(0,ut.default)(!0,{},mt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Bt){if(Bt){var Nt=this.quill.getSelection();if(Nt==null||Nt.length==0)return;var Xt=this.quill.getText(Nt);/^\S+@\S+\.\S+$/.test(Xt)&&Xt.indexOf("mailto:")!==0&&(Xt="mailto:"+Xt);var nn=this.quill.theme.tooltip;nn.edit("link",Xt)}else this.quill.format("link",!1)}}}}});var $t=function(Ft){Ct(Bt,Ft);function Bt(Nt,Xt){yt(this,Bt);var nn=wt(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,Nt,Xt));return nn.preview=nn.root.querySelector("a.ql-preview"),nn}return at(Bt,[{key:"listen",value:function(){var Xt=this;ot(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(nn){Xt.root.classList.contains("ql-editing")?Xt.save():Xt.edit("link",Xt.preview.textContent),nn.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(nn){if(Xt.linkRange!=null){var sn=Xt.linkRange;Xt.restoreFocus(),Xt.quill.formatText(sn,"link",!1,dt.default.sources.USER),delete Xt.linkRange}nn.preventDefault(),Xt.hide()}),this.quill.on(dt.default.events.SELECTION_CHANGE,function(nn,sn,rn){if(nn!=null){if(nn.length===0&&rn===dt.default.sources.USER){var Jt=Xt.quill.scroll.descendant(_t.default,nn.index),Ut=st(Jt,2),Kt=Ut[0],Qt=Ut[1];if(Kt!=null){Xt.linkRange=new At.Range(nn.index-Qt,Kt.length());var zt=_t.default.formats(Kt.domNode);Xt.preview.textContent=zt,Xt.preview.setAttribute("href",zt),Xt.show(),Xt.position(Xt.quill.getBounds(Xt.linkRange));return}}else delete Xt.linkRange;Xt.hide()}})}},{key:"show",value:function(){ot(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Bt}(ht.BaseTooltip);$t.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),rt.default=It},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(29),ot=Pn(st),at=it(36),lt=it(38),ut=it(64),ft=it(65),dt=Pn(ft),ht=it(66),mt=Pn(ht),xt=it(67),_t=Pn(xt),At=it(37),gt=it(26),vt=it(39),Et=it(40),yt=it(56),wt=Pn(yt),Ct=it(68),Rt=Pn(Ct),It=it(27),$t=Pn(It),Ft=it(69),Bt=Pn(Ft),Nt=it(70),Xt=Pn(Nt),nn=it(71),sn=Pn(nn),rn=it(72),Jt=Pn(rn),Ut=it(73),Kt=Pn(Ut),Qt=it(13),zt=Pn(Qt),Ht=it(74),en=Pn(Ht),an=it(75),on=Pn(an),Wt=it(57),mn=Pn(Wt),vn=it(41),En=Pn(vn),Cn=it(28),$n=Pn(Cn),Fn=it(59),Ln=Pn(Fn),Mn=it(60),Gn=Pn(Mn),er=it(61),un=Pn(er),dn=it(108),yn=Pn(dn),bn=it(62),Tn=Pn(bn);function Pn(Yn){return Yn&&Yn.__esModule?Yn:{default:Yn}}ot.default.register({"attributors/attribute/direction":lt.DirectionAttribute,"attributors/class/align":at.AlignClass,"attributors/class/background":At.BackgroundClass,"attributors/class/color":gt.ColorClass,"attributors/class/direction":lt.DirectionClass,"attributors/class/font":vt.FontClass,"attributors/class/size":Et.SizeClass,"attributors/style/align":at.AlignStyle,"attributors/style/background":At.BackgroundStyle,"attributors/style/color":gt.ColorStyle,"attributors/style/direction":lt.DirectionStyle,"attributors/style/font":vt.FontStyle,"attributors/style/size":Et.SizeStyle},!0),ot.default.register({"formats/align":at.AlignClass,"formats/direction":lt.DirectionClass,"formats/indent":ut.IndentClass,"formats/background":At.BackgroundStyle,"formats/color":gt.ColorStyle,"formats/font":vt.FontClass,"formats/size":Et.SizeClass,"formats/blockquote":dt.default,"formats/code-block":zt.default,"formats/header":mt.default,"formats/list":_t.default,"formats/bold":wt.default,"formats/code":Qt.Code,"formats/italic":Rt.default,"formats/link":$t.default,"formats/script":Bt.default,"formats/strike":Xt.default,"formats/underline":sn.default,"formats/image":Jt.default,"formats/video":Kt.default,"formats/list/item":xt.ListItem,"modules/formula":en.default,"modules/syntax":on.default,"modules/toolbar":mn.default,"themes/bubble":yn.default,"themes/snow":Tn.default,"ui/icons":En.default,"ui/picker":$n.default,"ui/icon-picker":Gn.default,"ui/color-picker":Ln.default,"ui/tooltip":un.default},!0),rt.default=ot.default},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.IndentClass=void 0;var st=function(){function _t(At,gt){for(var vt=0;vt<gt.length;vt++){var Et=gt[vt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(At,Et.key,Et)}}return function(At,gt,vt){return gt&&_t(At.prototype,gt),vt&&_t(At,vt),At}}(),ot=function _t(At,gt,vt){At===null&&(At=Function.prototype);var Et=Object.getOwnPropertyDescriptor(At,gt);if(Et===void 0){var yt=Object.getPrototypeOf(At);return yt===null?void 0:_t(yt,gt,vt)}else{if("value"in Et)return Et.value;var wt=Et.get;return wt===void 0?void 0:wt.call(vt)}},at=it(0),lt=ut(at);function ut(_t){return _t&&_t.__esModule?_t:{default:_t}}function ft(_t,At){if(!(_t instanceof At))throw new TypeError("Cannot call a class as a function")}function dt(_t,At){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:_t}function ht(_t,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);_t.prototype=Object.create(At&&At.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,At):_t.__proto__=At)}var mt=function(_t){ht(At,_t);function At(){return ft(this,At),dt(this,(At.__proto__||Object.getPrototypeOf(At)).apply(this,arguments))}return st(At,[{key:"add",value:function(vt,Et){if(Et==="+1"||Et==="-1"){var yt=this.value(vt)||0;Et=Et==="+1"?yt+1:yt-1}return Et===0?(this.remove(vt),!0):ot(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"add",this).call(this,vt,Et)}},{key:"canAdd",value:function(vt,Et){return ot(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"canAdd",this).call(this,vt,Et)||ot(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"canAdd",this).call(this,vt,parseInt(Et))}},{key:"value",value:function(vt){return parseInt(ot(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"value",this).call(this,vt))||void 0}}]),At}(lt.default.Attributor.Class),xt=new mt("indent","ql-indent",{scope:lt.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});rt.IndentClass=xt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(4),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function lt(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")}function ut(ht,mt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ht}function ft(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,mt):ht.__proto__=mt)}var dt=function(ht){ft(mt,ht);function mt(){return lt(this,mt),ut(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(ot.default);dt.blotName="blockquote",dt.tagName="blockquote",rt.default=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function mt(xt,_t){for(var At=0;At<_t.length;At++){var gt=_t[At];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(xt,gt.key,gt)}}return function(xt,_t,At){return _t&&mt(xt.prototype,_t),At&&mt(xt,At),xt}}(),ot=it(4),at=lt(ot);function lt(mt){return mt&&mt.__esModule?mt:{default:mt}}function ut(mt,xt){if(!(mt instanceof xt))throw new TypeError("Cannot call a class as a function")}function ft(mt,xt){if(!mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt&&(typeof xt=="object"||typeof xt=="function")?xt:mt}function dt(mt,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xt);mt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),xt&&(Object.setPrototypeOf?Object.setPrototypeOf(mt,xt):mt.__proto__=xt)}var ht=function(mt){dt(xt,mt);function xt(){return ut(this,xt),ft(this,(xt.__proto__||Object.getPrototypeOf(xt)).apply(this,arguments))}return st(xt,null,[{key:"formats",value:function(At){return this.tagName.indexOf(At.tagName)+1}}]),xt}(at.default);ht.blotName="header",ht.tagName=["H1","H2","H3","H4","H5","H6"],rt.default=ht},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.ListItem=void 0;var st=function(){function yt(wt,Ct){for(var Rt=0;Rt<Ct.length;Rt++){var It=Ct[Rt];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(wt,It.key,It)}}return function(wt,Ct,Rt){return Ct&&yt(wt.prototype,Ct),Rt&&yt(wt,Rt),wt}}(),ot=function yt(wt,Ct,Rt){wt===null&&(wt=Function.prototype);var It=Object.getOwnPropertyDescriptor(wt,Ct);if(It===void 0){var $t=Object.getPrototypeOf(wt);return $t===null?void 0:yt($t,Ct,Rt)}else{if("value"in It)return It.value;var Ft=It.get;return Ft===void 0?void 0:Ft.call(Rt)}},at=it(0),lt=mt(at),ut=it(4),ft=mt(ut),dt=it(25),ht=mt(dt);function mt(yt){return yt&&yt.__esModule?yt:{default:yt}}function xt(yt,wt,Ct){return wt in yt?Object.defineProperty(yt,wt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):yt[wt]=Ct,yt}function _t(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function At(yt,wt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt&&(typeof wt=="object"||typeof wt=="function")?wt:yt}function gt(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof wt);yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),wt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,wt):yt.__proto__=wt)}var vt=function(yt){gt(wt,yt);function wt(){return _t(this,wt),At(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return st(wt,[{key:"format",value:function(Rt,It){Rt===Et.blotName&&!It?this.replaceWith(lt.default.create(this.statics.scope)):ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"format",this).call(this,Rt,It)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Rt,It){return this.parent.isolate(this.offset(this.parent),this.length()),Rt===this.parent.statics.blotName?(this.parent.replaceWith(Rt,It),this):(this.parent.unwrap(),ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"replaceWith",this).call(this,Rt,It))}}],[{key:"formats",value:function(Rt){return Rt.tagName===this.tagName?void 0:ot(wt.__proto__||Object.getPrototypeOf(wt),"formats",this).call(this,Rt)}}]),wt}(ft.default);vt.blotName="list-item",vt.tagName="LI";var Et=function(yt){gt(wt,yt),st(wt,null,[{key:"create",value:function(Rt){var It=Rt==="ordered"?"OL":"UL",$t=ot(wt.__proto__||Object.getPrototypeOf(wt),"create",this).call(this,It);return(Rt==="checked"||Rt==="unchecked")&&$t.setAttribute("data-checked",Rt==="checked"),$t}},{key:"formats",value:function(Rt){if(Rt.tagName==="OL")return"ordered";if(Rt.tagName==="UL")return Rt.hasAttribute("data-checked")?Rt.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function wt(Ct){_t(this,wt);var Rt=At(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this,Ct)),It=function(Ft){if(Ft.target.parentNode===Ct){var Bt=Rt.statics.formats(Ct),Nt=lt.default.find(Ft.target);Bt==="checked"?Nt.format("list","unchecked"):Bt==="unchecked"&&Nt.format("list","checked")}};return Ct.addEventListener("touchstart",It),Ct.addEventListener("mousedown",It),Rt}return st(wt,[{key:"format",value:function(Rt,It){this.children.length>0&&this.children.tail.format(Rt,It)}},{key:"formats",value:function(){return xt({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Rt,It){if(Rt instanceof vt)ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"insertBefore",this).call(this,Rt,It);else{var $t=It==null?this.length():It.offset(this),Ft=this.split($t);Ft.parent.insertBefore(Rt,Ft)}}},{key:"optimize",value:function(Rt){ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"optimize",this).call(this,Rt);var It=this.next;It!=null&&It.prev===this&&It.statics.blotName===this.statics.blotName&&It.domNode.tagName===this.domNode.tagName&&It.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(It.moveChildren(this),It.remove())}},{key:"replace",value:function(Rt){if(Rt.statics.blotName!==this.statics.blotName){var It=lt.default.create(this.statics.defaultChild);Rt.moveChildren(It),this.appendChild(It)}ot(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"replace",this).call(this,Rt)}}]),wt}(ht.default);Et.blotName="list",Et.scope=lt.default.Scope.BLOCK_BLOT,Et.tagName=["OL","UL"],Et.defaultChild="list-item",Et.allowedChildren=[vt],rt.ListItem=vt,rt.default=Et},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(56),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function lt(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")}function ut(ht,mt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ht}function ft(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,mt):ht.__proto__=mt)}var dt=function(ht){ft(mt,ht);function mt(){return lt(this,mt),ut(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(ot.default);dt.blotName="italic",dt.tagName=["EM","I"],rt.default=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function xt(_t,At){for(var gt=0;gt<At.length;gt++){var vt=At[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_t,vt.key,vt)}}return function(_t,At,gt){return At&&xt(_t.prototype,At),gt&&xt(_t,gt),_t}}(),ot=function xt(_t,At,gt){_t===null&&(_t=Function.prototype);var vt=Object.getOwnPropertyDescriptor(_t,At);if(vt===void 0){var Et=Object.getPrototypeOf(_t);return Et===null?void 0:xt(Et,At,gt)}else{if("value"in vt)return vt.value;var yt=vt.get;return yt===void 0?void 0:yt.call(gt)}},at=it(6),lt=ut(at);function ut(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(xt,_t){if(!(xt instanceof _t))throw new TypeError("Cannot call a class as a function")}function dt(xt,_t){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t&&(typeof _t=="object"||typeof _t=="function")?_t:xt}function ht(xt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);xt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,_t):xt.__proto__=_t)}var mt=function(xt){ht(_t,xt);function _t(){return ft(this,_t),dt(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return st(_t,null,[{key:"create",value:function(gt){return gt==="super"?document.createElement("sup"):gt==="sub"?document.createElement("sub"):ot(_t.__proto__||Object.getPrototypeOf(_t),"create",this).call(this,gt)}},{key:"formats",value:function(gt){if(gt.tagName==="SUB")return"sub";if(gt.tagName==="SUP")return"super"}}]),_t}(lt.default);mt.blotName="script",mt.tagName=["SUB","SUP"],rt.default=mt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(6),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function lt(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")}function ut(ht,mt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ht}function ft(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,mt):ht.__proto__=mt)}var dt=function(ht){ft(mt,ht);function mt(){return lt(this,mt),ut(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(ot.default);dt.blotName="strike",dt.tagName="S",rt.default=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=it(6),ot=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function lt(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")}function ut(ht,mt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ht}function ft(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,mt):ht.__proto__=mt)}var dt=function(ht){ft(mt,ht);function mt(){return lt(this,mt),ut(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(ot.default);dt.blotName="underline",dt.tagName="U",rt.default=dt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function At(gt,vt){for(var Et=0;Et<vt.length;Et++){var yt=vt[Et];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,yt.key,yt)}}return function(gt,vt,Et){return vt&&At(gt.prototype,vt),Et&&At(gt,Et),gt}}(),ot=function At(gt,vt,Et){gt===null&&(gt=Function.prototype);var yt=Object.getOwnPropertyDescriptor(gt,vt);if(yt===void 0){var wt=Object.getPrototypeOf(gt);return wt===null?void 0:At(wt,vt,Et)}else{if("value"in yt)return yt.value;var Ct=yt.get;return Ct===void 0?void 0:Ct.call(Et)}},at=it(0),lt=ft(at),ut=it(27);function ft(At){return At&&At.__esModule?At:{default:At}}function dt(At,gt){if(!(At instanceof gt))throw new TypeError("Cannot call a class as a function")}function ht(At,gt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:At}function mt(At,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);At.prototype=Object.create(gt&&gt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,gt):At.__proto__=gt)}var xt=["alt","height","width"],_t=function(At){mt(gt,At);function gt(){return dt(this,gt),ht(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return st(gt,[{key:"format",value:function(Et,yt){xt.indexOf(Et)>-1?yt?this.domNode.setAttribute(Et,yt):this.domNode.removeAttribute(Et):ot(gt.prototype.__proto__||Object.getPrototypeOf(gt.prototype),"format",this).call(this,Et,yt)}}],[{key:"create",value:function(Et){var yt=ot(gt.__proto__||Object.getPrototypeOf(gt),"create",this).call(this,Et);return typeof Et=="string"&&yt.setAttribute("src",this.sanitize(Et)),yt}},{key:"formats",value:function(Et){return xt.reduce(function(yt,wt){return Et.hasAttribute(wt)&&(yt[wt]=Et.getAttribute(wt)),yt},{})}},{key:"match",value:function(Et){return/\.(jpe?g|gif|png)$/.test(Et)||/^data:image\/.+;base64/.test(Et)}},{key:"sanitize",value:function(Et){return(0,ut.sanitize)(Et,["http","https","data"])?Et:"//:0"}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),gt}(lt.default.Embed);_t.blotName="image",_t.tagName="IMG",rt.default=_t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st=function(){function At(gt,vt){for(var Et=0;Et<vt.length;Et++){var yt=vt[Et];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,yt.key,yt)}}return function(gt,vt,Et){return vt&&At(gt.prototype,vt),Et&&At(gt,Et),gt}}(),ot=function At(gt,vt,Et){gt===null&&(gt=Function.prototype);var yt=Object.getOwnPropertyDescriptor(gt,vt);if(yt===void 0){var wt=Object.getPrototypeOf(gt);return wt===null?void 0:At(wt,vt,Et)}else{if("value"in yt)return yt.value;var Ct=yt.get;return Ct===void 0?void 0:Ct.call(Et)}},at=it(4),lt=it(27),ut=ft(lt);function ft(At){return At&&At.__esModule?At:{default:At}}function dt(At,gt){if(!(At instanceof gt))throw new TypeError("Cannot call a class as a function")}function ht(At,gt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:At}function mt(At,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);At.prototype=Object.create(gt&&gt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,gt):At.__proto__=gt)}var xt=["height","width"],_t=function(At){mt(gt,At);function gt(){return dt(this,gt),ht(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return st(gt,[{key:"format",value:function(Et,yt){xt.indexOf(Et)>-1?yt?this.domNode.setAttribute(Et,yt):this.domNode.removeAttribute(Et):ot(gt.prototype.__proto__||Object.getPrototypeOf(gt.prototype),"format",this).call(this,Et,yt)}}],[{key:"create",value:function(Et){var yt=ot(gt.__proto__||Object.getPrototypeOf(gt),"create",this).call(this,Et);return yt.setAttribute("frameborder","0"),yt.setAttribute("allowfullscreen",!0),yt.setAttribute("src",this.sanitize(Et)),yt}},{key:"formats",value:function(Et){return xt.reduce(function(yt,wt){return Et.hasAttribute(wt)&&(yt[wt]=Et.getAttribute(wt)),yt},{})}},{key:"sanitize",value:function(Et){return ut.default.sanitize(Et)}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),gt}(at.BlockEmbed);_t.blotName="video",_t.className="ql-video",_t.tagName="IFRAME",rt.default=_t},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.FormulaBlot=void 0;var st=function(){function Et(yt,wt){for(var Ct=0;Ct<wt.length;Ct++){var Rt=wt[Ct];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(yt,Rt.key,Rt)}}return function(yt,wt,Ct){return wt&&Et(yt.prototype,wt),Ct&&Et(yt,Ct),yt}}(),ot=function Et(yt,wt,Ct){yt===null&&(yt=Function.prototype);var Rt=Object.getOwnPropertyDescriptor(yt,wt);if(Rt===void 0){var It=Object.getPrototypeOf(yt);return It===null?void 0:Et(It,wt,Ct)}else{if("value"in Rt)return Rt.value;var $t=Rt.get;return $t===void 0?void 0:$t.call(Ct)}},at=it(35),lt=mt(at),ut=it(5),ft=mt(ut),dt=it(9),ht=mt(dt);function mt(Et){return Et&&Et.__esModule?Et:{default:Et}}function xt(Et,yt){if(!(Et instanceof yt))throw new TypeError("Cannot call a class as a function")}function _t(Et,yt){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt&&(typeof yt=="object"||typeof yt=="function")?yt:Et}function At(Et,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof yt);Et.prototype=Object.create(yt&&yt.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,yt):Et.__proto__=yt)}var gt=function(Et){At(yt,Et);function yt(){return xt(this,yt),_t(this,(yt.__proto__||Object.getPrototypeOf(yt)).apply(this,arguments))}return st(yt,null,[{key:"create",value:function(Ct){var Rt=ot(yt.__proto__||Object.getPrototypeOf(yt),"create",this).call(this,Ct);return typeof Ct=="string"&&(window.katex.render(Ct,Rt,{throwOnError:!1,errorColor:"#f00"}),Rt.setAttribute("data-value",Ct)),Rt}},{key:"value",value:function(Ct){return Ct.getAttribute("data-value")}}]),yt}(lt.default);gt.blotName="formula",gt.className="ql-formula",gt.tagName="SPAN";var vt=function(Et){At(yt,Et),st(yt,null,[{key:"register",value:function(){ft.default.register(gt,!0)}}]);function yt(){xt(this,yt);var wt=_t(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return wt}return yt}(ht.default);rt.FormulaBlot=gt,rt.default=vt},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.CodeToken=rt.CodeBlock=void 0;var st=function(){function Ct(Rt,It){for(var $t=0;$t<It.length;$t++){var Ft=It[$t];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Rt,Ft.key,Ft)}}return function(Rt,It,$t){return It&&Ct(Rt.prototype,It),$t&&Ct(Rt,$t),Rt}}(),ot=function Ct(Rt,It,$t){Rt===null&&(Rt=Function.prototype);var Ft=Object.getOwnPropertyDescriptor(Rt,It);if(Ft===void 0){var Bt=Object.getPrototypeOf(Rt);return Bt===null?void 0:Ct(Bt,It,$t)}else{if("value"in Ft)return Ft.value;var Nt=Ft.get;return Nt===void 0?void 0:Nt.call($t)}},at=it(0),lt=_t(at),ut=it(5),ft=_t(ut),dt=it(9),ht=_t(dt),mt=it(13),xt=_t(mt);function _t(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function At(Ct,Rt){if(!(Ct instanceof Rt))throw new TypeError("Cannot call a class as a function")}function gt(Ct,Rt){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt&&(typeof Rt=="object"||typeof Rt=="function")?Rt:Ct}function vt(Ct,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Rt);Ct.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),Rt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,Rt):Ct.__proto__=Rt)}var Et=function(Ct){vt(Rt,Ct);function Rt(){return At(this,Rt),gt(this,(Rt.__proto__||Object.getPrototypeOf(Rt)).apply(this,arguments))}return st(Rt,[{key:"replaceWith",value:function($t){this.domNode.textContent=this.domNode.textContent,this.attach(),ot(Rt.prototype.__proto__||Object.getPrototypeOf(Rt.prototype),"replaceWith",this).call(this,$t)}},{key:"highlight",value:function($t){var Ft=this.domNode.textContent;this.cachedText!==Ft&&((Ft.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=$t(Ft),this.domNode.normalize(),this.attach()),this.cachedText=Ft)}}]),Rt}(xt.default);Et.className="ql-syntax";var yt=new lt.default.Attributor.Class("token","hljs",{scope:lt.default.Scope.INLINE}),wt=function(Ct){vt(Rt,Ct),st(Rt,null,[{key:"register",value:function(){ft.default.register(yt,!0),ft.default.register(Et,!0)}}]);function Rt(It,$t){At(this,Rt);var Ft=gt(this,(Rt.__proto__||Object.getPrototypeOf(Rt)).call(this,It,$t));if(typeof Ft.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Bt=null;return Ft.quill.on(ft.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Bt),Bt=setTimeout(function(){Ft.highlight(),Bt=null},Ft.options.interval)}),Ft.highlight(),Ft}return st(Rt,[{key:"highlight",value:function(){var $t=this;if(!this.quill.selection.composing){this.quill.update(ft.default.sources.USER);var Ft=this.quill.getSelection();this.quill.scroll.descendants(Et).forEach(function(Bt){Bt.highlight($t.options.highlight)}),this.quill.update(ft.default.sources.SILENT),Ft!=null&&this.quill.setSelection(Ft,ft.default.sources.SILENT)}}}]),Rt}(ht.default);wt.DEFAULTS={highlight:function(){return window.hljs==null?null:function(Ct){var Rt=window.hljs.highlightAuto(Ct);return Rt.value}}(),interval:1e3},rt.CodeBlock=Et,rt.CodeToken=yt,rt.default=wt},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(nt,rt){nt.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(nt,rt){nt.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(nt,rt){nt.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(nt,rt){nt.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(nt,rt){nt.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=rt.BubbleTooltip=void 0;var st=function Rt(It,$t,Ft){It===null&&(It=Function.prototype);var Bt=Object.getOwnPropertyDescriptor(It,$t);if(Bt===void 0){var Nt=Object.getPrototypeOf(It);return Nt===null?void 0:Rt(Nt,$t,Ft)}else{if("value"in Bt)return Bt.value;var Xt=Bt.get;return Xt===void 0?void 0:Xt.call(Ft)}},ot=function(){function Rt(It,$t){for(var Ft=0;Ft<$t.length;Ft++){var Bt=$t[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(It,Bt.key,Bt)}}return function(It,$t,Ft){return $t&&Rt(It.prototype,$t),Ft&&Rt(It,Ft),It}}(),at=it(3),lt=At(at),ut=it(8),ft=At(ut),dt=it(43),ht=At(dt),mt=it(15),xt=it(41),_t=At(xt);function At(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function gt(Rt,It){if(!(Rt instanceof It))throw new TypeError("Cannot call a class as a function")}function vt(Rt,It){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It&&(typeof It=="object"||typeof It=="function")?It:Rt}function Et(Rt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);Rt.prototype=Object.create(It&&It.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,It):Rt.__proto__=It)}var yt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],wt=function(Rt){Et(It,Rt);function It($t,Ft){gt(this,It),Ft.modules.toolbar!=null&&Ft.modules.toolbar.container==null&&(Ft.modules.toolbar.container=yt);var Bt=vt(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,$t,Ft));return Bt.quill.container.classList.add("ql-bubble"),Bt}return ot(It,[{key:"extendToolbar",value:function(Ft){this.tooltip=new Ct(this.quill,this.options.bounds),this.tooltip.root.appendChild(Ft.container),this.buildButtons([].slice.call(Ft.container.querySelectorAll("button")),_t.default),this.buildPickers([].slice.call(Ft.container.querySelectorAll("select")),_t.default)}}]),It}(ht.default);wt.DEFAULTS=(0,lt.default)(!0,{},ht.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(It){It?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var Ct=function(Rt){Et(It,Rt);function It($t,Ft){gt(this,It);var Bt=vt(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,$t,Ft));return Bt.quill.on(ft.default.events.EDITOR_CHANGE,function(Nt,Xt,nn,sn){if(Nt===ft.default.events.SELECTION_CHANGE)if(Xt!=null&&Xt.length>0&&sn===ft.default.sources.USER){Bt.show(),Bt.root.style.left="0px",Bt.root.style.width="",Bt.root.style.width=Bt.root.offsetWidth+"px";var rn=Bt.quill.getLines(Xt.index,Xt.length);if(rn.length===1)Bt.position(Bt.quill.getBounds(Xt));else{var Jt=rn[rn.length-1],Ut=Bt.quill.getIndex(Jt),Kt=Math.min(Jt.length()-1,Xt.index+Xt.length-Ut),Qt=Bt.quill.getBounds(new mt.Range(Ut,Kt));Bt.position(Qt)}}else document.activeElement!==Bt.textbox&&Bt.quill.hasFocus()&&Bt.hide()}),Bt}return ot(It,[{key:"listen",value:function(){var Ft=this;st(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){Ft.root.classList.remove("ql-editing")}),this.quill.on(ft.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!Ft.root.classList.contains("ql-hidden")){var Bt=Ft.quill.getSelection();Bt!=null&&Ft.position(Ft.quill.getBounds(Bt))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(Ft){var Bt=st(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"position",this).call(this,Ft),Nt=this.root.querySelector(".ql-tooltip-arrow");if(Nt.style.marginLeft="",Bt===0)return Bt;Nt.style.marginLeft=-1*Bt-Nt.offsetWidth/2+"px"}}]),It}(dt.BaseTooltip);Ct.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),rt.BubbleTooltip=Ct,rt.default=wt},function(nt,rt,it){nt.exports=it(63)}]).default})})(quill);var quillExports=quill.exports,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var tt=function(et,nt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,it){rt.__proto__=it}||function(rt,it){for(var st in it)it.hasOwnProperty(st)&&(rt[st]=it[st])},tt(et,nt)};return function(et,nt){tt(et,nt);function rt(){this.constructor=et}et.prototype=nt===null?Object.create(nt):(rt.prototype=nt.prototype,new rt)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(tt){for(var et,nt=1,rt=arguments.length;nt<rt;nt++){et=arguments[nt];for(var it in et)Object.prototype.hasOwnProperty.call(et,it)&&(tt[it]=et[it])}return tt},__assign$1.apply(this,arguments)},__spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var tt=0,et=0,nt=arguments.length;et<nt;et++)tt+=arguments[et].length;for(var rt=Array(tt),it=0,et=0;et<nt;et++)for(var st=arguments[et],ot=0,at=st.length;ot<at;ot++,it++)rt[it]=st[ot];return rt},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}},react_1$8=__importDefault(reactExports),react_dom_1=__importDefault(reactDomExports),isEqual_1=__importDefault(isEqual_1$1),quill_1=__importDefault(quillExports),ReactQuill=function(tt){__extends$1(et,tt);function et(nt){var rt=tt.call(this,nt)||this;rt.dirtyProps=["modules","formats","bounds","theme","children"],rt.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],rt.state={generation:0},rt.selection=null,rt.onEditorChange=function(st,ot,at,lt){var ut,ft,dt,ht;st==="text-change"?(ft=(ut=rt).onEditorChangeText)===null||ft===void 0||ft.call(ut,rt.editor.root.innerHTML,ot,lt,rt.unprivilegedEditor):st==="selection-change"&&((ht=(dt=rt).onEditorChangeSelection)===null||ht===void 0||ht.call(dt,ot,lt,rt.unprivilegedEditor))};var it=rt.isControlled()?nt.value:nt.defaultValue;return rt.value=it??"",rt}return et.prototype.validateProps=function(nt){var rt;if(react_1$8.default.Children.count(nt.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(react_1$8.default.Children.count(nt.children)){var it=react_1$8.default.Children.only(nt.children);if(((rt=it)===null||rt===void 0?void 0:rt.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&nt.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},et.prototype.shouldComponentUpdate=function(nt,rt){var it=this,st;if(this.validateProps(nt),!this.editor||this.state.generation!==rt.generation)return!0;if("value"in nt){var ot=this.getEditorContents(),at=(st=nt.value,st??"");this.isEqualValue(at,ot)||this.setEditorContents(this.editor,at)}return nt.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,nt.readOnly),__spreadArrays(this.cleanProps,this.dirtyProps).some(function(lt){return!isEqual_1.default(nt[lt],it.props[lt])})},et.prototype.shouldComponentRegenerate=function(nt){var rt=this;return this.dirtyProps.some(function(it){return!isEqual_1.default(nt[it],rt.props[it])})},et.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},et.prototype.componentWillUnmount=function(){this.destroyEditor()},et.prototype.componentDidUpdate=function(nt,rt){var it=this;if(this.editor&&this.shouldComponentRegenerate(nt)){var st=this.editor.getContents(),ot=this.editor.getSelection();this.regenerationSnapshot={delta:st,selection:ot},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==rt.generation){var at=this.regenerationSnapshot,st=at.delta,lt=at.selection;delete this.regenerationSnapshot,this.instantiateEditor();var ut=this.editor;ut.setContents(st),postpone(function(){return it.setEditorSelection(ut,lt)})}},et.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},et.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},et.prototype.isControlled=function(){return"value"in this.props},et.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},et.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},et.prototype.createEditor=function(nt,rt){var it=new quill_1.default(nt,rt);return rt.tabIndex!=null&&this.setEditorTabIndex(it,rt.tabIndex),this.hookEditor(it),it},et.prototype.hookEditor=function(nt){this.unprivilegedEditor=this.makeUnprivilegedEditor(nt),nt.on("editor-change",this.onEditorChange)},et.prototype.unhookEditor=function(nt){nt.off("editor-change",this.onEditorChange)},et.prototype.getEditorContents=function(){return this.value},et.prototype.getEditorSelection=function(){return this.selection},et.prototype.isDelta=function(nt){return nt&&nt.ops},et.prototype.isEqualValue=function(nt,rt){return this.isDelta(nt)&&this.isDelta(rt)?isEqual_1.default(nt.ops,rt.ops):isEqual_1.default(nt,rt)},et.prototype.setEditorContents=function(nt,rt){var it=this;this.value=rt;var st=this.getEditorSelection();typeof rt=="string"?nt.setContents(nt.clipboard.convert(rt)):nt.setContents(rt),postpone(function(){return it.setEditorSelection(nt,st)})},et.prototype.setEditorSelection=function(nt,rt){if(this.selection=rt,rt){var it=nt.getLength();rt.index=Math.max(0,Math.min(rt.index,it-1)),rt.length=Math.max(0,Math.min(rt.length,it-1-rt.index)),nt.setSelection(rt)}},et.prototype.setEditorTabIndex=function(nt,rt){var it,st;!((st=(it=nt)===null||it===void 0?void 0:it.scroll)===null||st===void 0)&&st.domNode&&(nt.scroll.domNode.tabIndex=rt)},et.prototype.setEditorReadOnly=function(nt,rt){rt?nt.disable():nt.enable()},et.prototype.makeUnprivilegedEditor=function(nt){var rt=nt;return{getHTML:function(){return rt.root.innerHTML},getLength:rt.getLength.bind(rt),getText:rt.getText.bind(rt),getContents:rt.getContents.bind(rt),getSelection:rt.getSelection.bind(rt),getBounds:rt.getBounds.bind(rt)}},et.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var nt=react_dom_1.default.findDOMNode(this.editingArea);if(!nt)throw new Error("Cannot find element for editing area");if(nt.nodeType===3)throw new Error("Editing area cannot be a text node");return nt},et.prototype.renderEditingArea=function(){var nt=this,rt=this.props,it=rt.children,st=rt.preserveWhitespace,ot=this.state.generation,at={key:ot,ref:function(lt){nt.editingArea=lt}};return react_1$8.default.Children.count(it)?react_1$8.default.cloneElement(react_1$8.default.Children.only(it),at):st?react_1$8.default.createElement("pre",__assign$1({},at)):react_1$8.default.createElement("div",__assign$1({},at))},et.prototype.render=function(){var nt;return react_1$8.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(nt=this.props.className,nt??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},et.prototype.onEditorChangeText=function(nt,rt,it,st){var ot,at;if(this.editor){var lt=this.isDelta(this.value)?st.getContents():st.getHTML();lt!==this.getEditorContents()&&(this.lastDeltaChangeSet=rt,this.value=lt,(at=(ot=this.props).onChange)===null||at===void 0||at.call(ot,nt,rt,it,st))}},et.prototype.onEditorChangeSelection=function(nt,rt,it){var st,ot,at,lt,ut,ft;if(this.editor){var dt=this.getEditorSelection(),ht=!dt&&nt,mt=dt&&!nt;isEqual_1.default(nt,dt)||(this.selection=nt,(ot=(st=this.props).onChangeSelection)===null||ot===void 0||ot.call(st,nt,rt,it),ht?(lt=(at=this.props).onFocus)===null||lt===void 0||lt.call(at,nt,rt,it):mt&&((ft=(ut=this.props).onBlur)===null||ft===void 0||ft.call(ut,dt,rt,it)))}},et.prototype.focus=function(){this.editor&&this.editor.focus()},et.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},et.displayName="React Quill",et.Quill=quill_1.default,et.defaultProps={theme:"snow",modules:{},readOnly:!1},et}(react_1$8.default.Component);function postpone(tt){Promise.resolve().then(tt)}var lib=ReactQuill;const ReactQuill$1=getDefaultExportFromCjs(lib),Select$1=styled.select`
  width: 100%;
  padding: 8px 16px;
  width: 100%;
  margin-bottom: 16px;
  font-size: 1.2rem !important;
  font-family: iransans;
  outline: none;
  border: 2px solid #707070 !important;
  border-radius: 12px !important;
  color: #707070 !important;
  direction: rtl;
`,ErrorList=styled.ul`
  text-align: right;
  direction: rtl;
  width: 90%;
  color: red;
  & > li {
    margin-top: 16px;
  }
`;function ErrorMessage({errors:tt,maxList:et,style:nt={}}){return tt[0]&&jsxRuntimeExports.jsx(ErrorList,{children:tt.slice(0,et).map(rt=>jsxRuntimeExports.jsx("li",{style:{...nt},children:rt},shortid$1.generate()))})}var dist={exports:{}};(function(tt,et){(function(nt,rt){tt.exports=rt(reactExports)})(commonjsGlobal,nt=>(()=>{var rt={703:(at,lt,ut)=>{var ft=ut(414);function dt(){}function ht(){}ht.resetWarningCache=dt,at.exports=function(){function mt(At,gt,vt,Et,yt,wt){if(wt!==ft){var Ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Ct.name="Invariant Violation",Ct}}function xt(){return mt}mt.isRequired=mt;var _t={array:mt,bigint:mt,bool:mt,func:mt,number:mt,object:mt,string:mt,symbol:mt,any:mt,arrayOf:xt,element:mt,elementType:mt,instanceOf:xt,node:mt,objectOf:xt,oneOf:xt,oneOfType:xt,shape:xt,exact:xt,checkPropTypes:ht,resetWarningCache:dt};return _t.PropTypes=_t,_t}},697:(at,lt,ut)=>{at.exports=ut(703)()},414:at=>{at.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},639:at=>{at.exports=nt}},it={};function st(at){var lt=it[at];if(lt!==void 0)return lt.exports;var ut=it[at]={exports:{}};return rt[at](ut,ut.exports,st),ut.exports}st.n=at=>{var lt=at&&at.__esModule?()=>at.default:()=>at;return st.d(lt,{a:lt}),lt},st.d=(at,lt)=>{for(var ut in lt)st.o(lt,ut)&&!st.o(at,ut)&&Object.defineProperty(at,ut,{enumerable:!0,get:lt[ut]})},st.o=(at,lt)=>Object.prototype.hasOwnProperty.call(at,lt),st.r=at=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})};var ot={};return(()=>{st.r(ot),st.d(ot,{default:()=>yt});var at=st(639),lt=st.n(at),ut=st(697),ft=st.n(ut);const dt=function(wt){var Ct=wt.name.split(".");return Ct.length>1?Ct[Ct.length-1]:"none"};function ht(wt,Ct){return function(Rt){if(Array.isArray(Rt))return Rt}(wt)||function(Rt,It){var $t=Rt==null?null:typeof Symbol<"u"&&Rt[Symbol.iterator]||Rt["@@iterator"];if($t!=null){var Ft,Bt,Nt,Xt,nn=[],sn=!0,rn=!1;try{if(Nt=($t=$t.call(Rt)).next,It===0){if(Object($t)!==$t)return;sn=!1}else for(;!(sn=(Ft=Nt.call($t)).done)&&(nn.push(Ft.value),nn.length!==It);sn=!0);}catch(Jt){rn=!0,Bt=Jt}finally{try{if(!sn&&$t.return!=null&&(Xt=$t.return(),Object(Xt)!==Xt))return}finally{if(rn)throw Bt}}return nn}}(wt,Ct)||function(Rt,It){if(Rt){if(typeof Rt=="string")return mt(Rt,It);var $t=Object.prototype.toString.call(Rt).slice(8,-1);return $t==="Object"&&Rt.constructor&&($t=Rt.constructor.name),$t==="Map"||$t==="Set"?Array.from(Rt):$t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($t)?mt(Rt,It):void 0}}(wt,Ct)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mt(wt,Ct){(Ct==null||Ct>wt.length)&&(Ct=wt.length);for(var Rt=0,It=new Array(Ct);Rt<Ct;Rt++)It[Rt]=wt[Rt];return It}var xt=/^(application|audio|example|image|message|model|multipart|text|video|\*)\/[a-z0-9\.\+\*-]+$/,_t=/\.[a-zA-Z0-9]*$/;const At=function(wt,Ct){return!wt||wt.some(function(Rt){if(Ct.type&&Rt.match(xt)){var It=ht(Ct.type.split("/"),2),$t=It[0],Ft=It[1],Bt=ht(Rt.split("/"),2),Nt=Bt[0],Xt=Bt[1];if(Nt&&Xt&&(Nt==="*"&&Xt==="*"||Nt===$t&&Xt==="*"||Nt===$t&&Xt===Ft))return!0}else if(Ct.extension&&Rt.match(_t)){var nn=Rt.substr(1);return Ct.extension.toLowerCase()===nn.toLowerCase()}return!1})};function gt(){return gt=Object.assign?Object.assign.bind():function(wt){for(var Ct=1;Ct<arguments.length;Ct++){var Rt=arguments[Ct];for(var It in Rt)Object.prototype.hasOwnProperty.call(Rt,It)&&(wt[It]=Rt[It])}return wt},gt.apply(this,arguments)}function vt(wt,Ct){(Ct==null||Ct>wt.length)&&(Ct=wt.length);for(var Rt=0,It=new Array(Ct);Rt<Ct;Rt++)It[Rt]=wt[Rt];return It}var Et=function(wt){var Ct,Rt,It=wt.accepts,$t=wt.children,Ft=wt.className,Bt=wt.clickable,Nt=wt.dragActiveClassName,Xt=(wt.dragActiveStyle,wt.inputProps),nn=wt.multiple,sn=wt.maxFiles,rn=wt.maxFileSize,Jt=wt.minFileSize,Ut=wt.name,Kt=wt.onChange,Qt=wt.onDragEnter,zt=wt.onDragLeave,Ht=wt.onError,en=wt.style,an=(0,at.useRef)(1),on=(0,at.useRef)(),Wt=(0,at.useRef)(),mn=(Ct=(0,at.useState)(!1),Rt=2,function(Mn){if(Array.isArray(Mn))return Mn}(Ct)||function(Mn,Gn){var er=Mn==null?null:typeof Symbol<"u"&&Mn[Symbol.iterator]||Mn["@@iterator"];if(er!=null){var un,dn,yn,bn,Tn=[],Pn=!0,Yn=!1;try{if(yn=(er=er.call(Mn)).next,Gn===0){if(Object(er)!==er)return;Pn=!1}else for(;!(Pn=(un=yn.call(er)).done)&&(Tn.push(un.value),Tn.length!==Gn);Pn=!0);}catch(Un){Yn=!0,dn=Un}finally{try{if(!Pn&&er.return!=null&&(bn=er.return(),Object(bn)!==bn))return}finally{if(Yn)throw dn}}return Tn}}(Ct,Rt)||function(Mn,Gn){if(Mn){if(typeof Mn=="string")return vt(Mn,Gn);var er=Object.prototype.toString.call(Mn).slice(8,-1);return er==="Object"&&Mn.constructor&&(er=Mn.constructor.name),er==="Map"||er==="Set"?Array.from(Mn):er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(er)?vt(Mn,Gn):void 0}}(Ct,Rt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),vn=mn[0],En=mn[1],Cn=function(Mn,Gn){Ht(Mn,Gn)},$n=(0,at.useCallback)(function(Mn){Mn.preventDefault(),Mn.stopPropagation()},[]),Fn=function(Mn){var Gn=on.current;Nt&&(Gn.className=Gn.className.replace(" ".concat(Nt),"")),typeof $t=="function"&&En(!1),zt&&zt(Mn)},Ln=function(Mn){Mn.preventDefault(),Fn(Mn);var Gn,er=Mn.dataTransfer?Mn.dataTransfer.files:Mn.target.files;nn===!1&&er.length>1&&(er=[er[0]]);for(var un=[],dn=0;dn<er.length;dn+=1){var yn=er[dn];if(yn.id="files-".concat(an.current),an.current+=1,yn.extension=dt(yn),yn.sizeReadable=(Gn=yn.size)>=1e9?Math.ceil(Gn/1e9)+"GB":Gn>=1e6?Math.ceil(Gn/1e6)+"MB":Gn>=1e3?Math.ceil(Gn/1e3)+"KB":Math.ceil(Gn)+"B",yn.type&&yn.type.split("/")[0]==="image"?yn.preview={type:"image",url:window.URL.createObjectURL(yn)}:yn.preview={type:"file"},un.length>=sn){Cn({code:4,message:"maximum file count reached"},yn);break}if(yn.size>rn){Cn({code:2,message:"".concat(yn.name," is too large")},yn);break}if(yn.size<Jt){Cn({code:3,message:"".concat(yn.name," is too small")},yn);break}if(!At(It,yn)){Cn({code:1,message:"".concat(yn.name," is not a valid file type")},yn);break}un.push(yn)}Kt(un)};return lt().createElement(lt().Fragment,null,lt().createElement("input",gt({},Xt,{ref:Wt,type:"file",accept:It?It.join():"",multiple:nn,name:Ut,style:{display:"none"},onChange:Ln})),lt().createElement("div",{ref:on,className:Ft,onClick:Bt===!0?function(){Wt.current.value=null,Wt.current.click()}:null,onDrop:Ln,onDragOver:$n,onDragEnter:function(Mn){var Gn=on.current;Nt&&!Gn.className.includes(Nt)&&(Gn.className="".concat(Gn.className," ").concat(Nt)),typeof $t=="function"&&En(!0),Qt&&Qt(Mn)},onDragLeave:Fn,style:en},typeof $t=="function"?$t(vn):$t))};Et.propTypes={accepts:ft().array,children:ft().oneOfType([ft().func,ft().arrayOf(ft().node),ft().node]),className:ft().string,clickable:ft().bool,dragActiveClassName:ft().string,inputProps:ft().object,multiple:ft().bool,maxFiles:ft().number,maxFileSize:ft().number,minFileSize:ft().number,name:ft().string,onChange:ft().func,onDragEnter:ft().func,onDragLeave:ft().func,onError:ft().func,style:ft().object},Et.defaultProps={accepts:null,className:void 0,clickable:!0,dragActiveClassName:void 0,inputProps:{},multiple:!0,maxFiles:1/0,maxFileSize:1/0,minFileSize:0,name:"file",onChange:function(wt){return console.log(wt)},onDragEnter:void 0,onDragLeave:void 0,onError:function(wt){return console.log("error code ".concat(wt.code,": ").concat(wt.message))}};const yt=Et})(),ot})())})(dist);var distExports=dist.exports;const Files=getDefaultExportFromCjs(distExports),Container$H=styled.div`
    width: 100%;
    direction: rtl;
`,ContainerFileList=styled.div`
    width: 100%;
`,FileItems=styled.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 8px;
    border: 2px dashed #666;
    margin-top: 8px;
`,ImageContainer=styled.div`
    display: flex;

`,DetailContainer$2=styled.div`
    margin-right: 16px;
    display: flex;
    flex-direction: column;
`,DeleteButton=styled.span`
    font-size: 24px;
    cursor: pointer;
`;function Attachment({setFiles:tt,files:et}){const nt=it=>{tt([...it])},rt=it=>{tt(st=>st.filter(ot=>ot.id!==it))};return jsxRuntimeExports.jsxs(Container$H,{children:[jsxRuntimeExports.jsx(Files,{className:"files-attachment",onChange:nt,multiple:!1,maxFiles:5,maxFileSize:1e6,minFileSize:0,accepts:["image/jpeg"],clickable:!0,children:"فایل ها را اینجا رها کنید یا برای آپلود کلیک کنید"}),et.length>0&&jsxRuntimeExports.jsx(ContainerFileList,{children:et.map(it=>jsxRuntimeExports.jsxs(FileItems,{children:[jsxRuntimeExports.jsx(ImageContainer,{children:jsxRuntimeExports.jsxs(DetailContainer$2,{children:[jsxRuntimeExports.jsx("div",{children:it.name}),jsxRuntimeExports.jsx("div",{children:it.sizeReadable})]})}),jsxRuntimeExports.jsx(DeleteButton,{onClick:()=>rt(it.id),children:"X"})]},it.id))})]})}const SelectOption$1=reactExports.memo(({value:tt,dispatch:et})=>{const nt=rt=>{const{name:it,value:st}=rt.target;et(ot=>({...ot,[it]:st}))};return jsxRuntimeExports.jsxs(Select$1,{name:"subject",onChange:nt,value:tt,children:[jsxRuntimeExports.jsx("option",{value:"none",children:"یک موضوع را انتخاب کنید"}),jsxRuntimeExports.jsx("option",{value:"displayError",children:"خطا در نمایش"}),jsxRuntimeExports.jsx("option",{value:"spellingError",children:"خطا در املا"}),jsxRuntimeExports.jsx("option",{value:"codingError",children:"خطا در کد نویسی"}),jsxRuntimeExports.jsx("option",{value:"FPSError",children:"FPS کندی سامانه"}),jsxRuntimeExports.jsx("option",{value:"disrespect",children:"بی احترامی"})]})});function ReportForm({setReports:tt}){const{state:et}=useLocation(),{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState({title:"",content:"",subject:"none",url:et!=null&&et.href?`https://rgb.irpsc.com/${et==null?void 0:et.href}`:"https://rgb.irpsc.com/metaverse/report"}),[ot,at]=reactExports.useState([]),[lt,ut]=reactExports.useState([]),ft=()=>{const dt=[];if(it.title.length<=0&&dt.push("فیلد عنوان خالی است لطفا آنرا پر کنید."),it.subject==="none"&&dt.push("لطفا موضوع گزارش خود را وارد کنید."),it.content.replace(/<[^>]*>?/gm,"")<=50&&dt.push("متن پیام شما باید بیش از 50 کارکتر داشته باشد."),at(dt),lt.length>0){const ht=new FormData;ht.append("file",new Blob([lt[0]],{type:lt[0].type}),lt[0].name||"File");const mt=ht.get("file");dt[0]||nt("reports",rt.POST,{...it,attachment:mt},{"Content-Type":"multipart/form-data"}).then(xt=>{tt(_t=>[..._t,xt.data.data]),st({title:"",content:"",subject:"none",url:"https://rgb.irpsc.com/metaverse/report"}),ut([])},[])}else dt[0]||nt("reports",rt.POST,it).then(ht=>{tt(mt=>[...mt,ht.data.data]),st({title:"",content:"",subject:"none",url:"https://rgb.irpsc.com/metaverse/report"})},[])};return jsxRuntimeExports.jsxs(Form,{onSubmit:ft,children:[jsxRuntimeExports.jsx(SelectOption$1,{dispatch:st,value:it.subject}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Input$8,{floatLabel:!0,name:"title",dispatch:st,value:it.title,type:"text",placeholder:": عنوان",labelColor:"#f5f5f5",style:{direction:"rtl !important",marginBottom:8,textAlign:"right"}}),jsxRuntimeExports.jsx(ReactQuill$1,{style:{width:"100%"},theme:"snow",value:it.content,onChange:dt=>st(ht=>({...ht,content:dt})),placeholder:"متن پیام ..."}),jsxRuntimeExports.jsx(Attachment,{setFiles:ut,files:lt}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ارسال",options:{style:{marginTop:16,width:"100%"}}}),jsxRuntimeExports.jsx(ErrorMessage,{errors:ot,maxList:1})]})}const Table$5=styled.table`
  margin: 0 0 40px 0;
  width: 100%;
  background-color: white;
  direction: rtl;
`,Thead=styled.div`
  display: table-row;
  width: 100%;
  font-weight: bold;
  font-family: iransans;
  color: #ffffff;
  background: var(--bs-orange);
  text-align: center;
`,Cell$1=styled.div`
  padding: 6px 12px;
  display: table-cell;
  text-align: center;
`,Row=styled.div`
  display: table-row;

  &:nth-of-type(odd) {
    background: #e9e9e9;
  }
`;function commonjsRequire(tt){throw new Error('Could not dynamically require "'+tt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var moment$3={exports:{}};(function(tt,et){(function(nt,rt){tt.exports=rt()})(commonjsGlobal,function(){var nt;function rt(){return nt.apply(null,arguments)}function it(Tt){nt=Tt}function st(Tt){return Tt instanceof Array||Object.prototype.toString.call(Tt)==="[object Array]"}function ot(Tt){return Tt!=null&&Object.prototype.toString.call(Tt)==="[object Object]"}function at(Tt,Mt){return Object.prototype.hasOwnProperty.call(Tt,Mt)}function lt(Tt){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Tt).length===0;var Mt;for(Mt in Tt)if(at(Tt,Mt))return!1;return!0}function ut(Tt){return Tt===void 0}function ft(Tt){return typeof Tt=="number"||Object.prototype.toString.call(Tt)==="[object Number]"}function dt(Tt){return Tt instanceof Date||Object.prototype.toString.call(Tt)==="[object Date]"}function ht(Tt,Mt){var Yt=[],tn,pn=Tt.length;for(tn=0;tn<pn;++tn)Yt.push(Mt(Tt[tn],tn));return Yt}function mt(Tt,Mt){for(var Yt in Mt)at(Mt,Yt)&&(Tt[Yt]=Mt[Yt]);return at(Mt,"toString")&&(Tt.toString=Mt.toString),at(Mt,"valueOf")&&(Tt.valueOf=Mt.valueOf),Tt}function xt(Tt,Mt,Yt,tn){return Ro(Tt,Mt,Yt,tn,!0).utc()}function _t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function At(Tt){return Tt._pf==null&&(Tt._pf=_t()),Tt._pf}var gt;Array.prototype.some?gt=Array.prototype.some:gt=function(Tt){var Mt=Object(this),Yt=Mt.length>>>0,tn;for(tn=0;tn<Yt;tn++)if(tn in Mt&&Tt.call(this,Mt[tn],tn,Mt))return!0;return!1};function vt(Tt){if(Tt._isValid==null){var Mt=At(Tt),Yt=gt.call(Mt.parsedDateParts,function(pn){return pn!=null}),tn=!isNaN(Tt._d.getTime())&&Mt.overflow<0&&!Mt.empty&&!Mt.invalidEra&&!Mt.invalidMonth&&!Mt.invalidWeekday&&!Mt.weekdayMismatch&&!Mt.nullInput&&!Mt.invalidFormat&&!Mt.userInvalidated&&(!Mt.meridiem||Mt.meridiem&&Yt);if(Tt._strict&&(tn=tn&&Mt.charsLeftOver===0&&Mt.unusedTokens.length===0&&Mt.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(Tt))Tt._isValid=tn;else return tn}return Tt._isValid}function Et(Tt){var Mt=xt(NaN);return Tt!=null?mt(At(Mt),Tt):At(Mt).userInvalidated=!0,Mt}var yt=rt.momentProperties=[],wt=!1;function Ct(Tt,Mt){var Yt,tn,pn,Rn=yt.length;if(ut(Mt._isAMomentObject)||(Tt._isAMomentObject=Mt._isAMomentObject),ut(Mt._i)||(Tt._i=Mt._i),ut(Mt._f)||(Tt._f=Mt._f),ut(Mt._l)||(Tt._l=Mt._l),ut(Mt._strict)||(Tt._strict=Mt._strict),ut(Mt._tzm)||(Tt._tzm=Mt._tzm),ut(Mt._isUTC)||(Tt._isUTC=Mt._isUTC),ut(Mt._offset)||(Tt._offset=Mt._offset),ut(Mt._pf)||(Tt._pf=At(Mt)),ut(Mt._locale)||(Tt._locale=Mt._locale),Rn>0)for(Yt=0;Yt<Rn;Yt++)tn=yt[Yt],pn=Mt[tn],ut(pn)||(Tt[tn]=pn);return Tt}function Rt(Tt){Ct(this,Tt),this._d=new Date(Tt._d!=null?Tt._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wt===!1&&(wt=!0,rt.updateOffset(this),wt=!1)}function It(Tt){return Tt instanceof Rt||Tt!=null&&Tt._isAMomentObject!=null}function $t(Tt){rt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Tt)}function Ft(Tt,Mt){var Yt=!0;return mt(function(){if(rt.deprecationHandler!=null&&rt.deprecationHandler(null,Tt),Yt){var tn=[],pn,Rn,Wn,Nr=arguments.length;for(Rn=0;Rn<Nr;Rn++){if(pn="",typeof arguments[Rn]=="object"){pn+=`
[`+Rn+"] ";for(Wn in arguments[0])at(arguments[0],Wn)&&(pn+=Wn+": "+arguments[0][Wn]+", ");pn=pn.slice(0,-2)}else pn=arguments[Rn];tn.push(pn)}$t(Tt+`
Arguments: `+Array.prototype.slice.call(tn).join("")+`
`+new Error().stack),Yt=!1}return Mt.apply(this,arguments)},Mt)}var Bt={};function Nt(Tt,Mt){rt.deprecationHandler!=null&&rt.deprecationHandler(Tt,Mt),Bt[Tt]||($t(Mt),Bt[Tt]=!0)}rt.suppressDeprecationWarnings=!1,rt.deprecationHandler=null;function Xt(Tt){return typeof Function<"u"&&Tt instanceof Function||Object.prototype.toString.call(Tt)==="[object Function]"}function nn(Tt){var Mt,Yt;for(Yt in Tt)at(Tt,Yt)&&(Mt=Tt[Yt],Xt(Mt)?this[Yt]=Mt:this["_"+Yt]=Mt);this._config=Tt,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sn(Tt,Mt){var Yt=mt({},Tt),tn;for(tn in Mt)at(Mt,tn)&&(ot(Tt[tn])&&ot(Mt[tn])?(Yt[tn]={},mt(Yt[tn],Tt[tn]),mt(Yt[tn],Mt[tn])):Mt[tn]!=null?Yt[tn]=Mt[tn]:delete Yt[tn]);for(tn in Tt)at(Tt,tn)&&!at(Mt,tn)&&ot(Tt[tn])&&(Yt[tn]=mt({},Yt[tn]));return Yt}function rn(Tt){Tt!=null&&this.set(Tt)}var Jt;Object.keys?Jt=Object.keys:Jt=function(Tt){var Mt,Yt=[];for(Mt in Tt)at(Tt,Mt)&&Yt.push(Mt);return Yt};var Ut={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Kt(Tt,Mt,Yt){var tn=this._calendar[Tt]||this._calendar.sameElse;return Xt(tn)?tn.call(Mt,Yt):tn}function Qt(Tt,Mt,Yt){var tn=""+Math.abs(Tt),pn=Mt-tn.length,Rn=Tt>=0;return(Rn?Yt?"+":"":"-")+Math.pow(10,Math.max(0,pn)).toString().substr(1)+tn}var zt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ht=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,en={},an={};function on(Tt,Mt,Yt,tn){var pn=tn;typeof tn=="string"&&(pn=function(){return this[tn]()}),Tt&&(an[Tt]=pn),Mt&&(an[Mt[0]]=function(){return Qt(pn.apply(this,arguments),Mt[1],Mt[2])}),Yt&&(an[Yt]=function(){return this.localeData().ordinal(pn.apply(this,arguments),Tt)})}function Wt(Tt){return Tt.match(/\[[\s\S]/)?Tt.replace(/^\[|\]$/g,""):Tt.replace(/\\/g,"")}function mn(Tt){var Mt=Tt.match(zt),Yt,tn;for(Yt=0,tn=Mt.length;Yt<tn;Yt++)an[Mt[Yt]]?Mt[Yt]=an[Mt[Yt]]:Mt[Yt]=Wt(Mt[Yt]);return function(pn){var Rn="",Wn;for(Wn=0;Wn<tn;Wn++)Rn+=Xt(Mt[Wn])?Mt[Wn].call(pn,Tt):Mt[Wn];return Rn}}function vn(Tt,Mt){return Tt.isValid()?(Mt=En(Mt,Tt.localeData()),en[Mt]=en[Mt]||mn(Mt),en[Mt](Tt)):Tt.localeData().invalidDate()}function En(Tt,Mt){var Yt=5;function tn(pn){return Mt.longDateFormat(pn)||pn}for(Ht.lastIndex=0;Yt>=0&&Ht.test(Tt);)Tt=Tt.replace(Ht,tn),Ht.lastIndex=0,Yt-=1;return Tt}var Cn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $n(Tt){var Mt=this._longDateFormat[Tt],Yt=this._longDateFormat[Tt.toUpperCase()];return Mt||!Yt?Mt:(this._longDateFormat[Tt]=Yt.match(zt).map(function(tn){return tn==="MMMM"||tn==="MM"||tn==="DD"||tn==="dddd"?tn.slice(1):tn}).join(""),this._longDateFormat[Tt])}var Fn="Invalid date";function Ln(){return this._invalidDate}var Mn="%d",Gn=/\d{1,2}/;function er(Tt){return this._ordinal.replace("%d",Tt)}var un={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dn(Tt,Mt,Yt,tn){var pn=this._relativeTime[Yt];return Xt(pn)?pn(Tt,Mt,Yt,tn):pn.replace(/%d/i,Tt)}function yn(Tt,Mt){var Yt=this._relativeTime[Tt>0?"future":"past"];return Xt(Yt)?Yt(Mt):Yt.replace(/%s/i,Mt)}var bn={};function Tn(Tt,Mt){var Yt=Tt.toLowerCase();bn[Yt]=bn[Yt+"s"]=bn[Mt]=Tt}function Pn(Tt){return typeof Tt=="string"?bn[Tt]||bn[Tt.toLowerCase()]:void 0}function Yn(Tt){var Mt={},Yt,tn;for(tn in Tt)at(Tt,tn)&&(Yt=Pn(tn),Yt&&(Mt[Yt]=Tt[tn]));return Mt}var Un={};function Nn(Tt,Mt){Un[Tt]=Mt}function rr(Tt){var Mt=[],Yt;for(Yt in Tt)at(Tt,Yt)&&Mt.push({unit:Yt,priority:Un[Yt]});return Mt.sort(function(tn,pn){return tn.priority-pn.priority}),Mt}function Kn(Tt){return Tt%4===0&&Tt%100!==0||Tt%400===0}function Vn(Tt){return Tt<0?Math.ceil(Tt)||0:Math.floor(Tt)}function ir(Tt){var Mt=+Tt,Yt=0;return Mt!==0&&isFinite(Mt)&&(Yt=Vn(Mt)),Yt}function gr(Tt,Mt){return function(Yt){return Yt!=null?(Rs(this,Tt,Yt),rt.updateOffset(this,Mt),this):Gr(this,Tt)}}function Gr(Tt,Mt){return Tt.isValid()?Tt._d["get"+(Tt._isUTC?"UTC":"")+Mt]():NaN}function Rs(Tt,Mt,Yt){Tt.isValid()&&!isNaN(Yt)&&(Mt==="FullYear"&&Kn(Tt.year())&&Tt.month()===1&&Tt.date()===29?(Yt=ir(Yt),Tt._d["set"+(Tt._isUTC?"UTC":"")+Mt](Yt,Tt.month(),Ns(Yt,Tt.month()))):Tt._d["set"+(Tt._isUTC?"UTC":"")+Mt](Yt))}function $s(Tt){return Tt=Pn(Tt),Xt(this[Tt])?this[Tt]():this}function kn(Tt,Mt){if(typeof Tt=="object"){Tt=Yn(Tt);var Yt=rr(Tt),tn,pn=Yt.length;for(tn=0;tn<pn;tn++)this[Yt[tn].unit](Tt[Yt[tn].unit])}else if(Tt=Pn(Tt),Xt(this[Tt]))return this[Tt](Mt);return this}var or=/\d/,sr=/\d\d/,Ar=/\d{3}/,ar=/\d{4}/,Pr=/[+-]?\d{6}/,dr=/\d\d?/,xr=/\d\d\d\d?/,pr=/\d\d\d\d\d\d?/,Sr=/\d{1,3}/,Or=/\d{1,4}/,Ur=/[+-]?\d{1,6}/,Ir=/\d+/,jr=/[+-]?\d+/,rs=/Z|[+-]\d\d:?\d\d/gi,Er=/Z|[+-]\d\d(?::?\d\d)?/gi,ps=/[+-]?\d+(\.\d{1,3})?/,Br=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,is;is={};function ur(Tt,Mt,Yt){is[Tt]=Xt(Mt)?Mt:function(tn,pn){return tn&&Yt?Yt:Mt}}function Ls(Tt,Mt){return at(is,Tt)?is[Tt](Mt._strict,Mt._locale):new RegExp(cr(Tt))}function cr(Tt){return Mr(Tt.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Mt,Yt,tn,pn,Rn){return Yt||tn||pn||Rn}))}function Mr(Tt){return Tt.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var js={};function wr(Tt,Mt){var Yt,tn=Mt,pn;for(typeof Tt=="string"&&(Tt=[Tt]),ft(Mt)&&(tn=function(Rn,Wn){Wn[Mt]=ir(Rn)}),pn=Tt.length,Yt=0;Yt<pn;Yt++)js[Tt[Yt]]=tn}function ys(Tt,Mt){wr(Tt,function(Yt,tn,pn,Rn){pn._w=pn._w||{},Mt(Yt,pn._w,pn,Rn)})}function ss(Tt,Mt,Yt){Mt!=null&&at(js,Tt)&&js[Tt](Mt,Yt._a,Yt,Tt)}var os=0,xs=1,ts=2,Fr=3,Jr=4,hs=5,Os=6,uo=7,ws=8;function go(Tt,Mt){return(Tt%Mt+Mt)%Mt}var Vr;Array.prototype.indexOf?Vr=Array.prototype.indexOf:Vr=function(Tt){var Mt;for(Mt=0;Mt<this.length;++Mt)if(this[Mt]===Tt)return Mt;return-1};function Ns(Tt,Mt){if(isNaN(Tt)||isNaN(Mt))return NaN;var Yt=go(Mt,12);return Tt+=(Mt-Yt)/12,Yt===1?Kn(Tt)?29:28:31-Yt%7%2}on("M",["MM",2],"Mo",function(){return this.month()+1}),on("MMM",0,0,function(Tt){return this.localeData().monthsShort(this,Tt)}),on("MMMM",0,0,function(Tt){return this.localeData().months(this,Tt)}),Tn("month","M"),Nn("month",8),ur("M",dr),ur("MM",dr,sr),ur("MMM",function(Tt,Mt){return Mt.monthsShortRegex(Tt)}),ur("MMMM",function(Tt,Mt){return Mt.monthsRegex(Tt)}),wr(["M","MM"],function(Tt,Mt){Mt[xs]=ir(Tt)-1}),wr(["MMM","MMMM"],function(Tt,Mt,Yt,tn){var pn=Yt._locale.monthsParse(Tt,tn,Yt._strict);pn!=null?Mt[xs]=pn:At(Yt).invalidMonth=Tt});var Ts="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ao=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vo=Br,Vs=Br;function co(Tt,Mt){return Tt?st(this._months)?this._months[Tt.month()]:this._months[(this._months.isFormat||ao).test(Mt)?"format":"standalone"][Tt.month()]:st(this._months)?this._months:this._months.standalone}function Bo(Tt,Mt){return Tt?st(this._monthsShort)?this._monthsShort[Tt.month()]:this._monthsShort[ao.test(Mt)?"format":"standalone"][Tt.month()]:st(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ks(Tt,Mt,Yt){var tn,pn,Rn,Wn=Tt.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],tn=0;tn<12;++tn)Rn=xt([2e3,tn]),this._shortMonthsParse[tn]=this.monthsShort(Rn,"").toLocaleLowerCase(),this._longMonthsParse[tn]=this.months(Rn,"").toLocaleLowerCase();return Yt?Mt==="MMM"?(pn=Vr.call(this._shortMonthsParse,Wn),pn!==-1?pn:null):(pn=Vr.call(this._longMonthsParse,Wn),pn!==-1?pn:null):Mt==="MMM"?(pn=Vr.call(this._shortMonthsParse,Wn),pn!==-1?pn:(pn=Vr.call(this._longMonthsParse,Wn),pn!==-1?pn:null)):(pn=Vr.call(this._longMonthsParse,Wn),pn!==-1?pn:(pn=Vr.call(this._shortMonthsParse,Wn),pn!==-1?pn:null))}function Hr(Tt,Mt,Yt){var tn,pn,Rn;if(this._monthsParseExact)return Ks.call(this,Tt,Mt,Yt);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),tn=0;tn<12;tn++){if(pn=xt([2e3,tn]),Yt&&!this._longMonthsParse[tn]&&(this._longMonthsParse[tn]=new RegExp("^"+this.months(pn,"").replace(".","")+"$","i"),this._shortMonthsParse[tn]=new RegExp("^"+this.monthsShort(pn,"").replace(".","")+"$","i")),!Yt&&!this._monthsParse[tn]&&(Rn="^"+this.months(pn,"")+"|^"+this.monthsShort(pn,""),this._monthsParse[tn]=new RegExp(Rn.replace(".",""),"i")),Yt&&Mt==="MMMM"&&this._longMonthsParse[tn].test(Tt))return tn;if(Yt&&Mt==="MMM"&&this._shortMonthsParse[tn].test(Tt))return tn;if(!Yt&&this._monthsParse[tn].test(Tt))return tn}}function Kr(Tt,Mt){var Yt;if(!Tt.isValid())return Tt;if(typeof Mt=="string"){if(/^\d+$/.test(Mt))Mt=ir(Mt);else if(Mt=Tt.localeData().monthsParse(Mt),!ft(Mt))return Tt}return Yt=Math.min(Tt.date(),Ns(Tt.year(),Mt)),Tt._d["set"+(Tt._isUTC?"UTC":"")+"Month"](Mt,Yt),Tt}function ks(Tt){return Tt!=null?(Kr(this,Tt),rt.updateOffset(this,!0),this):Gr(this,"Month")}function to(){return Ns(this.year(),this.month())}function Zs(Tt){return this._monthsParseExact?(at(this,"_monthsRegex")||Lr.call(this),Tt?this._monthsShortStrictRegex:this._monthsShortRegex):(at(this,"_monthsShortRegex")||(this._monthsShortRegex=vo),this._monthsShortStrictRegex&&Tt?this._monthsShortStrictRegex:this._monthsShortRegex)}function To(Tt){return this._monthsParseExact?(at(this,"_monthsRegex")||Lr.call(this),Tt?this._monthsStrictRegex:this._monthsRegex):(at(this,"_monthsRegex")||(this._monthsRegex=Vs),this._monthsStrictRegex&&Tt?this._monthsStrictRegex:this._monthsRegex)}function Lr(){function Tt(Wn,Nr){return Nr.length-Wn.length}var Mt=[],Yt=[],tn=[],pn,Rn;for(pn=0;pn<12;pn++)Rn=xt([2e3,pn]),Mt.push(this.monthsShort(Rn,"")),Yt.push(this.months(Rn,"")),tn.push(this.months(Rn,"")),tn.push(this.monthsShort(Rn,""));for(Mt.sort(Tt),Yt.sort(Tt),tn.sort(Tt),pn=0;pn<12;pn++)Mt[pn]=Mr(Mt[pn]),Yt[pn]=Mr(Yt[pn]);for(pn=0;pn<24;pn++)tn[pn]=Mr(tn[pn]);this._monthsRegex=new RegExp("^("+tn.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Yt.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Mt.join("|")+")","i")}on("Y",0,0,function(){var Tt=this.year();return Tt<=9999?Qt(Tt,4):"+"+Tt}),on(0,["YY",2],0,function(){return this.year()%100}),on(0,["YYYY",4],0,"year"),on(0,["YYYYY",5],0,"year"),on(0,["YYYYYY",6,!0],0,"year"),Tn("year","y"),Nn("year",1),ur("Y",jr),ur("YY",dr,sr),ur("YYYY",Or,ar),ur("YYYYY",Ur,Pr),ur("YYYYYY",Ur,Pr),wr(["YYYYY","YYYYYY"],os),wr("YYYY",function(Tt,Mt){Mt[os]=Tt.length===2?rt.parseTwoDigitYear(Tt):ir(Tt)}),wr("YY",function(Tt,Mt){Mt[os]=rt.parseTwoDigitYear(Tt)}),wr("Y",function(Tt,Mt){Mt[os]=parseInt(Tt,10)});function ns(Tt){return Kn(Tt)?366:365}rt.parseTwoDigitYear=function(Tt){return ir(Tt)+(ir(Tt)>68?1900:2e3)};var Xs=gr("FullYear",!0);function Vo(){return Kn(this.year())}function Js(Tt,Mt,Yt,tn,pn,Rn,Wn){var Nr;return Tt<100&&Tt>=0?(Nr=new Date(Tt+400,Mt,Yt,tn,pn,Rn,Wn),isFinite(Nr.getFullYear())&&Nr.setFullYear(Tt)):Nr=new Date(Tt,Mt,Yt,tn,pn,Rn,Wn),Nr}function Eo(Tt){var Mt,Yt;return Tt<100&&Tt>=0?(Yt=Array.prototype.slice.call(arguments),Yt[0]=Tt+400,Mt=new Date(Date.UTC.apply(null,Yt)),isFinite(Mt.getUTCFullYear())&&Mt.setUTCFullYear(Tt)):Mt=new Date(Date.UTC.apply(null,arguments)),Mt}function no(Tt,Mt,Yt){var tn=7+Mt-Yt,pn=(7+Eo(Tt,0,tn).getUTCDay()-Mt)%7;return-pn+tn-1}function Ao(Tt,Mt,Yt,tn,pn){var Rn=(7+Yt-tn)%7,Wn=no(Tt,tn,pn),Nr=1+7*(Mt-1)+Rn+Wn,us,Gs;return Nr<=0?(us=Tt-1,Gs=ns(us)+Nr):Nr>ns(Tt)?(us=Tt+1,Gs=Nr-ns(Tt)):(us=Tt,Gs=Nr),{year:us,dayOfYear:Gs}}function ms(Tt,Mt,Yt){var tn=no(Tt.year(),Mt,Yt),pn=Math.floor((Tt.dayOfYear()-tn-1)/7)+1,Rn,Wn;return pn<1?(Wn=Tt.year()-1,Rn=pn+cn(Wn,Mt,Yt)):pn>cn(Tt.year(),Mt,Yt)?(Rn=pn-cn(Tt.year(),Mt,Yt),Wn=Tt.year()+1):(Wn=Tt.year(),Rn=pn),{week:Rn,year:Wn}}function cn(Tt,Mt,Yt){var tn=no(Tt,Mt,Yt),pn=no(Tt+1,Mt,Yt);return(ns(Tt)-tn+pn)/7}on("w",["ww",2],"wo","week"),on("W",["WW",2],"Wo","isoWeek"),Tn("week","w"),Tn("isoWeek","W"),Nn("week",5),Nn("isoWeek",5),ur("w",dr),ur("ww",dr,sr),ur("W",dr),ur("WW",dr,sr),ys(["w","ww","W","WW"],function(Tt,Mt,Yt,tn){Mt[tn.substr(0,1)]=ir(Tt)});function xn(Tt){return ms(Tt,this._week.dow,this._week.doy).week}var Sn={dow:0,doy:6};function Bn(){return this._week.dow}function Xn(){return this._week.doy}function Hn(Tt){var Mt=this.localeData().week(this);return Tt==null?Mt:this.add((Tt-Mt)*7,"d")}function mr(Tt){var Mt=ms(this,1,4).week;return Tt==null?Mt:this.add((Tt-Mt)*7,"d")}on("d",0,"do","day"),on("dd",0,0,function(Tt){return this.localeData().weekdaysMin(this,Tt)}),on("ddd",0,0,function(Tt){return this.localeData().weekdaysShort(this,Tt)}),on("dddd",0,0,function(Tt){return this.localeData().weekdays(this,Tt)}),on("e",0,0,"weekday"),on("E",0,0,"isoWeekday"),Tn("day","d"),Tn("weekday","e"),Tn("isoWeekday","E"),Nn("day",11),Nn("weekday",11),Nn("isoWeekday",11),ur("d",dr),ur("e",dr),ur("E",dr),ur("dd",function(Tt,Mt){return Mt.weekdaysMinRegex(Tt)}),ur("ddd",function(Tt,Mt){return Mt.weekdaysShortRegex(Tt)}),ur("dddd",function(Tt,Mt){return Mt.weekdaysRegex(Tt)}),ys(["dd","ddd","dddd"],function(Tt,Mt,Yt,tn){var pn=Yt._locale.weekdaysParse(Tt,tn,Yt._strict);pn!=null?Mt.d=pn:At(Yt).invalidWeekday=Tt}),ys(["d","e","E"],function(Tt,Mt,Yt,tn){Mt[tn]=ir(Tt)});function yr(Tt,Mt){return typeof Tt!="string"?Tt:isNaN(Tt)?(Tt=Mt.weekdaysParse(Tt),typeof Tt=="number"?Tt:null):parseInt(Tt,10)}function Cr(Tt,Mt){return typeof Tt=="string"?Mt.weekdaysParse(Tt)%7||7:isNaN(Tt)?null:Tt}function Rr(Tt,Mt){return Tt.slice(Mt,7).concat(Tt.slice(0,Mt))}var zr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ds="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bs="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fo=Br,$r=Br,Co=Br;function _s(Tt,Mt){var Yt=st(this._weekdays)?this._weekdays:this._weekdays[Tt&&Tt!==!0&&this._weekdays.isFormat.test(Mt)?"format":"standalone"];return Tt===!0?Rr(Yt,this._week.dow):Tt?Yt[Tt.day()]:Yt}function ro(Tt){return Tt===!0?Rr(this._weekdaysShort,this._week.dow):Tt?this._weekdaysShort[Tt.day()]:this._weekdaysShort}function $o(Tt){return Tt===!0?Rr(this._weekdaysMin,this._week.dow):Tt?this._weekdaysMin[Tt.day()]:this._weekdaysMin}function pu(Tt,Mt,Yt){var tn,pn,Rn,Wn=Tt.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],tn=0;tn<7;++tn)Rn=xt([2e3,1]).day(tn),this._minWeekdaysParse[tn]=this.weekdaysMin(Rn,"").toLocaleLowerCase(),this._shortWeekdaysParse[tn]=this.weekdaysShort(Rn,"").toLocaleLowerCase(),this._weekdaysParse[tn]=this.weekdays(Rn,"").toLocaleLowerCase();return Yt?Mt==="dddd"?(pn=Vr.call(this._weekdaysParse,Wn),pn!==-1?pn:null):Mt==="ddd"?(pn=Vr.call(this._shortWeekdaysParse,Wn),pn!==-1?pn:null):(pn=Vr.call(this._minWeekdaysParse,Wn),pn!==-1?pn:null):Mt==="dddd"?(pn=Vr.call(this._weekdaysParse,Wn),pn!==-1||(pn=Vr.call(this._shortWeekdaysParse,Wn),pn!==-1)?pn:(pn=Vr.call(this._minWeekdaysParse,Wn),pn!==-1?pn:null)):Mt==="ddd"?(pn=Vr.call(this._shortWeekdaysParse,Wn),pn!==-1||(pn=Vr.call(this._weekdaysParse,Wn),pn!==-1)?pn:(pn=Vr.call(this._minWeekdaysParse,Wn),pn!==-1?pn:null)):(pn=Vr.call(this._minWeekdaysParse,Wn),pn!==-1||(pn=Vr.call(this._weekdaysParse,Wn),pn!==-1)?pn:(pn=Vr.call(this._shortWeekdaysParse,Wn),pn!==-1?pn:null))}function mu(Tt,Mt,Yt){var tn,pn,Rn;if(this._weekdaysParseExact)return pu.call(this,Tt,Mt,Yt);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),tn=0;tn<7;tn++){if(pn=xt([2e3,1]).day(tn),Yt&&!this._fullWeekdaysParse[tn]&&(this._fullWeekdaysParse[tn]=new RegExp("^"+this.weekdays(pn,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[tn]=new RegExp("^"+this.weekdaysShort(pn,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[tn]=new RegExp("^"+this.weekdaysMin(pn,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[tn]||(Rn="^"+this.weekdays(pn,"")+"|^"+this.weekdaysShort(pn,"")+"|^"+this.weekdaysMin(pn,""),this._weekdaysParse[tn]=new RegExp(Rn.replace(".",""),"i")),Yt&&Mt==="dddd"&&this._fullWeekdaysParse[tn].test(Tt))return tn;if(Yt&&Mt==="ddd"&&this._shortWeekdaysParse[tn].test(Tt))return tn;if(Yt&&Mt==="dd"&&this._minWeekdaysParse[tn].test(Tt))return tn;if(!Yt&&this._weekdaysParse[tn].test(Tt))return tn}}function Zo(Tt){if(!this.isValid())return Tt!=null?this:NaN;var Mt=this._isUTC?this._d.getUTCDay():this._d.getDay();return Tt!=null?(Tt=yr(Tt,this.localeData()),this.add(Tt-Mt,"d")):Mt}function _l(Tt){if(!this.isValid())return Tt!=null?this:NaN;var Mt=(this.day()+7-this.localeData()._week.dow)%7;return Tt==null?Mt:this.add(Tt-Mt,"d")}function Ho(Tt){if(!this.isValid())return Tt!=null?this:NaN;if(Tt!=null){var Mt=Cr(Tt,this.localeData());return this.day(this.day()%7?Mt:Mt-7)}else return this.day()||7}function es(Tt){return this._weekdaysParseExact?(at(this,"_weekdaysRegex")||Jo.call(this),Tt?this._weekdaysStrictRegex:this._weekdaysRegex):(at(this,"_weekdaysRegex")||(this._weekdaysRegex=fo),this._weekdaysStrictRegex&&Tt?this._weekdaysStrictRegex:this._weekdaysRegex)}function as(Tt){return this._weekdaysParseExact?(at(this,"_weekdaysRegex")||Jo.call(this),Tt?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(at(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$r),this._weekdaysShortStrictRegex&&Tt?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yl(Tt){return this._weekdaysParseExact?(at(this,"_weekdaysRegex")||Jo.call(this),Tt?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(at(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Co),this._weekdaysMinStrictRegex&&Tt?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jo(){function Tt(zo,cu){return cu.length-zo.length}var Mt=[],Yt=[],tn=[],pn=[],Rn,Wn,Nr,us,Gs;for(Rn=0;Rn<7;Rn++)Wn=xt([2e3,1]).day(Rn),Nr=Mr(this.weekdaysMin(Wn,"")),us=Mr(this.weekdaysShort(Wn,"")),Gs=Mr(this.weekdays(Wn,"")),Mt.push(Nr),Yt.push(us),tn.push(Gs),pn.push(Nr),pn.push(us),pn.push(Gs);Mt.sort(Tt),Yt.sort(Tt),tn.sort(Tt),pn.sort(Tt),this._weekdaysRegex=new RegExp("^("+pn.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+tn.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Yt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Mt.join("|")+")","i")}function gu(){return this.hours()%12||12}function hr(){return this.hours()||24}on("H",["HH",2],0,"hour"),on("h",["hh",2],0,gu),on("k",["kk",2],0,hr),on("hmm",0,0,function(){return""+gu.apply(this)+Qt(this.minutes(),2)}),on("hmmss",0,0,function(){return""+gu.apply(this)+Qt(this.minutes(),2)+Qt(this.seconds(),2)}),on("Hmm",0,0,function(){return""+this.hours()+Qt(this.minutes(),2)}),on("Hmmss",0,0,function(){return""+this.hours()+Qt(this.minutes(),2)+Qt(this.seconds(),2)});function Wr(Tt,Mt){on(Tt,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Mt)})}Wr("a",!0),Wr("A",!1),Tn("hour","h"),Nn("hour",13);function yo(Tt,Mt){return Mt._meridiemParse}ur("a",yo),ur("A",yo),ur("H",dr),ur("h",dr),ur("k",dr),ur("HH",dr,sr),ur("hh",dr,sr),ur("kk",dr,sr),ur("hmm",xr),ur("hmmss",pr),ur("Hmm",xr),ur("Hmmss",pr),wr(["H","HH"],Fr),wr(["k","kk"],function(Tt,Mt,Yt){var tn=ir(Tt);Mt[Fr]=tn===24?0:tn}),wr(["a","A"],function(Tt,Mt,Yt){Yt._isPm=Yt._locale.isPM(Tt),Yt._meridiem=Tt}),wr(["h","hh"],function(Tt,Mt,Yt){Mt[Fr]=ir(Tt),At(Yt).bigHour=!0}),wr("hmm",function(Tt,Mt,Yt){var tn=Tt.length-2;Mt[Fr]=ir(Tt.substr(0,tn)),Mt[Jr]=ir(Tt.substr(tn)),At(Yt).bigHour=!0}),wr("hmmss",function(Tt,Mt,Yt){var tn=Tt.length-4,pn=Tt.length-2;Mt[Fr]=ir(Tt.substr(0,tn)),Mt[Jr]=ir(Tt.substr(tn,2)),Mt[hs]=ir(Tt.substr(pn)),At(Yt).bigHour=!0}),wr("Hmm",function(Tt,Mt,Yt){var tn=Tt.length-2;Mt[Fr]=ir(Tt.substr(0,tn)),Mt[Jr]=ir(Tt.substr(tn))}),wr("Hmmss",function(Tt,Mt,Yt){var tn=Tt.length-4,pn=Tt.length-2;Mt[Fr]=ir(Tt.substr(0,tn)),Mt[Jr]=ir(Tt.substr(tn,2)),Mt[hs]=ir(Tt.substr(pn))});function lo(Tt){return(Tt+"").toLowerCase().charAt(0)==="p"}var Yr=/[ap]\.?m?\.?/i,Hs=gr("Hours",!0);function Fs(Tt,Mt,Yt){return Tt>11?Yt?"pm":"PM":Yt?"am":"AM"}var Po={calendar:Ut,longDateFormat:Cn,invalidDate:Fn,ordinal:Mn,dayOfMonthOrdinalParse:Gn,relativeTime:un,months:Ts,monthsShort:eo,week:Sn,weekdays:zr,weekdaysMin:bs,weekdaysShort:Ds,meridiemParse:Yr},Us={},Dl={},mo;function Ep(Tt,Mt){var Yt,tn=Math.min(Tt.length,Mt.length);for(Yt=0;Yt<tn;Yt+=1)if(Tt[Yt]!==Mt[Yt])return Yt;return tn}function Mu(Tt){return Tt&&Tt.toLowerCase().replace("_","-")}function Lu(Tt){for(var Mt=0,Yt,tn,pn,Rn;Mt<Tt.length;){for(Rn=Mu(Tt[Mt]).split("-"),Yt=Rn.length,tn=Mu(Tt[Mt+1]),tn=tn?tn.split("-"):null;Yt>0;){if(pn=Bl(Rn.slice(0,Yt).join("-")),pn)return pn;if(tn&&tn.length>=Yt&&Ep(Rn,tn)>=Yt-1)break;Yt--}Mt++}return mo}function El(Tt){return Tt.match("^[^/\\\\]*$")!=null}function Bl(Tt){var Mt=null,Yt;if(Us[Tt]===void 0&&tt&&tt.exports&&El(Tt))try{Mt=mo._abbr,Yt=commonjsRequire,Yt("./locale/"+Tt),Qo(Mt)}catch{Us[Tt]=null}return Us[Tt]}function Qo(Tt,Mt){var Yt;return Tt&&(ut(Mt)?Yt=Qs(Tt):Yt=Ws(Tt,Mt),Yt?mo=Yt:typeof console<"u"&&console.warn&&console.warn("Locale "+Tt+" not found. Did you forget to load it?")),mo._abbr}function Ws(Tt,Mt){if(Mt!==null){var Yt,tn=Po;if(Mt.abbr=Tt,Us[Tt]!=null)Nt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),tn=Us[Tt]._config;else if(Mt.parentLocale!=null)if(Us[Mt.parentLocale]!=null)tn=Us[Mt.parentLocale]._config;else if(Yt=Bl(Mt.parentLocale),Yt!=null)tn=Yt._config;else return Dl[Mt.parentLocale]||(Dl[Mt.parentLocale]=[]),Dl[Mt.parentLocale].push({name:Tt,config:Mt}),null;return Us[Tt]=new rn(sn(tn,Mt)),Dl[Tt]&&Dl[Tt].forEach(function(pn){Ws(pn.name,pn.config)}),Qo(Tt),Us[Tt]}else return delete Us[Tt],null}function Op(Tt,Mt){if(Mt!=null){var Yt,tn,pn=Po;Us[Tt]!=null&&Us[Tt].parentLocale!=null?Us[Tt].set(sn(Us[Tt]._config,Mt)):(tn=Bl(Tt),tn!=null&&(pn=tn._config),Mt=sn(pn,Mt),tn==null&&(Mt.abbr=Tt),Yt=new rn(Mt),Yt.parentLocale=Us[Tt],Us[Tt]=Yt),Qo(Tt)}else Us[Tt]!=null&&(Us[Tt].parentLocale!=null?(Us[Tt]=Us[Tt].parentLocale,Tt===Qo()&&Qo(Tt)):Us[Tt]!=null&&delete Us[Tt]);return Us[Tt]}function Qs(Tt){var Mt;if(Tt&&Tt._locale&&Tt._locale._abbr&&(Tt=Tt._locale._abbr),!Tt)return mo;if(!st(Tt)){if(Mt=Bl(Tt),Mt)return Mt;Tt=[Tt]}return Lu(Tt)}function Al(){return Jt(Us)}function Xl(Tt){var Mt,Yt=Tt._a;return Yt&&At(Tt).overflow===-2&&(Mt=Yt[xs]<0||Yt[xs]>11?xs:Yt[ts]<1||Yt[ts]>Ns(Yt[os],Yt[xs])?ts:Yt[Fr]<0||Yt[Fr]>24||Yt[Fr]===24&&(Yt[Jr]!==0||Yt[hs]!==0||Yt[Os]!==0)?Fr:Yt[Jr]<0||Yt[Jr]>59?Jr:Yt[hs]<0||Yt[hs]>59?hs:Yt[Os]<0||Yt[Os]>999?Os:-1,At(Tt)._overflowDayOfYear&&(Mt<os||Mt>ts)&&(Mt=ts),At(Tt)._overflowWeeks&&Mt===-1&&(Mt=uo),At(Tt)._overflowWeekday&&Mt===-1&&(Mt=ws),At(Tt).overflow=Mt),Tt}var na=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ku=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_f=/Z|[+-]\d\d(?::?\d\d)?/,Is=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Wo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Du=/^\/?Date\((-?\d+)/i,bp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Kl={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Sl(Tt){var Mt,Yt,tn=Tt._i,pn=na.exec(tn)||ku.exec(tn),Rn,Wn,Nr,us,Gs=Is.length,zo=Wo.length;if(pn){for(At(Tt).iso=!0,Mt=0,Yt=Gs;Mt<Yt;Mt++)if(Is[Mt][1].exec(pn[1])){Wn=Is[Mt][0],Rn=Is[Mt][2]!==!1;break}if(Wn==null){Tt._isValid=!1;return}if(pn[3]){for(Mt=0,Yt=zo;Mt<Yt;Mt++)if(Wo[Mt][1].exec(pn[3])){Nr=(pn[2]||" ")+Wo[Mt][0];break}if(Nr==null){Tt._isValid=!1;return}}if(!Rn&&Nr!=null){Tt._isValid=!1;return}if(pn[4])if(_f.exec(pn[4]))us="Z";else{Tt._isValid=!1;return}Tt._f=Wn+(Nr||"")+(us||""),ep(Tt)}else Tt._isValid=!1}function Ap(Tt,Mt,Yt,tn,pn,Rn){var Wn=[vu(Tt),eo.indexOf(Mt),parseInt(Yt,10),parseInt(tn,10),parseInt(pn,10)];return Rn&&Wn.push(parseInt(Rn,10)),Wn}function vu(Tt){var Mt=parseInt(Tt,10);return Mt<=49?2e3+Mt:Mt<=999?1900+Mt:Mt}function Oo(Tt){return Tt.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qr(Tt,Mt,Yt){if(Tt){var tn=Ds.indexOf(Tt),pn=new Date(Mt[0],Mt[1],Mt[2]).getDay();if(tn!==pn)return At(Yt).weekdayMismatch=!0,Yt._isValid=!1,!1}return!0}function ga(Tt,Mt,Yt){if(Tt)return Kl[Tt];if(Mt)return 0;var tn=parseInt(Yt,10),pn=tn%100,Rn=(tn-pn)/100;return Rn*60+pn}function yu(Tt){var Mt=bp.exec(Oo(Tt._i)),Yt;if(Mt){if(Yt=Ap(Mt[4],Mt[3],Mt[2],Mt[5],Mt[6],Mt[7]),!qr(Mt[1],Yt,Tt))return;Tt._a=Yt,Tt._tzm=ga(Mt[8],Mt[9],Mt[10]),Tt._d=Eo.apply(null,Tt._a),Tt._d.setUTCMinutes(Tt._d.getUTCMinutes()-Tt._tzm),At(Tt).rfc2822=!0}else Tt._isValid=!1}function _h(Tt){var Mt=Du.exec(Tt._i);if(Mt!==null){Tt._d=new Date(+Mt[1]);return}if(Sl(Tt),Tt._isValid===!1)delete Tt._isValid;else return;if(yu(Tt),Tt._isValid===!1)delete Tt._isValid;else return;Tt._strict?Tt._isValid=!1:rt.createFromInputFallback(Tt)}rt.createFromInputFallback=Ft("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Tt){Tt._d=new Date(Tt._i+(Tt._useUTC?" UTC":""))});function Tl(Tt,Mt,Yt){return Tt??Mt??Yt}function _d(Tt){var Mt=new Date(rt.now());return Tt._useUTC?[Mt.getUTCFullYear(),Mt.getUTCMonth(),Mt.getUTCDate()]:[Mt.getFullYear(),Mt.getMonth(),Mt.getDate()]}function $l(Tt){var Mt,Yt,tn=[],pn,Rn,Wn;if(!Tt._d){for(pn=_d(Tt),Tt._w&&Tt._a[ts]==null&&Tt._a[xs]==null&&xu(Tt),Tt._dayOfYear!=null&&(Wn=Tl(Tt._a[os],pn[os]),(Tt._dayOfYear>ns(Wn)||Tt._dayOfYear===0)&&(At(Tt)._overflowDayOfYear=!0),Yt=Eo(Wn,0,Tt._dayOfYear),Tt._a[xs]=Yt.getUTCMonth(),Tt._a[ts]=Yt.getUTCDate()),Mt=0;Mt<3&&Tt._a[Mt]==null;++Mt)Tt._a[Mt]=tn[Mt]=pn[Mt];for(;Mt<7;Mt++)Tt._a[Mt]=tn[Mt]=Tt._a[Mt]==null?Mt===2?1:0:Tt._a[Mt];Tt._a[Fr]===24&&Tt._a[Jr]===0&&Tt._a[hs]===0&&Tt._a[Os]===0&&(Tt._nextDay=!0,Tt._a[Fr]=0),Tt._d=(Tt._useUTC?Eo:Js).apply(null,tn),Rn=Tt._useUTC?Tt._d.getUTCDay():Tt._d.getDay(),Tt._tzm!=null&&Tt._d.setUTCMinutes(Tt._d.getUTCMinutes()-Tt._tzm),Tt._nextDay&&(Tt._a[Fr]=24),Tt._w&&typeof Tt._w.d<"u"&&Tt._w.d!==Rn&&(At(Tt).weekdayMismatch=!0)}}function xu(Tt){var Mt,Yt,tn,pn,Rn,Wn,Nr,us,Gs;Mt=Tt._w,Mt.GG!=null||Mt.W!=null||Mt.E!=null?(Rn=1,Wn=4,Yt=Tl(Mt.GG,Tt._a[os],ms(zs(),1,4).year),tn=Tl(Mt.W,1),pn=Tl(Mt.E,1),(pn<1||pn>7)&&(us=!0)):(Rn=Tt._locale._week.dow,Wn=Tt._locale._week.doy,Gs=ms(zs(),Rn,Wn),Yt=Tl(Mt.gg,Tt._a[os],Gs.year),tn=Tl(Mt.w,Gs.week),Mt.d!=null?(pn=Mt.d,(pn<0||pn>6)&&(us=!0)):Mt.e!=null?(pn=Mt.e+Rn,(Mt.e<0||Mt.e>6)&&(us=!0)):pn=Rn),tn<1||tn>cn(Yt,Rn,Wn)?At(Tt)._overflowWeeks=!0:us!=null?At(Tt)._overflowWeekday=!0:(Nr=Ao(Yt,tn,pn,Rn,Wn),Tt._a[os]=Nr.year,Tt._dayOfYear=Nr.dayOfYear)}rt.ISO_8601=function(){},rt.RFC_2822=function(){};function ep(Tt){if(Tt._f===rt.ISO_8601){Sl(Tt);return}if(Tt._f===rt.RFC_2822){yu(Tt);return}Tt._a=[],At(Tt).empty=!0;var Mt=""+Tt._i,Yt,tn,pn,Rn,Wn,Nr=Mt.length,us=0,Gs,zo;for(pn=En(Tt._f,Tt._locale).match(zt)||[],zo=pn.length,Yt=0;Yt<zo;Yt++)Rn=pn[Yt],tn=(Mt.match(Ls(Rn,Tt))||[])[0],tn&&(Wn=Mt.substr(0,Mt.indexOf(tn)),Wn.length>0&&At(Tt).unusedInput.push(Wn),Mt=Mt.slice(Mt.indexOf(tn)+tn.length),us+=tn.length),an[Rn]?(tn?At(Tt).empty=!1:At(Tt).unusedTokens.push(Rn),ss(Rn,tn,Tt)):Tt._strict&&!tn&&At(Tt).unusedTokens.push(Rn);At(Tt).charsLeftOver=Nr-us,Mt.length>0&&At(Tt).unusedInput.push(Mt),Tt._a[Fr]<=12&&At(Tt).bigHour===!0&&Tt._a[Fr]>0&&(At(Tt).bigHour=void 0),At(Tt).parsedDateParts=Tt._a.slice(0),At(Tt).meridiem=Tt._meridiem,Tt._a[Fr]=tp(Tt._locale,Tt._a[Fr],Tt._meridiem),Gs=At(Tt).era,Gs!==null&&(Tt._a[os]=Tt._locale.erasConvertYear(Gs,Tt._a[os])),$l(Tt),Xl(Tt)}function tp(Tt,Mt,Yt){var tn;return Yt==null?Mt:Tt.meridiemHour!=null?Tt.meridiemHour(Mt,Yt):(Tt.isPM!=null&&(tn=Tt.isPM(Yt),tn&&Mt<12&&(Mt+=12),!tn&&Mt===12&&(Mt=0)),Mt)}function Bu(Tt){var Mt,Yt,tn,pn,Rn,Wn,Nr=!1,us=Tt._f.length;if(us===0){At(Tt).invalidFormat=!0,Tt._d=new Date(NaN);return}for(pn=0;pn<us;pn++)Rn=0,Wn=!1,Mt=Ct({},Tt),Tt._useUTC!=null&&(Mt._useUTC=Tt._useUTC),Mt._f=Tt._f[pn],ep(Mt),vt(Mt)&&(Wn=!0),Rn+=At(Mt).charsLeftOver,Rn+=At(Mt).unusedTokens.length*10,At(Mt).score=Rn,Nr?Rn<tn&&(tn=Rn,Yt=Mt):(tn==null||Rn<tn||Wn)&&(tn=Rn,Yt=Mt,Wn&&(Nr=!0));mt(Tt,Yt||Mt)}function Ip(Tt){if(!Tt._d){var Mt=Yn(Tt._i),Yt=Mt.day===void 0?Mt.date:Mt.day;Tt._a=ht([Mt.year,Mt.month,Yt,Mt.hour,Mt.minute,Mt.second,Mt.millisecond],function(tn){return tn&&parseInt(tn,10)}),$l(Tt)}}function Lo(Tt){var Mt=new Rt(Xl(ho(Tt)));return Mt._nextDay&&(Mt.add(1,"d"),Mt._nextDay=void 0),Mt}function ho(Tt){var Mt=Tt._i,Yt=Tt._f;return Tt._locale=Tt._locale||Qs(Tt._l),Mt===null||Yt===void 0&&Mt===""?Et({nullInput:!0}):(typeof Mt=="string"&&(Tt._i=Mt=Tt._locale.preparse(Mt)),It(Mt)?new Rt(Xl(Mt)):(dt(Mt)?Tt._d=Mt:st(Yt)?Bu(Tt):Yt?ep(Tt):np(Tt),vt(Tt)||(Tt._d=null),Tt))}function np(Tt){var Mt=Tt._i;ut(Mt)?Tt._d=new Date(rt.now()):dt(Mt)?Tt._d=new Date(Mt.valueOf()):typeof Mt=="string"?_h(Tt):st(Mt)?(Tt._a=ht(Mt.slice(0),function(Yt){return parseInt(Yt,10)}),$l(Tt)):ot(Mt)?Ip(Tt):ft(Mt)?Tt._d=new Date(Mt):rt.createFromInputFallback(Tt)}function Ro(Tt,Mt,Yt,tn,pn){var Rn={};return(Mt===!0||Mt===!1)&&(tn=Mt,Mt=void 0),(Yt===!0||Yt===!1)&&(tn=Yt,Yt=void 0),(ot(Tt)&&lt(Tt)||st(Tt)&&Tt.length===0)&&(Tt=void 0),Rn._isAMomentObject=!0,Rn._useUTC=Rn._isUTC=pn,Rn._l=Yt,Rn._i=Tt,Rn._f=Mt,Rn._strict=tn,Lo(Rn)}function zs(Tt,Mt,Yt,tn){return Ro(Tt,Mt,Yt,tn,!1)}var Nl=Ft("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Tt=zs.apply(null,arguments);return this.isValid()&&Tt.isValid()?Tt<this?this:Tt:Et()}),Mp=Ft("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Tt=zs.apply(null,arguments);return this.isValid()&&Tt.isValid()?Tt>this?this:Tt:Et()});function No(Tt,Mt){var Yt,tn;if(Mt.length===1&&st(Mt[0])&&(Mt=Mt[0]),!Mt.length)return zs();for(Yt=Mt[0],tn=1;tn<Mt.length;++tn)(!Mt[tn].isValid()||Mt[tn][Tt](Yt))&&(Yt=Mt[tn]);return Yt}function Sp(){var Tt=[].slice.call(arguments,0);return No("isBefore",Tt)}function $u(){var Tt=[].slice.call(arguments,0);return No("isAfter",Tt)}var Lp=function(){return Date.now?Date.now():+new Date},xo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nu(Tt){var Mt,Yt=!1,tn,pn=xo.length;for(Mt in Tt)if(at(Tt,Mt)&&!(Vr.call(xo,Mt)!==-1&&(Tt[Mt]==null||!isNaN(Tt[Mt]))))return!1;for(tn=0;tn<pn;++tn)if(Tt[xo[tn]]){if(Yt)return!1;parseFloat(Tt[xo[tn]])!==ir(Tt[xo[tn]])&&(Yt=!0)}return!0}function kp(){return this._isValid}function _u(){return Qn(NaN)}function Eu(Tt){var Mt=Yn(Tt),Yt=Mt.year||0,tn=Mt.quarter||0,pn=Mt.month||0,Rn=Mt.week||Mt.isoWeek||0,Wn=Mt.day||0,Nr=Mt.hour||0,us=Mt.minute||0,Gs=Mt.second||0,zo=Mt.millisecond||0;this._isValid=Nu(Mt),this._milliseconds=+zo+Gs*1e3+us*6e4+Nr*1e3*60*60,this._days=+Wn+Rn*7,this._months=+pn+tn*3+Yt*12,this._data={},this._locale=Qs(),this._bubble()}function po(Tt){return Tt instanceof Eu}function Zl(Tt){return Tt<0?Math.round(-1*Tt)*-1:Math.round(Tt)}function Jl(Tt,Mt,Yt){var tn=Math.min(Tt.length,Mt.length),pn=Math.abs(Tt.length-Mt.length),Rn=0,Wn;for(Wn=0;Wn<tn;Wn++)(Yt&&Tt[Wn]!==Mt[Wn]||!Yt&&ir(Tt[Wn])!==ir(Mt[Wn]))&&Rn++;return Rn+pn}function wp(Tt,Mt){on(Tt,0,0,function(){var Yt=this.utcOffset(),tn="+";return Yt<0&&(Yt=-Yt,tn="-"),tn+Qt(~~(Yt/60),2)+Mt+Qt(~~Yt%60,2)})}wp("Z",":"),wp("ZZ",""),ur("Z",Er),ur("ZZ",Er),wr(["Z","ZZ"],function(Tt,Mt,Yt){Yt._useUTC=!0,Yt._tzm=Fo(Er,Tt)});var xa=/([\+\-]|\d\d)/gi;function Fo(Tt,Mt){var Yt=(Mt||"").match(Tt),tn,pn,Rn;return Yt===null?null:(tn=Yt[Yt.length-1]||[],pn=(tn+"").match(xa)||["-",0,0],Rn=+(pn[1]*60)+ir(pn[2]),Rn===0?0:pn[0]==="+"?Rn:-Rn)}function jo(Tt,Mt){var Yt,tn;return Mt._isUTC?(Yt=Mt.clone(),tn=(It(Tt)||dt(Tt)?Tt.valueOf():zs(Tt).valueOf())-Yt.valueOf(),Yt._d.setTime(Yt._d.valueOf()+tn),rt.updateOffset(Yt,!1),Yt):zs(Tt).local()}function Ql(Tt){return-Math.round(Tt._d.getTimezoneOffset())}rt.updateOffset=function(){};function Fu(Tt,Mt,Yt){var tn=this._offset||0,pn;if(!this.isValid())return Tt!=null?this:NaN;if(Tt!=null){if(typeof Tt=="string"){if(Tt=Fo(Er,Tt),Tt===null)return this}else Math.abs(Tt)<16&&!Yt&&(Tt=Tt*60);return!this._isUTC&&Mt&&(pn=Ql(this)),this._offset=Tt,this._isUTC=!0,pn!=null&&this.add(pn,"m"),tn!==Tt&&(!Mt||this._changeInProgress?rp(this,Qn(Tt-tn,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,rt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?tn:Ql(this)}function Gu(Tt,Mt){return Tt!=null?(typeof Tt!="string"&&(Tt=-Tt),this.utcOffset(Tt,Mt),this):-this.utcOffset()}function eu(Tt){return this.utcOffset(0,Tt)}function tu(Tt){return this._isUTC&&(this.utcOffset(0,Tt),this._isUTC=!1,Tt&&this.subtract(Ql(this),"m")),this}function kt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Tt=Fo(rs,this._i);Tt!=null?this.utcOffset(Tt):this.utcOffset(0,!0)}return this}function Lt(Tt){return this.isValid()?(Tt=Tt?zs(Tt).utcOffset():0,(this.utcOffset()-Tt)%60===0):!1}function Ot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if(!ut(this._isDSTShifted))return this._isDSTShifted;var Tt={},Mt;return Ct(Tt,this),Tt=ho(Tt),Tt._a?(Mt=Tt._isUTC?xt(Tt._a):zs(Tt._a),this._isDSTShifted=this.isValid()&&Jl(Tt._a,Mt.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qt(){return this.isValid()?!this._isUTC:!1}function hn(){return this.isValid()?this._isUTC:!1}function On(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qn(Tt,Mt){var Yt=Tt,tn=null,pn,Rn,Wn;return po(Tt)?Yt={ms:Tt._milliseconds,d:Tt._days,M:Tt._months}:ft(Tt)||!isNaN(+Tt)?(Yt={},Mt?Yt[Mt]=+Tt:Yt.milliseconds=+Tt):(tn=qn.exec(Tt))?(pn=tn[1]==="-"?-1:1,Yt={y:0,d:ir(tn[ts])*pn,h:ir(tn[Fr])*pn,m:ir(tn[Jr])*pn,s:ir(tn[hs])*pn,ms:ir(Zl(tn[Os]*1e3))*pn}):(tn=vr.exec(Tt))?(pn=tn[1]==="-"?-1:1,Yt={y:kr(tn[2],pn),M:kr(tn[3],pn),w:kr(tn[4],pn),d:kr(tn[5],pn),h:kr(tn[6],pn),m:kr(tn[7],pn),s:kr(tn[8],pn)}):Yt==null?Yt={}:typeof Yt=="object"&&("from"in Yt||"to"in Yt)&&(Wn=so(zs(Yt.from),zs(Yt.to)),Yt={},Yt.ms=Wn.milliseconds,Yt.M=Wn.months),Rn=new Eu(Yt),po(Tt)&&at(Tt,"_locale")&&(Rn._locale=Tt._locale),po(Tt)&&at(Tt,"_isValid")&&(Rn._isValid=Tt._isValid),Rn}Qn.fn=Eu.prototype,Qn.invalid=_u;function kr(Tt,Mt){var Yt=Tt&&parseFloat(Tt.replace(",","."));return(isNaN(Yt)?0:Yt)*Mt}function Ys(Tt,Mt){var Yt={};return Yt.months=Mt.month()-Tt.month()+(Mt.year()-Tt.year())*12,Tt.clone().add(Yt.months,"M").isAfter(Mt)&&--Yt.months,Yt.milliseconds=+Mt-+Tt.clone().add(Yt.months,"M"),Yt}function so(Tt,Mt){var Yt;return Tt.isValid()&&Mt.isValid()?(Mt=jo(Mt,Tt),Tt.isBefore(Mt)?Yt=Ys(Tt,Mt):(Yt=Ys(Mt,Tt),Yt.milliseconds=-Yt.milliseconds,Yt.months=-Yt.months),Yt):{milliseconds:0,months:0}}function Cl(Tt,Mt){return function(Yt,tn){var pn,Rn;return tn!==null&&!isNaN(+tn)&&(Nt(Mt,"moment()."+Mt+"(period, number) is deprecated. Please use moment()."+Mt+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Rn=Yt,Yt=tn,tn=Rn),pn=Qn(Yt,tn),rp(this,pn,Tt),this}}function rp(Tt,Mt,Yt,tn){var pn=Mt._milliseconds,Rn=Zl(Mt._days),Wn=Zl(Mt._months);Tt.isValid()&&(tn=tn??!0,Wn&&Kr(Tt,Gr(Tt,"Month")+Wn*Yt),Rn&&Rs(Tt,"Date",Gr(Tt,"Date")+Rn*Yt),pn&&Tt._d.setTime(Tt._d.valueOf()+pn*Yt),tn&&rt.updateOffset(Tt,Rn||Wn))}var Fl=Cl(1,"add"),bu=Cl(-1,"subtract");function _a(Tt){return typeof Tt=="string"||Tt instanceof String}function Cs(Tt){return It(Tt)||dt(Tt)||_a(Tt)||ft(Tt)||sp(Tt)||nu(Tt)||Tt===null||Tt===void 0}function nu(Tt){var Mt=ot(Tt)&&!lt(Tt),Yt=!1,tn=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],pn,Rn,Wn=tn.length;for(pn=0;pn<Wn;pn+=1)Rn=tn[pn],Yt=Yt||at(Tt,Rn);return Mt&&Yt}function sp(Tt){var Mt=st(Tt),Yt=!1;return Mt&&(Yt=Tt.filter(function(tn){return!ft(tn)&&_a(Tt)}).length===0),Mt&&Yt}function ru(Tt){var Mt=ot(Tt)&&!lt(Tt),Yt=!1,tn=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],pn,Rn;for(pn=0;pn<tn.length;pn+=1)Rn=tn[pn],Yt=Yt||at(Tt,Rn);return Mt&&Yt}function Tp(Tt,Mt){var Yt=Tt.diff(Mt,"days",!0);return Yt<-6?"sameElse":Yt<-1?"lastWeek":Yt<0?"lastDay":Yt<1?"sameDay":Yt<2?"nextDay":Yt<7?"nextWeek":"sameElse"}function Yo(Tt,Mt){arguments.length===1&&(arguments[0]?Cs(arguments[0])?(Tt=arguments[0],Mt=void 0):ru(arguments[0])&&(Mt=arguments[0],Tt=void 0):(Tt=void 0,Mt=void 0));var Yt=Tt||zs(),tn=jo(Yt,this).startOf("day"),pn=rt.calendarFormat(this,tn)||"sameElse",Rn=Mt&&(Xt(Mt[pn])?Mt[pn].call(this,Yt):Mt[pn]);return this.format(Rn||this.localeData().calendar(pn,this,zs(Yt)))}function Uu(){return new Rt(this)}function Gl(Tt,Mt){var Yt=It(Tt)?Tt:zs(Tt);return this.isValid()&&Yt.isValid()?(Mt=Pn(Mt)||"millisecond",Mt==="millisecond"?this.valueOf()>Yt.valueOf():Yt.valueOf()<this.clone().startOf(Mt).valueOf()):!1}function Io(Tt,Mt){var Yt=It(Tt)?Tt:zs(Tt);return this.isValid()&&Yt.isValid()?(Mt=Pn(Mt)||"millisecond",Mt==="millisecond"?this.valueOf()<Yt.valueOf():this.clone().endOf(Mt).valueOf()<Yt.valueOf()):!1}function zu(Tt,Mt,Yt,tn){var pn=It(Tt)?Tt:zs(Tt),Rn=It(Mt)?Mt:zs(Mt);return this.isValid()&&pn.isValid()&&Rn.isValid()?(tn=tn||"()",(tn[0]==="("?this.isAfter(pn,Yt):!this.isBefore(pn,Yt))&&(tn[1]===")"?this.isBefore(Rn,Yt):!this.isAfter(Rn,Yt))):!1}function Au(Tt,Mt){var Yt=It(Tt)?Tt:zs(Tt),tn;return this.isValid()&&Yt.isValid()?(Mt=Pn(Mt)||"millisecond",Mt==="millisecond"?this.valueOf()===Yt.valueOf():(tn=Yt.valueOf(),this.clone().startOf(Mt).valueOf()<=tn&&tn<=this.clone().endOf(Mt).valueOf())):!1}function Pl(Tt,Mt){return this.isSame(Tt,Mt)||this.isAfter(Tt,Mt)}function ap(Tt,Mt){return this.isSame(Tt,Mt)||this.isBefore(Tt,Mt)}function Vu(Tt,Mt,Yt){var tn,pn,Rn;if(!this.isValid())return NaN;if(tn=jo(Tt,this),!tn.isValid())return NaN;switch(pn=(tn.utcOffset()-this.utcOffset())*6e4,Mt=Pn(Mt),Mt){case"year":Rn=Su(this,tn)/12;break;case"month":Rn=Su(this,tn);break;case"quarter":Rn=Su(this,tn)/3;break;case"second":Rn=(this-tn)/1e3;break;case"minute":Rn=(this-tn)/6e4;break;case"hour":Rn=(this-tn)/36e5;break;case"day":Rn=(this-tn-pn)/864e5;break;case"week":Rn=(this-tn-pn)/6048e5;break;default:Rn=this-tn}return Yt?Rn:Vn(Rn)}function Su(Tt,Mt){if(Tt.date()<Mt.date())return-Su(Mt,Tt);var Yt=(Mt.year()-Tt.year())*12+(Mt.month()-Tt.month()),tn=Tt.clone().add(Yt,"months"),pn,Rn;return Mt-tn<0?(pn=Tt.clone().add(Yt-1,"months"),Rn=(Mt-tn)/(tn-pn)):(pn=Tt.clone().add(Yt+1,"months"),Rn=(Mt-tn)/(pn-tn)),-(Yt+Rn)||0}rt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",rt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hu(Tt){if(!this.isValid())return null;var Mt=Tt!==!0,Yt=Mt?this.clone().utc():this;return Yt.year()<0||Yt.year()>9999?vn(Yt,Mt?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xt(Date.prototype.toISOString)?Mt?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",vn(Yt,"Z")):vn(Yt,Mt?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function iu(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Tt="moment",Mt="",Yt,tn,pn,Rn;return this.isLocal()||(Tt=this.utcOffset()===0?"moment.utc":"moment.parseZone",Mt="Z"),Yt="["+Tt+'("]',tn=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",pn="-MM-DD[T]HH:mm:ss.SSS",Rn=Mt+'[")]',this.format(Yt+tn+pn+Rn)}function lp(Tt){Tt||(Tt=this.isUtc()?rt.defaultFormatUtc:rt.defaultFormat);var Mt=vn(this,Tt);return this.localeData().postformat(Mt)}function zp(Tt,Mt){return this.isValid()&&(It(Tt)&&Tt.isValid()||zs(Tt).isValid())?Qn({to:this,from:Tt}).locale(this.locale()).humanize(!Mt):this.localeData().invalidDate()}function sm(Tt){return this.from(zs(),Tt)}function Vp(Tt,Mt){return this.isValid()&&(It(Tt)&&Tt.isValid()||zs(Tt).isValid())?Qn({from:this,to:Tt}).locale(this.locale()).humanize(!Mt):this.localeData().invalidDate()}function up(Tt){return this.to(zs(),Tt)}function cp(Tt){var Mt;return Tt===void 0?this._locale._abbr:(Mt=Qs(Tt),Mt!=null&&(this._locale=Mt),this)}var ct=Ft("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Tt){return Tt===void 0?this.localeData():this.locale(Tt)});function bt(){return this._locale}var Pt=1e3,Dt=60*Pt,Zt=60*Dt,fn=(365*400+97)*24*Zt;function An(Tt,Mt){return(Tt%Mt+Mt)%Mt}function Dn(Tt,Mt,Yt){return Tt<100&&Tt>=0?new Date(Tt+400,Mt,Yt)-fn:new Date(Tt,Mt,Yt).valueOf()}function zn(Tt,Mt,Yt){return Tt<100&&Tt>=0?Date.UTC(Tt+400,Mt,Yt)-fn:Date.UTC(Tt,Mt,Yt)}function tr(Tt){var Mt,Yt;if(Tt=Pn(Tt),Tt===void 0||Tt==="millisecond"||!this.isValid())return this;switch(Yt=this._isUTC?zn:Dn,Tt){case"year":Mt=Yt(this.year(),0,1);break;case"quarter":Mt=Yt(this.year(),this.month()-this.month()%3,1);break;case"month":Mt=Yt(this.year(),this.month(),1);break;case"week":Mt=Yt(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Mt=Yt(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Mt=Yt(this.year(),this.month(),this.date());break;case"hour":Mt=this._d.valueOf(),Mt-=An(Mt+(this._isUTC?0:this.utcOffset()*Dt),Zt);break;case"minute":Mt=this._d.valueOf(),Mt-=An(Mt,Dt);break;case"second":Mt=this._d.valueOf(),Mt-=An(Mt,Pt);break}return this._d.setTime(Mt),rt.updateOffset(this,!0),this}function _r(Tt){var Mt,Yt;if(Tt=Pn(Tt),Tt===void 0||Tt==="millisecond"||!this.isValid())return this;switch(Yt=this._isUTC?zn:Dn,Tt){case"year":Mt=Yt(this.year()+1,0,1)-1;break;case"quarter":Mt=Yt(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Mt=Yt(this.year(),this.month()+1,1)-1;break;case"week":Mt=Yt(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Mt=Yt(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Mt=Yt(this.year(),this.month(),this.date()+1)-1;break;case"hour":Mt=this._d.valueOf(),Mt+=Zt-An(Mt+(this._isUTC?0:this.utcOffset()*Dt),Zt)-1;break;case"minute":Mt=this._d.valueOf(),Mt+=Dt-An(Mt,Dt)-1;break;case"second":Mt=this._d.valueOf(),Mt+=Pt-An(Mt,Pt)-1;break}return this._d.setTime(Mt),rt.updateOffset(this,!0),this}function Xr(){return this._d.valueOf()-(this._offset||0)*6e4}function ls(){return Math.floor(this.valueOf()/1e3)}function ko(){return new Date(this.valueOf())}function qo(){var Tt=this;return[Tt.year(),Tt.month(),Tt.date(),Tt.hour(),Tt.minute(),Tt.second(),Tt.millisecond()]}function su(){var Tt=this;return{years:Tt.year(),months:Tt.month(),date:Tt.date(),hours:Tt.hours(),minutes:Tt.minutes(),seconds:Tt.seconds(),milliseconds:Tt.milliseconds()}}function Xo(){return this.isValid()?this.toISOString():null}function Wu(){return vt(this)}function Yu(){return mt({},At(this))}function om(){return At(this).overflow}function am(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}on("N",0,0,"eraAbbr"),on("NN",0,0,"eraAbbr"),on("NNN",0,0,"eraAbbr"),on("NNNN",0,0,"eraName"),on("NNNNN",0,0,"eraNarrow"),on("y",["y",1],"yo","eraYear"),on("y",["yy",2],0,"eraYear"),on("y",["yyy",3],0,"eraYear"),on("y",["yyyy",4],0,"eraYear"),ur("N",ds),ur("NN",ds),ur("NNN",ds),ur("NNNN",Qm),ur("NNNNN",_g),wr(["N","NN","NNN","NNNN","NNNNN"],function(Tt,Mt,Yt,tn){var pn=Yt._locale.erasParse(Tt,tn,Yt._strict);pn?At(Yt).era=pn:At(Yt).invalidEra=Tt}),ur("y",Ir),ur("yy",Ir),ur("yyy",Ir),ur("yyyy",Ir),ur("yo",ev),wr(["y","yy","yyy","yyyy"],os),wr(["yo"],function(Tt,Mt,Yt,tn){var pn;Yt._locale._eraYearOrdinalRegex&&(pn=Tt.match(Yt._locale._eraYearOrdinalRegex)),Yt._locale.eraYearOrdinalParse?Mt[os]=Yt._locale.eraYearOrdinalParse(Tt,pn):Mt[os]=parseInt(Tt,10)});function Hp(Tt,Mt){var Yt,tn,pn,Rn=this._eras||Qs("en")._eras;for(Yt=0,tn=Rn.length;Yt<tn;++Yt){switch(typeof Rn[Yt].since){case"string":pn=rt(Rn[Yt].since).startOf("day"),Rn[Yt].since=pn.valueOf();break}switch(typeof Rn[Yt].until){case"undefined":Rn[Yt].until=1/0;break;case"string":pn=rt(Rn[Yt].until).startOf("day").valueOf(),Rn[Yt].until=pn.valueOf();break}}return Rn}function lm(Tt,Mt,Yt){var tn,pn,Rn=this.eras(),Wn,Nr,us;for(Tt=Tt.toUpperCase(),tn=0,pn=Rn.length;tn<pn;++tn)if(Wn=Rn[tn].name.toUpperCase(),Nr=Rn[tn].abbr.toUpperCase(),us=Rn[tn].narrow.toUpperCase(),Yt)switch(Mt){case"N":case"NN":case"NNN":if(Nr===Tt)return Rn[tn];break;case"NNNN":if(Wn===Tt)return Rn[tn];break;case"NNNNN":if(us===Tt)return Rn[tn];break}else if([Wn,Nr,us].indexOf(Tt)>=0)return Rn[tn]}function Wp(Tt,Mt){var Yt=Tt.since<=Tt.until?1:-1;return Mt===void 0?rt(Tt.since).year():rt(Tt.since).year()+(Mt-Tt.offset)*Yt}function oo(){var Tt,Mt,Yt,tn=this.localeData().eras();for(Tt=0,Mt=tn.length;Tt<Mt;++Tt)if(Yt=this.clone().startOf("day").valueOf(),tn[Tt].since<=Yt&&Yt<=tn[Tt].until||tn[Tt].until<=Yt&&Yt<=tn[Tt].since)return tn[Tt].name;return""}function ou(){var Tt,Mt,Yt,tn=this.localeData().eras();for(Tt=0,Mt=tn.length;Tt<Mt;++Tt)if(Yt=this.clone().startOf("day").valueOf(),tn[Tt].since<=Yt&&Yt<=tn[Tt].until||tn[Tt].until<=Yt&&Yt<=tn[Tt].since)return tn[Tt].narrow;return""}function Yp(){var Tt,Mt,Yt,tn=this.localeData().eras();for(Tt=0,Mt=tn.length;Tt<Mt;++Tt)if(Yt=this.clone().startOf("day").valueOf(),tn[Tt].since<=Yt&&Yt<=tn[Tt].until||tn[Tt].until<=Yt&&Yt<=tn[Tt].since)return tn[Tt].abbr;return""}function gn(){var Tt,Mt,Yt,tn,pn=this.localeData().eras();for(Tt=0,Mt=pn.length;Tt<Mt;++Tt)if(Yt=pn[Tt].since<=pn[Tt].until?1:-1,tn=this.clone().startOf("day").valueOf(),pn[Tt].since<=tn&&tn<=pn[Tt].until||pn[Tt].until<=tn&&tn<=pn[Tt].since)return(this.year()-rt(pn[Tt].since).year())*Yt+pn[Tt].offset;return this.year()}function qu(Tt){return at(this,"_erasNameRegex")||wu.call(this),Tt?this._erasNameRegex:this._erasRegex}function Xu(Tt){return at(this,"_erasAbbrRegex")||wu.call(this),Tt?this._erasAbbrRegex:this._erasRegex}function Go(Tt){return at(this,"_erasNarrowRegex")||wu.call(this),Tt?this._erasNarrowRegex:this._erasRegex}function ds(Tt,Mt){return Mt.erasAbbrRegex(Tt)}function Qm(Tt,Mt){return Mt.erasNameRegex(Tt)}function _g(Tt,Mt){return Mt.erasNarrowRegex(Tt)}function ev(Tt,Mt){return Mt._eraYearOrdinalRegex||Ir}function wu(){var Tt=[],Mt=[],Yt=[],tn=[],pn,Rn,Wn=this.eras();for(pn=0,Rn=Wn.length;pn<Rn;++pn)Mt.push(Mr(Wn[pn].name)),Tt.push(Mr(Wn[pn].abbr)),Yt.push(Mr(Wn[pn].narrow)),tn.push(Mr(Wn[pn].name)),tn.push(Mr(Wn[pn].abbr)),tn.push(Mr(Wn[pn].narrow));this._erasRegex=new RegExp("^("+tn.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Mt.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Tt.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Yt.join("|")+")","i")}on(0,["gg",2],0,function(){return this.weekYear()%100}),on(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qp(Tt,Mt){on(0,[Tt,Tt.length],0,Mt)}qp("gggg","weekYear"),qp("ggggg","weekYear"),qp("GGGG","isoWeekYear"),qp("GGGGG","isoWeekYear"),Tn("weekYear","gg"),Tn("isoWeekYear","GG"),Nn("weekYear",1),Nn("isoWeekYear",1),ur("G",jr),ur("g",jr),ur("GG",dr,sr),ur("gg",dr,sr),ur("GGGG",Or,ar),ur("gggg",Or,ar),ur("GGGGG",Ur,Pr),ur("ggggg",Ur,Pr),ys(["gggg","ggggg","GGGG","GGGGG"],function(Tt,Mt,Yt,tn){Mt[tn.substr(0,2)]=ir(Tt)}),ys(["gg","GG"],function(Tt,Mt,Yt,tn){Mt[tn]=rt.parseTwoDigitYear(Tt)});function tv(Tt){return bm.call(this,Tt,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function nv(Tt){return bm.call(this,Tt,this.isoWeek(),this.isoWeekday(),1,4)}function rv(){return cn(this.year(),1,4)}function iv(){return cn(this.isoWeekYear(),1,4)}function Tu(){var Tt=this.localeData()._week;return cn(this.year(),Tt.dow,Tt.doy)}function sv(){var Tt=this.localeData()._week;return cn(this.weekYear(),Tt.dow,Tt.doy)}function bm(Tt,Mt,Yt,tn,pn){var Rn;return Tt==null?ms(this,tn,pn).year:(Rn=cn(Tt,tn,pn),Mt>Rn&&(Mt=Rn),ov.call(this,Tt,Mt,Yt,tn,pn))}function ov(Tt,Mt,Yt,tn,pn){var Rn=Ao(Tt,Mt,Yt,tn,pn),Wn=Eo(Rn.year,0,Rn.dayOfYear);return this.year(Wn.getUTCFullYear()),this.month(Wn.getUTCMonth()),this.date(Wn.getUTCDate()),this}on("Q",0,"Qo","quarter"),Tn("quarter","Q"),Nn("quarter",7),ur("Q",or),wr("Q",function(Tt,Mt){Mt[xs]=(ir(Tt)-1)*3});function av(Tt){return Tt==null?Math.ceil((this.month()+1)/3):this.month((Tt-1)*3+this.month()%3)}on("D",["DD",2],"Do","date"),Tn("date","D"),Nn("date",9),ur("D",dr),ur("DD",dr,sr),ur("Do",function(Tt,Mt){return Tt?Mt._dayOfMonthOrdinalParse||Mt._ordinalParse:Mt._dayOfMonthOrdinalParseLenient}),wr(["D","DD"],ts),wr("Do",function(Tt,Mt){Mt[ts]=ir(Tt.match(dr)[0])});var Am=gr("Date",!0);on("DDD",["DDDD",3],"DDDo","dayOfYear"),Tn("dayOfYear","DDD"),Nn("dayOfYear",4),ur("DDD",Sr),ur("DDDD",Ar),wr(["DDD","DDDD"],function(Tt,Mt,Yt){Yt._dayOfYear=ir(Tt)});function Cu(Tt){var Mt=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Tt==null?Mt:this.add(Tt-Mt,"d")}on("m",["mm",2],0,"minute"),Tn("minute","m"),Nn("minute",14),ur("m",dr),ur("mm",dr,sr),wr(["m","mm"],Jr);var lv=gr("Minutes",!1);on("s",["ss",2],0,"second"),Tn("second","s"),Nn("second",15),ur("s",dr),ur("ss",dr,sr),wr(["s","ss"],hs);var uv=gr("Seconds",!1);on("S",0,0,function(){return~~(this.millisecond()/100)}),on(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),on(0,["SSS",3],0,"millisecond"),on(0,["SSSS",4],0,function(){return this.millisecond()*10}),on(0,["SSSSS",5],0,function(){return this.millisecond()*100}),on(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),on(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),on(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),on(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Tn("millisecond","ms"),Nn("millisecond",16),ur("S",Sr,or),ur("SS",Sr,sr),ur("SSS",Sr,Ar);var Ku,Sm;for(Ku="SSSS";Ku.length<=9;Ku+="S")ur(Ku,Ir);function cv(Tt,Mt){Mt[Os]=ir(("0."+Tt)*1e3)}for(Ku="S";Ku.length<=9;Ku+="S")wr(Ku,cv);Sm=gr("Milliseconds",!1),on("z",0,0,"zoneAbbr"),on("zz",0,0,"zoneName");function fp(){return this._isUTC?"UTC":""}function fv(){return this._isUTC?"Coordinated Universal Time":""}var lr=Rt.prototype;lr.add=Fl,lr.calendar=Yo,lr.clone=Uu,lr.diff=Vu,lr.endOf=_r,lr.format=lp,lr.from=zp,lr.fromNow=sm,lr.to=Vp,lr.toNow=up,lr.get=$s,lr.invalidAt=om,lr.isAfter=Gl,lr.isBefore=Io,lr.isBetween=zu,lr.isSame=Au,lr.isSameOrAfter=Pl,lr.isSameOrBefore=ap,lr.isValid=Wu,lr.lang=ct,lr.locale=cp,lr.localeData=bt,lr.max=Mp,lr.min=Nl,lr.parsingFlags=Yu,lr.set=kn,lr.startOf=tr,lr.subtract=bu,lr.toArray=qo,lr.toObject=su,lr.toDate=ko,lr.toISOString=Hu,lr.inspect=iu,typeof Symbol<"u"&&Symbol.for!=null&&(lr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lr.toJSON=Xo,lr.toString=Dp,lr.unix=ls,lr.valueOf=Xr,lr.creationData=am,lr.eraName=oo,lr.eraNarrow=ou,lr.eraAbbr=Yp,lr.eraYear=gn,lr.year=Xs,lr.isLeapYear=Vo,lr.weekYear=tv,lr.isoWeekYear=nv,lr.quarter=lr.quarters=av,lr.month=ks,lr.daysInMonth=to,lr.week=lr.weeks=Hn,lr.isoWeek=lr.isoWeeks=mr,lr.weeksInYear=Tu,lr.weeksInWeekYear=sv,lr.isoWeeksInYear=rv,lr.isoWeeksInISOWeekYear=iv,lr.date=Am,lr.day=lr.days=Zo,lr.weekday=_l,lr.isoWeekday=Ho,lr.dayOfYear=Cu,lr.hour=lr.hours=Hs,lr.minute=lr.minutes=lv,lr.second=lr.seconds=uv,lr.millisecond=lr.milliseconds=Sm,lr.utcOffset=Fu,lr.utc=eu,lr.local=tu,lr.parseZone=kt,lr.hasAlignedHourOffset=Lt,lr.isDST=Ot,lr.isLocal=qt,lr.isUtcOffset=hn,lr.isUtc=On,lr.isUTC=On,lr.zoneAbbr=fp,lr.zoneName=fv,lr.dates=Ft("dates accessor is deprecated. Use date instead.",Am),lr.months=Ft("months accessor is deprecated. Use month instead",ks),lr.years=Ft("years accessor is deprecated. Use year instead",Xs),lr.zone=Ft("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Gu),lr.isDSTShifted=Ft("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Gt);function Ul(Tt){return zs(Tt*1e3)}function hv(){return zs.apply(null,arguments).parseZone()}function wm(Tt){return Tt}var Bs=rn.prototype;Bs.calendar=Kt,Bs.longDateFormat=$n,Bs.invalidDate=Ln,Bs.ordinal=er,Bs.preparse=wm,Bs.postformat=wm,Bs.relativeTime=dn,Bs.pastFuture=yn,Bs.set=nn,Bs.eras=Hp,Bs.erasParse=lm,Bs.erasConvertYear=Wp,Bs.erasAbbrRegex=Xu,Bs.erasNameRegex=qu,Bs.erasNarrowRegex=Go,Bs.months=co,Bs.monthsShort=Bo,Bs.monthsParse=Hr,Bs.monthsRegex=To,Bs.monthsShortRegex=Zs,Bs.week=xn,Bs.firstDayOfYear=Xn,Bs.firstDayOfWeek=Bn,Bs.weekdays=_s,Bs.weekdaysMin=$o,Bs.weekdaysShort=ro,Bs.weekdaysParse=mu,Bs.weekdaysRegex=es,Bs.weekdaysShortRegex=as,Bs.weekdaysMinRegex=Yl,Bs.isPM=lo,Bs.meridiem=Fs;function Xp(Tt,Mt,Yt,tn){var pn=Qs(),Rn=xt().set(tn,Mt);return pn[Yt](Rn,Tt)}function Tm(Tt,Mt,Yt){if(ft(Tt)&&(Mt=Tt,Tt=void 0),Tt=Tt||"",Mt!=null)return Xp(Tt,Mt,Yt,"month");var tn,pn=[];for(tn=0;tn<12;tn++)pn[tn]=Xp(Tt,tn,Yt,"month");return pn}function Kp(Tt,Mt,Yt,tn){typeof Tt=="boolean"?(ft(Mt)&&(Yt=Mt,Mt=void 0),Mt=Mt||""):(Mt=Tt,Yt=Mt,Tt=!1,ft(Mt)&&(Yt=Mt,Mt=void 0),Mt=Mt||"");var pn=Qs(),Rn=Tt?pn._week.dow:0,Wn,Nr=[];if(Yt!=null)return Xp(Mt,(Yt+Rn)%7,tn,"day");for(Wn=0;Wn<7;Wn++)Nr[Wn]=Xp(Mt,(Wn+Rn)%7,tn,"day");return Nr}function Cm(Tt,Mt){return Tm(Tt,Mt,"months")}function dv(Tt,Mt){return Tm(Tt,Mt,"monthsShort")}function pv(Tt,Mt,Yt){return Kp(Tt,Mt,Yt,"weekdays")}function um(Tt,Mt,Yt){return Kp(Tt,Mt,Yt,"weekdaysShort")}function Bp(Tt,Mt,Yt){return Kp(Tt,Mt,Yt,"weekdaysMin")}Qo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Tt){var Mt=Tt%10,Yt=ir(Tt%100/10)===1?"th":Mt===1?"st":Mt===2?"nd":Mt===3?"rd":"th";return Tt+Yt}}),rt.lang=Ft("moment.lang is deprecated. Use moment.locale instead.",Qo),rt.langData=Ft("moment.langData is deprecated. Use moment.localeData instead.",Qs);var Rl=Math.abs;function mv(){var Tt=this._data;return this._milliseconds=Rl(this._milliseconds),this._days=Rl(this._days),this._months=Rl(this._months),Tt.milliseconds=Rl(Tt.milliseconds),Tt.seconds=Rl(Tt.seconds),Tt.minutes=Rl(Tt.minutes),Tt.hours=Rl(Tt.hours),Tt.months=Rl(Tt.months),Tt.years=Rl(Tt.years),this}function cm(Tt,Mt,Yt,tn){var pn=Qn(Mt,Yt);return Tt._milliseconds+=tn*pn._milliseconds,Tt._days+=tn*pn._days,Tt._months+=tn*pn._months,Tt._bubble()}function gv(Tt,Mt){return cm(this,Tt,Mt,1)}function Pu(Tt,Mt){return cm(this,Tt,Mt,-1)}function Zp(Tt){return Tt<0?Math.floor(Tt):Math.ceil(Tt)}function hp(){var Tt=this._milliseconds,Mt=this._days,Yt=this._months,tn=this._data,pn,Rn,Wn,Nr,us;return Tt>=0&&Mt>=0&&Yt>=0||Tt<=0&&Mt<=0&&Yt<=0||(Tt+=Zp(fm(Yt)+Mt)*864e5,Mt=0,Yt=0),tn.milliseconds=Tt%1e3,pn=Vn(Tt/1e3),tn.seconds=pn%60,Rn=Vn(pn/60),tn.minutes=Rn%60,Wn=Vn(Rn/60),tn.hours=Wn%24,Mt+=Vn(Wn/24),us=Vn(ba(Mt)),Yt+=us,Mt-=Zp(fm(us)),Nr=Vn(Yt/12),Yt%=12,tn.days=Mt,tn.months=Yt,tn.years=Nr,this}function ba(Tt){return Tt*4800/146097}function fm(Tt){return Tt*146097/4800}function Pm(Tt){if(!this.isValid())return NaN;var Mt,Yt,tn=this._milliseconds;if(Tt=Pn(Tt),Tt==="month"||Tt==="quarter"||Tt==="year")switch(Mt=this._days+tn/864e5,Yt=this._months+ba(Mt),Tt){case"month":return Yt;case"quarter":return Yt/3;case"year":return Yt/12}else switch(Mt=this._days+Math.round(fm(this._months)),Tt){case"week":return Mt/7+tn/6048e5;case"day":return Mt+tn/864e5;case"hour":return Mt*24+tn/36e5;case"minute":return Mt*1440+tn/6e4;case"second":return Mt*86400+tn/1e3;case"millisecond":return Math.floor(Mt*864e5)+tn;default:throw new Error("Unknown unit "+Tt)}}function Rm(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ir(this._months/12)*31536e6:NaN}function $a(Tt){return function(){return this.as(Tt)}}var Zu=$a("ms"),jm=$a("s"),vv=$a("m"),Jp=$a("h"),yv=$a("d"),Om=$a("w"),Mo=$a("M"),hm=$a("Q"),Im=$a("y");function au(){return Qn(this)}function dm(Tt){return Tt=Pn(Tt),this.isValid()?this[Tt+"s"]():NaN}function lu(Tt){return function(){return this.isValid()?this._data[Tt]:NaN}}var dp=lu("milliseconds"),Mm=lu("seconds"),Uo=lu("minutes"),pm=lu("hours"),xv=lu("days"),_v=lu("months"),Ev=lu("years");function mm(){return Vn(this.days()/7)}var Ru=Math.round,uu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Lm(Tt,Mt,Yt,tn,pn){return pn.relativeTime(Mt||1,!!Yt,Tt,tn)}function bv(Tt,Mt,Yt,tn){var pn=Qn(Tt).abs(),Rn=Ru(pn.as("s")),Wn=Ru(pn.as("m")),Nr=Ru(pn.as("h")),us=Ru(pn.as("d")),Gs=Ru(pn.as("M")),zo=Ru(pn.as("w")),cu=Ru(pn.as("y")),ju=Rn<=Yt.ss&&["s",Rn]||Rn<Yt.s&&["ss",Rn]||Wn<=1&&["m"]||Wn<Yt.m&&["mm",Wn]||Nr<=1&&["h"]||Nr<Yt.h&&["hh",Nr]||us<=1&&["d"]||us<Yt.d&&["dd",us];return Yt.w!=null&&(ju=ju||zo<=1&&["w"]||zo<Yt.w&&["ww",zo]),ju=ju||Gs<=1&&["M"]||Gs<Yt.M&&["MM",Gs]||cu<=1&&["y"]||["yy",cu],ju[2]=Mt,ju[3]=+Tt>0,ju[4]=tn,Lm.apply(null,ju)}function Av(Tt){return Tt===void 0?Ru:typeof Tt=="function"?(Ru=Tt,!0):!1}function $p(Tt,Mt){return uu[Tt]===void 0?!1:Mt===void 0?uu[Tt]:(uu[Tt]=Mt,Tt==="s"&&(uu.ss=Mt-1),!0)}function Sv(Tt,Mt){if(!this.isValid())return this.localeData().invalidDate();var Yt=!1,tn=uu,pn,Rn;return typeof Tt=="object"&&(Mt=Tt,Tt=!1),typeof Tt=="boolean"&&(Yt=Tt),typeof Mt=="object"&&(tn=Object.assign({},uu,Mt),Mt.s!=null&&Mt.ss==null&&(tn.ss=Mt.s-1)),pn=this.localeData(),Rn=bv(this,!Yt,tn,pn),Yt&&(Rn=pn.pastFuture(+this,Rn)),pn.postformat(Rn)}var gm=Math.abs;function Ju(Tt){return(Tt>0)-(Tt<0)||+Tt}function Np(){if(!this.isValid())return this.localeData().invalidDate();var Tt=gm(this._milliseconds)/1e3,Mt=gm(this._days),Yt=gm(this._months),tn,pn,Rn,Wn,Nr=this.asSeconds(),us,Gs,zo,cu;return Nr?(tn=Vn(Tt/60),pn=Vn(tn/60),Tt%=60,tn%=60,Rn=Vn(Yt/12),Yt%=12,Wn=Tt?Tt.toFixed(3).replace(/\.?0+$/,""):"",us=Nr<0?"-":"",Gs=Ju(this._months)!==Ju(Nr)?"-":"",zo=Ju(this._days)!==Ju(Nr)?"-":"",cu=Ju(this._milliseconds)!==Ju(Nr)?"-":"",us+"P"+(Rn?Gs+Rn+"Y":"")+(Yt?Gs+Yt+"M":"")+(Mt?zo+Mt+"D":"")+(pn||tn||Tt?"T":"")+(pn?cu+pn+"H":"")+(tn?cu+tn+"M":"")+(Tt?cu+Wn+"S":"")):"P0D"}var Ps=Eu.prototype;Ps.isValid=kp,Ps.abs=mv,Ps.add=gv,Ps.subtract=Pu,Ps.as=Pm,Ps.asMilliseconds=Zu,Ps.asSeconds=jm,Ps.asMinutes=vv,Ps.asHours=Jp,Ps.asDays=yv,Ps.asWeeks=Om,Ps.asMonths=Mo,Ps.asQuarters=hm,Ps.asYears=Im,Ps.valueOf=Rm,Ps._bubble=hp,Ps.clone=au,Ps.get=dm,Ps.milliseconds=dp,Ps.seconds=Mm,Ps.minutes=Uo,Ps.hours=pm,Ps.days=xv,Ps.weeks=mm,Ps.months=_v,Ps.years=Ev,Ps.humanize=Sv,Ps.toISOString=Np,Ps.toString=Np,Ps.toJSON=Np,Ps.locale=cp,Ps.localeData=bt,Ps.toIsoString=Ft("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Np),Ps.lang=ct,on("X",0,0,"unix"),on("x",0,0,"valueOf"),ur("x",jr),ur("X",ps),wr("X",function(Tt,Mt,Yt){Yt._d=new Date(parseFloat(Tt)*1e3)}),wr("x",function(Tt,Mt,Yt){Yt._d=new Date(ir(Tt))});//! moment.js
return rt.version="2.29.4",it(zs),rt.fn=lr,rt.min=Sp,rt.max=$u,rt.now=Lp,rt.utc=xt,rt.unix=Ul,rt.months=Cm,rt.isDate=dt,rt.locale=Qo,rt.invalid=Et,rt.duration=Qn,rt.isMoment=It,rt.weekdays=pv,rt.parseZone=hv,rt.localeData=Qs,rt.isDuration=po,rt.monthsShort=dv,rt.weekdaysMin=Bp,rt.defineLocale=Ws,rt.updateLocale=Op,rt.locales=Al,rt.weekdaysShort=um,rt.normalizeUnits=Pn,rt.relativeTimeRounding=Av,rt.relativeTimeThreshold=$p,rt.calendarFormat=Tp,rt.prototype=lr,rt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},rt})})(moment$3);var momentExports=moment$3.exports;(function(tt,et){(function(nt,rt){rt(typeof commonjsRequire=="function"?momentExports:nt.moment)})(commonjsGlobal,function(nt){//! moment.js locale configuration
var rt={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},it={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},st=nt.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(ot){return/بعد از ظهر/.test(ot)},meridiem:function(ot,at,lt){return ot<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(ot){return ot.replace(/[۰-۹]/g,function(at){return it[at]}).replace(/،/g,",")},postformat:function(ot){return ot.replace(/\d/g,function(at){return rt[at]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});return st})})();var jalaliMoment=jMoment,moment=momentExports,formattingTokens=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{1,4}/,parseTokenSixDigits=/[+\-]?\d{1,6}/,parseTokenWord=/[0-9]*["a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/i,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,unitAliases={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},formatFunctions={},ordinalizeTokens="DDD w M D".split(" "),paddedTokens="M D w".split(" "),CalendarSystems={Jalali:1,Gregorian:2},formatTokenFunctions={jM:function(){return this.jMonth()+1},jMMM:function(tt){return this.localeData().jMonthsShort(this,tt)},jMMMM:function(tt){return this.localeData().jMonths(this,tt)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return leftZeroFill(this.jYear()%100,2)},jYYYY:function(){return leftZeroFill(this.jYear(),4)},jYYYYY:function(){return leftZeroFill(this.jYear(),5)},jgg:function(){return leftZeroFill(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return leftZeroFill(this.jWeekYear(),5)}};function padToken(tt,et){return function(nt){return leftZeroFill(tt.call(this,nt),et)}}function ordinalizeToken(tt,et){return function(nt){return this.localeData().ordinal(tt.call(this,nt),et)}}(function(){for(var tt;ordinalizeTokens.length;)tt=ordinalizeTokens.pop(),formatTokenFunctions["j"+tt+"o"]=ordinalizeToken(formatTokenFunctions["j"+tt],tt);for(;paddedTokens.length;)tt=paddedTokens.pop(),formatTokenFunctions["j"+tt+tt]=padToken(formatTokenFunctions["j"+tt],2);formatTokenFunctions.jDDDD=padToken(formatTokenFunctions.jDDD,3)})();function extend$3(tt,et){var nt;for(nt in et)et.hasOwnProperty(nt)&&(tt[nt]=et[nt]);return tt}function leftZeroFill(tt,et){for(var nt=tt+"";nt.length<et;)nt="0"+nt;return nt}function isArray(tt){return Object.prototype.toString.call(tt)==="[object Array]"}function toJalaliFormat(tt){for(var et=0;et<tt.length;et++)(!et||tt[et-1]!=="j"&&tt[et-1]!==tt[et])&&(tt[et]==="Y"||tt[et]==="M"||tt[et]==="D"||tt[et]==="g")&&(tt=tt.slice(0,et)+"j"+tt.slice(et));return tt}function toJalaliUnit(tt){switch(tt){case"week":return"jWeek";case"year":return"jYear";case"month":return"jMonth";case"months":return"jMonths";case"monthName":return"jMonthsShort";case"monthsShort":return"jMonthsShort"}return tt}function normalizeUnits(tt,et){if(isJalali(et)&&(tt=toJalaliUnit(tt)),tt){var nt=tt.toLowerCase();nt.startsWith("j")&&(tt=unitAliases[nt]||nt),tt==="jday"?tt="day":tt==="jd"&&(tt="d")}return tt}function setDate(tt,et,nt,rt){var it=tt._d;tt._isUTC?tt._d=new Date(Date.UTC(et,nt,rt,it.getUTCHours(),it.getUTCMinutes(),it.getUTCSeconds(),it.getUTCMilliseconds())):tt._d=new Date(et,nt,rt,it.getHours(),it.getMinutes(),it.getSeconds(),it.getMilliseconds())}function objectCreate(tt){function et(){}return et.prototype=tt,new et}function getPrototypeOf(tt){return Object.getPrototypeOf?Object.getPrototypeOf(tt):"".__proto__?tt.__proto__:tt.constructor.prototype}extend$3(getPrototypeOf(moment.localeData()),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Mordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(tt){return tt?this._jMonths[tt.jMonth()]:this._jMonths},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(tt){return tt?this._jMonthsShort[tt.jMonth()]:this._jMonthsShort},jMonthsParse:function(tt){var et,nt,rt;for(this._jMonthsParse||(this._jMonthsParse=[]),et=0;et<12;et+=1)if(this._jMonthsParse[et]||(nt=jMoment([2e3,(2+et)%12,25]),rt="^"+this.jMonths(nt,"")+"|^"+this.jMonthsShort(nt,""),this._jMonthsParse[et]=new RegExp(rt.replace(".",""),"i")),this._jMonthsParse[et].test(tt))return et}});function makeFormatFunction(tt){var et=tt.match(formattingTokens),nt=et.length,rt;for(rt=0;rt<nt;rt+=1)formatTokenFunctions[et[rt]]&&(et[rt]=formatTokenFunctions[et[rt]]);return function(it){var st="";for(rt=0;rt<nt;rt+=1)st+=et[rt]instanceof Function?"["+et[rt].call(it,tt)+"]":et[rt];return st}}function getParseRegexForToken(tt,et){switch(tt){case"jDDDD":return parseTokenThreeDigits;case"jYYYY":return parseTokenFourDigits;case"jYYYYY":return parseTokenSixDigits;case"jDDD":return parseTokenOneToThreeDigits;case"jMMM":case"jMMMM":return parseTokenWord;case"jMM":case"jDD":case"jYY":case"jM":case"jD":return parseTokenOneOrTwoDigits;case"DDDD":return parseTokenThreeDigits;case"YYYY":return parseTokenFourDigits;case"YYYYY":return parseTokenSixDigits;case"S":case"SS":case"SSS":case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return moment.localeData(et._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return parseTokenOneOrTwoDigits;default:return new RegExp(tt.replace("\\",""))}}function isNull(tt){return tt==null}function addTimeToArrayFromToken(tt,et,nt){var rt,it=nt._a;switch(tt){case"jM":case"jMM":it[1]=isNull(et)?0:~~et-1;break;case"jMMM":case"jMMMM":rt=moment.localeData(nt._l).jMonthsParse(et),isNull(rt)?nt._isValid=!1:it[1]=rt;break;case"jD":case"jDD":case"jDDD":case"jDDDD":isNull(et)||(it[2]=~~et);break;case"jYY":it[0]=~~et+(~~et>47?1300:1400);break;case"jYYYY":case"jYYYYY":it[0]=~~et}isNull(et)&&(nt._isValid=!1)}function dateFromArray(tt){var et,nt,rt=tt._a[0],it=tt._a[1],st=tt._a[2];if(!(isNull(rt)&&isNull(it)&&isNull(st)))return rt=isNull(rt)?0:rt,it=isNull(it)?0:it,st=isNull(st)?1:st,(st<1||st>jMoment.jDaysInMonth(rt,it)||it<0||it>11)&&(tt._isValid=!1),et=toGregorian(rt,it,st),nt=toJalali(et.gy,et.gm,et.gd),tt._jDiff=0,~~nt.jy!==rt&&(tt._jDiff+=1),~~nt.jm!==it&&(tt._jDiff+=1),~~nt.jd!==st&&(tt._jDiff+=1),[et.gy,et.gm,et.gd]}function makeDateFromStringAndFormat(tt){var et=tt._f.match(formattingTokens),nt=tt._i+"",rt=et.length,it,st,ot;for(tt._a=[],it=0;it<rt;it+=1)st=et[it],ot=(getParseRegexForToken(st,tt).exec(nt)||[])[0],ot&&(nt=nt.slice(nt.indexOf(ot)+ot.length)),formatTokenFunctions[st]&&addTimeToArrayFromToken(st,ot,tt);return nt&&(tt._il=nt),dateFromArray(tt)}function makeDateFromStringAndArray(tt,et){var nt=tt._f.length,rt,it,st,ot,at,lt;if(nt===0)return makeMoment(new Date(NaN));for(rt=0;rt<nt;rt+=1)it=tt._f[rt],at=0,st=makeMoment(tt._i,it,tt._l,tt._strict,et),st.isValid()&&(at+=st._jDiff,st._il&&(at+=st._il.length),(isNull(lt)||at<lt)&&(lt=at,ot=st));return ot}function removeParsedTokens(tt){var et=tt._i+"",nt="",rt="",it=tt._f.match(formattingTokens),st=it.length,ot,at,lt;for(ot=0;ot<st;ot+=1)at=it[ot],lt=(getParseRegexForToken(at,tt).exec(et)||[])[0],lt&&(et=et.slice(et.indexOf(lt)+lt.length)),formatTokenFunctions[at]instanceof Function||(rt+=at,lt&&(nt+=lt));tt._i=nt,tt._f=rt}function jWeekOfYear(tt,et,nt){var rt=nt-et,it=nt-tt.day(),st;return it>rt&&(it-=7),it<rt-7&&(it+=7),st=jMoment(tt).add(it,"d"),{week:Math.ceil(st.jDayOfYear()/7),year:st.jYear()}}function isJalali(tt){return tt&&tt.calSystem===CalendarSystems.Jalali||moment.justUseJalali&&tt.calSystem!==CalendarSystems.Gregorian}function isInputJalali(tt,et,nt){return moment.justUseJalali||et&&et.calSystem===CalendarSystems.Jalali}function makeMoment(tt,et,nt,rt,it){typeof nt=="boolean"&&(it=it||rt,rt=nt,nt=void 0),moment.ISO_8601===et&&(et="YYYY-MM-DDTHH:mm:ss.SSSZ");const st=isInputJalali(et,this);tt&&typeof tt=="string"&&!et&&st&&!moment.useGregorianParser&&(tt=tt.replace(/\//g,"-"),/\d{4}\-\d{2}\-\d{2}/.test(tt)?et="jYYYY-jMM-jDD":/\d{4}\-\d{2}\-\d{1}/.test(tt)?et="jYYYY-jMM-jD":/\d{4}\-\d{1}\-\d{1}/.test(tt)?et="jYYYY-jM-jD":/\d{4}\-\d{1}\-\d{2}/.test(tt)?et="jYYYY-jM-jDD":/\d{4}\-W\d{2}\-\d{2}/.test(tt)?et="jYYYY-jW-jDD":/\d{4}\-\d{3}/.test(tt)?et="jYYYY-jDDD":/\d{8}/.test(tt)?et="jYYYYjMMjDD":/\d{4}W\d{2}\d{1}/.test(tt)?et="jYYYYjWWjD":/\d{4}W\d{2}/.test(tt)?et="jYYYYjWW":/\d{4}\d{3}/.test(tt)&&(et="jYYYYjDDD")),et&&st&&(et=toJalaliFormat(et)),et&&typeof et=="string"&&(et=fixFormat(et,moment));var ot={_i:tt,_f:et,_l:nt,_strict:rt,_isUTC:it},at,lt,ut,ft=tt,dt=et;if(et){if(isArray(et))return makeDateFromStringAndArray(ot,it);at=makeDateFromStringAndFormat(ot),removeParsedTokens(ot),at&&(et="YYYY-MM-DD-"+ot._f,tt=leftZeroFill(at[0],4)+"-"+leftZeroFill(at[1]+1,2)+"-"+leftZeroFill(at[2],2)+"-"+ot._i)}return it?lt=moment.utc(tt,et,nt,rt):lt=moment(tt,et,nt,rt),(ot._isValid===!1||tt&&tt._isAMomentObject&&!tt._isValid)&&(lt._isValid=!1),lt._jDiff=ot._jDiff||0,ut=objectCreate(jMoment.fn),extend$3(ut,lt),rt&&ut.isValid()&&(ut._isValid=ut.format(dt)===ft),tt&&tt.calSystem&&(ut.calSystem=tt.calSystem),ut}function jMoment(tt,et,nt,rt){return makeMoment(tt,et,nt,rt,!1)}extend$3(jMoment,moment);jMoment.fn=objectCreate(moment.fn);jMoment.utc=function(tt,et,nt,rt){return makeMoment(tt,et,nt,rt,!0)};jMoment.unix=function(tt){return makeMoment(tt*1e3)};function fixFormat(tt,et){for(var nt=5,rt=function(it){return et.localeData().longDateFormat(it)||it};nt>0&&localFormattingTokens.test(tt);)nt-=1,tt=tt.replace(localFormattingTokens,rt);return tt}jMoment.fn.format=function(tt){tt=tt||jMoment.defaultFormat,tt&&(isJalali(this)&&(tt=toJalaliFormat(tt)),tt=fixFormat(tt,this),formatFunctions[tt]||(formatFunctions[tt]=makeFormatFunction(tt)),tt=formatFunctions[tt](this));var et=moment.fn.format.call(this,tt);return et};jMoment.fn.year=function(tt){return isJalali(this)?jMoment.fn.jYear.call(this,tt):moment.fn.year.call(this,tt)};jMoment.fn.jYear=function(tt){var et,nt,rt;return typeof tt=="number"?(nt=getJalaliOf(this),et=Math.min(nt.jd,jMoment.jDaysInMonth(tt,nt.jm)),rt=toGregorian(tt,nt.jm,et),setDate(this,rt.gy,rt.gm,rt.gd),moment.updateOffset(this),this):getJalaliOf(this).jy};jMoment.fn.month=function(tt){return isJalali(this)?jMoment.fn.jMonth.call(this,tt):moment.fn.month.call(this,tt)};jMoment.fn.jMonth=function(tt){var et,nt,rt;return isNull(tt)?getJalaliOf(this).jm:typeof tt=="string"&&(tt=this.localeData().jMonthsParse(tt),typeof tt!="number")?this:(nt=getJalaliOf(this),et=Math.min(nt.jd,jMoment.jDaysInMonth(nt.jy,tt)),this.jYear(nt.jy+div(tt,12)),tt=mod(tt,12),tt<0&&(tt+=12,this.jYear(this.jYear()-1)),rt=toGregorian(this.jYear(),tt,et),setDate(this,rt.gy,rt.gm,rt.gd),moment.updateOffset(this),this)};jMoment.fn.date=function(tt){return isJalali(this)?jMoment.fn.jDate.call(this,tt):moment.fn.date.call(this,tt)};function getJalaliOf(tt){var et=tt._d;return tt._isUTC?toJalali(et.getUTCFullYear(),et.getUTCMonth(),et.getUTCDate()):toJalali(et.getFullYear(),et.getMonth(),et.getDate())}jMoment.fn.jDate=function(tt){var et,nt;return typeof tt=="number"?(et=getJalaliOf(this),nt=toGregorian(et.jy,et.jm,tt),setDate(this,nt.gy,nt.gm,nt.gd),moment.updateOffset(this),this):getJalaliOf(this).jd};jMoment.fn.jDay=function(tt){return typeof tt=="number"?moment.fn.day.call(this,tt-1):(moment.fn.day.call(this)+1)%7};jMoment.fn.diff=function(tt,et,nt){if(!isJalali(this))return moment.fn.diff.call(this,tt,et,nt);var rt;switch(et){case"year":rt=it(this,tt)/12;break;case"month":rt=it(this,tt);break;case"quarter":rt=it(this,tt)/3;break;default:rt=moment.fn.diff.call(this,tt,et,nt)}return nt?rt:rt<0?Math.ceil(rt)||0:Math.floor(rt);function it(st,ot){if(st.date()<ot.date())return-it(ot,st);var at=(ot.jYear()-st.jYear())*12+(ot.jMonth()-st.jMonth()),lt=st.clone().add(at,"months"),ut,ft;return ot-lt<0?(ut=st.clone().add(at-1,"months"),ft=(ot-lt)/(lt-ut)):(ut=st.clone().add(at+1,"months"),ft=(ot-lt)/(ut-lt)),-(at+ft)||0}};jMoment.fn.dayOfYear=function(tt){return isJalali(this)?jMoment.fn.jDayOfYear.call(this,tt):moment.fn.dayOfYear.call(this,tt)};jMoment.fn.jDayOfYear=function(tt){var et=Math.round((jMoment(this).startOf("day")-jMoment(this).startOf("jYear"))/864e5)+1;return isNull(tt)?et:this.add(tt-et,"d")};jMoment.fn.week=function(tt){return isJalali(this)?jMoment.fn.jWeek.call(this,tt):moment.fn.week.call(this,tt)};jMoment.fn.jWeek=function(tt){var et=jWeekOfYear(this,6,12).week;return isNull(tt)?et:this.add((tt-et)*7,"d")};jMoment.fn.weekYear=function(tt){return isJalali(this)?jMoment.fn.jWeekYear.call(this,tt):moment.fn.weekYear.call(this,tt)};jMoment.fn.jWeekYear=function(tt){var et=jWeekOfYear(this,6,12).year;return isNull(tt)?et:this.add(tt-et,"jyear")};jMoment.fn.add=function(tt,et){var nt;return!isNull(et)&&!isNaN(+et)&&(nt=tt,tt=et,et=nt),et=normalizeUnits(et,this),(et==="jweek"||et==="isoweek")&&(et="week"),et==="jyear"?this.jYear(this.jYear()+tt):et==="jmonth"?this.jMonth(this.jMonth()+tt):moment.fn.add.call(this,tt,et),this};jMoment.fn.subtract=function(tt,et){var nt;return!isNull(et)&&!isNaN(+et)&&(nt=tt,tt=et,et=nt),et=normalizeUnits(et,this),et==="jyear"?this.jYear(this.jYear()-tt):et==="jmonth"?this.jMonth(this.jMonth()-tt):moment.fn.subtract.call(this,tt,et),this};jMoment.fn.startOf=function(tt){var et=normalizeUnits(tt,this);return et==="jweek"?this.startOf("day").subtract(this.jDay(),"day"):(et==="jyear"&&(this.jMonth(0),et="jmonth"),et==="jmonth"&&(this.jDate(1),et="day"),et==="day"?(this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):moment.fn.startOf.call(this,tt))};jMoment.fn.endOf=function(tt){return tt=normalizeUnits(tt,this),tt===void 0||tt==="milisecond"?this:this.startOf(tt).add(1,tt).subtract(1,"ms")};jMoment.fn.isSame=function(tt,et){return et=normalizeUnits(et,this),et==="jyear"||et==="jmonth"?moment.fn.isSame.call(this.clone().startOf(et),tt.clone().startOf(et)):moment.fn.isSame.call(this,tt,et)};jMoment.fn.isBefore=function(tt,et){return et=normalizeUnits(et,this),et==="jyear"||et==="jmonth"?moment.fn.isBefore.call(this.clone().startOf(et),tt.clone().startOf(et)):moment.fn.isBefore.call(this,tt,et)};jMoment.fn.isAfter=function(tt,et){return et=normalizeUnits(et,this),et==="jyear"||et==="jmonth"?moment.fn.isAfter.call(this.clone().startOf(et),tt.clone().startOf(et)):moment.fn.isAfter.call(this,tt,et)};jMoment.fn.clone=function(){return jMoment(this)};jMoment.fn.doAsJalali=function(){return this.calSystem=CalendarSystems.Jalali,this};jMoment.fn.doAsGregorian=function(){return this.calSystem=CalendarSystems.Gregorian,this};jMoment.fn.jYears=jMoment.fn.jYear;jMoment.fn.jMonths=jMoment.fn.jMonth;jMoment.fn.jDates=jMoment.fn.jDate;jMoment.fn.jWeeks=jMoment.fn.jWeek;jMoment.fn.daysInMonth=function(){return isJalali(this)?this.jDaysInMonth():moment.fn.daysInMonth.call(this)};jMoment.fn.jDaysInMonth=function(){var tt=this.jMonth(),et=this.jYear();return tt<6?31:tt<11||jMoment.jIsLeapYear(et)?30:29};jMoment.fn.isLeapYear=function(){return isJalali(this)?this.jIsLeapYear():moment.fn.isLeapYear.call(this)};jMoment.fn.jIsLeapYear=function(){var tt=this.jYear();return isLeapJalaliYear(tt)};jMoment.fn.locale=function(tt){return tt&&moment.changeCalendarSystemByItsLocale&&(tt==="fa"?this.doAsJalali():this.doAsGregorian()),moment.fn.locale.call(this,tt)};jMoment.locale=function(tt,et){return tt&&moment.changeCalendarSystemByItsLocale&&(tt==="fa"?this.useJalaliSystemPrimarily(et):this.useJalaliSystemSecondary()),moment.locale.call(this,tt)};jMoment.from=function(tt,et,nt){var rt=jMoment.locale();jMoment.locale(et);var it=jMoment(tt,nt);return it.locale(rt),jMoment.locale(rt),it};jMoment.bindCalendarSystemAndLocale=function(){moment.changeCalendarSystemByItsLocale=!0};jMoment.unBindCalendarSystemAndLocale=function(){moment.changeCalendarSystemByItsLocale=!1};jMoment.useJalaliSystemPrimarily=function(tt){moment.justUseJalali=!0;var et=!1;tt&&(et=tt.useGregorianParser),moment.useGregorianParser=et};jMoment.useJalaliSystemSecondary=function(){moment.justUseJalali=!1};jMoment.jDaysInMonth=function(tt,et){return tt+=div(et,12),et=mod(et,12),et<0&&(et+=12,tt-=1),et<6?31:et<11||jMoment.jIsLeapYear(tt)?30:29};jMoment.jIsLeapYear=isLeapJalaliYear;moment.updateLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd، jD jMMMM jYYYY LT"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [ی پیش ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"1 دقیقه",mm:"%d دقیقه",h:"1 ساعت",hh:"%d ساعت",d:"1 روز",dd:"%d روز",M:"1 ماه",MM:"%d ماه",y:"1 سال",yy:"%d سال"},ordinal:"%dم",preparse:function(tt){return tt},postformat:function(tt){return tt},week:{dow:6,doy:12},meridiem:function(tt){return tt<12?"ق.ظ":"ب.ظ"},jMonths:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_"),jMonthsShort:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_")});jMoment.bindCalendarSystemAndLocale();moment.locale("en");jMoment.jConvert={toJalali,toGregorian};function toJalali(tt,et,nt){var rt=convertToJalali(tt,et+1,nt);return rt.jm-=1,rt}function toGregorian(tt,et,nt){var rt=convertToGregorian(tt,et+1,nt);return rt.gm-=1,rt}function div(tt,et){return~~(tt/et)}function mod(tt,et){return tt-~~(tt/et)*et}function convertToJalali(tt,et,nt){return Object.prototype.toString.call(tt)==="[object Date]"&&(nt=tt.getDate(),et=tt.getMonth()+1,tt=tt.getFullYear()),d2j(g2d(tt,et,nt))}function convertToGregorian(tt,et,nt){return d2g(j2d(tt,et,nt))}function isLeapJalaliYear(tt){return jalCal(tt).leap===0}function jalCal(tt){var et=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],nt=et.length,rt=tt+621,it=-14,st=et[0],ot,at,lt,ut,ft,dt,ht;if(tt<st||tt>=et[nt-1])throw new Error("Invalid Jalali year "+tt);for(ht=1;ht<nt&&(ot=et[ht],at=ot-st,!(tt<ot));ht+=1)it=it+div(at,33)*8+div(mod(at,33),4),st=ot;return dt=tt-st,it=it+div(dt,33)*8+div(mod(dt,33)+3,4),mod(at,33)===4&&at-dt===4&&(it+=1),ut=div(rt,4)-div((div(rt,100)+1)*3,4)-150,ft=20+it-ut,at-dt<6&&(dt=dt-at+div(at+4,33)*33),lt=mod(mod(dt+1,33)-1,4),lt===-1&&(lt=4),{leap:lt,gy:rt,march:ft}}function j2d(tt,et,nt){var rt=jalCal(tt);return g2d(rt.gy,3,rt.march)+(et-1)*31-div(et,7)*(et-7)+nt-1}function d2j(tt){var et=d2g(tt).gy,nt=et-621,rt=jalCal(nt),it=g2d(et,3,rt.march),st,ot,at;if(at=tt-it,at>=0){if(at<=185)return ot=1+div(at,31),st=mod(at,31)+1,{jy:nt,jm:ot,jd:st};at-=186}else nt-=1,at+=179,rt.leap===1&&(at+=1);return ot=7+div(at,30),st=mod(at,30)+1,{jy:nt,jm:ot,jd:st}}function g2d(tt,et,nt){var rt=div((tt+div(et-8,6)+100100)*1461,4)+div(153*mod(et+9,12)+2,5)+nt-34840408;return rt=rt-div(div(tt+100100+div(et-8,6),100)*3,4)+752,rt}function d2g(tt){var et,nt,rt,it,st;return et=4*tt+139361631,et=et+div(div(4*tt+183187720,146097)*3,4)*4-3908,nt=div(mod(et,1461),4)*5+308,rt=div(mod(nt,153),5)+1,it=mod(div(nt,153),12)+1,st=div(et,1461)-100100+div(8-it,6),{gy:st,gm:it,gd:rt}}const moment$1=getDefaultExportFromCjs(jalaliMoment),moment$2=_mergeNamespaces({__proto__:null,default:moment$1},[jalaliMoment]);function SanitizeHTML(tt){return tt==null?void 0:tt.replace(/<[^>]*>?/gm,"")}function TextShorter(tt,et=20){return(tt==null?void 0:tt.length)>et?`${SanitizeHTML(tt).substring(0,et)}...`:SanitizeHTML(tt)}function TimeAgo(tt){const et=moment$2(tt,"jYYYY/jMM/jDD").toDate(),nt=Date.now()-et.getTime();return Math.floor(nt/(1e3*60*60*24*365))}function EmailValidator(tt){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(tt)}const calculateFee=(tt=100,et=5)=>{const nt=parseInt(tt);return nt*et/100+nt},persianNumbers=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],arabicNumbers=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],fixNumbers=function(tt){if(typeof tt=="string")for(var et=0;et<10;et++)tt=tt.replace(persianNumbers[et],et).replace(arabicNumbers[et],et);return tt},ToastError=tt=>n$6.error(tt,{style:{direction:"rtl",textAlign:"right",borderRadius:"10px",background:"#333",color:"#fff",border:"2px solid red"},duration:5e3}),ToastSuccess=tt=>n$6.success(tt,{style:{direction:"rtl",textAlign:"right",borderRadius:"10px",background:"#333",color:"#fff",border:"2px solid green"},duration:5e3}),SeenImage="/metaverse/assets/seen-9324ccb6.png",Description$2=styled.div`
  text-align: right;
  direction: rtl;
  background: #ECF2FF;
  padding: 8px;
  border-radius: 8px;
  width: 100%;
  margin-bottom: 16px;
`,SUBJECT={displayError:"خطا در نمایش",spellingError:"خطا در املا",codingError:"خطا در کد نویسی",FPSError:"کندی سامانه FPS",disrespect:"بی احترامی"};function ReportTable({reports:tt}){const[et,nt]=reactExports.useState(null),{Request:rt}=useRequest(),it=st=>{rt(`reports/${st}`).then(ot=>{nt(ot.data.data)})};return et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:BackArrowImage,alt:"",width:32,onClick:()=>nt(null)}),jsxRuntimeExports.jsxs(Description$2,{children:[jsxRuntimeExports.jsx("h3",{children:SanitizeHTML(et.title)}),jsxRuntimeExports.jsx("p",{className:"mb-3",children:SanitizeHTML(et.content)}),et.attachment&&jsxRuntimeExports.jsx("a",{href:et.attachment,className:"link",children:"فایل ضمیمه"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"text-right rtl mb-3",children:"لیست گزارشات : "}),jsxRuntimeExports.jsxs(Table$5,{children:[jsxRuntimeExports.jsxs(Thead,{children:[jsxRuntimeExports.jsx(Cell$1,{children:"عنوان"}),jsxRuntimeExports.jsx(Cell$1,{children:"موضوع"}),jsxRuntimeExports.jsx(Cell$1,{children:"تاریخ انتشار"}),jsxRuntimeExports.jsx(Cell$1,{children:"عملیات"})]}),tt.reverse().map(st=>jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Cell$1,{children:TextShorter(st==null?void 0:st.title,18)}),jsxRuntimeExports.jsx(Cell$1,{children:SUBJECT[st==null?void 0:st.subject]}),jsxRuntimeExports.jsxs(Cell$1,{style:{direction:"ltr"},children:[st==null?void 0:st.date," ",st==null?void 0:st.time]}),jsxRuntimeExports.jsx(Cell$1,{children:jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:SeenImage,alt:"",width:32,onClick:()=>it(st.id)})})]},shortid$1.generate()))]})]})}const ReportTable$1=reactExports.memo(ReportTable),Section$4=styled.div`
  width: 100%;
  padding: 16px;
  margin-top: 32px;
  overflow-y: scroll;
  height: 400px;
`,Container$G=styled.section`
  display: flex;
  height: 100%;

  @media screen and (max-width: 1200px){
    flex-direction: column-reverse;

    & > ${Section$4} {
      padding: 0px 32px 0px 32px;
      margin-top: 32px;

    }
  }
`;function Problem(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{tt("reports").then(rt=>{nt(rt.data.data)})},[]),jsxRuntimeExports.jsxs(Container$G,{children:[jsxRuntimeExports.jsx(Section$4,{children:jsxRuntimeExports.jsx(ReportTable$1,{reports:et})}),jsxRuntimeExports.jsx(Section$4,{children:jsxRuntimeExports.jsx(ReportForm,{setReports:nt})})]})}function Report(){const et=useTabs([{title:"گزارش خطا",content:jsxRuntimeExports.jsx(Problem,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-xl",title:"گزارشات ",children:et})}const initialState$1={title:"",content:""};function NotesForm({setNotes:tt}){const{Request:et,HTTP_METHOD:nt}=useRequest(),[rt,it]=reactExports.useState(initialState$1),[st,ot]=reactExports.useState([]),[at,lt]=reactExports.useState([]),ut=()=>{const ft=[];if(rt.title.length<=0&&ft.push("فیلد عنوان خالی است لطفا آنرا پر کنید."),rt.content.replace(/<[^>]*>?/gm,"")<=30&&ft.push("متن یادداشت شما باید بیش از 30 کارکتر داشته باشد."),lt(ft),st.length>0){const dt=new FormData;dt.append("file",new Blob([st[0]],{type:st[0].type}),st[0].name||"File");const ht=dt.get("file");ft[0]||et("notes",nt.POST,{...rt,attachment:ht},{"Content-Type":"multipart/form-data"}).then(mt=>{tt(xt=>[...xt,mt.data.data]),it(initialState$1),ot([])},[])}else ft[0]||et("notes",nt.POST,{...rt},{"Content-Type":"multipart/form-data"}).then(dt=>{tt(ht=>[...ht,dt.data.data]),it(initialState$1)},[])};return jsxRuntimeExports.jsxs(Form,{onSubmit:ut,options:{style:{marginTop:32}},children:[jsxRuntimeExports.jsx(Input$8,{floatLabel:!0,name:"title",dispatch:it,value:rt.title,type:"text",placeholder:": عنوان",labelColor:"#f5f5f5",style:{direction:"rtl !important",marginBottom:8,textAlign:"right"}}),jsxRuntimeExports.jsx(ReactQuill$1,{style:{width:"100%"},theme:"snow",value:rt.content,onChange:ft=>it(dt=>({...dt,content:ft})),placeholder:"متن پیام ..."}),jsxRuntimeExports.jsx(Attachment,{setFiles:ot,files:st}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ذخیره",options:{style:{marginTop:16,width:"100%"}}}),jsxRuntimeExports.jsx(ErrorMessage,{errors:at,maxList:2})]})}const Description$1=styled.div`
  text-align: right;
  direction: rtl;
  background: #ECF2FF;
  padding: 8px;
  border-radius: 8px;
  width: 40%;
  margin-bottom: 16px;
`,Container$F=styled.div`
  direction: rtl;
`;function NoteTable({Notes:tt,setNotes:et}){const{Request:nt}=useRequest(),[rt,it]=reactExports.useState(null),st=at=>{nt(`notes/${at}`,"DELETE").then(()=>{et(lt=>lt.filter(ut=>ut.id!==at))},[])},ot=at=>{nt(`notes/${at}`).then(lt=>{it(lt.data.data)},[])};return rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:BackArrowImage,alt:"",width:32,onClick:()=>it(null)}),jsxRuntimeExports.jsx(Container$F,{children:jsxRuntimeExports.jsxs(Description$1,{children:[jsxRuntimeExports.jsx("h3",{children:rt.title}),jsxRuntimeExports.jsx("p",{className:"mb-3",children:SanitizeHTML(rt.content)}),rt.attachment!=="https://dl.qzparadise.ir/"&&jsxRuntimeExports.jsx("a",{href:rt.attachment,className:"link",children:"فایل ضمیمه"})]})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"text-right rtl mb-3",children:"لیست یادداشت ها : "}),jsxRuntimeExports.jsxs(Table$5,{children:[jsxRuntimeExports.jsxs(Thead,{children:[jsxRuntimeExports.jsx(Cell$1,{children:"عنوان"}),jsxRuntimeExports.jsx(Cell$1,{children:"عملیات"})]}),tt.reverse().map(at=>jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Cell$1,{children:TextShorter(at==null?void 0:at.title,18)}),jsxRuntimeExports.jsxs(Cell$1,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:CrossIcon$1,alt:"delete",width:24,onClick:()=>st(at.id)}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:SeenImage,alt:"",width:32,onClick:()=>ot(at.id)})]})]},shortid$1.generate()))]})]})}const NoteTable$1=reactExports.memo(NoteTable),Section$3=styled.div`
  width: 100%;
  padding: 16px;
  margin-top: 32px;
  height: 400px;
  overflow-y: scroll;
`,Container$E=styled.section`
  display: flex;
  height: 100%;
  overflow-y: scroll;

  @media screen and (max-width: 1200px){
    flex-direction: column-reverse;

    & > ${Section$3} {
      padding: 0px 32px 0px 32px;
      margin-top: 32px;

    }
  }
`;function Note$1(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{tt("notes").then(rt=>{nt(rt.data.data)})},[]),jsxRuntimeExports.jsxs(Container$E,{children:[jsxRuntimeExports.jsx(Section$3,{children:jsxRuntimeExports.jsx(NoteTable$1,{Notes:et,setNotes:nt})}),jsxRuntimeExports.jsx(Section$3,{children:jsxRuntimeExports.jsx(NotesForm,{setNotes:nt})})]})}const ParentInput$5=styled.div`
  width: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch$5=styled.input`
  width: 100%;
  text-align: right;
  direction: rtl;
  padding: 8px 16px;
  width: 100%;
  margin-bottom: 16px;
  font-size: 1.3rem !important;
  font-family: iransans;
`,IconSearch$5=styled.img`
  width: 32px;
  height: 32px;
  left: 8px;
  top: 8px;
  position: absolute;
  cursor: pointer;
`,UserContainer$1=styled.div`
  position: absolute;
  background: #fff;
  padding: 8px;
  z-index: 5002;
  width: 100%;
  top: 56px;
  border-radius: 8px;
`,UserItem$2=styled.div`
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: 8px;
  cursor: pointer;
  &:nth-child(odd) {
    background-color: #f1f2f3;
  }
`,ProfilePhoto$2=styled.img`
  width: 70px;
  height: 70px;
  border-radius: 100px;
`;function UserSearch$2({setCurrentUser:tt,currentUser:et,setCurrentUserId:nt}){const[rt,it]=reactExports.useState(""),{Request:st,HTTP_METHOD:ot}=useRequest(),[at,lt]=reactExports.useState([]),ut=()=>{st("search/users",ot.POST,{searchTerm:rt}).then(ht=>{lt(ht.data.data)})},ft=(ht,mt)=>{tt(ht),nt(mt),it(ht),lt([])},dt=()=>{tt(null),nt(null),it(""),lt([])};return jsxRuntimeExports.jsxs(ParentInput$5,{children:[jsxRuntimeExports.jsx(InputSearch$5,{disabled:et,type:"text",placeholder:"جستجو کنید",onChange:ht=>it(ht.target.value),value:et||rt}),at.length>0&&jsxRuntimeExports.jsx(UserContainer$1,{children:at.slice(0,2).map(ht=>jsxRuntimeExports.jsxs(UserItem$2,{onClick:()=>ft(ht==null?void 0:ht.code,ht==null?void 0:ht.id),children:[jsxRuntimeExports.jsx("p",{children:ht.name}),jsxRuntimeExports.jsx(ProfilePhoto$2,{src:ht.photo,alt:""})]}))}),et||at.length>0?jsxRuntimeExports.jsx(IconSearch$5,{src:CrossIcon$1,onClick:dt}):jsxRuntimeExports.jsx(IconSearch$5,{src:SearchIcon,onClick:ut})]})}const initialState={title:"",content:"",department:"none"},SelectOption=({value:tt,dispatch:et})=>{const nt=rt=>{const{name:it,value:st}=rt.target;et(ot=>({...ot,[it]:st}))};return jsxRuntimeExports.jsxs(Select$1,{name:"department",onChange:nt,value:tt,children:[jsxRuntimeExports.jsx("option",{value:"none",children:"دسته بندی سند ارسال شده"}),jsxRuntimeExports.jsx("option",{value:"technical_support",children:"پشتیبانی فنی"}),jsxRuntimeExports.jsx("option",{value:"citizens_safety",children:"ایمنی شهروندان"}),jsxRuntimeExports.jsx("option",{value:"investment",children:"سرمایه گذاری"}),jsxRuntimeExports.jsx("option",{value:"inspection",children:"بازرسی"}),jsxRuntimeExports.jsx("option",{value:"protection",children:"حفاظت"}),jsxRuntimeExports.jsx("option",{value:"ztb",children:"مدیریت کل زنجیره تامین بهشت"})]})};function TicketForm({setTickets:tt}){const{Request:et,HTTP_METHOD:nt}=useRequest(),[rt,it]=reactExports.useState(initialState),[st,ot]=reactExports.useState([]),[at,lt]=reactExports.useState([]),[ut,ft]=reactExports.useState(null),[dt,ht]=reactExports.useState(null),{state:mt}=useLocation();reactExports.useEffect(()=>{mt!=null&&mt.hasOwnProperty("code")&&(ft(mt.code),ht(mt.id))},[mt]);const xt=()=>{const _t=[];if(rt.title.length<=0&&_t.push("فیلد عنوان خالی است لطفا آنرا پر کنید."),rt.department==="none"&&(ut||_t.push("لطفا فردی را که میخواهید به آن پیامی ارسال کنید وارد کنید و یا موضوع پیام خود را وارد کنید.")),ut||rt.department==="none"&&_t.push("لطفا فردی را که میخواهید به آن پیامی ارسال کنید وارد کنید و یا موضوع پیام خود را وارد کنید."),rt.content.replace(/<[^>]*>?/gm,"")<=50&&_t.push("متن پیام شما باید بیش از 50 کارکتر داشته باشد."),ot(_t),at.length>0){const At=new FormData;At.append("file",new Blob([at[0]],{type:at[0].type}),at[0].name||"File");const gt=At.get("file");ut?_t[0]||et("tickets",nt.POST,{title:rt.title,content:rt.content,reciever:Number(dt),attachment:gt},{"Content-Type":"multipart/form-data"}).then(vt=>{tt(Et=>[...Et,vt.data.data]),it(initialState),lt([]),ft(null)}).catch(vt=>{ToastError(vt.response.data.message)}):_t[0]||et("tickets",nt.POST,{...rt,attachment:gt},{"Content-Type":"multipart/form-data"}).then(vt=>{tt(Et=>[...Et,vt.data.data]),it(initialState),lt([]),ft(null)}).catch(vt=>{ToastError(vt.response.data.message)})}else ut?_t[0]||et("tickets",nt.POST,{title:rt.title,content:rt.content,reciever:Number(dt)}).then(At=>{tt(gt=>[...gt,At.data.data]),it(initialState),ft(null)}).catch(At=>{ToastError(At.response.data.message)}):_t[0]||et("tickets",nt.POST,rt).then(At=>{tt(gt=>[...gt,At.data.data]),it(initialState),ft(null)}).catch(At=>{ToastError(At.response.data.message)})};return jsxRuntimeExports.jsxs(Form,{onSubmit:xt,children:[!ut&&jsxRuntimeExports.jsx(SelectOption,{dispatch:it,value:rt.subject}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Input$8,{floatLabel:!0,name:"title",dispatch:it,value:rt.title,type:"text",placeholder:": عنوان",labelColor:"#f5f5f5",style:{direction:"rtl !important",marginBottom:8,textAlign:"right"}}),rt.department==="none"&&jsxRuntimeExports.jsx(UserSearch$2,{setCurrentUser:ft,currentUser:ut,setCurrentUserId:ht}),jsxRuntimeExports.jsx(ReactQuill$1,{style:{width:"100%"},theme:"snow",value:rt.content,onChange:_t=>it(At=>({...At,content:_t})),placeholder:"متن سند ..."}),jsxRuntimeExports.jsx(Attachment,{setFiles:lt,files:at}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ارسال",options:{style:{marginTop:16,width:"100%"}}}),jsxRuntimeExports.jsx(ErrorMessage,{errors:st,maxList:1})]})}const Description=styled.div`
  text-align: right;
  direction: rtl;
  background: #ECF2FF;
  padding: 8px;
  border-radius: 8px;
  width: 40%;
  margin-bottom: 16px;
`,Container$D=styled.div`
  height: 89%;
  width: 100%;
  position: relative;
`,Editor=styled.div`
  width: 100%;
  height: 53%;
  position: absolute;
  bottom: -16px;
`,Chat=styled.div`
  height: 40%;
  overflow-y: scroll;
  direction: rtl;
`,CloseTicket=styled.button`
  --bs-bg-opacity: 1;
  background-color: var(--bs-orange) !important;
  border: none;
  border-radius: 8px;
  --bs-text-opacity: 1;
  color: rgba(var(--bs-light-rgb), var(--bs-text-opacity)) !important;
  padding: 8px 24px 8px 24px;
  margin-left: 8px;
`,ButtonsContainer=styled.div`
  display: flex;
`;function ChatSection({ticket:tt,setTicket:et}){const{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState({response:""}),ot=reactExports.useRef(null);reactExports.useEffect(()=>{ot.current&&(ot.current.scrollTop=ot.current.scrollHeight)},[]);const at=()=>{nt(`tickets/response/${tt.id}`,rt.POST,it).then(ut=>{et(ut.data.data),st({response:""})}).catch(ut=>{ToastError(ut.response.data.message)})},lt=()=>{nt(`tickets/close/${tt.id}`).then(()=>{et({...tt,status:5})}).catch(ut=>{ToastError(ut.response.data.message)})};return jsxRuntimeExports.jsxs(Container$D,{children:[jsxRuntimeExports.jsxs(ButtonsContainer,{children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:BackArrowImage,alt:"",width:32,onClick:()=>{et(null),st({response:""})}}),parseInt(tt.status)!==5&&jsxRuntimeExports.jsx(CloseTicket,{type:"button",onClick:()=>lt(),children:"بستن تیکت"})]}),jsxRuntimeExports.jsxs(Chat,{ref:ot,style:{height:`${parseInt(tt.status)===5&&"100%"}`},children:[jsxRuntimeExports.jsxs(Description,{children:[jsxRuntimeExports.jsx("h3",{children:tt.sender}),jsxRuntimeExports.jsxs("p",{className:"mb-3",children:[jsxRuntimeExports.jsx("span",{children:SanitizeHTML(tt.title)}),", ",SanitizeHTML(tt.content)]}),tt.attachment!=="https://dl.qzparadise.ir/"&&jsxRuntimeExports.jsx("a",{href:tt.attachment,className:"link",children:"فایل ضمیمه"})]}),tt.responses.map(ut=>jsxRuntimeExports.jsxs(Description,{children:[jsxRuntimeExports.jsx("h3",{children:ut.responser_name}),jsxRuntimeExports.jsx("p",{className:"mb-3",children:SanitizeHTML(ut.response)})]}))]}),parseInt(tt.status)!==5&&jsxRuntimeExports.jsx(Editor,{children:jsxRuntimeExports.jsxs(Form,{onSubmit:at,children:[jsxRuntimeExports.jsx(ReactQuill$1,{style:{width:"100%"},theme:"snow",value:it.response,onChange:ut=>st(ft=>({...ft,response:ut})),placeholder:"متن پیام ..."}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ارسال",options:{style:{marginTop:16,width:"100%"}}})]})})]})}function TicketTable({tickets:tt}){const{Request:et}=useRequest(),[nt,rt]=reactExports.useState(null),it=st=>{et(`tickets/${st}`).then(ot=>{rt(ot.data.data)})};return nt?jsxRuntimeExports.jsx(ChatSection,{setTicket:rt,ticket:nt}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"text-right rtl mb-3",children:"لیست تیکت ها : "}),jsxRuntimeExports.jsxs(Table$5,{children:[jsxRuntimeExports.jsxs(Thead,{children:[jsxRuntimeExports.jsx(Cell$1,{children:"عنوان"}),jsxRuntimeExports.jsx(Cell$1,{children:"ارسال کننده"}),jsxRuntimeExports.jsx(Cell$1,{children:"دریافت کننده"}),jsxRuntimeExports.jsx(Cell$1,{children:"تاریخ انتشار"}),jsxRuntimeExports.jsx(Cell$1,{children:"عملیات"})]}),tt.map(st=>jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Cell$1,{children:TextShorter(st==null?void 0:st.title,18)}),jsxRuntimeExports.jsx(Cell$1,{children:st.sender}),jsxRuntimeExports.jsx(Cell$1,{children:st.reciever}),jsxRuntimeExports.jsxs(Cell$1,{style:{direction:"ltr"},children:[st==null?void 0:st.date," ",st==null?void 0:st.time]}),jsxRuntimeExports.jsx(Cell$1,{children:jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:SeenImage,alt:"",width:32,onClick:()=>it(st.id)})})]},shortid$1.generate()))]})]})}const TicketTable$1=reactExports.memo(TicketTable),Section$2=styled.div`
  width: 100%;
  padding: 16px;
  margin-top: 32px;
  overflow-y: scroll;
  height: 400px;
`,Container$C=styled.section`
  display: flex;
  height: 100%;

  @media screen and (max-width: 1200px){
    flex-direction: column-reverse;

    & > ${Section$2} {
      padding: 0px 32px 0px 32px;
      margin-top: 32px;

    }
  }
`;function Ticket(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{tt("tickets").then(rt=>{nt(it=>[...it,...rt.data.data])}),tt("tickets/recieved").then(rt=>{nt(it=>[...it,...rt.data.data])})},[]),jsxRuntimeExports.jsxs(Container$C,{children:[jsxRuntimeExports.jsx(Section$2,{children:jsxRuntimeExports.jsx(TicketTable$1,{tickets:et})}),jsxRuntimeExports.jsx(Section$2,{children:jsxRuntimeExports.jsx(TicketForm,{setTickets:nt})})]})}function Sanad(){const et=useTabs([{title:" سند ها ",content:jsxRuntimeExports.jsx(Ticket,{})},{title:"یادداشت ها",content:jsxRuntimeExports.jsx(Note$1,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-xl",title:"اسناد",children:et})}const Input$5=styled.input`
  cursor: pointer;
  border: none !important;
  position: relative;
  width: 50px;
  height: 22px;
  -webkit-appearance: none;
  background: #c6c6c6;
  outline: none;
  border-radius: 20px !important;
  transition: 0.7s;

  &:checked {
    background: var(--bs-orange);
  }

  &::before {
    content: '';
    position: absolute;
    width: 22px;
    height: 22px;
    border-radius: 20px !important;
    left: 0;
    background: #ffffff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: 0.2s;
  }

  &:checked::before {
    left: 30px;
  }
`,TextToggle=styled.div`
  margin: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-direction: row-reverse;
  width: 350px;
  padding: 8px;
  border: 2px solid #999;
  border-radius: 8px;

  & > p {
    font-size: 14px;
  }
`;function Toggle({text:tt,onChange:et,value:nt,name:rt}){return jsxRuntimeExports.jsxs(TextToggle,{children:[jsxRuntimeExports.jsx("p",{children:tt}),jsxRuntimeExports.jsx(Input$5,{name:rt,type:"checkbox",checked:nt,onChange:()=>et(it=>({...it,[rt]:+!nt}))})]})}Toggle.propTypes={text:propTypes.string.isRequired,value:propTypes.number.isRequired,onChange:propTypes.func.isRequired};const areEqual=(tt,et)=>tt.value===et.value,Toggle$1=reactExports.memo(Toggle,areEqual),Container$B=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
`,ContainerBox=styled.div`
  width: 48%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border: 1px solid #979696;
  border-radius: 10px;
`,PermissionToChange=styled.div`
  width: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 10px;
`,CounterChange=styled.span`
  width: 25px;
  height: 25px;
  background-color: #fff12c;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 0 5px #2b2a2a;
  border-radius: 5px;
`,SpanPermission=styled.p`
  font-size: 0.8rem;
  color: #707070;
`,TitleOperation=styled.p`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: end;
  font-size: 16px;
  color: #707070;
  font-weight: 700;
`,ContainerOperation=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  flex-direction: column;
  padding: 12px;
`,ContainerVariable=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,TitleVariable=styled.p`
  color: #707070;
  font-size: 16px;
`,InputVariable=styled.input`
  width: 50px;
  height: 30px;
  border: 1px solid #707070;
  border-radius: 6px !important;
  text-align: center;
  padding: 0 !important;
  &::placeholder {
    text-align: center;
  }
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
      /* display: none; <- Crashes Chrome on hover */
      -webkit-appearance: none;
      margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
  }

  &[type=number] {
      -moz-appearance:textfield; /* Firefox */
  }
`;function ChangePassword(){const[tt,et]=reactExports.useState({old_password:"",password:""}),{Request:nt,HTTP_METHOD:rt}=useRequest(),it=()=>{tt.old_password.length===0?ToastError("لطفا پسورد قدیمی را وارد کنید."):/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,16}$/.test(tt.password)?nt("reset/password",rt.POST,tt).then(()=>{ToastSuccess("کلمه عبور با موفقیت بروزرسانی شد."),et({old_password:"",password:""})}).catch(st=>{ToastError(st.response.data.message)}):ToastError("پسورد شما باید حداقل 8 کاراکتر و حداکثر 16 کاراکتر داشته باشد و داری حروف بزرگ A-Z و حروف کوچک a-z و اعداد 0-9 و دارای سیمبل های !@#$%^&* باشد")};return jsxRuntimeExports.jsxs(ContainerOperation,{style:{borderBottom:"1px dashed #666"},children:[jsxRuntimeExports.jsx(TitleOperation,{children:"تغییر رمز ورود به متاورس"}),jsxRuntimeExports.jsxs(Form,{options:{style:{gap:16,margin:0}},onSubmit:it,children:[jsxRuntimeExports.jsx(Input$8,{type:"password",placeholder:"رمز قدیمی",name:"old_password",dispatch:et,className:"rtl-placeholder mb-0",value:tt.old_password,style:{padding:"2px 8px"}}),jsxRuntimeExports.jsx(Input$8,{type:"password",placeholder:"رمز جدید",name:"password",dispatch:et,className:"rtl-placeholder mb-0",value:tt.password,style:{padding:"2px 8px"}}),jsxRuntimeExports.jsx(Submit$1,{text:"ذخیره شود",type:"primary"})]})]})}function Variable({settings:tt}){const{Request:et,HTTP_METHOD:nt}=useRequest(),rt=useNavigate(),[it,st]=reactExports.useState({automatic_logout:tt==null?void 0:tt.automatic_logout,checkout_days_count:tt==null?void 0:tt.checkout_days_count});reactExports.useEffect(()=>{st({automatic_logout:tt==null?void 0:tt.automatic_logout,checkout_days_count:tt==null?void 0:tt.checkout_days_count})},[tt]);const ot=lt=>{st({...it,[lt.target.name]:lt.target.value})},at=()=>{if(it.automatic_logout<1)return ToastError("خروج اتوماتیک باید بیشتر از 1 دقیقه باشد.");if(it.checkout_days_count<3)return ToastError("واریز اتوماتیک باید بیشتر از 3 روز باشد.");if(it.checkout_days_count>1e3)return ToastError("واریز اتوماتیک باید کمتر از 1000 روز باشد.");if(it.automatic_logout>55)return ToastError("خروج اتوماتیک باید کمتر از 55 دقیقه باشد.");et("settings",nt.POST,it).then(lt=>{ToastSuccess("متغییر های الزامی با موفقیت بروزرسانی شد.")}).catch(lt=>{if(lt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),rt("/metaverse/confirmation");ToastError(lt.response.data.message)})};return jsxRuntimeExports.jsxs(ContainerOperation,{children:[jsxRuntimeExports.jsx(TitleOperation,{children:"متغییر های الزامی"}),jsxRuntimeExports.jsxs(Form,{onSubmit:at,options:{style:{gap:16}},children:[jsxRuntimeExports.jsxs(ContainerVariable,{children:[jsxRuntimeExports.jsx(InputVariable,{name:"checkout_days_count",type:"number",placeholder:"3",value:it.checkout_days_count,onChange:ot}),jsxRuntimeExports.jsx(TitleVariable,{children:"زمان تسویه حساب بازه زمانی | روزانه"})]}),jsxRuntimeExports.jsxs(ContainerVariable,{children:[jsxRuntimeExports.jsx(InputVariable,{name:"automatic_logout",type:"number",placeholder:"3",value:it.automatic_logout,onChange:ot}),jsxRuntimeExports.jsx(TitleVariable,{children:"خروج اتوماتیک از حساب کاربری | دقیقه"})]}),jsxRuntimeExports.jsx(Submit$1,{text:"ذخیره شود",type:"primary",options:{style:{width:130}}})]})]})}function ChangeEmail({settings:tt}){const{Request:et,HTTP_METHOD:nt}=useRequest(),[rt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState({email:"",code:""}),at=()=>{rt?st.code.length===6?et("reset/email/verify",nt.POST,{code:st.code}).then(lt=>{it(!1),ot({email:"",code:""}),ToastSuccess("ایمیل با موفقیت بروزرسانی شد.")}).catch(lt=>{ToastError(lt.response.data.message)}):ToastError("کد تایید باید 6 کاراکتر داشته باشد."):EmailValidator(st.email)?et("reset/email",nt.POST,{email:st.email}).then(lt=>{it(!0),ToastSuccess("کد تایید به ایمیل شما ارسال شد.")}).catch(lt=>{ToastError(lt.response.data.message)}):ToastError("ایمیل شما معتبر نمی باشد لطفا ایمیل دیگری را امتحان کنید.")};return jsxRuntimeExports.jsxs(ContainerOperation,{style:{borderBottom:"1px dashed #666"},children:[jsxRuntimeExports.jsxs(PermissionToChange,{children:[jsxRuntimeExports.jsx(CounterChange,{children:tt==null?void 0:tt.email_reset_count}),jsxRuntimeExports.jsx(SpanPermission,{children:"مجوز تغییر "})]}),jsxRuntimeExports.jsx(TitleOperation,{children:"تغییر ایمیل ورود به متاورس"}),jsxRuntimeExports.jsxs(Form,{options:{style:{gap:16}},onSubmit:at,children:[jsxRuntimeExports.jsx(Input$8,{type:"email",placeholder:"ایمیل جدید",name:"email",dispatch:ot,className:"rtl-placeholder mb-0",value:st.email,style:{padding:"2px 8px"},options:{disabled:rt}}),jsxRuntimeExports.jsx(Input$8,{type:"number",placeholder:"کد تایید",name:"code",dispatch:ot,className:"rtl-placeholder mb-0",value:st.code,style:{padding:"2px 8px"},maxLength:11,options:{disabled:!rt}}),jsxRuntimeExports.jsx(Submit$1,{text:"تایید",type:"primary",options:{style:{width:130}}})]})]})}var t$1=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],n$1=/[۰۱۲۳۴۵۶۷۸۹]/g,i$1=function(tt){if(typeof tt!="string")throw TypeError("PersianTools: digitsFaToEn - The input must be string");return String(tt).replace(n$1,function(et){return""+t$1.indexOf(et)})},m$1="ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی۰۱۲۳۴۵۶۷۸۹َُِ‌آاً",f$1=m$1+"ًٌٍَُِّْٰٔءك‌ةۀأإيـئؤ،",b$1=function(tt,et,nt){et===void 0&&(et=!1),nt===void 0&&(nt=/["'-+()؟\s.]/g);var rt=tt.replace(nt,"");return new RegExp("^["+(et?f$1:m$1)+"]+$").test(rt)},h$2=function(tt){if(typeof tt!="number"&&typeof tt!="string")return"";var et=tt.toString(),nt=(b$1(et)?i$1(et):et).split(".");return nt[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+(nt[1]?"."+nt[1]:"")};function V$1(tt){if(tt){var et=tt.toString(),nt=et.length;if(et in{"0000000000":!0,2222222222:!0,3333333333:!0,4444444444:!0,5555555555:!0,6666666666:!0,7777777777:!0,8888888888:!0,9999999999:!0}||nt<8||nt>10||+(et=("00"+et).substring(nt+2-10)).substring(3,9)==0)return!1;for(var rt=+et.substring(9),it=0,st=0;st<9;st++)it+=+et.substring(st,st+1)*(10-st);return(it%=11)<2&&rt===it||it>=2&&rt===11-it}}function H$1(tt){if(tt){var et=String(tt);if(et.length<16||parseInt(et.substr(1,10),10)===0||parseInt(et.substr(10,6),10)===0)return!1;for(var nt,rt,it=0,st=0;st<16;st++)nt=st%2==0?2:1,it+=(rt=parseInt(et.substr(st,1),10)*nt)>9?rt-9:rt;return it%10==0}}var q=[{name:"بانک آینده",code:"636214"},{name:"بانک اقتصاد نوین",code:"627412"},{name:"بانک انصار",code:"627381"},{name:"بانک ایران زمین",code:"505785"},{name:"بانک پارسیان",code:"622106"},{name:"بانک پارسیان",code:"627884"},{name:"بانک پاسارگاد",code:"502229"},{name:"بانک پاسارگاد",code:"639347"},{name:"پست بانک ایران",code:"627760"},{name:"بانک تجارت",code:"585983"},{name:"بانک تجارت",code:"627353"},{name:"بانک توسعه تعاون",code:"502908"},{name:"بانک توسعه صادرات",code:"207177"},{name:"بانک توسعه صادرات",code:"627648"},{name:"بانک حکمت ایرانیان",code:"636949"},{name:"بانک خاورمیانه",code:"585949"},{name:"بانک دی",code:"502938"},{name:"بانک رسالت",code:"504172"},{name:"بانک رفاه کارگران",code:"589463"},{name:"بانک سامان",code:"621986"},{name:"بانک سپه",code:"589210"},{name:"بانک سرمایه",code:"639607"},{name:"بانک سینا",code:"639346"},{name:"بانک شهر",code:"502806"},{name:"بانک شهر",code:"504706"},{name:"بانک صادرات ایران",code:"603769"},{name:"بانک صادرات ایران",code:"903769"},{name:"بانک صنعت و معدن",code:"627961"},{name:"بانک قرض الحسنه مهر",code:"639370"},{name:"بانک قوامین",code:"639599"},{name:"بانک کارآفرین",code:"627488"},{name:"بانک کشاورزی",code:"603770"},{name:"بانک کشاورزی",code:"639217"},{name:"بانک گردشگری",code:"505416"},{name:"بانک گردشگری",code:"505426"},{name:"بانک مرکزی ایران",code:"636797"},{name:"بانک مسکن",code:"628023"},{name:"بانک ملت",code:"610433"},{name:"بانک ملت",code:"991975"},{name:"بانک ملی ایران",code:"170019"},{name:"بانک ملی ایران",code:"603799"},{name:"بانک مهر ایران",code:"606373"},{name:"موسسه کوثر",code:"505801"},{name:"موسسه اعتباری ملل",code:"606256"},{name:"موسسه اعتباری توسعه",code:"628157"}];function G(tt){if(tt){var et=tt.toString().length;if(tt&&et>=6&&et<=16){var nt=tt.toString().substr(0,6),rt=q.find(function(it){return it.code===nt});return rt?rt.name:null}return null}}function ee(){return ee=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},ee.apply(this,arguments)}var te={10:{code:"010",nickname:"central-bank",name:"Central Bank of Iran",persianName:"بانک مرکزی جمهوری اسلامی ایران",accountNumberAvailable:!1},11:{code:"011",nickname:"sanat-o-madan",name:"Sanat O Madan Bank",persianName:"بانک صنعت و معدن",accountNumberAvailable:!1},12:{code:"012",nickname:"mellat",name:"Mellat Bank",persianName:"بانک ملت",accountNumberAvailable:!1},13:{code:"013",nickname:"refah",name:"Refah Bank",persianName:"بانک رفاه کارگران",accountNumberAvailable:!1},14:{code:"014",nickname:"maskan",name:"Maskan Bank",persianName:"بانک مسکن",accountNumberAvailable:!1},15:{code:"015",nickname:"sepah",name:"Sepah Bank",persianName:"بانک سپه",accountNumberAvailable:!1},16:{code:"016",nickname:"keshavarzi",name:"Keshavarzi",persianName:"بانک کشاورزی",accountNumberAvailable:!1},17:{code:"017",nickname:"melli",name:"Melli",persianName:"بانک ملی ایران",accountNumberAvailable:!1},18:{code:"018",nickname:"tejarat",name:"Tejarat Bank",persianName:"بانک تجارت",accountNumberAvailable:!1},19:{code:"019",nickname:"saderat",name:"Saderat Bank",persianName:"بانک صادرات ایران",accountNumberAvailable:!1},20:{code:"020",nickname:"tosee-saderat",name:"Tose Saderat Bank",persianName:"بانک توسعه صادرات",accountNumberAvailable:!1},21:{code:"021",nickname:"post",name:"Post Bank",persianName:"پست بانک ایران",accountNumberAvailable:!1},22:{code:"022",nickname:"toose-taavon",name:"Tosee Taavon Bank",persianName:"بانک توسعه تعاون",accountNumberAvailable:!1},51:{code:"051",nickname:"tosee",name:"Tosee Bank",persianName:"موسسه اعتباری توسعه",accountNumberAvailable:!1},52:{code:"052",nickname:"ghavamin",name:"Ghavamin Bank",persianName:"بانک قوامین",accountNumberAvailable:!1},53:{code:"053",nickname:"karafarin",name:"Karafarin Bank",persianName:"بانک کارآفرین",accountNumberAvailable:!1},54:{code:"054",nickname:"parsian",name:"Parsian Bank",persianName:"بانک پارسیان",accountNumberAvailable:!0,process:function(tt){var et="0"+(tt=tt.substring(14)).substr(0,2)+"-0"+tt.substr(2,7)+"-"+tt.substr(9,3);return{normal:tt,formatted:et}}},55:{code:"055",nickname:"eghtesad-novin",name:"Eghtesad Novin Bank",persianName:"بانک اقتصاد نوین",accountNumberAvailable:!1},56:{code:"056",nickname:"saman",name:"Saman Bank",persianName:"بانک سامان",accountNumberAvailable:!1},57:{code:"057",nickname:"pasargad",name:"Pasargad Bank",persianName:"بانک پاسارگاد",accountNumberAvailable:!0,process:function(tt){for(tt=tt.substring(7);tt[0]==="0";)tt=tt.substring(1);var et=(tt=tt.substr(0,tt.length-2)).substr(0,3)+"-"+tt.substr(3,3)+"-"+tt.substr(6,8)+"-"+tt.substr(14,1);return{normal:tt,formatted:et}}},58:{code:"058",nickname:"sarmayeh",name:"Sarmayeh Bank",persianName:"بانک سرمایه",accountNumberAvailable:!1},59:{code:"059",nickname:"sina",name:"Sina Bank",persianName:"بانک سینا",accountNumberAvailable:!1},60:{code:"060",nickname:"mehr-iran",name:"Mehr Iran Bank",persianName:"بانک مهر ایران",accountNumberAvailable:!1},61:{code:"061",nickname:"shahr",name:"City Bank",persianName:"بانک شهر",accountNumberAvailable:!0,process:function(tt){for(tt=tt.substring(7);tt[0]==="0";)tt=tt.substring(1);return{normal:tt,formatted:tt}}},62:{code:"062",nickname:"ayandeh",name:"Ayandeh Bank",persianName:"بانک آینده",accountNumberAvailable:!1},63:{code:"063",nickname:"ansar",name:"Ansar Bank",persianName:"بانک انصار",accountNumberAvailable:!1},64:{code:"064",nickname:"gardeshgari",name:"Gardeshgari Bank",persianName:"بانک گردشگری",accountNumberAvailable:!1},65:{code:"065",nickname:"hekmat-iranian",name:"Hekmat Iranian Bank",persianName:"بانک حکمت ایرانیان",accountNumberAvailable:!1},66:{code:"066",nickname:"dey",name:"Dey Bank",persianName:"بانک دی",accountNumberAvailable:!1},69:{code:"069",nickname:"iran-zamin",name:"Iran Zamin Bank",persianName:"بانک ایران زمین",accountNumberAvailable:!1},70:{code:"070",nickname:"resalat",name:"Resalat Bank",persianName:"بانک قرض الحسنه رسالت",accountNumberAvailable:!1},73:{code:"073",nickname:"kosar",name:"Kosar Credit Institute",persianName:"موسسه اعتباری کوثر",accountNumberAvailable:!1},75:{code:"075",nickname:"melal",name:"Melal Credit Institute",persianName:"موسسه اعتباری ملل",accountNumberAvailable:!1},78:{code:"078",nickname:"middle-east-bank",name:"Middle East Bank",persianName:"بانک خاورمیانه",accountNumberAvailable:!1},80:{code:"080",nickname:"noor-bank",name:"Noor Credit Institution",persianName:"موسسه اعتباری نور",accountNumberAvailable:!1},79:{code:"079",nickname:"mehr-eqtesad",name:"Mehr Eqtesad Bank",persianName:"بانک مهر اقتصاد",accountNumberAvailable:!1},90:{code:"090",nickname:"mehr-iran",name:"Mehr Iran Bank",persianName:"بانک مهر ایران",accountNumberAvailable:!1},95:{code:"095",nickname:"iran-venezuela",name:"Iran and Venezuela Bank",persianName:"بانک ایران و ونزوئلا",accountNumberAvailable:!1}},oe=/IR[0-9]{24}/,ce=/IR[0-9]{2}([0-9]{3})[0-9]{19}/;function ne(tt){var et;if(!ae(tt))return null;var nt=ce.exec(tt),rt=(et=nt==null?void 0:nt[1])!=null?et:"",it=parseInt(rt,10),st=ee({},te[it]||{});if(st.accountNumberAvailable){var ot=st.process==null?void 0:st.process(tt);st.accountNumber=ot==null?void 0:ot.normal,st.formattedAccountNumber=ot==null?void 0:ot.formatted}return delete st.process,st}function re(tt){for(var et,nt=tt;nt.length>2;)et=nt.slice(0,9),nt=parseInt(et,10)%97+nt.slice(et.length);return parseInt(nt,10)%97}function ae(tt){if(tt.length!==26||!oe.test(tt))return!1;var et=tt.charCodeAt(0)-65+10,nt=tt.charCodeAt(1)-65+10,rt=tt.substr(4);return re(rt+=et.toString()+nt.toString()+tt.substr(2,2))===1}var ue={910:{base:"کشوری",province:[],type:["permanent","credit"],operator:"همراه اول"},914:{province:["آذربایجان شرقی","اردبیل","اصفهان"],base:"آذربایجان غربی",type:["permanent","credit"],operator:"همراه اول"},911:{province:["گلستان","گیلان"],base:"مازندران",type:["permanent","credit"],operator:"همراه اول"},912:{province:["البرز","زنجان","سمنان","قزوین","قم","برخی از شهرستان های استان مرکزی"],base:"تهران",type:["permanent"],operator:"همراه اول"},913:{province:["یزد","چهارمحال و بختیاری","کرمان"],base:"اصفهان",type:["permanent","credit"],operator:"همراه اول"},915:{province:["خراسان شمالی","خراسان جنوبی","سیستان و بلوچستان"],base:"خراسان رضوی",type:["permanent","credit"],operator:"همراه اول"},916:{province:["لرستان","فارس","اصفهان"],base:"خوزستان",type:["permanent","credit"],operator:"همراه اول"},917:{province:["بوشهر","کهگیلویه و بویر احمد","هرمزگان"],base:"فارس",type:["permanent","credit"],operator:"همراه اول"},918:{province:["کردستان","ایلام","همدان"],base:"کرمانشاه",type:["permanent","credit"],operator:"همراه اول"},919:{province:["البرز","سمنان","قم","قزوین","زنجان"],base:"تهران",type:["credit"],operator:"همراه اول"},990:{province:[],base:"کشوری",type:["credit"],operator:"همراه اول"},991:{province:[],base:"کشوری",type:["permanent","credit"],operator:"همراه اول"},992:{province:[],base:"کشوری",type:["credit"],operator:"همراه اول"},993:{province:[],base:"کشوری",type:["credit"],operator:"همراه اول"},994:{province:[],base:"کشوری",type:["credit"],operator:"همراه اول"}},Ce={932:{province:[],base:"کشوری",type:["credit"],operator:"تالیا"}},se={920:{province:[],base:"کشوری",type:["permanent"],operator:"رایتل"},921:{province:[],base:"کشوری",type:["credit"],operator:"رایتل"},922:{province:[],base:"کشوری",type:["credit"],operator:"رایتل"}},le={province:[],base:"کشوری",type:["permanent","credit"],operator:"ایرانسل"},me={930:le,933:le,935:le,936:le,937:le,938:le,939:le,901:le,902:le,903:le,905:le,900:le,904:{province:[],base:"کشوری",model:"سیم‌کارت کودک",type:["credit"],operator:"ایرانسل"},941:{province:[],base:"کشوری",model:"TD-LTE",type:["credit"],operator:"ایرانسل"}},fe={998:{province:[],base:"کشوری",type:["credit"],operator:"شاتل موبایل"}},be=[].concat(Object.keys(ue),Object.keys(Ce),Object.keys(se),Object.keys(me),Object.keys(fe));ee({},ue,Ce,me,fe,se);var ve=/^(\+98|98|0098|0)?9(\d{2})\d{7}$/;function he(tt){var et=(""+tt).match(ve);return et&&tt.replace(et[1],"").slice(0,3)||""}function Ne(tt){return ve.test(tt)&&be.includes(he(tt))}function $e(tt,et){if(!Ne(tt))throw new Error("phone number is not valid");return et+tt.split(/^(?:\+98|98|0098|0)/).pop()}function ChangePhone({settings:tt}){const[et,nt]=reactExports.useState({phone:"",code:""}),{Request:rt,HTTP_METHOD:it}=useRequest(),[st,ot]=reactExports.useState(!1),at=()=>{try{Ne($e(et.phone,"0"))}catch{return ToastError("شماره تلفن معتبر نمی باشد.")}st?et.code.length===6?rt("reset/phone/verify",it.POST,{code:et.code}).then(()=>{ot(!1),nt({phone:"",code:""}),ToastSuccess("شماره تلفن با موفقیت بروزرسانی شد.")}).catch(()=>{ToastError("مشکلی در بروزرسانی شماره تلفن به وجود امد.")}):ToastError("کد تایید باید 6 کاراکتر داشته باشد."):rt("reset/phone",it.POST,{phone:$e(et.phone,"0")}).then(()=>{ot(!0),ToastSuccess("کد تایید باموفقیت به شماره تلفن شما ارسال شد.")}).catch(lt=>{ToastError(lt.response.data.message)})};return jsxRuntimeExports.jsxs(ContainerOperation,{children:[jsxRuntimeExports.jsxs(PermissionToChange,{children:[jsxRuntimeExports.jsx(CounterChange,{children:tt==null?void 0:tt.phone_reset_count}),jsxRuntimeExports.jsx(SpanPermission,{children:"مجوز تغییر "})]}),jsxRuntimeExports.jsx(TitleOperation,{children:"تغییر شماره موبایل در سراسر متاورس"}),jsxRuntimeExports.jsxs(Form,{onSubmit:at,options:{style:{gap:16}},children:[jsxRuntimeExports.jsx(Input$8,{type:"number",placeholder:"شماره تلفن جدید",name:"phone",dispatch:nt,className:"rtl-placeholder mb-0",value:et.phone,style:{padding:"2px 8px"},maxLength:11,options:{disabled:st}}),jsxRuntimeExports.jsx(Input$8,{type:"number",placeholder:"کد تایید",name:"code",dispatch:nt,className:"rtl-placeholder mb-0",value:et.code,style:{padding:"2px 8px"},maxLength:6,options:{disabled:!st}}),jsxRuntimeExports.jsx(Submit$1,{text:"تایید",type:"primary",options:{style:{width:130}}})]})]})}function AccountSetting(){const[tt,et]=reactExports.useState({}),{Request:nt}=useRequest();return reactExports.useEffect(()=>{nt("settings").then(rt=>{et(rt.data.data)})},[]),jsxRuntimeExports.jsxs(Container$B,{children:[jsxRuntimeExports.jsxs(ContainerBox,{children:[jsxRuntimeExports.jsx(ChangePassword,{}),jsxRuntimeExports.jsx(Variable,{settings:tt})]}),jsxRuntimeExports.jsxs(ContainerBox,{style:{overflowY:"scroll"},children:[jsxRuntimeExports.jsx(ChangeEmail,{settings:tt}),jsxRuntimeExports.jsx(ChangePhone,{settings:tt})]})]})}const Container$A=styled.section`
  height: 100%;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: row-reverse;
`,Section$1=styled.div``;function GeneralSettings(){const{Request:tt,HTTP_METHOD:et}=useRequest(),[nt,rt]=reactExports.useState({announcements_sms:0,announcements_email:0,reports_sms:0,reports_email:0,login_verification_sms:0,login_verification_email:0,transactions_sms:0,transactions_email:0,trades_sms:0,trades_email:0});reactExports.useEffect(()=>{tt("general-settings").then(st=>{rt({...st.data.data})})},[]);const it=()=>{const st=Object.fromEntries(Object.entries(nt).filter(([ot])=>!ot.includes("id")));tt(`general-settings/${nt.id}`,et.PUT,st)};return jsxRuntimeExports.jsxs(Form,{onSubmit:it,options:{style:{height:"100%"}},children:[jsxRuntimeExports.jsxs(Container$A,{children:[jsxRuntimeExports.jsxs(Section$1,{children:[jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال پیامک اطلاعیه های متاورس",onChange:rt,value:nt.announcements_sms,name:"announcements_sms"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال ایمیل اطلاعیه های متاورس",onChange:rt,value:nt.announcements_email,name:"announcements_email"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال پیامک تذکر ارسال شده",onChange:rt,value:nt.reports_sms,name:"reports_sms"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال ایمیل تذکر ارسال شده",onChange:rt,value:nt.reports_email,name:"reports_email"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال ایمیل تایید برای ورود به متاورس",onChange:rt,value:nt.login_verification_email,name:"login_verification_email"})]}),jsxRuntimeExports.jsxs(Section$1,{children:[jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال پیامک تسویه حساب تراکنش ها",onChange:rt,value:nt.transactions_sms,name:"transactions_sms"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال ایمیل تسویه حساب تراکنش ها",onChange:rt,value:nt.transactions_email,name:"transactions_email"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال پیامک تایید خرید",onChange:rt,value:nt.trades_sms,name:"trades_sms"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال ایمیل تایید خرید",onChange:rt,value:nt.trades_email,name:"trades_email"}),jsxRuntimeExports.jsx(Toggle$1,{text:"ارسال پیامک تایید برای ورود به حساب",onChange:rt,value:nt.login_verification_sms,name:"login_verification_sms"})]})]}),jsxRuntimeExports.jsx(Submit$1,{text:"بروز رسانی",type:"primary",options:{style:{marginBottom:32,width:735}}})]})}function Settings(){const et=useTabs([{title:"تنظیمات عمومی",content:jsxRuntimeExports.jsx(GeneralSettings,{})},{title:"حساب کاربری",content:jsxRuntimeExports.jsx(AccountSetting,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"تنظیمات",children:et})}const Container$z=styled.section`
  z-index: 501;
  background-color: white;
  height: 72%;
  width: 450px;
  position: absolute;
  bottom: 72px;
  right: 16px;
  border-radius: 8px;
  padding: 16px;

  @media screen and (max-height: 900px) {
    height: 60% !important;
  }
`,Header$5=styled.div`
  width: 100%;
  height: 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;

  & h4 {
    width: 65%;
    text-align: right;
    direction: rtl;
    color: #555;
    padding: 8px;
    border: 0.5px solid #999;
    box-shadow: inset 0 2px 6px -1px #07af07be;
    border-radius: 8px;
  }
`,Body$4=styled.div`
  margin-top: 8px;
  width: 100%;
  height: 91%;
  border: 0.5px solid #999;
  border-radius: 8px;
  overflow-y: scroll;
  box-shadow: inset 0 2px 6px -1px #07af07be;

  @media screen and (max-height: 900px) {
    height: 87%;
  }

  /* @media screen and (min-width: 900px) {
    height: 90%;

  } */
`;function FloatingModal({children:tt,title:et}){const nt=useNavigate(),rt=useLocation(),[it,st]=reactExports.useState(!1),ot=rt.pathname.replace(/\/metaverse\//g,"")+"-",at=useAdviserData(ot,rt.state);return jsxRuntimeExports.jsxs(Container$z,{children:[jsxRuntimeExports.jsxs(Header$5,{children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer white-drop-shadow",src:HelpImage,width:40,alt:"help",onClick:()=>st(lt=>!lt)}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer white-drop-shadow",src:ReportImage,width:40,alt:"report"}),jsxRuntimeExports.jsx("h4",{className:"purple-box-shadow",children:et}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer white-drop-shadow",src:ExitImage,width:40,alt:"exit",onClick:()=>nt("/metaverse")})]}),jsxRuntimeExports.jsxs(Body$4,{children:[tt,it&&jsxRuntimeExports.jsx(Amozesh,{creator:at==null?void 0:at.creator,title:at==null?void 0:at.title,video:at==null?void 0:at.video,description:at==null?void 0:at.description,setShowModal:st})]})]})}const BellGif="/metaverse/assets/bell-39d45c08.gif",Notification=styled.div`
  display: flex;
  flex-direction: row-reverse;
  justify-content: space-between;
  align-items: center;
  height: 96px;
  padding: 8px;
  position: relative;

  &:nth-child(even) {
    background-color: #e9ecef;
  }
`,Information$3=styled.div`
  text-align: right;

  & > p {
    margin-top: 8px;
  }

  & > div {
    position: relative;
  }
`,DateContainer=styled.p`
  position: absolute;
  top: 8px;
  left: 14%;
  color: #666;
  font-size: 14px;
`,Gif$1=styled.img`
  width: 350px;
`,AnimateContainer$1=styled.div`
  width: 100%;
  height: 80%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;

  & p {
    text-align: right;
    direction: rtl;
    margin-top: -32px;
    font-weight: bold;
  }
`,Pages={tickets:"/metaverse/sanad"};function Notifications(){const[tt,et]=reactExports.useState([]),{Request:nt}=useRequest(),rt=useNavigate();reactExports.useEffect(()=>{nt("notifications").then(st=>{et(st.data.data)})},[]);const it=st=>{nt(`notifications/${st}`).then(()=>{et(tt.filter(ot=>ot.id!==st))})};return jsxRuntimeExports.jsxs(FloatingModal,{title:"اعلان ها ",children:[tt==null?void 0:tt.map(st=>{var ot,at,lt,ut;return jsxRuntimeExports.jsxs(Notification,{onClick:()=>rt(Pages[st.data["related-to"]]),children:[jsxRuntimeExports.jsx("img",{style:{marginLeft:16,borderRadius:100,height:"75%"},src:(ot=st==null?void 0:st.data)==null?void 0:ot["sender-image"],width:60,alt:(at=st==null?void 0:st.data)==null?void 0:at["sender-name"]}),jsxRuntimeExports.jsx(DateContainer,{children:st==null?void 0:st.date}),jsxRuntimeExports.jsxs(Information$3,{children:[jsxRuntimeExports.jsx("h4",{className:"link",onClick:()=>rt("/metaverse/player/"),children:(lt=st==null?void 0:st.data)==null?void 0:lt["sender-name"]}),jsxRuntimeExports.jsx("p",{className:"text-information rtl",children:TextShorter((ut=st==null?void 0:st.data)==null?void 0:ut.message,68)})]}),jsxRuntimeExports.jsx("img",{src:SeenImage,width:40,alt:"seen",className:"cursor-pointer",onClick:()=>it(st.id)})]},st.id)}),(tt==null?void 0:tt.length)===0&&jsxRuntimeExports.jsxs(AnimateContainer$1,{children:[jsxRuntimeExports.jsx(Gif$1,{src:BellGif,alt:""}),jsxRuntimeExports.jsx("p",{children:"پیامی موجود نیست !"})]})]})}const Container$y=styled.div`
  width: 100%;
  height: 100%;
  width: 80%;
  margin: auto;
`,ButtonContainer=styled.div`
  display: flex;
  justify-content: space-around;
  padding: 16px;
`,ImageButton=styled.img`
  transition: 0.3s;
  cursor: pointer;

  &:hover {
    filter: grayscale(0%) !important;
  }
`,ItemContainer=styled.div`
  width: 100%;
`,Item=styled.div`
  width: 100%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin-top: 8px;
  padding: 16px;
  position: relative;

  & > p {
    direction: rtl;
    font-size: 18px;
    font-weight: bold;
    color: #666;
  }
  
  & .store-help {
    font-size: 30px;
    position: absolute;
    left: 20%;
    color: red;
    top: 50%;
    cursor: pointer;
  }

  &:nth-child(1) {
    border-bottom: 2px solid #999;
  }

  &:nth-child(2) {
    border-bottom: 2px solid #999;
  }
`,Button=styled.button`
  --bs-bg-opacity: 1;
  background-color: var(--bs-orange) !important;
  border: none;
  border-radius: 8px;
  --bs-text-opacity: 1;
  color: rgba(var(--bs-light-rgb), var(--bs-text-opacity)) !important;
  padding: 8px 24px 8px 24px;
  direction: rtl;
  font-size: 18px;
`,CurrencyImage_1="/metaverse/assets/currency-1-4af9c86d.png",CurrencyImage_2="/metaverse/assets/currency-2-1d6e4a11.png",CurrencyImage_3="/metaverse/assets/currency-3-2b185a79.png",CurrencyImage_4="/metaverse/assets/currency-4-37a4b3c4.png",CurrencyImage_5="/metaverse/assets/currency-5-12c89055.png",CurrencyImage_6="/metaverse/assets/currency-6-c12d8dcd.png",LANG_CONVERT$2={irr:"ریال",psc:"PSC"};function Currency(){const[tt,et]=reactExports.useState(1),[nt,rt]=reactExports.useState([]),{Request:it,HTTP_METHOD:st}=useRequest();reactExports.useEffect(()=>{it("store",st.POST,{codes:[`currency-psc-${tt}`,`currency-irr-${tt}`,`currency-irr-${tt}`]}).then(lt=>{rt(lt.data.data)})},[tt]);const ot=lt=>{et(Number(lt.target.id))},at=(lt,ut)=>{it("order",st.POST,{asset:lt,amount:ut}).then(ft=>{var dt;window.location.href=(dt=ft==null?void 0:ft.data)==null?void 0:dt.link})};return jsxRuntimeExports.jsxs(Container$y,{children:[jsxRuntimeExports.jsxs(ButtonContainer,{children:[jsxRuntimeExports.jsx(ImageButton,{id:"1",src:CurrencyImage_1,width:80,className:`${tt!==1&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"2",src:CurrencyImage_2,width:80,className:`${tt!==2&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"3",src:CurrencyImage_3,width:80,className:`${tt!==3&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"4",src:CurrencyImage_4,width:80,className:`${tt!==4&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"5",src:CurrencyImage_5,width:80,className:`${tt!==5&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"6",src:CurrencyImage_6,width:80,className:`${tt!==6&&"object-disabled"}`,onClick:ot})]}),jsxRuntimeExports.jsx(ItemContainer,{children:nt.map(lt=>jsxRuntimeExports.jsxs(Item,{children:[jsxRuntimeExports.jsx("img",{src:lt.image,alt:lt.asset,width:80}),jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container ",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"اخطار"}),jsxRuntimeExports.jsx("p",{children:"درصورت بروز هرگونه مشکل برای رفع آن ما را با خبر سازید"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsx("p",{className:"store-help",children:"?"})}),jsxRuntimeExports.jsxs("p",{children:[h$2(lt.amount)," عدد"]}),jsxRuntimeExports.jsx("p",{children:LANG_CONVERT$2[lt.asset]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>at(lt.asset,lt.amount),children:[h$2(lt.amount*lt.unitPrice/10)," تومان"]})]},shortid$1.generate()))})]})}const ToolsImage_1="/metaverse/assets/tools-1-2ec39aef.png",ToolsImage_2="/metaverse/assets/tools-2-4548b6cd.png",ToolsImage_3="/metaverse/assets/tools-3-32685cf7.png",ToolsImage_4="/metaverse/assets/tools-4-15a7ee66.png",ToolsImage_5="/metaverse/assets/tools-5-0edd8530.png",ToolsImage_6="/metaverse/assets/tools-6-223e50d2.png",LANG_CONVERT$1={yellow:"رنگ زرد",blue:"رنگ آبی",red:"رنگ قرمز"};function Tools(){const[tt,et]=reactExports.useState(1),[nt,rt]=reactExports.useState([]),{Request:it,HTTP_METHOD:st}=useRequest();reactExports.useEffect(()=>{it("store",st.POST,{codes:[`tools-b-${tt}`,`tools-r-${tt}`,`tools-y-${tt}`]}).then(lt=>{rt(lt.data.data)})},[tt]);const ot=lt=>{et(Number(lt.target.id))},at=(lt,ut)=>{it("order",st.POST,{asset:lt,amount:ut}).then(ft=>{var dt;window.location.href=(dt=ft==null?void 0:ft.data)==null?void 0:dt.link})};return jsxRuntimeExports.jsxs(Container$y,{children:[jsxRuntimeExports.jsxs(ButtonContainer,{children:[jsxRuntimeExports.jsx(ImageButton,{id:"1",src:ToolsImage_1,width:80,className:`${tt!==1&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"2",src:ToolsImage_2,width:80,className:`${tt!==2&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"3",src:ToolsImage_3,width:80,className:`${tt!==3&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"4",src:ToolsImage_4,width:80,className:`${tt!==4&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"5",src:ToolsImage_5,width:80,className:`${tt!==5&&"object-disabled"}`,onClick:ot}),jsxRuntimeExports.jsx(ImageButton,{id:"6",src:ToolsImage_6,width:80,className:`${tt!==6&&"object-disabled"}`,onClick:ot})]}),jsxRuntimeExports.jsx(ItemContainer,{children:nt.map(lt=>jsxRuntimeExports.jsxs(Item,{children:[jsxRuntimeExports.jsx("img",{src:lt.image,alt:lt.asset,width:80}),jsxRuntimeExports.jsx(Tippy,{content:jsxRuntimeExports.jsx("div",{className:"tooltip-container ",children:jsxRuntimeExports.jsxs("div",{className:"tooltip-container-2",children:[jsxRuntimeExports.jsx("span",{className:"title-toltip",children:"اخطار"}),jsxRuntimeExports.jsx("p",{children:"درصورت بروز هرگونه مشکل برای رفع آن ما را با خبر سازید"})]})}),zIndex:1e4,children:jsxRuntimeExports.jsx("p",{className:"store-help",children:"?"})}),jsxRuntimeExports.jsxs("p",{children:[h$2(lt.amount)," عدد"]}),jsxRuntimeExports.jsx("p",{children:LANG_CONVERT$1[lt.asset]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>at(lt.asset,lt.amount),children:[h$2(lt.amount*lt.unitPrice/10)," تومان"]})]},shortid$1.generate()))})]})}function Store(){const et=useTabs([{title:"ابزار ها",content:jsxRuntimeExports.jsx(Tools,{})},{title:"ارز ها",content:jsxRuntimeExports.jsx(Currency,{})}]);return jsxRuntimeExports.jsx(Modal$1,{title:"فروشگاه",type:"modal-section-md",children:et})}function PublicRoute({children:tt}){const{isLoggedIn:et}=useAuth(),nt=useNavigate();return et()?nt("/metaverse"):tt}const ResetPasswordImage="/metaverse/assets/reset-password-16262c9c.png",ResetPasswordContainer=styled.div`
  width: 100%;
  height: 500px;
  padding: 10px;
`,ResetPasswordHeader=styled.div`
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;

  & h2 {
    color: #555;
  }
`,ResetPasswordBody=styled.div`
  height: 66%;
  padding: 32px;
`;function NewPassword(){const[tt]=useSearchParams(),[et,nt]=reactExports.useState([]),rt=useNavigate(),[it,st]=reactExports.useState({password:"",password_confirmation:"",email:tt.get("email"),token:tt.get("token")}),{Request:ot,HTTP_METHOD:at}=useRequest(),lt=()=>{ot("forgot-password/reset/password",at.POST,it).then(ut=>{rt("/metaverse/login")}).catch(ut=>{nt([ut.response.data.message])})};return jsxRuntimeExports.jsxs(ResetPasswordContainer,{children:[jsxRuntimeExports.jsxs(ResetPasswordHeader,{children:[jsxRuntimeExports.jsx("img",{src:ResetPasswordImage,alt:""}),jsxRuntimeExports.jsx("h2",{children:"پسورد جدید وارد کنید"})]}),jsxRuntimeExports.jsx(ResetPasswordBody,{className:"white-box-shadow",children:jsxRuntimeExports.jsxs(Form,{onSubmit:lt,children:[jsxRuntimeExports.jsx(Input$8,{style:{direction:"rtl"},placeholder:"رمز عبور جدید",name:"password",type:"password",dispatch:st,value:it.password}),jsxRuntimeExports.jsx(Input$8,{style:{direction:"rtl",margin:0},placeholder:"تکرار رمز عبور جدید",name:"password_confirmation",type:"password",dispatch:st,value:it.password_confirmation}),jsxRuntimeExports.jsx(ErrorMessage,{errors:et,maxList:1}),jsxRuntimeExports.jsx(Submit$1,{text:"تایید",type:"secondary",options:{style:{marginTop:20}}})]})})]})}const Container$x=styled.div`
  width: 100%;
  height: 400px;

  & h3 {
    direction: rtl;
    padding: 16px;
    margin-bottom: 16px;
  }
`,Body$3=styled.div`
  height: 70%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-around;
`;function SendEmail(){const[tt,et]=reactExports.useState({email:""}),nt=useNavigate(),{Request:rt,HTTP_METHOD:it}=useRequest(),st=()=>{rt("forgot-password",it.POST,tt).then(()=>{nt("/metaverse")})};return jsxRuntimeExports.jsxs(Container$x,{children:[jsxRuntimeExports.jsx("h3",{children:"رمز عبور خود را فراموش کرده اید؟ برای بازیابی آن، لطفا آدرس ایمیل خود را در زیر وارد کنید."}),jsxRuntimeExports.jsxs(Body$3,{children:[jsxRuntimeExports.jsxs(Form,{onSubmit:st,children:[jsxRuntimeExports.jsx(Input$8,{placeholder:"example@example.com",value:tt.email,dispatch:et,name:"email"}),jsxRuntimeExports.jsx(Submit$1,{type:"secondary",text:"ارسال"})]}),jsxRuntimeExports.jsx(Link,{to:"/metaverse/login",className:"link text-2",children:"بازگشت به صفحه ورود"})]})]})}function ForgetPassword(){const[tt]=useSearchParams();return jsxRuntimeExports.jsx(Modal$1,{title:"فراموشی کلمه عبور",children:tt.get("token")&&tt.get("email")?jsxRuntimeExports.jsx(NewPassword,{}):jsxRuntimeExports.jsx(SendEmail,{})})}const FailedTransactionImage="/metaverse/assets/failed-transaction-a97bfe1d.png",SuccessTransactionImage="/metaverse/assets/successful-transaction-1e00c3f5.png",Container$w=styled.div`
  width: 100%;
  height: 500px;
  overflow: hidden;
`,Header$4=styled.div`
  width: 95%;
  margin: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Image$1=styled.img``,FailedTitle=styled.h2`
  color: red;
`,SuccessTitle=styled.h2`
  color: green;
`,Body$2=styled.div`
  margin-top: 16px !important;
  width: 95%;
  height: 60%;
  margin: auto;
  border-radius: 8px;
  padding: 8px;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;

  & p {
    text-align: center;
    direction: rtl;
    font-size: 18px;
    line-height: 40px;
  }
`,Cell=styled.td`
  padding: 16px;
  text-align: center;
`,LANG_CONVERT={blue:"رنگ آبی",red:"رنگ قرمز",yellow:"رنگ زرد",psc:"PSC",irr:"ریال"};function FailedTransaction(){const tt=useNavigate();return jsxRuntimeExports.jsxs(Container$w,{children:[jsxRuntimeExports.jsxs(Header$4,{children:[jsxRuntimeExports.jsx(Image$1,{src:FailedTransactionImage}),jsxRuntimeExports.jsx(FailedTitle,{children:"تراکنش ناموفق"})]}),jsxRuntimeExports.jsxs(Body$2,{className:"red-box-shadow",children:[jsxRuntimeExports.jsxs("p",{children:["متاسفانه درخواست شما با موفقیت انجام نشده است.",jsxRuntimeExports.jsx("br",{})," جهت تلاش مجدد از دکمه زیر برای برگشت به فروشگاه اقدام نمایید."]}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:StoreImage,alt:"#",width:100,onClick:()=>tt("/metaverse/store")})]})]})}function SuccessTransaction({payment:tt}){return jsxRuntimeExports.jsxs(Container$w,{children:[jsxRuntimeExports.jsxs(Header$4,{children:[jsxRuntimeExports.jsx(Image$1,{src:SuccessTransactionImage}),jsxRuntimeExports.jsx(SuccessTitle,{children:"از خرید شما سپاس گذاریم"})]}),jsxRuntimeExports.jsxs(Body$2,{className:"green-box-shadow",children:[jsxRuntimeExports.jsx("p",{children:"از حمایتتان ممنونیم و آماده خدمت‌ رسانی مجدد به شما هستیم."}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx(Cell,{children:"شناسه تراکنش"}),jsxRuntimeExports.jsx(Cell,{children:"نام"}),jsxRuntimeExports.jsx(Cell,{children:"تعداد"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx(Cell,{children:tt.id}),jsxRuntimeExports.jsx(Cell,{children:LANG_CONVERT[tt.product]}),jsxRuntimeExports.jsx(Cell,{children:tt.count})]})]})]})]})}function Verification$1(){const[tt,et]=reactExports.useState({}),{Request:nt}=useRequest();return reactExports.useLayoutEffect(()=>{nt("user/payments/latest").then(rt=>{et(rt.data.data)})},[]),jsxRuntimeExports.jsx(Modal$1,{title:"وضعیت پرداخت",disabled:!0,children:tt.status===1?jsxRuntimeExports.jsx(SuccessTransaction,{payment:tt}):jsxRuntimeExports.jsx(FailedTransaction,{})})}function isObject$2(tt){return tt!==null&&typeof tt=="object"&&"constructor"in tt&&tt.constructor===Object}function extend$2(tt={},et={}){Object.keys(et).forEach(nt=>{typeof tt[nt]>"u"?tt[nt]=et[nt]:isObject$2(et[nt])&&isObject$2(tt[nt])&&Object.keys(et[nt]).length>0&&extend$2(tt[nt],et[nt])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const tt=typeof document<"u"?document:{};return extend$2(tt,ssrDocument),tt}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(tt){return typeof setTimeout>"u"?(tt(),null):setTimeout(tt,0)},cancelAnimationFrame(tt){typeof setTimeout>"u"||clearTimeout(tt)}};function getWindow(){const tt=typeof window<"u"?window:{};return extend$2(tt,ssrWindow),tt}function deleteProps(tt){const et=tt;Object.keys(et).forEach(nt=>{try{et[nt]=null}catch{}try{delete et[nt]}catch{}})}function nextTick(tt,et=0){return setTimeout(tt,et)}function now(){return Date.now()}function getComputedStyle$1(tt){const et=getWindow();let nt;return et.getComputedStyle&&(nt=et.getComputedStyle(tt,null)),!nt&&tt.currentStyle&&(nt=tt.currentStyle),nt||(nt=tt.style),nt}function getTranslate(tt,et="x"){const nt=getWindow();let rt,it,st;const ot=getComputedStyle$1(tt);return nt.WebKitCSSMatrix?(it=ot.transform||ot.webkitTransform,it.split(",").length>6&&(it=it.split(", ").map(at=>at.replace(",",".")).join(", ")),st=new nt.WebKitCSSMatrix(it==="none"?"":it)):(st=ot.MozTransform||ot.OTransform||ot.MsTransform||ot.msTransform||ot.transform||ot.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),rt=st.toString().split(",")),et==="x"&&(nt.WebKitCSSMatrix?it=st.m41:rt.length===16?it=parseFloat(rt[12]):it=parseFloat(rt[4])),et==="y"&&(nt.WebKitCSSMatrix?it=st.m42:rt.length===16?it=parseFloat(rt[13]):it=parseFloat(rt[5])),it||0}function isObject$1(tt){return typeof tt=="object"&&tt!==null&&tt.constructor&&Object.prototype.toString.call(tt).slice(8,-1)==="Object"}function isNode(tt){return typeof window<"u"&&typeof window.HTMLElement<"u"?tt instanceof HTMLElement:tt&&(tt.nodeType===1||tt.nodeType===11)}function extend$1(...tt){const et=Object(tt[0]),nt=["__proto__","constructor","prototype"];for(let rt=1;rt<tt.length;rt+=1){const it=tt[rt];if(it!=null&&!isNode(it)){const st=Object.keys(Object(it)).filter(ot=>nt.indexOf(ot)<0);for(let ot=0,at=st.length;ot<at;ot+=1){const lt=st[ot],ut=Object.getOwnPropertyDescriptor(it,lt);ut!==void 0&&ut.enumerable&&(isObject$1(et[lt])&&isObject$1(it[lt])?it[lt].__swiper__?et[lt]=it[lt]:extend$1(et[lt],it[lt]):!isObject$1(et[lt])&&isObject$1(it[lt])?(et[lt]={},it[lt].__swiper__?et[lt]=it[lt]:extend$1(et[lt],it[lt])):et[lt]=it[lt])}}}return et}function setCSSProperty(tt,et,nt){tt.style.setProperty(et,nt)}function animateCSSModeScroll({swiper:tt,targetPosition:et,side:nt}){const rt=getWindow(),it=-tt.translate;let st=null,ot;const at=tt.params.speed;tt.wrapperEl.style.scrollSnapType="none",rt.cancelAnimationFrame(tt.cssModeFrameID);const lt=et>it?"next":"prev",ut=(dt,ht)=>lt==="next"&&dt>=ht||lt==="prev"&&dt<=ht,ft=()=>{ot=new Date().getTime(),st===null&&(st=ot);const dt=Math.max(Math.min((ot-st)/at,1),0),ht=.5-Math.cos(dt*Math.PI)/2;let mt=it+ht*(et-it);if(ut(mt,et)&&(mt=et),tt.wrapperEl.scrollTo({[nt]:mt}),ut(mt,et)){tt.wrapperEl.style.overflow="hidden",tt.wrapperEl.style.scrollSnapType="",setTimeout(()=>{tt.wrapperEl.style.overflow="",tt.wrapperEl.scrollTo({[nt]:mt})}),rt.cancelAnimationFrame(tt.cssModeFrameID);return}tt.cssModeFrameID=rt.requestAnimationFrame(ft)};ft()}function elementChildren(tt,et=""){return[...tt.children].filter(nt=>nt.matches(et))}function createElement(tt,et=[]){const nt=document.createElement(tt);return nt.classList.add(...Array.isArray(et)?et:[et]),nt}function elementPrevAll(tt,et){const nt=[];for(;tt.previousElementSibling;){const rt=tt.previousElementSibling;et?rt.matches(et)&&nt.push(rt):nt.push(rt),tt=rt}return nt}function elementNextAll(tt,et){const nt=[];for(;tt.nextElementSibling;){const rt=tt.nextElementSibling;et?rt.matches(et)&&nt.push(rt):nt.push(rt),tt=rt}return nt}function elementStyle(tt,et){return getWindow().getComputedStyle(tt,null).getPropertyValue(et)}function elementIndex(tt){let et=tt,nt;if(et){for(nt=0;(et=et.previousSibling)!==null;)et.nodeType===1&&(nt+=1);return nt}}function elementParents(tt,et){const nt=[];let rt=tt.parentElement;for(;rt;)et?rt.matches(et)&&nt.push(rt):nt.push(rt),rt=rt.parentElement;return nt}function elementOuterSize(tt,et,nt){const rt=getWindow();return nt?tt[et==="width"?"offsetWidth":"offsetHeight"]+parseFloat(rt.getComputedStyle(tt,null).getPropertyValue(et==="width"?"margin-right":"margin-top"))+parseFloat(rt.getComputedStyle(tt,null).getPropertyValue(et==="width"?"margin-left":"margin-bottom")):tt.offsetWidth}let support;function calcSupport(){const tt=getWindow(),et=getDocument();return{smoothScroll:et.documentElement&&"scrollBehavior"in et.documentElement.style,touch:!!("ontouchstart"in tt||tt.DocumentTouch&&et instanceof tt.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:tt}={}){const et=getSupport(),nt=getWindow(),rt=nt.navigator.platform,it=tt||nt.navigator.userAgent,st={ios:!1,android:!1},ot=nt.screen.width,at=nt.screen.height,lt=it.match(/(Android);?[\s\/]+([\d.]+)?/);let ut=it.match(/(iPad).*OS\s([\d_]+)/);const ft=it.match(/(iPod)(.*OS\s([\d_]+))?/),dt=!ut&&it.match(/(iPhone\sOS|iOS)\s([\d_]+)/),ht=rt==="Win32";let mt=rt==="MacIntel";const xt=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!ut&&mt&&et.touch&&xt.indexOf(`${ot}x${at}`)>=0&&(ut=it.match(/(Version)\/([\d.]+)/),ut||(ut=[0,1,"13_0_0"]),mt=!1),lt&&!ht&&(st.os="android",st.android=!0),(ut||dt||ft)&&(st.os="ios",st.ios=!0),st}function getDevice(tt={}){return deviceCached||(deviceCached=calcDevice(tt)),deviceCached}let browser;function calcBrowser(){const tt=getWindow();let et=!1;function nt(){const rt=tt.navigator.userAgent.toLowerCase();return rt.indexOf("safari")>=0&&rt.indexOf("chrome")<0&&rt.indexOf("android")<0}if(nt()){const rt=String(tt.navigator.userAgent);if(rt.includes("Version/")){const[it,st]=rt.split("Version/")[1].split(" ")[0].split(".").map(ot=>Number(ot));et=it<16||it===16&&st<2}}return{isSafari:et||nt(),needPerspectiveFix:et,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(tt.navigator.userAgent)}}function getBrowser(){return browser||(browser=calcBrowser()),browser}function Resize({swiper:tt,on:et,emit:nt}){const rt=getWindow();let it=null,st=null;const ot=()=>{!tt||tt.destroyed||!tt.initialized||(nt("beforeResize"),nt("resize"))},at=()=>{!tt||tt.destroyed||!tt.initialized||(it=new ResizeObserver(ft=>{st=rt.requestAnimationFrame(()=>{const{width:dt,height:ht}=tt;let mt=dt,xt=ht;ft.forEach(({contentBoxSize:_t,contentRect:At,target:gt})=>{gt&&gt!==tt.el||(mt=At?At.width:(_t[0]||_t).inlineSize,xt=At?At.height:(_t[0]||_t).blockSize)}),(mt!==dt||xt!==ht)&&ot()})}),it.observe(tt.el))},lt=()=>{st&&rt.cancelAnimationFrame(st),it&&it.unobserve&&tt.el&&(it.unobserve(tt.el),it=null)},ut=()=>{!tt||tt.destroyed||!tt.initialized||nt("orientationchange")};et("init",()=>{if(tt.params.resizeObserver&&typeof rt.ResizeObserver<"u"){at();return}rt.addEventListener("resize",ot),rt.addEventListener("orientationchange",ut)}),et("destroy",()=>{lt(),rt.removeEventListener("resize",ot),rt.removeEventListener("orientationchange",ut)})}function Observer({swiper:tt,extendParams:et,on:nt,emit:rt}){const it=[],st=getWindow(),ot=(ut,ft={})=>{const dt=st.MutationObserver||st.WebkitMutationObserver,ht=new dt(mt=>{if(tt.__preventObserver__)return;if(mt.length===1){rt("observerUpdate",mt[0]);return}const xt=function(){rt("observerUpdate",mt[0])};st.requestAnimationFrame?st.requestAnimationFrame(xt):st.setTimeout(xt,0)});ht.observe(ut,{attributes:typeof ft.attributes>"u"?!0:ft.attributes,childList:typeof ft.childList>"u"?!0:ft.childList,characterData:typeof ft.characterData>"u"?!0:ft.characterData}),it.push(ht)},at=()=>{if(tt.params.observer){if(tt.params.observeParents){const ut=elementParents(tt.el);for(let ft=0;ft<ut.length;ft+=1)ot(ut[ft])}ot(tt.el,{childList:tt.params.observeSlideChildren}),ot(tt.wrapperEl,{attributes:!1})}},lt=()=>{it.forEach(ut=>{ut.disconnect()}),it.splice(0,it.length)};et({observer:!1,observeParents:!1,observeSlideChildren:!1}),nt("init",at),nt("destroy",lt)}const eventsEmitter={on(tt,et,nt){const rt=this;if(!rt.eventsListeners||rt.destroyed||typeof et!="function")return rt;const it=nt?"unshift":"push";return tt.split(" ").forEach(st=>{rt.eventsListeners[st]||(rt.eventsListeners[st]=[]),rt.eventsListeners[st][it](et)}),rt},once(tt,et,nt){const rt=this;if(!rt.eventsListeners||rt.destroyed||typeof et!="function")return rt;function it(...st){rt.off(tt,it),it.__emitterProxy&&delete it.__emitterProxy,et.apply(rt,st)}return it.__emitterProxy=et,rt.on(tt,it,nt)},onAny(tt,et){const nt=this;if(!nt.eventsListeners||nt.destroyed||typeof tt!="function")return nt;const rt=et?"unshift":"push";return nt.eventsAnyListeners.indexOf(tt)<0&&nt.eventsAnyListeners[rt](tt),nt},offAny(tt){const et=this;if(!et.eventsListeners||et.destroyed||!et.eventsAnyListeners)return et;const nt=et.eventsAnyListeners.indexOf(tt);return nt>=0&&et.eventsAnyListeners.splice(nt,1),et},off(tt,et){const nt=this;return!nt.eventsListeners||nt.destroyed||!nt.eventsListeners||tt.split(" ").forEach(rt=>{typeof et>"u"?nt.eventsListeners[rt]=[]:nt.eventsListeners[rt]&&nt.eventsListeners[rt].forEach((it,st)=>{(it===et||it.__emitterProxy&&it.__emitterProxy===et)&&nt.eventsListeners[rt].splice(st,1)})}),nt},emit(...tt){const et=this;if(!et.eventsListeners||et.destroyed||!et.eventsListeners)return et;let nt,rt,it;return typeof tt[0]=="string"||Array.isArray(tt[0])?(nt=tt[0],rt=tt.slice(1,tt.length),it=et):(nt=tt[0].events,rt=tt[0].data,it=tt[0].context||et),rt.unshift(it),(Array.isArray(nt)?nt:nt.split(" ")).forEach(ot=>{et.eventsAnyListeners&&et.eventsAnyListeners.length&&et.eventsAnyListeners.forEach(at=>{at.apply(it,[ot,...rt])}),et.eventsListeners&&et.eventsListeners[ot]&&et.eventsListeners[ot].forEach(at=>{at.apply(it,rt)})}),et}};function updateSize(){const tt=this;let et,nt;const rt=tt.el;typeof tt.params.width<"u"&&tt.params.width!==null?et=tt.params.width:et=rt.clientWidth,typeof tt.params.height<"u"&&tt.params.height!==null?nt=tt.params.height:nt=rt.clientHeight,!(et===0&&tt.isHorizontal()||nt===0&&tt.isVertical())&&(et=et-parseInt(elementStyle(rt,"padding-left")||0,10)-parseInt(elementStyle(rt,"padding-right")||0,10),nt=nt-parseInt(elementStyle(rt,"padding-top")||0,10)-parseInt(elementStyle(rt,"padding-bottom")||0,10),Number.isNaN(et)&&(et=0),Number.isNaN(nt)&&(nt=0),Object.assign(tt,{width:et,height:nt,size:tt.isHorizontal()?et:nt}))}function updateSlides(){const tt=this;function et(Bt){return tt.isHorizontal()?Bt:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Bt]}function nt(Bt,Nt){return parseFloat(Bt.getPropertyValue(et(Nt))||0)}const rt=tt.params,{wrapperEl:it,slidesEl:st,size:ot,rtlTranslate:at,wrongRTL:lt}=tt,ut=tt.virtual&&rt.virtual.enabled,ft=ut?tt.virtual.slides.length:tt.slides.length,dt=elementChildren(st,`.${tt.params.slideClass}, swiper-slide`),ht=ut?tt.virtual.slides.length:dt.length;let mt=[];const xt=[],_t=[];let At=rt.slidesOffsetBefore;typeof At=="function"&&(At=rt.slidesOffsetBefore.call(tt));let gt=rt.slidesOffsetAfter;typeof gt=="function"&&(gt=rt.slidesOffsetAfter.call(tt));const vt=tt.snapGrid.length,Et=tt.slidesGrid.length;let yt=rt.spaceBetween,wt=-At,Ct=0,Rt=0;if(typeof ot>"u")return;typeof yt=="string"&&yt.indexOf("%")>=0&&(yt=parseFloat(yt.replace("%",""))/100*ot),tt.virtualSize=-yt,dt.forEach(Bt=>{at?Bt.style.marginLeft="":Bt.style.marginRight="",Bt.style.marginBottom="",Bt.style.marginTop=""}),rt.centeredSlides&&rt.cssMode&&(setCSSProperty(it,"--swiper-centered-offset-before",""),setCSSProperty(it,"--swiper-centered-offset-after",""));const It=rt.grid&&rt.grid.rows>1&&tt.grid;It&&tt.grid.initSlides(ht);let $t;const Ft=rt.slidesPerView==="auto"&&rt.breakpoints&&Object.keys(rt.breakpoints).filter(Bt=>typeof rt.breakpoints[Bt].slidesPerView<"u").length>0;for(let Bt=0;Bt<ht;Bt+=1){$t=0;let Nt;if(dt[Bt]&&(Nt=dt[Bt]),It&&tt.grid.updateSlide(Bt,Nt,ht,et),!(dt[Bt]&&elementStyle(Nt,"display")==="none")){if(rt.slidesPerView==="auto"){Ft&&(dt[Bt].style[et("width")]="");const Xt=getComputedStyle(Nt),nn=Nt.style.transform,sn=Nt.style.webkitTransform;if(nn&&(Nt.style.transform="none"),sn&&(Nt.style.webkitTransform="none"),rt.roundLengths)$t=tt.isHorizontal()?elementOuterSize(Nt,"width",!0):elementOuterSize(Nt,"height",!0);else{const rn=nt(Xt,"width"),Jt=nt(Xt,"padding-left"),Ut=nt(Xt,"padding-right"),Kt=nt(Xt,"margin-left"),Qt=nt(Xt,"margin-right"),zt=Xt.getPropertyValue("box-sizing");if(zt&&zt==="border-box")$t=rn+Kt+Qt;else{const{clientWidth:Ht,offsetWidth:en}=Nt;$t=rn+Jt+Ut+Kt+Qt+(en-Ht)}}nn&&(Nt.style.transform=nn),sn&&(Nt.style.webkitTransform=sn),rt.roundLengths&&($t=Math.floor($t))}else $t=(ot-(rt.slidesPerView-1)*yt)/rt.slidesPerView,rt.roundLengths&&($t=Math.floor($t)),dt[Bt]&&(dt[Bt].style[et("width")]=`${$t}px`);dt[Bt]&&(dt[Bt].swiperSlideSize=$t),_t.push($t),rt.centeredSlides?(wt=wt+$t/2+Ct/2+yt,Ct===0&&Bt!==0&&(wt=wt-ot/2-yt),Bt===0&&(wt=wt-ot/2-yt),Math.abs(wt)<1/1e3&&(wt=0),rt.roundLengths&&(wt=Math.floor(wt)),Rt%rt.slidesPerGroup===0&&mt.push(wt),xt.push(wt)):(rt.roundLengths&&(wt=Math.floor(wt)),(Rt-Math.min(tt.params.slidesPerGroupSkip,Rt))%tt.params.slidesPerGroup===0&&mt.push(wt),xt.push(wt),wt=wt+$t+yt),tt.virtualSize+=$t+yt,Ct=$t,Rt+=1}}if(tt.virtualSize=Math.max(tt.virtualSize,ot)+gt,at&&lt&&(rt.effect==="slide"||rt.effect==="coverflow")&&(it.style.width=`${tt.virtualSize+rt.spaceBetween}px`),rt.setWrapperSize&&(it.style[et("width")]=`${tt.virtualSize+rt.spaceBetween}px`),It&&tt.grid.updateWrapperSize($t,mt,et),!rt.centeredSlides){const Bt=[];for(let Nt=0;Nt<mt.length;Nt+=1){let Xt=mt[Nt];rt.roundLengths&&(Xt=Math.floor(Xt)),mt[Nt]<=tt.virtualSize-ot&&Bt.push(Xt)}mt=Bt,Math.floor(tt.virtualSize-ot)-Math.floor(mt[mt.length-1])>1&&mt.push(tt.virtualSize-ot)}if(ut&&rt.loop){const Bt=_t[0]+yt;if(rt.slidesPerGroup>1){const Nt=Math.ceil((tt.virtual.slidesBefore+tt.virtual.slidesAfter)/rt.slidesPerGroup),Xt=Bt*rt.slidesPerGroup;for(let nn=0;nn<Nt;nn+=1)mt.push(mt[mt.length-1]+Xt)}for(let Nt=0;Nt<tt.virtual.slidesBefore+tt.virtual.slidesAfter;Nt+=1)rt.slidesPerGroup===1&&mt.push(mt[mt.length-1]+Bt),xt.push(xt[xt.length-1]+Bt),tt.virtualSize+=Bt}if(mt.length===0&&(mt=[0]),rt.spaceBetween!==0){const Bt=tt.isHorizontal()&&at?"marginLeft":et("marginRight");dt.filter((Nt,Xt)=>!rt.cssMode||rt.loop?!0:Xt!==dt.length-1).forEach(Nt=>{Nt.style[Bt]=`${yt}px`})}if(rt.centeredSlides&&rt.centeredSlidesBounds){let Bt=0;_t.forEach(Xt=>{Bt+=Xt+(rt.spaceBetween?rt.spaceBetween:0)}),Bt-=rt.spaceBetween;const Nt=Bt-ot;mt=mt.map(Xt=>Xt<0?-At:Xt>Nt?Nt+gt:Xt)}if(rt.centerInsufficientSlides){let Bt=0;if(_t.forEach(Nt=>{Bt+=Nt+(rt.spaceBetween?rt.spaceBetween:0)}),Bt-=rt.spaceBetween,Bt<ot){const Nt=(ot-Bt)/2;mt.forEach((Xt,nn)=>{mt[nn]=Xt-Nt}),xt.forEach((Xt,nn)=>{xt[nn]=Xt+Nt})}}if(Object.assign(tt,{slides:dt,snapGrid:mt,slidesGrid:xt,slidesSizesGrid:_t}),rt.centeredSlides&&rt.cssMode&&!rt.centeredSlidesBounds){setCSSProperty(it,"--swiper-centered-offset-before",`${-mt[0]}px`),setCSSProperty(it,"--swiper-centered-offset-after",`${tt.size/2-_t[_t.length-1]/2}px`);const Bt=-tt.snapGrid[0],Nt=-tt.slidesGrid[0];tt.snapGrid=tt.snapGrid.map(Xt=>Xt+Bt),tt.slidesGrid=tt.slidesGrid.map(Xt=>Xt+Nt)}if(ht!==ft&&tt.emit("slidesLengthChange"),mt.length!==vt&&(tt.params.watchOverflow&&tt.checkOverflow(),tt.emit("snapGridLengthChange")),xt.length!==Et&&tt.emit("slidesGridLengthChange"),rt.watchSlidesProgress&&tt.updateSlidesOffset(),!ut&&!rt.cssMode&&(rt.effect==="slide"||rt.effect==="fade")){const Bt=`${rt.containerModifierClass}backface-hidden`,Nt=tt.el.classList.contains(Bt);ht<=rt.maxBackfaceHiddenSlides?Nt||tt.el.classList.add(Bt):Nt&&tt.el.classList.remove(Bt)}}function updateAutoHeight(tt){const et=this,nt=[],rt=et.virtual&&et.params.virtual.enabled;let it=0,st;typeof tt=="number"?et.setTransition(tt):tt===!0&&et.setTransition(et.params.speed);const ot=at=>rt?et.slides[et.getSlideIndexByData(at)]:et.slides[at];if(et.params.slidesPerView!=="auto"&&et.params.slidesPerView>1)if(et.params.centeredSlides)(et.visibleSlides||[]).forEach(at=>{nt.push(at)});else for(st=0;st<Math.ceil(et.params.slidesPerView);st+=1){const at=et.activeIndex+st;if(at>et.slides.length&&!rt)break;nt.push(ot(at))}else nt.push(ot(et.activeIndex));for(st=0;st<nt.length;st+=1)if(typeof nt[st]<"u"){const at=nt[st].offsetHeight;it=at>it?at:it}(it||it===0)&&(et.wrapperEl.style.height=`${it}px`)}function updateSlidesOffset(){const tt=this,et=tt.slides,nt=tt.isElement?tt.isHorizontal()?tt.wrapperEl.offsetLeft:tt.wrapperEl.offsetTop:0;for(let rt=0;rt<et.length;rt+=1)et[rt].swiperSlideOffset=(tt.isHorizontal()?et[rt].offsetLeft:et[rt].offsetTop)-nt-tt.cssOverflowAdjustment()}function updateSlidesProgress(tt=this&&this.translate||0){const et=this,nt=et.params,{slides:rt,rtlTranslate:it,snapGrid:st}=et;if(rt.length===0)return;typeof rt[0].swiperSlideOffset>"u"&&et.updateSlidesOffset();let ot=-tt;it&&(ot=tt),rt.forEach(at=>{at.classList.remove(nt.slideVisibleClass)}),et.visibleSlidesIndexes=[],et.visibleSlides=[];for(let at=0;at<rt.length;at+=1){const lt=rt[at];let ut=lt.swiperSlideOffset;nt.cssMode&&nt.centeredSlides&&(ut-=rt[0].swiperSlideOffset);const ft=(ot+(nt.centeredSlides?et.minTranslate():0)-ut)/(lt.swiperSlideSize+nt.spaceBetween),dt=(ot-st[0]+(nt.centeredSlides?et.minTranslate():0)-ut)/(lt.swiperSlideSize+nt.spaceBetween),ht=-(ot-ut),mt=ht+et.slidesSizesGrid[at];(ht>=0&&ht<et.size-1||mt>1&&mt<=et.size||ht<=0&&mt>=et.size)&&(et.visibleSlides.push(lt),et.visibleSlidesIndexes.push(at),rt[at].classList.add(nt.slideVisibleClass)),lt.progress=it?-ft:ft,lt.originalProgress=it?-dt:dt}}function updateProgress(tt){const et=this;if(typeof tt>"u"){const ft=et.rtlTranslate?-1:1;tt=et&&et.translate&&et.translate*ft||0}const nt=et.params,rt=et.maxTranslate()-et.minTranslate();let{progress:it,isBeginning:st,isEnd:ot,progressLoop:at}=et;const lt=st,ut=ot;if(rt===0)it=0,st=!0,ot=!0;else{it=(tt-et.minTranslate())/rt;const ft=Math.abs(tt-et.minTranslate())<1,dt=Math.abs(tt-et.maxTranslate())<1;st=ft||it<=0,ot=dt||it>=1,ft&&(it=0),dt&&(it=1)}if(nt.loop){const ft=et.getSlideIndexByData(0),dt=et.getSlideIndexByData(et.slides.length-1),ht=et.slidesGrid[ft],mt=et.slidesGrid[dt],xt=et.slidesGrid[et.slidesGrid.length-1],_t=Math.abs(tt);_t>=ht?at=(_t-ht)/xt:at=(_t+xt-mt)/xt,at>1&&(at-=1)}Object.assign(et,{progress:it,progressLoop:at,isBeginning:st,isEnd:ot}),(nt.watchSlidesProgress||nt.centeredSlides&&nt.autoHeight)&&et.updateSlidesProgress(tt),st&&!lt&&et.emit("reachBeginning toEdge"),ot&&!ut&&et.emit("reachEnd toEdge"),(lt&&!st||ut&&!ot)&&et.emit("fromEdge"),et.emit("progress",it)}function updateSlidesClasses(){const tt=this,{slides:et,params:nt,slidesEl:rt,activeIndex:it}=tt,st=tt.virtual&&nt.virtual.enabled,ot=lt=>elementChildren(rt,`.${nt.slideClass}${lt}, swiper-slide${lt}`)[0];et.forEach(lt=>{lt.classList.remove(nt.slideActiveClass,nt.slideNextClass,nt.slidePrevClass)});let at;if(st)if(nt.loop){let lt=it-tt.virtual.slidesBefore;lt<0&&(lt=tt.virtual.slides.length+lt),lt>=tt.virtual.slides.length&&(lt-=tt.virtual.slides.length),at=ot(`[data-swiper-slide-index="${lt}"]`)}else at=ot(`[data-swiper-slide-index="${it}"]`);else at=et[it];if(at){at.classList.add(nt.slideActiveClass);let lt=elementNextAll(at,`.${nt.slideClass}, swiper-slide`)[0];nt.loop&&!lt&&(lt=et[0]),lt&&lt.classList.add(nt.slideNextClass);let ut=elementPrevAll(at,`.${nt.slideClass}, swiper-slide`)[0];nt.loop&&!ut===0&&(ut=et[et.length-1]),ut&&ut.classList.add(nt.slidePrevClass)}tt.emitSlidesClasses()}const processLazyPreloader=(tt,et)=>{if(!tt||tt.destroyed||!tt.params)return;const nt=()=>tt.isElement?"swiper-slide":`.${tt.params.slideClass}`,rt=et.closest(nt());if(rt){const it=rt.querySelector(`.${tt.params.lazyPreloaderClass}`);it&&it.remove()}},unlazy=(tt,et)=>{if(!tt.slides[et])return;const nt=tt.slides[et].querySelector('[loading="lazy"]');nt&&nt.removeAttribute("loading")},preload=tt=>{if(!tt||tt.destroyed||!tt.params)return;let et=tt.params.lazyPreloadPrevNext;const nt=tt.slides.length;if(!nt||!et||et<0)return;et=Math.min(et,nt);const rt=tt.params.slidesPerView==="auto"?tt.slidesPerViewDynamic():Math.ceil(tt.params.slidesPerView),it=tt.activeIndex,st=it+rt-1;if(tt.params.rewind)for(let ot=it-et;ot<=st+et;ot+=1){const at=(ot%nt+nt)%nt;at!==it&&at>st&&unlazy(tt,at)}else for(let ot=Math.max(st-et,0);ot<=Math.min(st+et,nt-1);ot+=1)ot!==it&&ot>st&&unlazy(tt,ot)};function getActiveIndexByTranslate(tt){const{slidesGrid:et,params:nt}=tt,rt=tt.rtlTranslate?tt.translate:-tt.translate;let it;for(let st=0;st<et.length;st+=1)typeof et[st+1]<"u"?rt>=et[st]&&rt<et[st+1]-(et[st+1]-et[st])/2?it=st:rt>=et[st]&&rt<et[st+1]&&(it=st+1):rt>=et[st]&&(it=st);return nt.normalizeSlideIndex&&(it<0||typeof it>"u")&&(it=0),it}function updateActiveIndex(tt){const et=this,nt=et.rtlTranslate?et.translate:-et.translate,{snapGrid:rt,params:it,activeIndex:st,realIndex:ot,snapIndex:at}=et;let lt=tt,ut;const ft=ht=>{let mt=ht-et.virtual.slidesBefore;return mt<0&&(mt=et.virtual.slides.length+mt),mt>=et.virtual.slides.length&&(mt-=et.virtual.slides.length),mt};if(typeof lt>"u"&&(lt=getActiveIndexByTranslate(et)),rt.indexOf(nt)>=0)ut=rt.indexOf(nt);else{const ht=Math.min(it.slidesPerGroupSkip,lt);ut=ht+Math.floor((lt-ht)/it.slidesPerGroup)}if(ut>=rt.length&&(ut=rt.length-1),lt===st){ut!==at&&(et.snapIndex=ut,et.emit("snapIndexChange")),et.params.loop&&et.virtual&&et.params.virtual.enabled&&(et.realIndex=ft(lt));return}let dt;et.virtual&&it.virtual.enabled&&it.loop?dt=ft(lt):et.slides[lt]?dt=parseInt(et.slides[lt].getAttribute("data-swiper-slide-index")||lt,10):dt=lt,Object.assign(et,{previousSnapIndex:at,snapIndex:ut,previousRealIndex:ot,realIndex:dt,previousIndex:st,activeIndex:lt}),et.initialized&&preload(et),et.emit("activeIndexChange"),et.emit("snapIndexChange"),ot!==dt&&et.emit("realIndexChange"),(et.initialized||et.params.runCallbacksOnInit)&&et.emit("slideChange")}function updateClickedSlide(tt){const et=this,nt=et.params,rt=tt.closest(`.${nt.slideClass}, swiper-slide`);let it=!1,st;if(rt){for(let ot=0;ot<et.slides.length;ot+=1)if(et.slides[ot]===rt){it=!0,st=ot;break}}if(rt&&it)et.clickedSlide=rt,et.virtual&&et.params.virtual.enabled?et.clickedIndex=parseInt(rt.getAttribute("data-swiper-slide-index"),10):et.clickedIndex=st;else{et.clickedSlide=void 0,et.clickedIndex=void 0;return}nt.slideToClickedSlide&&et.clickedIndex!==void 0&&et.clickedIndex!==et.activeIndex&&et.slideToClickedSlide()}const update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(tt=this.isHorizontal()?"x":"y"){const et=this,{params:nt,rtlTranslate:rt,translate:it,wrapperEl:st}=et;if(nt.virtualTranslate)return rt?-it:it;if(nt.cssMode)return it;let ot=getTranslate(st,tt);return ot+=et.cssOverflowAdjustment(),rt&&(ot=-ot),ot||0}function setTranslate(tt,et){const nt=this,{rtlTranslate:rt,params:it,wrapperEl:st,progress:ot}=nt;let at=0,lt=0;const ut=0;nt.isHorizontal()?at=rt?-tt:tt:lt=tt,it.roundLengths&&(at=Math.floor(at),lt=Math.floor(lt)),nt.previousTranslate=nt.translate,nt.translate=nt.isHorizontal()?at:lt,it.cssMode?st[nt.isHorizontal()?"scrollLeft":"scrollTop"]=nt.isHorizontal()?-at:-lt:it.virtualTranslate||(nt.isHorizontal()?at-=nt.cssOverflowAdjustment():lt-=nt.cssOverflowAdjustment(),st.style.transform=`translate3d(${at}px, ${lt}px, ${ut}px)`);let ft;const dt=nt.maxTranslate()-nt.minTranslate();dt===0?ft=0:ft=(tt-nt.minTranslate())/dt,ft!==ot&&nt.updateProgress(tt),nt.emit("setTranslate",nt.translate,et)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(tt=0,et=this.params.speed,nt=!0,rt=!0,it){const st=this,{params:ot,wrapperEl:at}=st;if(st.animating&&ot.preventInteractionOnTransition)return!1;const lt=st.minTranslate(),ut=st.maxTranslate();let ft;if(rt&&tt>lt?ft=lt:rt&&tt<ut?ft=ut:ft=tt,st.updateProgress(ft),ot.cssMode){const dt=st.isHorizontal();if(et===0)at[dt?"scrollLeft":"scrollTop"]=-ft;else{if(!st.support.smoothScroll)return animateCSSModeScroll({swiper:st,targetPosition:-ft,side:dt?"left":"top"}),!0;at.scrollTo({[dt?"left":"top"]:-ft,behavior:"smooth"})}return!0}return et===0?(st.setTransition(0),st.setTranslate(ft),nt&&(st.emit("beforeTransitionStart",et,it),st.emit("transitionEnd"))):(st.setTransition(et),st.setTranslate(ft),nt&&(st.emit("beforeTransitionStart",et,it),st.emit("transitionStart")),st.animating||(st.animating=!0,st.onTranslateToWrapperTransitionEnd||(st.onTranslateToWrapperTransitionEnd=function(ht){!st||st.destroyed||ht.target===this&&(st.wrapperEl.removeEventListener("transitionend",st.onTranslateToWrapperTransitionEnd),st.onTranslateToWrapperTransitionEnd=null,delete st.onTranslateToWrapperTransitionEnd,nt&&st.emit("transitionEnd"))}),st.wrapperEl.addEventListener("transitionend",st.onTranslateToWrapperTransitionEnd))),!0}const translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(tt,et){const nt=this;nt.params.cssMode||(nt.wrapperEl.style.transitionDuration=`${tt}ms`),nt.emit("setTransition",tt,et)}function transitionEmit({swiper:tt,runCallbacks:et,direction:nt,step:rt}){const{activeIndex:it,previousIndex:st}=tt;let ot=nt;if(ot||(it>st?ot="next":it<st?ot="prev":ot="reset"),tt.emit(`transition${rt}`),et&&it!==st){if(ot==="reset"){tt.emit(`slideResetTransition${rt}`);return}tt.emit(`slideChangeTransition${rt}`),ot==="next"?tt.emit(`slideNextTransition${rt}`):tt.emit(`slidePrevTransition${rt}`)}}function transitionStart(tt=!0,et){const nt=this,{params:rt}=nt;rt.cssMode||(rt.autoHeight&&nt.updateAutoHeight(),transitionEmit({swiper:nt,runCallbacks:tt,direction:et,step:"Start"}))}function transitionEnd(tt=!0,et){const nt=this,{params:rt}=nt;nt.animating=!1,!rt.cssMode&&(nt.setTransition(0),transitionEmit({swiper:nt,runCallbacks:tt,direction:et,step:"End"}))}const transition={setTransition,transitionStart,transitionEnd};function slideTo(tt=0,et=this.params.speed,nt=!0,rt,it){typeof tt=="string"&&(tt=parseInt(tt,10));const st=this;let ot=tt;ot<0&&(ot=0);const{params:at,snapGrid:lt,slidesGrid:ut,previousIndex:ft,activeIndex:dt,rtlTranslate:ht,wrapperEl:mt,enabled:xt}=st;if(st.animating&&at.preventInteractionOnTransition||!xt&&!rt&&!it)return!1;const _t=Math.min(st.params.slidesPerGroupSkip,ot);let At=_t+Math.floor((ot-_t)/st.params.slidesPerGroup);At>=lt.length&&(At=lt.length-1);const gt=-lt[At];if(at.normalizeSlideIndex)for(let Et=0;Et<ut.length;Et+=1){const yt=-Math.floor(gt*100),wt=Math.floor(ut[Et]*100),Ct=Math.floor(ut[Et+1]*100);typeof ut[Et+1]<"u"?yt>=wt&&yt<Ct-(Ct-wt)/2?ot=Et:yt>=wt&&yt<Ct&&(ot=Et+1):yt>=wt&&(ot=Et)}if(st.initialized&&ot!==dt&&(!st.allowSlideNext&&gt<st.translate&&gt<st.minTranslate()||!st.allowSlidePrev&&gt>st.translate&&gt>st.maxTranslate()&&(dt||0)!==ot))return!1;ot!==(ft||0)&&nt&&st.emit("beforeSlideChangeStart"),st.updateProgress(gt);let vt;if(ot>dt?vt="next":ot<dt?vt="prev":vt="reset",ht&&-gt===st.translate||!ht&&gt===st.translate)return st.updateActiveIndex(ot),at.autoHeight&&st.updateAutoHeight(),st.updateSlidesClasses(),at.effect!=="slide"&&st.setTranslate(gt),vt!=="reset"&&(st.transitionStart(nt,vt),st.transitionEnd(nt,vt)),!1;if(at.cssMode){const Et=st.isHorizontal(),yt=ht?gt:-gt;if(et===0){const wt=st.virtual&&st.params.virtual.enabled;wt&&(st.wrapperEl.style.scrollSnapType="none",st._immediateVirtual=!0),wt&&!st._cssModeVirtualInitialSet&&st.params.initialSlide>0?(st._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{mt[Et?"scrollLeft":"scrollTop"]=yt})):mt[Et?"scrollLeft":"scrollTop"]=yt,wt&&requestAnimationFrame(()=>{st.wrapperEl.style.scrollSnapType="",st._immediateVirtual=!1})}else{if(!st.support.smoothScroll)return animateCSSModeScroll({swiper:st,targetPosition:yt,side:Et?"left":"top"}),!0;mt.scrollTo({[Et?"left":"top"]:yt,behavior:"smooth"})}return!0}return st.setTransition(et),st.setTranslate(gt),st.updateActiveIndex(ot),st.updateSlidesClasses(),st.emit("beforeTransitionStart",et,rt),st.transitionStart(nt,vt),et===0?st.transitionEnd(nt,vt):st.animating||(st.animating=!0,st.onSlideToWrapperTransitionEnd||(st.onSlideToWrapperTransitionEnd=function(yt){!st||st.destroyed||yt.target===this&&(st.wrapperEl.removeEventListener("transitionend",st.onSlideToWrapperTransitionEnd),st.onSlideToWrapperTransitionEnd=null,delete st.onSlideToWrapperTransitionEnd,st.transitionEnd(nt,vt))}),st.wrapperEl.addEventListener("transitionend",st.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(tt=0,et=this.params.speed,nt=!0,rt){typeof tt=="string"&&(tt=parseInt(tt,10));const it=this;let st=tt;return it.params.loop&&(it.virtual&&it.params.virtual.enabled?st=st+it.virtual.slidesBefore:st=it.getSlideIndexByData(st)),it.slideTo(st,et,nt,rt)}function slideNext(tt=this.params.speed,et=!0,nt){const rt=this,{enabled:it,params:st,animating:ot}=rt;if(!it)return rt;let at=st.slidesPerGroup;st.slidesPerView==="auto"&&st.slidesPerGroup===1&&st.slidesPerGroupAuto&&(at=Math.max(rt.slidesPerViewDynamic("current",!0),1));const lt=rt.activeIndex<st.slidesPerGroupSkip?1:at,ut=rt.virtual&&st.virtual.enabled;if(st.loop){if(ot&&!ut&&st.loopPreventsSliding)return!1;rt.loopFix({direction:"next"}),rt._clientLeft=rt.wrapperEl.clientLeft}return st.rewind&&rt.isEnd?rt.slideTo(0,tt,et,nt):rt.slideTo(rt.activeIndex+lt,tt,et,nt)}function slidePrev(tt=this.params.speed,et=!0,nt){const rt=this,{params:it,snapGrid:st,slidesGrid:ot,rtlTranslate:at,enabled:lt,animating:ut}=rt;if(!lt)return rt;const ft=rt.virtual&&it.virtual.enabled;if(it.loop){if(ut&&!ft&&it.loopPreventsSliding)return!1;rt.loopFix({direction:"prev"}),rt._clientLeft=rt.wrapperEl.clientLeft}const dt=at?rt.translate:-rt.translate;function ht(gt){return gt<0?-Math.floor(Math.abs(gt)):Math.floor(gt)}const mt=ht(dt),xt=st.map(gt=>ht(gt));let _t=st[xt.indexOf(mt)-1];if(typeof _t>"u"&&it.cssMode){let gt;st.forEach((vt,Et)=>{mt>=vt&&(gt=Et)}),typeof gt<"u"&&(_t=st[gt>0?gt-1:gt])}let At=0;if(typeof _t<"u"&&(At=ot.indexOf(_t),At<0&&(At=rt.activeIndex-1),it.slidesPerView==="auto"&&it.slidesPerGroup===1&&it.slidesPerGroupAuto&&(At=At-rt.slidesPerViewDynamic("previous",!0)+1,At=Math.max(At,0))),it.rewind&&rt.isBeginning){const gt=rt.params.virtual&&rt.params.virtual.enabled&&rt.virtual?rt.virtual.slides.length-1:rt.slides.length-1;return rt.slideTo(gt,tt,et,nt)}return rt.slideTo(At,tt,et,nt)}function slideReset(tt=this.params.speed,et=!0,nt){const rt=this;return rt.slideTo(rt.activeIndex,tt,et,nt)}function slideToClosest(tt=this.params.speed,et=!0,nt,rt=.5){const it=this;let st=it.activeIndex;const ot=Math.min(it.params.slidesPerGroupSkip,st),at=ot+Math.floor((st-ot)/it.params.slidesPerGroup),lt=it.rtlTranslate?it.translate:-it.translate;if(lt>=it.snapGrid[at]){const ut=it.snapGrid[at],ft=it.snapGrid[at+1];lt-ut>(ft-ut)*rt&&(st+=it.params.slidesPerGroup)}else{const ut=it.snapGrid[at-1],ft=it.snapGrid[at];lt-ut<=(ft-ut)*rt&&(st-=it.params.slidesPerGroup)}return st=Math.max(st,0),st=Math.min(st,it.slidesGrid.length-1),it.slideTo(st,tt,et,nt)}function slideToClickedSlide(){const tt=this,{params:et,slidesEl:nt}=tt,rt=et.slidesPerView==="auto"?tt.slidesPerViewDynamic():et.slidesPerView;let it=tt.clickedIndex,st;const ot=tt.isElement?"swiper-slide":`.${et.slideClass}`;if(et.loop){if(tt.animating)return;st=parseInt(tt.clickedSlide.getAttribute("data-swiper-slide-index"),10),et.centeredSlides?it<tt.loopedSlides-rt/2||it>tt.slides.length-tt.loopedSlides+rt/2?(tt.loopFix(),it=tt.getSlideIndex(elementChildren(nt,`${ot}[data-swiper-slide-index="${st}"]`)[0]),nextTick(()=>{tt.slideTo(it)})):tt.slideTo(it):it>tt.slides.length-rt?(tt.loopFix(),it=tt.getSlideIndex(elementChildren(nt,`${ot}[data-swiper-slide-index="${st}"]`)[0]),nextTick(()=>{tt.slideTo(it)})):tt.slideTo(it)}else tt.slideTo(it)}const slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(tt){const et=this,{params:nt,slidesEl:rt}=et;if(!nt.loop||et.virtual&&et.params.virtual.enabled)return;elementChildren(rt,`.${nt.slideClass}, swiper-slide`).forEach((st,ot)=>{st.setAttribute("data-swiper-slide-index",ot)}),et.loopFix({slideRealIndex:tt,direction:nt.centeredSlides?void 0:"next"})}function loopFix({slideRealIndex:tt,slideTo:et=!0,direction:nt,setTranslate:rt,activeSlideIndex:it,byController:st,byMousewheel:ot}={}){const at=this;if(!at.params.loop)return;at.emit("beforeLoopFix");const{slides:lt,allowSlidePrev:ut,allowSlideNext:ft,slidesEl:dt,params:ht}=at;if(at.allowSlidePrev=!0,at.allowSlideNext=!0,at.virtual&&ht.virtual.enabled){et&&(!ht.centeredSlides&&at.snapIndex===0?at.slideTo(at.virtual.slides.length,0,!1,!0):ht.centeredSlides&&at.snapIndex<ht.slidesPerView?at.slideTo(at.virtual.slides.length+at.snapIndex,0,!1,!0):at.snapIndex===at.snapGrid.length-1&&at.slideTo(at.virtual.slidesBefore,0,!1,!0)),at.allowSlidePrev=ut,at.allowSlideNext=ft,at.emit("loopFix");return}const mt=ht.slidesPerView==="auto"?at.slidesPerViewDynamic():Math.ceil(parseFloat(ht.slidesPerView,10));let xt=ht.loopedSlides||mt;xt%ht.slidesPerGroup!==0&&(xt+=ht.slidesPerGroup-xt%ht.slidesPerGroup),at.loopedSlides=xt;const _t=[],At=[];let gt=at.activeIndex;typeof it>"u"?it=at.getSlideIndex(at.slides.filter(Ct=>Ct.classList.contains(ht.slideActiveClass))[0]):gt=it;const vt=nt==="next"||!nt,Et=nt==="prev"||!nt;let yt=0,wt=0;if(it<xt){yt=Math.max(xt-it,ht.slidesPerGroup);for(let Ct=0;Ct<xt-it;Ct+=1){const Rt=Ct-Math.floor(Ct/lt.length)*lt.length;_t.push(lt.length-Rt-1)}}else if(it>at.slides.length-xt*2){wt=Math.max(it-(at.slides.length-xt*2),ht.slidesPerGroup);for(let Ct=0;Ct<wt;Ct+=1){const Rt=Ct-Math.floor(Ct/lt.length)*lt.length;At.push(Rt)}}if(Et&&_t.forEach(Ct=>{dt.prepend(at.slides[Ct])}),vt&&At.forEach(Ct=>{dt.append(at.slides[Ct])}),at.recalcSlides(),ht.slidesPerView==="auto"&&at.updateSlides(),ht.watchSlidesProgress&&at.updateSlidesOffset(),et){if(_t.length>0&&Et)if(typeof tt>"u"){const Ct=at.slidesGrid[gt],It=at.slidesGrid[gt+yt]-Ct;ot?at.setTranslate(at.translate-It):(at.slideTo(gt+yt,0,!1,!0),rt&&(at.touches[at.isHorizontal()?"startX":"startY"]+=It))}else rt&&at.slideToLoop(tt,0,!1,!0);else if(At.length>0&&vt)if(typeof tt>"u"){const Ct=at.slidesGrid[gt],It=at.slidesGrid[gt-wt]-Ct;ot?at.setTranslate(at.translate-It):(at.slideTo(gt-wt,0,!1,!0),rt&&(at.touches[at.isHorizontal()?"startX":"startY"]+=It))}else at.slideToLoop(tt,0,!1,!0)}if(at.allowSlidePrev=ut,at.allowSlideNext=ft,at.controller&&at.controller.control&&!st){const Ct={slideRealIndex:tt,slideTo:!1,direction:nt,setTranslate:rt,activeSlideIndex:it,byController:!0};Array.isArray(at.controller.control)?at.controller.control.forEach(Rt=>{!Rt.destroyed&&Rt.params.loop&&Rt.loopFix(Ct)}):at.controller.control instanceof at.constructor&&at.controller.control.params.loop&&at.controller.control.loopFix(Ct)}at.emit("loopFix")}function loopDestroy(){const tt=this,{params:et,slidesEl:nt}=tt;if(!et.loop||tt.virtual&&tt.params.virtual.enabled)return;tt.recalcSlides();const rt=[];tt.slides.forEach(it=>{const st=typeof it.swiperSlideIndex>"u"?it.getAttribute("data-swiper-slide-index")*1:it.swiperSlideIndex;rt[st]=it}),tt.slides.forEach(it=>{it.removeAttribute("data-swiper-slide-index")}),rt.forEach(it=>{nt.append(it)}),tt.recalcSlides(),tt.slideTo(tt.realIndex,0)}const loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(tt){const et=this;if(!et.params.simulateTouch||et.params.watchOverflow&&et.isLocked||et.params.cssMode)return;const nt=et.params.touchEventsTarget==="container"?et.el:et.wrapperEl;et.isElement&&(et.__preventObserver__=!0),nt.style.cursor="move",nt.style.cursor=tt?"grabbing":"grab",et.isElement&&requestAnimationFrame(()=>{et.__preventObserver__=!1})}function unsetGrabCursor(){const tt=this;tt.params.watchOverflow&&tt.isLocked||tt.params.cssMode||(tt.isElement&&(tt.__preventObserver__=!0),tt[tt.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",tt.isElement&&requestAnimationFrame(()=>{tt.__preventObserver__=!1}))}const grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(tt,et=this){function nt(rt){if(!rt||rt===getDocument()||rt===getWindow())return null;rt.assignedSlot&&(rt=rt.assignedSlot);const it=rt.closest(tt);return!it&&!rt.getRootNode?null:it||nt(rt.getRootNode().host)}return nt(et)}function onTouchStart(tt){const et=this,nt=getDocument(),rt=getWindow(),it=et.touchEventsData;it.evCache.push(tt);const{params:st,touches:ot,enabled:at}=et;if(!at||!st.simulateTouch&&tt.pointerType==="mouse"||et.animating&&st.preventInteractionOnTransition)return;!et.animating&&st.cssMode&&st.loop&&et.loopFix();let lt=tt;lt.originalEvent&&(lt=lt.originalEvent);let ut=lt.target;if(st.touchEventsTarget==="wrapper"&&!et.wrapperEl.contains(ut)||"which"in lt&&lt.which===3||"button"in lt&&lt.button>0||it.isTouched&&it.isMoved)return;const ft=!!st.noSwipingClass&&st.noSwipingClass!=="",dt=tt.composedPath?tt.composedPath():tt.path;ft&&lt.target&&lt.target.shadowRoot&&dt&&(ut=dt[0]);const ht=st.noSwipingSelector?st.noSwipingSelector:`.${st.noSwipingClass}`,mt=!!(lt.target&&lt.target.shadowRoot);if(st.noSwiping&&(mt?closestElement(ht,ut):ut.closest(ht))){et.allowClick=!0;return}if(st.swipeHandler&&!ut.closest(st.swipeHandler))return;ot.currentX=lt.pageX,ot.currentY=lt.pageY;const xt=ot.currentX,_t=ot.currentY,At=st.edgeSwipeDetection||st.iOSEdgeSwipeDetection,gt=st.edgeSwipeThreshold||st.iOSEdgeSwipeThreshold;if(At&&(xt<=gt||xt>=rt.innerWidth-gt))if(At==="prevent")tt.preventDefault();else return;Object.assign(it,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),ot.startX=xt,ot.startY=_t,it.touchStartTime=now(),et.allowClick=!0,et.updateSize(),et.swipeDirection=void 0,st.threshold>0&&(it.allowThresholdMove=!1);let vt=!0;ut.matches(it.focusableElements)&&(vt=!1,ut.nodeName==="SELECT"&&(it.isTouched=!1)),nt.activeElement&&nt.activeElement.matches(it.focusableElements)&&nt.activeElement!==ut&&nt.activeElement.blur();const Et=vt&&et.allowTouchMove&&st.touchStartPreventDefault;(st.touchStartForcePreventDefault||Et)&&!ut.isContentEditable&&lt.preventDefault(),et.params.freeMode&&et.params.freeMode.enabled&&et.freeMode&&et.animating&&!st.cssMode&&et.freeMode.onTouchStart(),et.emit("touchStart",lt)}function onTouchMove(tt){const et=getDocument(),nt=this,rt=nt.touchEventsData,{params:it,touches:st,rtlTranslate:ot,enabled:at}=nt;if(!at||!it.simulateTouch&&tt.pointerType==="mouse")return;let lt=tt;if(lt.originalEvent&&(lt=lt.originalEvent),!rt.isTouched){rt.startMoving&&rt.isScrolling&&nt.emit("touchMoveOpposite",lt);return}const ut=rt.evCache.findIndex(Ct=>Ct.pointerId===lt.pointerId);ut>=0&&(rt.evCache[ut]=lt);const ft=rt.evCache.length>1?rt.evCache[0]:lt,dt=ft.pageX,ht=ft.pageY;if(lt.preventedByNestedSwiper){st.startX=dt,st.startY=ht;return}if(!nt.allowTouchMove){lt.target.matches(rt.focusableElements)||(nt.allowClick=!1),rt.isTouched&&(Object.assign(st,{startX:dt,startY:ht,prevX:nt.touches.currentX,prevY:nt.touches.currentY,currentX:dt,currentY:ht}),rt.touchStartTime=now());return}if(it.touchReleaseOnEdges&&!it.loop){if(nt.isVertical()){if(ht<st.startY&&nt.translate<=nt.maxTranslate()||ht>st.startY&&nt.translate>=nt.minTranslate()){rt.isTouched=!1,rt.isMoved=!1;return}}else if(dt<st.startX&&nt.translate<=nt.maxTranslate()||dt>st.startX&&nt.translate>=nt.minTranslate())return}if(et.activeElement&&lt.target===et.activeElement&&lt.target.matches(rt.focusableElements)){rt.isMoved=!0,nt.allowClick=!1;return}if(rt.allowTouchCallbacks&&nt.emit("touchMove",lt),lt.targetTouches&&lt.targetTouches.length>1)return;st.currentX=dt,st.currentY=ht;const mt=st.currentX-st.startX,xt=st.currentY-st.startY;if(nt.params.threshold&&Math.sqrt(mt**2+xt**2)<nt.params.threshold)return;if(typeof rt.isScrolling>"u"){let Ct;nt.isHorizontal()&&st.currentY===st.startY||nt.isVertical()&&st.currentX===st.startX?rt.isScrolling=!1:mt*mt+xt*xt>=25&&(Ct=Math.atan2(Math.abs(xt),Math.abs(mt))*180/Math.PI,rt.isScrolling=nt.isHorizontal()?Ct>it.touchAngle:90-Ct>it.touchAngle)}if(rt.isScrolling&&nt.emit("touchMoveOpposite",lt),typeof rt.startMoving>"u"&&(st.currentX!==st.startX||st.currentY!==st.startY)&&(rt.startMoving=!0),rt.isScrolling||nt.zoom&&nt.params.zoom&&nt.params.zoom.enabled&&rt.evCache.length>1){rt.isTouched=!1;return}if(!rt.startMoving)return;nt.allowClick=!1,!it.cssMode&&lt.cancelable&&lt.preventDefault(),it.touchMoveStopPropagation&&!it.nested&&lt.stopPropagation();let _t=nt.isHorizontal()?mt:xt,At=nt.isHorizontal()?st.currentX-st.previousX:st.currentY-st.previousY;it.oneWayMovement&&(_t=Math.abs(_t)*(ot?1:-1),At=Math.abs(At)*(ot?1:-1)),st.diff=_t,_t*=it.touchRatio,ot&&(_t=-_t,At=-At);const gt=nt.touchesDirection;nt.swipeDirection=_t>0?"prev":"next",nt.touchesDirection=At>0?"prev":"next";const vt=nt.params.loop&&!it.cssMode;if(!rt.isMoved){if(vt&&nt.loopFix({direction:nt.swipeDirection}),rt.startTranslate=nt.getTranslate(),nt.setTransition(0),nt.animating){const Ct=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});nt.wrapperEl.dispatchEvent(Ct)}rt.allowMomentumBounce=!1,it.grabCursor&&(nt.allowSlideNext===!0||nt.allowSlidePrev===!0)&&nt.setGrabCursor(!0),nt.emit("sliderFirstMove",lt)}let Et;rt.isMoved&&gt!==nt.touchesDirection&&vt&&Math.abs(_t)>=1&&(nt.loopFix({direction:nt.swipeDirection,setTranslate:!0}),Et=!0),nt.emit("sliderMove",lt),rt.isMoved=!0,rt.currentTranslate=_t+rt.startTranslate;let yt=!0,wt=it.resistanceRatio;if(it.touchReleaseOnEdges&&(wt=0),_t>0?(vt&&!Et&&rt.currentTranslate>(it.centeredSlides?nt.minTranslate()-nt.size/2:nt.minTranslate())&&nt.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),rt.currentTranslate>nt.minTranslate()&&(yt=!1,it.resistance&&(rt.currentTranslate=nt.minTranslate()-1+(-nt.minTranslate()+rt.startTranslate+_t)**wt))):_t<0&&(vt&&!Et&&rt.currentTranslate<(it.centeredSlides?nt.maxTranslate()+nt.size/2:nt.maxTranslate())&&nt.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:nt.slides.length-(it.slidesPerView==="auto"?nt.slidesPerViewDynamic():Math.ceil(parseFloat(it.slidesPerView,10)))}),rt.currentTranslate<nt.maxTranslate()&&(yt=!1,it.resistance&&(rt.currentTranslate=nt.maxTranslate()+1-(nt.maxTranslate()-rt.startTranslate-_t)**wt))),yt&&(lt.preventedByNestedSwiper=!0),!nt.allowSlideNext&&nt.swipeDirection==="next"&&rt.currentTranslate<rt.startTranslate&&(rt.currentTranslate=rt.startTranslate),!nt.allowSlidePrev&&nt.swipeDirection==="prev"&&rt.currentTranslate>rt.startTranslate&&(rt.currentTranslate=rt.startTranslate),!nt.allowSlidePrev&&!nt.allowSlideNext&&(rt.currentTranslate=rt.startTranslate),it.threshold>0)if(Math.abs(_t)>it.threshold||rt.allowThresholdMove){if(!rt.allowThresholdMove){rt.allowThresholdMove=!0,st.startX=st.currentX,st.startY=st.currentY,rt.currentTranslate=rt.startTranslate,st.diff=nt.isHorizontal()?st.currentX-st.startX:st.currentY-st.startY;return}}else{rt.currentTranslate=rt.startTranslate;return}!it.followFinger||it.cssMode||((it.freeMode&&it.freeMode.enabled&&nt.freeMode||it.watchSlidesProgress)&&(nt.updateActiveIndex(),nt.updateSlidesClasses()),nt.params.freeMode&&it.freeMode.enabled&&nt.freeMode&&nt.freeMode.onTouchMove(),nt.updateProgress(rt.currentTranslate),nt.setTranslate(rt.currentTranslate))}function onTouchEnd(tt){const et=this,nt=et.touchEventsData,rt=nt.evCache.findIndex(Et=>Et.pointerId===tt.pointerId);if(rt>=0&&nt.evCache.splice(rt,1),["pointercancel","pointerout","pointerleave"].includes(tt.type)&&!(tt.type==="pointercancel"&&(et.browser.isSafari||et.browser.isWebView)))return;const{params:it,touches:st,rtlTranslate:ot,slidesGrid:at,enabled:lt}=et;if(!lt||!it.simulateTouch&&tt.pointerType==="mouse")return;let ut=tt;if(ut.originalEvent&&(ut=ut.originalEvent),nt.allowTouchCallbacks&&et.emit("touchEnd",ut),nt.allowTouchCallbacks=!1,!nt.isTouched){nt.isMoved&&it.grabCursor&&et.setGrabCursor(!1),nt.isMoved=!1,nt.startMoving=!1;return}it.grabCursor&&nt.isMoved&&nt.isTouched&&(et.allowSlideNext===!0||et.allowSlidePrev===!0)&&et.setGrabCursor(!1);const ft=now(),dt=ft-nt.touchStartTime;if(et.allowClick){const Et=ut.path||ut.composedPath&&ut.composedPath();et.updateClickedSlide(Et&&Et[0]||ut.target),et.emit("tap click",ut),dt<300&&ft-nt.lastClickTime<300&&et.emit("doubleTap doubleClick",ut)}if(nt.lastClickTime=now(),nextTick(()=>{et.destroyed||(et.allowClick=!0)}),!nt.isTouched||!nt.isMoved||!et.swipeDirection||st.diff===0||nt.currentTranslate===nt.startTranslate){nt.isTouched=!1,nt.isMoved=!1,nt.startMoving=!1;return}nt.isTouched=!1,nt.isMoved=!1,nt.startMoving=!1;let ht;if(it.followFinger?ht=ot?et.translate:-et.translate:ht=-nt.currentTranslate,it.cssMode)return;if(et.params.freeMode&&it.freeMode.enabled){et.freeMode.onTouchEnd({currentPos:ht});return}let mt=0,xt=et.slidesSizesGrid[0];for(let Et=0;Et<at.length;Et+=Et<it.slidesPerGroupSkip?1:it.slidesPerGroup){const yt=Et<it.slidesPerGroupSkip-1?1:it.slidesPerGroup;typeof at[Et+yt]<"u"?ht>=at[Et]&&ht<at[Et+yt]&&(mt=Et,xt=at[Et+yt]-at[Et]):ht>=at[Et]&&(mt=Et,xt=at[at.length-1]-at[at.length-2])}let _t=null,At=null;it.rewind&&(et.isBeginning?At=et.params.virtual&&et.params.virtual.enabled&&et.virtual?et.virtual.slides.length-1:et.slides.length-1:et.isEnd&&(_t=0));const gt=(ht-at[mt])/xt,vt=mt<it.slidesPerGroupSkip-1?1:it.slidesPerGroup;if(dt>it.longSwipesMs){if(!it.longSwipes){et.slideTo(et.activeIndex);return}et.swipeDirection==="next"&&(gt>=it.longSwipesRatio?et.slideTo(it.rewind&&et.isEnd?_t:mt+vt):et.slideTo(mt)),et.swipeDirection==="prev"&&(gt>1-it.longSwipesRatio?et.slideTo(mt+vt):At!==null&&gt<0&&Math.abs(gt)>it.longSwipesRatio?et.slideTo(At):et.slideTo(mt))}else{if(!it.shortSwipes){et.slideTo(et.activeIndex);return}et.navigation&&(ut.target===et.navigation.nextEl||ut.target===et.navigation.prevEl)?ut.target===et.navigation.nextEl?et.slideTo(mt+vt):et.slideTo(mt):(et.swipeDirection==="next"&&et.slideTo(_t!==null?_t:mt+vt),et.swipeDirection==="prev"&&et.slideTo(At!==null?At:mt))}}function onResize(){const tt=this,{params:et,el:nt}=tt;if(nt&&nt.offsetWidth===0)return;et.breakpoints&&tt.setBreakpoint();const{allowSlideNext:rt,allowSlidePrev:it,snapGrid:st}=tt,ot=tt.virtual&&tt.params.virtual.enabled;tt.allowSlideNext=!0,tt.allowSlidePrev=!0,tt.updateSize(),tt.updateSlides(),tt.updateSlidesClasses();const at=ot&&et.loop;(et.slidesPerView==="auto"||et.slidesPerView>1)&&tt.isEnd&&!tt.isBeginning&&!tt.params.centeredSlides&&!at?tt.slideTo(tt.slides.length-1,0,!1,!0):tt.params.loop&&!ot?tt.slideToLoop(tt.realIndex,0,!1,!0):tt.slideTo(tt.activeIndex,0,!1,!0),tt.autoplay&&tt.autoplay.running&&tt.autoplay.paused&&(clearTimeout(tt.autoplay.resizeTimeout),tt.autoplay.resizeTimeout=setTimeout(()=>{tt.autoplay&&tt.autoplay.running&&tt.autoplay.paused&&tt.autoplay.resume()},500)),tt.allowSlidePrev=it,tt.allowSlideNext=rt,tt.params.watchOverflow&&st!==tt.snapGrid&&tt.checkOverflow()}function onClick(tt){const et=this;et.enabled&&(et.allowClick||(et.params.preventClicks&&tt.preventDefault(),et.params.preventClicksPropagation&&et.animating&&(tt.stopPropagation(),tt.stopImmediatePropagation())))}function onScroll(){const tt=this,{wrapperEl:et,rtlTranslate:nt,enabled:rt}=tt;if(!rt)return;tt.previousTranslate=tt.translate,tt.isHorizontal()?tt.translate=-et.scrollLeft:tt.translate=-et.scrollTop,tt.translate===0&&(tt.translate=0),tt.updateActiveIndex(),tt.updateSlidesClasses();let it;const st=tt.maxTranslate()-tt.minTranslate();st===0?it=0:it=(tt.translate-tt.minTranslate())/st,it!==tt.progress&&tt.updateProgress(nt?-tt.translate:tt.translate),tt.emit("setTranslate",tt.translate,!1)}function onLoad(tt){const et=this;processLazyPreloader(et,tt.target),et.update()}let dummyEventAttached=!1;function dummyEventListener(){}const events=(tt,et)=>{const nt=getDocument(),{params:rt,el:it,wrapperEl:st,device:ot}=tt,at=!!rt.nested,lt=et==="on"?"addEventListener":"removeEventListener",ut=et;it[lt]("pointerdown",tt.onTouchStart,{passive:!1}),nt[lt]("pointermove",tt.onTouchMove,{passive:!1,capture:at}),nt[lt]("pointerup",tt.onTouchEnd,{passive:!0}),nt[lt]("pointercancel",tt.onTouchEnd,{passive:!0}),nt[lt]("pointerout",tt.onTouchEnd,{passive:!0}),nt[lt]("pointerleave",tt.onTouchEnd,{passive:!0}),(rt.preventClicks||rt.preventClicksPropagation)&&it[lt]("click",tt.onClick,!0),rt.cssMode&&st[lt]("scroll",tt.onScroll),rt.updateOnWindowResize?tt[ut](ot.ios||ot.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):tt[ut]("observerUpdate",onResize,!0),it[lt]("load",tt.onLoad,{capture:!0})};function attachEvents(){const tt=this,et=getDocument(),{params:nt}=tt;tt.onTouchStart=onTouchStart.bind(tt),tt.onTouchMove=onTouchMove.bind(tt),tt.onTouchEnd=onTouchEnd.bind(tt),nt.cssMode&&(tt.onScroll=onScroll.bind(tt)),tt.onClick=onClick.bind(tt),tt.onLoad=onLoad.bind(tt),dummyEventAttached||(et.addEventListener("touchstart",dummyEventListener),dummyEventAttached=!0),events(tt,"on")}function detachEvents(){events(this,"off")}const events$1={attachEvents,detachEvents},isGridEnabled=(tt,et)=>tt.grid&&et.grid&&et.grid.rows>1;function setBreakpoint(){const tt=this,{realIndex:et,initialized:nt,params:rt,el:it}=tt,st=rt.breakpoints;if(!st||st&&Object.keys(st).length===0)return;const ot=tt.getBreakpoint(st,tt.params.breakpointsBase,tt.el);if(!ot||tt.currentBreakpoint===ot)return;const lt=(ot in st?st[ot]:void 0)||tt.originalParams,ut=isGridEnabled(tt,rt),ft=isGridEnabled(tt,lt),dt=rt.enabled;ut&&!ft?(it.classList.remove(`${rt.containerModifierClass}grid`,`${rt.containerModifierClass}grid-column`),tt.emitContainerClasses()):!ut&&ft&&(it.classList.add(`${rt.containerModifierClass}grid`),(lt.grid.fill&&lt.grid.fill==="column"||!lt.grid.fill&&rt.grid.fill==="column")&&it.classList.add(`${rt.containerModifierClass}grid-column`),tt.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(_t=>{const At=rt[_t]&&rt[_t].enabled,gt=lt[_t]&&lt[_t].enabled;At&&!gt&&tt[_t].disable(),!At&&gt&&tt[_t].enable()});const ht=lt.direction&&lt.direction!==rt.direction,mt=rt.loop&&(lt.slidesPerView!==rt.slidesPerView||ht);ht&&nt&&tt.changeDirection(),extend$1(tt.params,lt);const xt=tt.params.enabled;Object.assign(tt,{allowTouchMove:tt.params.allowTouchMove,allowSlideNext:tt.params.allowSlideNext,allowSlidePrev:tt.params.allowSlidePrev}),dt&&!xt?tt.disable():!dt&&xt&&tt.enable(),tt.currentBreakpoint=ot,tt.emit("_beforeBreakpoint",lt),mt&&nt&&(tt.loopDestroy(),tt.loopCreate(et),tt.updateSlides()),tt.emit("breakpoint",lt)}function getBreakpoint(tt,et="window",nt){if(!tt||et==="container"&&!nt)return;let rt=!1;const it=getWindow(),st=et==="window"?it.innerHeight:nt.clientHeight,ot=Object.keys(tt).map(at=>{if(typeof at=="string"&&at.indexOf("@")===0){const lt=parseFloat(at.substr(1));return{value:st*lt,point:at}}return{value:at,point:at}});ot.sort((at,lt)=>parseInt(at.value,10)-parseInt(lt.value,10));for(let at=0;at<ot.length;at+=1){const{point:lt,value:ut}=ot[at];et==="window"?it.matchMedia(`(min-width: ${ut}px)`).matches&&(rt=lt):ut<=nt.clientWidth&&(rt=lt)}return rt||"max"}const breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(tt,et){const nt=[];return tt.forEach(rt=>{typeof rt=="object"?Object.keys(rt).forEach(it=>{rt[it]&&nt.push(et+it)}):typeof rt=="string"&&nt.push(et+rt)}),nt}function addClasses(){const tt=this,{classNames:et,params:nt,rtl:rt,el:it,device:st}=tt,ot=prepareClasses(["initialized",nt.direction,{"free-mode":tt.params.freeMode&&nt.freeMode.enabled},{autoheight:nt.autoHeight},{rtl:rt},{grid:nt.grid&&nt.grid.rows>1},{"grid-column":nt.grid&&nt.grid.rows>1&&nt.grid.fill==="column"},{android:st.android},{ios:st.ios},{"css-mode":nt.cssMode},{centered:nt.cssMode&&nt.centeredSlides},{"watch-progress":nt.watchSlidesProgress}],nt.containerModifierClass);et.push(...ot),it.classList.add(...et),tt.emitContainerClasses()}function removeClasses(){const tt=this,{el:et,classNames:nt}=tt;et.classList.remove(...nt),tt.emitContainerClasses()}const classes={addClasses,removeClasses};function checkOverflow(){const tt=this,{isLocked:et,params:nt}=tt,{slidesOffsetBefore:rt}=nt;if(rt){const it=tt.slides.length-1,st=tt.slidesGrid[it]+tt.slidesSizesGrid[it]+rt*2;tt.isLocked=tt.size>st}else tt.isLocked=tt.snapGrid.length===1;nt.allowSlideNext===!0&&(tt.allowSlideNext=!tt.isLocked),nt.allowSlidePrev===!0&&(tt.allowSlidePrev=!tt.isLocked),et&&et!==tt.isLocked&&(tt.isEnd=!1),et!==tt.isLocked&&tt.emit(tt.isLocked?"lock":"unlock")}const checkOverflow$1={checkOverflow},defaults={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(tt,et){return function(rt={}){const it=Object.keys(rt)[0],st=rt[it];if(typeof st!="object"||st===null){extend$1(et,rt);return}if(["navigation","pagination","scrollbar"].indexOf(it)>=0&&tt[it]===!0&&(tt[it]={auto:!0}),!(it in tt&&"enabled"in st)){extend$1(et,rt);return}tt[it]===!0&&(tt[it]={enabled:!0}),typeof tt[it]=="object"&&!("enabled"in tt[it])&&(tt[it].enabled=!0),tt[it]||(tt[it]={enabled:!1}),extend$1(et,rt)}}const prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class _p{constructor(...et){let nt,rt;et.length===1&&et[0].constructor&&Object.prototype.toString.call(et[0]).slice(8,-1)==="Object"?rt=et[0]:[nt,rt]=et,rt||(rt={}),rt=extend$1({},rt),nt&&!rt.el&&(rt.el=nt);const it=getDocument();if(rt.el&&typeof rt.el=="string"&&it.querySelectorAll(rt.el).length>1){const lt=[];return it.querySelectorAll(rt.el).forEach(ut=>{const ft=extend$1({},rt,{el:ut});lt.push(new _p(ft))}),lt}const st=this;st.__swiper__=!0,st.support=getSupport(),st.device=getDevice({userAgent:rt.userAgent}),st.browser=getBrowser(),st.eventsListeners={},st.eventsAnyListeners=[],st.modules=[...st.__modules__],rt.modules&&Array.isArray(rt.modules)&&st.modules.push(...rt.modules);const ot={};st.modules.forEach(lt=>{lt({params:rt,swiper:st,extendParams:moduleExtendParams(rt,ot),on:st.on.bind(st),once:st.once.bind(st),off:st.off.bind(st),emit:st.emit.bind(st)})});const at=extend$1({},defaults,ot);return st.params=extend$1({},at,extendedDefaults,rt),st.originalParams=extend$1({},st.params),st.passedParams=extend$1({},rt),st.params&&st.params.on&&Object.keys(st.params.on).forEach(lt=>{st.on(lt,st.params.on[lt])}),st.params&&st.params.onAny&&st.onAny(st.params.onAny),Object.assign(st,{enabled:st.params.enabled,el:nt,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return st.params.direction==="horizontal"},isVertical(){return st.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:st.params.allowSlideNext,allowSlidePrev:st.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:st.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:st.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),st.emit("_swiper"),st.params.init&&st.init(),st}getSlideIndex(et){const{slidesEl:nt,params:rt}=this,it=elementChildren(nt,`.${rt.slideClass}, swiper-slide`),st=elementIndex(it[0]);return elementIndex(et)-st}getSlideIndexByData(et){return this.getSlideIndex(this.slides.filter(nt=>nt.getAttribute("data-swiper-slide-index")*1===et)[0])}recalcSlides(){const et=this,{slidesEl:nt,params:rt}=et;et.slides=elementChildren(nt,`.${rt.slideClass}, swiper-slide`)}enable(){const et=this;et.enabled||(et.enabled=!0,et.params.grabCursor&&et.setGrabCursor(),et.emit("enable"))}disable(){const et=this;et.enabled&&(et.enabled=!1,et.params.grabCursor&&et.unsetGrabCursor(),et.emit("disable"))}setProgress(et,nt){const rt=this;et=Math.min(Math.max(et,0),1);const it=rt.minTranslate(),ot=(rt.maxTranslate()-it)*et+it;rt.translateTo(ot,typeof nt>"u"?0:nt),rt.updateActiveIndex(),rt.updateSlidesClasses()}emitContainerClasses(){const et=this;if(!et.params._emitClasses||!et.el)return;const nt=et.el.className.split(" ").filter(rt=>rt.indexOf("swiper")===0||rt.indexOf(et.params.containerModifierClass)===0);et.emit("_containerClasses",nt.join(" "))}getSlideClasses(et){const nt=this;return nt.destroyed?"":et.className.split(" ").filter(rt=>rt.indexOf("swiper-slide")===0||rt.indexOf(nt.params.slideClass)===0).join(" ")}emitSlidesClasses(){const et=this;if(!et.params._emitClasses||!et.el)return;const nt=[];et.slides.forEach(rt=>{const it=et.getSlideClasses(rt);nt.push({slideEl:rt,classNames:it}),et.emit("_slideClass",rt,it)}),et.emit("_slideClasses",nt)}slidesPerViewDynamic(et="current",nt=!1){const rt=this,{params:it,slides:st,slidesGrid:ot,slidesSizesGrid:at,size:lt,activeIndex:ut}=rt;let ft=1;if(it.centeredSlides){let dt=st[ut].swiperSlideSize,ht;for(let mt=ut+1;mt<st.length;mt+=1)st[mt]&&!ht&&(dt+=st[mt].swiperSlideSize,ft+=1,dt>lt&&(ht=!0));for(let mt=ut-1;mt>=0;mt-=1)st[mt]&&!ht&&(dt+=st[mt].swiperSlideSize,ft+=1,dt>lt&&(ht=!0))}else if(et==="current")for(let dt=ut+1;dt<st.length;dt+=1)(nt?ot[dt]+at[dt]-ot[ut]<lt:ot[dt]-ot[ut]<lt)&&(ft+=1);else for(let dt=ut-1;dt>=0;dt-=1)ot[ut]-ot[dt]<lt&&(ft+=1);return ft}update(){const et=this;if(!et||et.destroyed)return;const{snapGrid:nt,params:rt}=et;rt.breakpoints&&et.setBreakpoint(),[...et.el.querySelectorAll('[loading="lazy"]')].forEach(ot=>{ot.complete&&processLazyPreloader(et,ot)}),et.updateSize(),et.updateSlides(),et.updateProgress(),et.updateSlidesClasses();function it(){const ot=et.rtlTranslate?et.translate*-1:et.translate,at=Math.min(Math.max(ot,et.maxTranslate()),et.minTranslate());et.setTranslate(at),et.updateActiveIndex(),et.updateSlidesClasses()}let st;if(et.params.freeMode&&et.params.freeMode.enabled)it(),et.params.autoHeight&&et.updateAutoHeight();else{if((et.params.slidesPerView==="auto"||et.params.slidesPerView>1)&&et.isEnd&&!et.params.centeredSlides){const ot=et.virtual&&et.params.virtual.enabled?et.virtual.slides:et.slides;st=et.slideTo(ot.length-1,0,!1,!0)}else st=et.slideTo(et.activeIndex,0,!1,!0);st||it()}rt.watchOverflow&&nt!==et.snapGrid&&et.checkOverflow(),et.emit("update")}changeDirection(et,nt=!0){const rt=this,it=rt.params.direction;return et||(et=it==="horizontal"?"vertical":"horizontal"),et===it||et!=="horizontal"&&et!=="vertical"||(rt.el.classList.remove(`${rt.params.containerModifierClass}${it}`),rt.el.classList.add(`${rt.params.containerModifierClass}${et}`),rt.emitContainerClasses(),rt.params.direction=et,rt.slides.forEach(st=>{et==="vertical"?st.style.width="":st.style.height=""}),rt.emit("changeDirection"),nt&&rt.update()),rt}changeLanguageDirection(et){const nt=this;nt.rtl&&et==="rtl"||!nt.rtl&&et==="ltr"||(nt.rtl=et==="rtl",nt.rtlTranslate=nt.params.direction==="horizontal"&&nt.rtl,nt.rtl?(nt.el.classList.add(`${nt.params.containerModifierClass}rtl`),nt.el.dir="rtl"):(nt.el.classList.remove(`${nt.params.containerModifierClass}rtl`),nt.el.dir="ltr"),nt.update())}mount(et){const nt=this;if(nt.mounted)return!0;let rt=et||nt.params.el;if(typeof rt=="string"&&(rt=document.querySelector(rt)),!rt)return!1;rt.swiper=nt,rt.shadowEl&&(nt.isElement=!0);const it=()=>`.${(nt.params.wrapperClass||"").trim().split(" ").join(".")}`;let ot=(()=>rt&&rt.shadowRoot&&rt.shadowRoot.querySelector?rt.shadowRoot.querySelector(it()):elementChildren(rt,it())[0])();return!ot&&nt.params.createElements&&(ot=createElement("div",nt.params.wrapperClass),rt.append(ot),elementChildren(rt,`.${nt.params.slideClass}`).forEach(at=>{ot.append(at)})),Object.assign(nt,{el:rt,wrapperEl:ot,slidesEl:nt.isElement?rt:ot,mounted:!0,rtl:rt.dir.toLowerCase()==="rtl"||elementStyle(rt,"direction")==="rtl",rtlTranslate:nt.params.direction==="horizontal"&&(rt.dir.toLowerCase()==="rtl"||elementStyle(rt,"direction")==="rtl"),wrongRTL:elementStyle(ot,"display")==="-webkit-box"}),!0}init(et){const nt=this;return nt.initialized||nt.mount(et)===!1||(nt.emit("beforeInit"),nt.params.breakpoints&&nt.setBreakpoint(),nt.addClasses(),nt.updateSize(),nt.updateSlides(),nt.params.watchOverflow&&nt.checkOverflow(),nt.params.grabCursor&&nt.enabled&&nt.setGrabCursor(),nt.params.loop&&nt.virtual&&nt.params.virtual.enabled?nt.slideTo(nt.params.initialSlide+nt.virtual.slidesBefore,0,nt.params.runCallbacksOnInit,!1,!0):nt.slideTo(nt.params.initialSlide,0,nt.params.runCallbacksOnInit,!1,!0),nt.params.loop&&nt.loopCreate(),nt.attachEvents(),[...nt.el.querySelectorAll('[loading="lazy"]')].forEach(it=>{it.complete?processLazyPreloader(nt,it):it.addEventListener("load",st=>{processLazyPreloader(nt,st.target)})}),preload(nt),nt.initialized=!0,preload(nt),nt.emit("init"),nt.emit("afterInit")),nt}destroy(et=!0,nt=!0){const rt=this,{params:it,el:st,wrapperEl:ot,slides:at}=rt;return typeof rt.params>"u"||rt.destroyed||(rt.emit("beforeDestroy"),rt.initialized=!1,rt.detachEvents(),it.loop&&rt.loopDestroy(),nt&&(rt.removeClasses(),st.removeAttribute("style"),ot.removeAttribute("style"),at&&at.length&&at.forEach(lt=>{lt.classList.remove(it.slideVisibleClass,it.slideActiveClass,it.slideNextClass,it.slidePrevClass),lt.removeAttribute("style"),lt.removeAttribute("data-swiper-slide-index")})),rt.emit("destroy"),Object.keys(rt.eventsListeners).forEach(lt=>{rt.off(lt)}),et!==!1&&(rt.el.swiper=null,deleteProps(rt)),rt.destroyed=!0),null}static extendDefaults(et){extend$1(extendedDefaults,et)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(et){_p.prototype.__modules__||(_p.prototype.__modules__=[]);const nt=_p.prototype.__modules__;typeof et=="function"&&nt.indexOf(et)<0&&nt.push(et)}static use(et){return Array.isArray(et)?(et.forEach(nt=>_p.installModule(nt)),_p):(_p.installModule(et),_p)}};Object.keys(prototypes).forEach(tt=>{Object.keys(prototypes[tt]).forEach(et=>{Swiper$1.prototype[et]=prototypes[tt][et]})});Swiper$1.use([Resize,Observer]);function isObject(tt){return typeof tt=="object"&&tt!==null&&tt.constructor&&Object.prototype.toString.call(tt).slice(8,-1)==="Object"}function extend(tt,et){const nt=["__proto__","constructor","prototype"];Object.keys(et).filter(rt=>nt.indexOf(rt)<0).forEach(rt=>{typeof tt[rt]>"u"?tt[rt]=et[rt]:isObject(et[rt])&&isObject(tt[rt])&&Object.keys(et[rt]).length>0?et[rt].__swiper__?tt[rt]=et[rt]:extend(tt[rt],et[rt]):tt[rt]=et[rt]})}function needsNavigation(tt={}){return tt.navigation&&typeof tt.navigation.nextEl>"u"&&typeof tt.navigation.prevEl>"u"}function needsPagination(tt={}){return tt.pagination&&typeof tt.pagination.el>"u"}function needsScrollbar(tt={}){return tt.scrollbar&&typeof tt.scrollbar.el>"u"}function uniqueClasses(tt=""){const et=tt.split(" ").map(rt=>rt.trim()).filter(rt=>!!rt),nt=[];return et.forEach(rt=>{nt.indexOf(rt)<0&&nt.push(rt)}),nt.join(" ")}function wrapperClass(tt=""){return tt?tt.includes("swiper-wrapper")?tt:`swiper-wrapper ${tt}`:"swiper-wrapper"}const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function getParams(tt={},et=!0){const nt={on:{}},rt={},it={};extend(nt,Swiper$1.defaults),extend(nt,Swiper$1.extendedDefaults),nt._emitClasses=!0,nt.init=!1;const st={},ot=paramsList.map(lt=>lt.replace(/_/,"")),at=Object.assign({},tt);return Object.keys(at).forEach(lt=>{typeof tt[lt]>"u"||(ot.indexOf(lt)>=0?isObject(tt[lt])?(nt[lt]={},it[lt]={},extend(nt[lt],tt[lt]),extend(it[lt],tt[lt])):(nt[lt]=tt[lt],it[lt]=tt[lt]):lt.search(/on[A-Z]/)===0&&typeof tt[lt]=="function"?et?rt[`${lt[2].toLowerCase()}${lt.substr(3)}`]=tt[lt]:nt.on[`${lt[2].toLowerCase()}${lt.substr(3)}`]=tt[lt]:st[lt]=tt[lt])}),["navigation","pagination","scrollbar"].forEach(lt=>{nt[lt]===!0&&(nt[lt]={}),nt[lt]===!1&&delete nt[lt]}),{params:nt,passedParams:it,rest:st,events:rt}}function mountSwiper({el:tt,nextEl:et,prevEl:nt,paginationEl:rt,scrollbarEl:it,swiper:st},ot){needsNavigation(ot)&&et&&nt&&(st.params.navigation.nextEl=et,st.originalParams.navigation.nextEl=et,st.params.navigation.prevEl=nt,st.originalParams.navigation.prevEl=nt),needsPagination(ot)&&rt&&(st.params.pagination.el=rt,st.originalParams.pagination.el=rt),needsScrollbar(ot)&&it&&(st.params.scrollbar.el=it,st.originalParams.scrollbar.el=it),st.init(tt)}function getChangedParams(tt,et,nt,rt,it){const st=[];if(!et)return st;const ot=lt=>{st.indexOf(lt)<0&&st.push(lt)};if(nt&&rt){const lt=rt.map(it),ut=nt.map(it);lt.join("")!==ut.join("")&&ot("children"),rt.length!==nt.length&&ot("children")}return paramsList.filter(lt=>lt[0]==="_").map(lt=>lt.replace(/_/,"")).forEach(lt=>{if(lt in tt&&lt in et)if(isObject(tt[lt])&&isObject(et[lt])){const ut=Object.keys(tt[lt]),ft=Object.keys(et[lt]);ut.length!==ft.length?ot(lt):(ut.forEach(dt=>{tt[lt][dt]!==et[lt][dt]&&ot(lt)}),ft.forEach(dt=>{tt[lt][dt]!==et[lt][dt]&&ot(lt)}))}else tt[lt]!==et[lt]&&ot(lt)}),st}function isChildSwiperSlide(tt){return tt.type&&tt.type.displayName&&tt.type.displayName.includes("SwiperSlide")}function processChildren(tt){const et=[];return React$1.Children.toArray(tt).forEach(nt=>{isChildSwiperSlide(nt)?et.push(nt):nt.props&&nt.props.children&&processChildren(nt.props.children).forEach(rt=>et.push(rt))}),et}function getChildren(tt){const et=[],nt={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React$1.Children.toArray(tt).forEach(rt=>{if(isChildSwiperSlide(rt))et.push(rt);else if(rt.props&&rt.props.slot&&nt[rt.props.slot])nt[rt.props.slot].push(rt);else if(rt.props&&rt.props.children){const it=processChildren(rt.props.children);it.length>0?it.forEach(st=>et.push(st)):nt["container-end"].push(rt)}else nt["container-end"].push(rt)}),{slides:et,slots:nt}}function updateSwiper({swiper:tt,slides:et,passedParams:nt,changedParams:rt,nextEl:it,prevEl:st,scrollbarEl:ot,paginationEl:at}){const lt=rt.filter(It=>It!=="children"&&It!=="direction"&&It!=="wrapperClass"),{params:ut,pagination:ft,navigation:dt,scrollbar:ht,virtual:mt,thumbs:xt}=tt;let _t,At,gt,vt,Et,yt,wt,Ct;rt.includes("thumbs")&&nt.thumbs&&nt.thumbs.swiper&&ut.thumbs&&!ut.thumbs.swiper&&(_t=!0),rt.includes("controller")&&nt.controller&&nt.controller.control&&ut.controller&&!ut.controller.control&&(At=!0),rt.includes("pagination")&&nt.pagination&&(nt.pagination.el||at)&&(ut.pagination||ut.pagination===!1)&&ft&&!ft.el&&(gt=!0),rt.includes("scrollbar")&&nt.scrollbar&&(nt.scrollbar.el||ot)&&(ut.scrollbar||ut.scrollbar===!1)&&ht&&!ht.el&&(vt=!0),rt.includes("navigation")&&nt.navigation&&(nt.navigation.prevEl||st)&&(nt.navigation.nextEl||it)&&(ut.navigation||ut.navigation===!1)&&dt&&!dt.prevEl&&!dt.nextEl&&(Et=!0);const Rt=It=>{tt[It]&&(tt[It].destroy(),It==="navigation"?(tt.isElement&&(tt[It].prevEl.remove(),tt[It].nextEl.remove()),ut[It].prevEl=void 0,ut[It].nextEl=void 0,tt[It].prevEl=void 0,tt[It].nextEl=void 0):(tt.isElement&&tt[It].el.remove(),ut[It].el=void 0,tt[It].el=void 0))};rt.includes("loop")&&tt.isElement&&(ut.loop&&!nt.loop?yt=!0:!ut.loop&&nt.loop?wt=!0:Ct=!0),lt.forEach(It=>{if(isObject(ut[It])&&isObject(nt[It]))extend(ut[It],nt[It]);else{const $t=nt[It];($t===!0||$t===!1)&&(It==="navigation"||It==="pagination"||It==="scrollbar")?$t===!1&&Rt(It):ut[It]=nt[It]}}),lt.includes("controller")&&!At&&tt.controller&&tt.controller.control&&ut.controller&&ut.controller.control&&(tt.controller.control=ut.controller.control),rt.includes("children")&&et&&mt&&ut.virtual.enabled&&(mt.slides=et,mt.update(!0)),rt.includes("children")&&et&&ut.loop&&(Ct=!0),_t&&xt.init()&&xt.update(!0),At&&(tt.controller.control=ut.controller.control),gt&&(tt.isElement&&(!at||typeof at=="string")&&(at=document.createElement("div"),at.classList.add("swiper-pagination"),tt.el.shadowEl.appendChild(at)),at&&(ut.pagination.el=at),ft.init(),ft.render(),ft.update()),vt&&(tt.isElement&&(!ot||typeof ot=="string")&&(ot=document.createElement("div"),ot.classList.add("swiper-scrollbar"),tt.el.shadowEl.appendChild(ot)),ot&&(ut.scrollbar.el=ot),ht.init(),ht.updateSize(),ht.setTranslate()),Et&&(tt.isElement&&((!it||typeof it=="string")&&(it=document.createElement("div"),it.classList.add("swiper-button-next"),tt.el.shadowEl.appendChild(it)),(!st||typeof st=="string")&&(st=document.createElement("div"),st.classList.add("swiper-button-prev"),tt.el.shadowEl.appendChild(st))),it&&(ut.navigation.nextEl=it),st&&(ut.navigation.prevEl=st),dt.init(),dt.update()),rt.includes("allowSlideNext")&&(tt.allowSlideNext=nt.allowSlideNext),rt.includes("allowSlidePrev")&&(tt.allowSlidePrev=nt.allowSlidePrev),rt.includes("direction")&&tt.changeDirection(nt.direction,!1),(yt||Ct)&&tt.loopDestroy(),(wt||Ct)&&tt.loopCreate(),tt.update()}function renderVirtual(tt,et,nt){if(!nt)return null;const rt=ft=>{let dt=ft;return ft<0?dt=et.length+ft:dt>=et.length&&(dt=dt-et.length),dt},it=tt.isHorizontal()?{[tt.rtlTranslate?"right":"left"]:`${nt.offset}px`}:{top:`${nt.offset}px`},{from:st,to:ot}=nt,at=tt.params.loop?-et.length:0,lt=tt.params.loop?et.length*2:et.length,ut=[];for(let ft=at;ft<lt;ft+=1)ft>=st&&ft<=ot&&ut.push(et[rt(ft)]);return ut.map((ft,dt)=>React$1.cloneElement(ft,{swiper:tt,style:it,key:`slide-${dt}`}))}const updateOnVirtualData=tt=>{!tt||tt.destroyed||!tt.params.virtual||tt.params.virtual&&!tt.params.virtual.enabled||(tt.updateSlides(),tt.updateProgress(),tt.updateSlidesClasses(),tt.parallax&&tt.params.parallax&&tt.params.parallax.enabled&&tt.parallax.setTranslate())};function useIsomorphicLayoutEffect(tt,et){return typeof window>"u"?reactExports.useEffect(tt,et):reactExports.useLayoutEffect(tt,et)}const SwiperSlideContext=reactExports.createContext(null),SwiperContext=reactExports.createContext(null);function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$3.apply(this,arguments)}const Swiper=reactExports.forwardRef(function(tt,et){let{className:nt,tag:rt="div",wrapperTag:it="div",children:st,onSwiper:ot,...at}=tt===void 0?{}:tt,lt=!1;const[ut,ft]=reactExports.useState("swiper"),[dt,ht]=reactExports.useState(null),[mt,xt]=reactExports.useState(!1),_t=reactExports.useRef(!1),At=reactExports.useRef(null),gt=reactExports.useRef(null),vt=reactExports.useRef(null),Et=reactExports.useRef(null),yt=reactExports.useRef(null),wt=reactExports.useRef(null),Ct=reactExports.useRef(null),Rt=reactExports.useRef(null),{params:It,passedParams:$t,rest:Ft,events:Bt}=getParams(at),{slides:Nt,slots:Xt}=getChildren(st),nn=()=>{xt(!mt)};Object.assign(It.on,{_containerClasses(Kt,Qt){ft(Qt)}});const sn=()=>{Object.assign(It.on,Bt),lt=!0;const Kt={...It};if(delete Kt.wrapperClass,gt.current=new Swiper$1(Kt),gt.current.virtual&&gt.current.params.virtual.enabled){gt.current.virtual.slides=Nt;const Qt={cache:!1,slides:Nt,renderExternal:ht,renderExternalUpdate:!1};extend(gt.current.params.virtual,Qt),extend(gt.current.originalParams.virtual,Qt)}};At.current||sn(),gt.current&&gt.current.on("_beforeBreakpoint",nn);const rn=()=>{lt||!Bt||!gt.current||Object.keys(Bt).forEach(Kt=>{gt.current.on(Kt,Bt[Kt])})},Jt=()=>{!Bt||!gt.current||Object.keys(Bt).forEach(Kt=>{gt.current.off(Kt,Bt[Kt])})};reactExports.useEffect(()=>()=>{gt.current&&gt.current.off("_beforeBreakpoint",nn)}),reactExports.useEffect(()=>{!_t.current&&gt.current&&(gt.current.emitSlidesClasses(),_t.current=!0)}),useIsomorphicLayoutEffect(()=>{if(et&&(et.current=At.current),!!At.current)return gt.current.destroyed&&sn(),mountSwiper({el:At.current,nextEl:yt.current,prevEl:wt.current,paginationEl:Ct.current,scrollbarEl:Rt.current,swiper:gt.current},It),ot&&ot(gt.current),()=>{gt.current&&!gt.current.destroyed&&gt.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect(()=>{rn();const Kt=getChangedParams($t,vt.current,Nt,Et.current,Qt=>Qt.key);return vt.current=$t,Et.current=Nt,Kt.length&&gt.current&&!gt.current.destroyed&&updateSwiper({swiper:gt.current,slides:Nt,passedParams:$t,changedParams:Kt,nextEl:yt.current,prevEl:wt.current,scrollbarEl:Rt.current,paginationEl:Ct.current}),()=>{Jt()}}),useIsomorphicLayoutEffect(()=>{updateOnVirtualData(gt.current)},[dt]);function Ut(){return It.virtual?renderVirtual(gt.current,Nt,dt):Nt.map((Kt,Qt)=>React$1.cloneElement(Kt,{swiper:gt.current,swiperSlideIndex:Qt}))}return React$1.createElement(rt,_extends$3({ref:At,className:uniqueClasses(`${ut}${nt?` ${nt}`:""}`)},Ft),React$1.createElement(SwiperContext.Provider,{value:gt.current},Xt["container-start"],React$1.createElement(it,{className:wrapperClass(It.wrapperClass)},Xt["wrapper-start"],Ut(),Xt["wrapper-end"]),needsNavigation(It)&&React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{ref:wt,className:"swiper-button-prev"}),React$1.createElement("div",{ref:yt,className:"swiper-button-next"})),needsScrollbar(It)&&React$1.createElement("div",{ref:Rt,className:"swiper-scrollbar"}),needsPagination(It)&&React$1.createElement("div",{ref:Ct,className:"swiper-pagination"}),Xt["container-end"]))});Swiper.displayName="Swiper";function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$2.apply(this,arguments)}const SwiperSlide=reactExports.forwardRef(function(tt,et){let{tag:nt="div",children:rt,className:it="",swiper:st,zoom:ot,lazy:at,virtualIndex:lt,swiperSlideIndex:ut,...ft}=tt===void 0?{}:tt;const dt=reactExports.useRef(null),[ht,mt]=reactExports.useState("swiper-slide"),[xt,_t]=reactExports.useState(!1);function At(yt,wt,Ct){wt===dt.current&&mt(Ct)}useIsomorphicLayoutEffect(()=>{if(typeof ut<"u"&&(dt.current.swiperSlideIndex=ut),et&&(et.current=dt.current),!(!dt.current||!st)){if(st.destroyed){ht!=="swiper-slide"&&mt("swiper-slide");return}return st.on("_slideClass",At),()=>{st&&st.off("_slideClass",At)}}}),useIsomorphicLayoutEffect(()=>{st&&dt.current&&!st.destroyed&&mt(st.getSlideClasses(dt.current))},[st]);const gt={isActive:ht.indexOf("swiper-slide-active")>=0,isVisible:ht.indexOf("swiper-slide-visible")>=0,isPrev:ht.indexOf("swiper-slide-prev")>=0,isNext:ht.indexOf("swiper-slide-next")>=0},vt=()=>typeof rt=="function"?rt(gt):rt,Et=()=>{_t(!0)};return React$1.createElement(nt,_extends$2({ref:dt,className:uniqueClasses(`${ht}${it?` ${it}`:""}`),"data-swiper-slide-index":lt,onLoad:Et},ft),ot&&React$1.createElement(SwiperSlideContext.Provider,{value:gt},React$1.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof ot=="number"?ot:void 0},vt(),at&&!xt&&React$1.createElement("div",{className:"swiper-lazy-preloader"}))),!ot&&React$1.createElement(SwiperSlideContext.Provider,{value:gt},vt(),at&&!xt&&React$1.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";const FollowingImage="/metaverse/assets/users-fb365018.png",FollowersImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADhUExURUdwTO2Rh9iTjkYIBjoFBC0HBlUNCuVlVOVeTfnt7LZpYsg0KZERC1QNCd2Ff5oUDehSPsUsIEsMCdZMO2oLCOFlVL0mGTEJB+d3aWMJBtREM8swJXkPCswkFtczI9IqG88mF9k3Jto8K9AoGdQuHtMsHdYwINvb29tBMN1GNd3e3scgE+VLNrsZDuDi4rIXDqYQCMIcEOJVROQ/KN9OPdjZ2eXt7oQLBuZ3aZgOCNwrFtUkE1YHBGIIBb4jGeSJf44VELSnp3IJBqFmZOWgmefKx8+8u72NisZQSJotKJxMSKkF8EUAAABJdFJOUwB9aNP+cyD8/SMR/dxBPtPKfl9Z6JrCksGtwam+//////////////////////////////////////////////////////////3mC4sXAAAKYUlEQVR42u2aaXfayBKGkzgGYkJOtkkyM9ECWkASCCQDxiix8YaX//+Dpqq6W72ocTLnHnvuB16xxD4O9eit6u5qiRcv9tprr7322muvvfbaa6+99trr/1FHb55CR78X/N3Lb9/aHZva/176f//27eW7X0R/8/L9PDk+HsHxJBqX71++ecT5P8pkThrDQS9jfCT4wOOYns1DvtlV4qNE4Q9/7MrFp7v5HP9IEIznCT4ShkAS74hliUL/q2QHqVM2ctgpx51P9tMX0SGm1Jh+Gqs/4B+QQVzlvFTUKUtL3azwAJ3DExAsJhz9NWfnniSjZCQfJPxV0hSaI7I1n88lgjjxtozfpvirc9Cq3Rm/P7LEZ9FHg1rH+DKCt9FgRC+DEZQnA1JVI2hmNAePIDhfdcZ/GQR/J3OogISi96UG8tCwRgOiadgzx0OgzA0WhiAI3mvxP4wgPobv9904jEBhGLJXVIzPWq7r4pNLwiK7oJR4qlPzUiAAwQd18ukmdPp91408L1IVSsUag4ivMnAME0LlmLcZQbscK5PSl27CwodG+B0ErqsS9PuuzJcwYcRrplnDJRFoSfjUHdWnj7ITxApArBEoadhtgWICpWFVjj9JA0bdESQ/CjxO4Nk9sDjQJw9crWZFeN0Cg0CxoHXWBQI35OffdEG3wG2IQagDp5EFPQ8lDsj2+JhXwQcA6HYxfiDOXydQDIjWoLhJ0OeFwMP3LUlQRysOhnZ5zAfClzMWP/AwB4HFBAFQ9UvMXqe/dndnwUiCgEhUE3A4wjhgOTiaIoAXBBQ7iGwEiBB77upmSbpZ9eOmCa6RApmHhgdznBjLcZ+mw3cIEHQDJNAcMDyoku0yT1E5IMzRhLog1CrQ4msIiYQocVk8XlMRvJudnZ0FTkAEETpgYcD4N8t0OEyHKTzyZUoEcjzyPBCS8EIZC+ZwwNl5frx+hQCvAKB75jhoAFGgmnlwtzmETzE8mXAziCl+qCahs5LqKPOyUYujZA4rJgC8FAAYnxzwAo+/6QRhdZ4PRXQ0IV+er102I4X1quBvl1LXrq0QeC3iQjWuAaZIEAgHAjUDNUH3JiX7+WuaLvNEmxRxUXAuRJXkuQpgFCNAYPORqAAOWeDJh5GF6g5CD0VwqoPlqopdRiAgsoucKc1TBFCmg4ExGkwAngMGYeQApybnls59yB1AjuX1mhyIZRk4txQ7rx1Qh4Q2ILFhsDhQI3g6Q+Rlt4YDALBd1ysTR8g4AHdAXx31LGDja3dAYigWBIVwYCgqIc23ED101fWhuK0zAA7EjWlJmRKw/9vlQH3+gQqAsYdDkQZKQQWrQ0gW8FosrrYgcoAAtA5BcwEBRk0HTBcCCXC1YCdfIwyX5xWtT2HoCgrn/v5+c8WSwBzga4OyOrBZCQDGDQccIwMKQpDdbym64kBeVrxFgDxgFQAKLKPFFYZPBYB1bRjsciDQKdisRADO9HYhSoCMgBKIeJMAhxvSJIx5yNABKsK12iL09UkBHdAAMgDw/SBQ86BMzUFQ3F8MVYJ0SAZwC6gQQyIggDxVUsAXKG1SoCZYA8gciO9YqoAIAGv6sOU5YASrSnYqLjvIBOZAKhxwlTpQxwPugUwAFr52Qi1F/P3s4WKR8tlguFj5ntavhuhADUDDcN2XS7SrNUoDLILkWKsBACADkMEPfNMDeM+m97fbBdPFXeWpvWLI8xDqDvA2xR3gQQu0QMCewOoAZ9ARuAl+MX24ugDd3nkV9QiyYabwlAVZA+u+smkwembsCY77dgccjO74xryEhVBVTvcOWqnBuqrUDQvfurGC5A7k+fWarZGDruhXFQYDYGI4YMmD51Vh5/omx5U+v7luuzgGIg3BlQDMAbltoedA2T3ZAXw+EODNN+NXVRs60pxqMKe+dO2FoW4DFUJxNaQaIAd4o0YuDFxWjARhAwARg8+y4KujwasG18t8yLVYQEO0vB5VsZ4FckAAcAdkw8xK0R0IANgMNgCQQCkEX8aHjhTjKoKukE9FWiWEAJDWDvBOye0rOwc2L4zsAGohkAeMAeLnenjMxDI3CGhASoDK3LkoBLgiNlOA5++wZQk9IGF8HzpiCL+gQwKky5uRp5UiSgDAYmlsojUEcEABmMoagLgOlQF3AAmqaxZ/2PDgeh2al1Jw4SYHCEDfuXTrWWGgOzA9K5gD9MSHr1gADSlFXzQ8yJftiuIre3gBAA7EatPu8vHIbMCuwADgFrAHjQUO4DvbFGZfGVlBWN7EUahvYRUHaG7WEOSIAAf6FgARnzxgg9J37tj833QAk9Cp9C1spDsQG+FFLexywKkTwVxAAGiIOUHTgSE0hvqljEh1AOdnWqjl7okjUHOmAEwUABZdzEpAcTFcSA35cBCzwU1sXFIigKFMAScwXRjsdkClwPjdrQagO5DmiQ2AORCqBKGGwC6IcoBTwwExIbAhmXUXurQJAVvTKFJ20Z7iAJudrQh9uiZaEcC7U5iJisLiACFkd4sGgVIKUIX6Ph4AcuEATQxuKApBRUDF1SsBgBY4DRFC0QQQDqAZMBNo22iPAHBveF7Vs5MrSyGUAPG6oiskR6fMAsfJLBYgAN8INJXTVKTt5L3s/uGKdOdF9QqlFqOwIV7HFbt98/Z0NtttQfFw8Zi27Uq/nuAUkylq4mjX9zQG6l7jMOqyy3R/btCCCbfA5Mimm83JyeZkY9d9pF3RiOiB/wjryTFWEdh2Gn+MvOpvBtA7YQSW8DgYMlNOpvwZX7AlQKRdWVKWSVeWY0ibuMDnF4uP3p5wC+hzLamwyBcrReO6TqReag4jpV9iDHi9lcL7XXHX5PDkRE3Cb0WW3YK2iTQu9Iba5oH1jWHMwjtOfcvi6PMlJ8gIYReFr0f3fd++mVcnplDZPrAdTIi7HAifncnbRh8vOcEk+1cG+Lad9O5rzcQQ4TKPlVWo92y+MwJmQvaIBc4vTAiawbXNQxQ4rK6L4ot606r1+ScSkAk4LWcFHGbxWz2wu0Ap9nlTwZtMfGEDG6IXk7OWdtus9xMIcDROiaEh+B/1cvErDwI+cukkGudB0WGu6hl3Lns/fjCE2XQXxETMlo8Q4B6Wn2IhXnRNMPr0tNe4d9s74AjAoGgqD8QqrAQqAlk8YdOxrgn/7Wx2+rZnuXvd+vM1IlzCpGDXjM8VNgJfjz+d7RR80Mn3lv3+/ceD14wBIEzhr04lwS4TsMYw/umJTRv6pM8fd3+D4RAQEMKmn5ePE/g8PgBA/J8WXeLLweHj3yXpfSUGm378giDw+RibzE5+2j/i4GvvN77K0up9PGzq62vTgwaCiD+dff5q+YSPvdb/9N2e1sEvCNgMB6U+e9t6km8XWQhUhiePbyeoV0ia/p42/g4PHH76TlY8dfxdBA63/+nj7yR4tvi7CJ4vvpUge874FoJnjq8TZA5vMmClfa74GgF2HOz0nzG+QsB7yOeOLwhEAzd99vhEoDdwzxwfCUQDt9mcbjbfnzs+7ihZ8wSNzuXnw//ky78t1sC9PjhsvfivdPT7Xxfea6+99tprl/4BGYIZGQzl9JMAAAAASUVORK5CYII=",CommentImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACZUExURUdwTMbEyL6X3zUpS8XExpNzx0c3Y8TDxMbGxcPDxCslOltEgINcyG5RmYxptY9s07F/6n9bwHJTrKucw4Rwm6Fm/41Z4o9a5opX355k/5Nd7KVo/5Ve8Jxj/JFb6Zlh95dg85ti+YVU2H9Qzm5FuP7+/vb29/Dv8enq6XZKw65w/+Hi4bp//9TU1suT/9yq/qWR0N/K/L+11+wp4VQAAAAVdFJOUwBKry0e11AwYg8Uc/ySpvzl4L+JVRfQs6IAAAwdSURBVHja7Frpmtq4Ek2GwNyw02nb8m5klsYYHPr9H+5qV5UkN52Z/JnvS9GTSayGc+rUoo0vX/7YH/tjf+yP/XdsPnl9/fHXE/vx4/V1Pv/94JPZerq9M+vHrOM/nfz7drqa/UYS89n6r/vAoLsuz6MoZy9uaZRKK43ty/1+X5ZR3gkSk9/j+2o7MMc7iYpMUig1BQHPra7r/Z6TmC7+tQ6zv4bhLsDzPM8deI4fMQJlCgjU/IdRaOq67PrtevIv4e99LsEFfO5JwP2PNH6pBRDWNE0d9f0/p8DhmfN5rvFdeOZ/GSl4hl3qAEgKDadQNEyGf0Zhsh4GAO/jRzgDlQAGveEKcCv23Xb167mwGIYewAfwIyNAhDNwbyKgrey3s1+svPVwh/Cy9HI3AKkBN/HX6FaDglveL35J/u3QQ3iBnHsVINMvgiVYKwogBCwPiiKrfyUTFiz5IuR9HuWBDqDqb28rQBdgAwPABOD/dZ8Ow4pF3xHfb0EqA7D/ez8AHF9GoSj7zzFYu/K7EqTIfwSve4BArxF+xsOw+EX8KCSAmgFkBUSwA0H/tQDGf0Yhaz7BYD10Ec4+L/4K340/zoBa55+iwATgfzxl4OGHBeDwkW3Bnv61k4CZpJA9ZbB4hq9n4NRmH0jAvc2/WtWfDoCAz7Kq6D7KxBnMv2gs/roA3EkYZaBtAYaAoFA12/F+MBnu0QfdxwrApwCTAqgDN6AEJXoD0AWDaDo2Mcy3dzf9fAFkBwSTYIk64L5BTUgrkAEOSbcebUCm/Sv08PxnVgBgDsYdqIYJWMj8NxpUyUgazEwCqvIfSUCLvy+dDEQJUOiJyAkBS8RtMAhblQBRMPqgAqKyTIMl2OAmrBXICoDPGFRJvgpWoG25IxOAxjeTkDcLO9NQIAMq/goFYXLvI136wQDYEJQlWAehEtQtoEYlmCEBmAJV0kz9FniPYOaPKlCqWQgvRKACXheACcjgOYPYk2DCVwCRP/MFuyDai+CFEFCgcbugdJ/jV0nmSrC6j7gN1yCRjUDq9EEwD+GZAOeghOcS5FiCORNgLPS+BGUgDerQarDBChh4X4LVfVz5QCNIJYUUULCbASmELUU/AFVSJQRJMN920ScsBVmQpmEGdY1WhVgBI0FSxQVsyLN7Hj3LAacZAjV0GGrHVDUWbgASIUGyAe1w3Y9jorpIw6ZFEKZ2qHu5N4FrAU0hSbgEDYjBaAQEtp2cMQHUm0qzLxdHBOKBoGAVMAJw/5MkW7sRCFPA6wOMb2WRgBpcL5n3koFaimQKXjEgNgarftR/bp14YQaAnHyoE0HCa2E4AymBzX8lQAJiMB4BCS/NYCkCUBrBgPfl0o6KXy4FAxMBgJ/EmZ4T5z3adDj4wCwDOQiYmfbMxwTtXD4uJQGQAMbinUkBt8owft+L4zGlgRzXQ2JAQanoR3qEDbB/7lkWQP+tmSRY9Cla8aVWAAE/nI/czoP2VRBgQ/fHiQ+cHr1kkEr/2XseZzlwZ4/rpjARSACDmGQT3QVURZldjyYgPBEgksJdSSCG+ocZOA78uSTARgb7lkdXlrVUAKNzBTKVhdPO+K5DYIM8HKGxRUOkvZS6nI6nE8N75LI98hFOjD08Mzsdzx3LArEOc+Bj9pJZ+H2bK+8jVOQB/ONRRosNQfwTA3qo9+Uc/6Twz2/n80PEAMZeMmAE4hdB4BsnYFfchoGQ2YopPvV4zhWBwcIzfObrXbwzz+/S/ZOAf3t7Ow+sEVSVD28JdJHacIn1Zik5SAIgzArsLnXuIb6wh3hf3p2N/hyeW5NUUP3YECCyDv/uIrvclSsNTQAIoKBODzbKhgYMz3w99zUfEgKc9UNm17d3GnPIGGILAcjuOyfwtUvVIlObimbe3SG60rWrSyb0Qz8UzwTSULGRdDhymtb96/X6oJSQONYMNHycUEBAnvZEe8lDZVo+HFGmCa/6ok6j7qTxraePJGMMHscTcJ/5f73eSMspEEhB/NDNN07gf10pD7zVaYcNgSRwwq72pChTRQBBPQgbKR9H+EzYbXNhDKhmoOJhCXztSnjiz0noLBwMvM2qnzRpypwTOJ8QFle6qBUB4z7DZwQubWviYMwjYI471KSiS8oklcDZtJQF+3w8n88Y6p2BJMVwxPCcQHsRDIjDQOfA351wHOx1zazWH2H0ua/XG720JKuHI8AXULefDIUm/dHBv97eL5eDkoCECHzLU73TBwQkg4dbU1f2aRcaZ93JUVoIfaGkgaTEc8bscODkOAHEgMo+8K1JBeoemWCQ9lB+ZgyGfRiX+nHCSBKG6Xw/Q3hG4L09HA5BCYjshN83ETrsMhR4cxogPIc5SJiqvp7fYKa/LyUMqR5Afi7A5jBGgL6o2TC3qLVcWYoFJi/OengzdpVqCpik6q7Kf87r9q5hKMluEF5Q1gQcBlStydYdOmq2F1+MQl28X7WfGl/AsPXMzcJI/+UIid8N+u1d4XMCog4AA0LUoeWiq7XTZmOh9xh1QTbvN4WyUR/GP4rlMP15uymUi4WhhA286wFFTCvA6RkGdKNWRLMO7azwFqtIaLv5yW15sR8mPoi2cmRjBlSkzYCBVwpgCehSrQnnnTrmQ9Bib1mzqZy0PL8PBweFEaC8wA9wRBGgrPUcDv4IZqCKgO8LIug4unLhBNyP0wntDSg3hQQjIxCfmrOydQcOmZzDvoJt5WnrC8AU8Dy9KBhmmIEYkNQ0BRJTYnZGsw5s6+1JizzhyJIYAl1sPQkGAMjgE+oO2BGBz99rU4CfT5T2cMM95MkqkW58QrkAV7gbmsHFQ+HPBQXRhS+XJcSXIhD6As4HcnvMX9f4lI0taGP5gZcWwAsZiRm4LDWISg9NYSlHWuooACPAY6DdxqftkIH8RJPKYm1hkVqDoZykYADDKwVABHgM9go8cNaeCQaEaiNgdaWfa3BqIailQI001ASAtC/olKzTArjnvEKCSkAB+oJAIpZWBHKj8LcoNmKGRQpu0EHhpENnzI2561ASVImlEBt4w4CoT6fgVxwKCt78RrtzTkpzBI/OWRWDBK1m7E4Di0NMlsVWB6JfQB3nsHjSNf5tr1FAMUgsOmYQY3A535BYe2zVGRWAVWIE4J2j9sIwUMAx2ujp1hprcGKfGI+xRJR614eTXNyxwMtOfOFX6Q1ejPATFBti/nAZYA7LnX9ps8oLddML1Id3PVXl7LFDDCC8XnbwpoN4xO0mcG01n+4DvsufDJyxPGWA2ei6gyLQdhW8tu2c3MM3LR8wiEcJGBJQBJaBwVuzaQSlz9BVkzlpdQ66nnKQmQlEYNYugxfYkw6F3hGgMgwC2EmcfKwBTsblS/jivMtQ5SH5/aPmQBK4m08tAIkxfjgAX6Z7x3fkP7xrGJU/CYVAJoFVYbkM357LCGRO6lv5YQQqP//Hi4HgELTLke8PLPLM9j0MXwH3YQSUx+DwyRGB2Jf+GUlAFQE/8hIYXHZV2HUciMRTXzZmowDDX419d0GkYJZ53sO7NnPc6mDbBu2noJkY4/ECVBFw0SEwZOCDm+O/QEsmYEL4AP/LtPadd7yvnGnQwfZ6kY69+ctH+CwCbug97VUBhDuBV4J2SRDLNRIdzX8QARh6D53f91UfKJDAwoMFqNx/+ejbdNMGXq5i12OFrXOwSkIHz0lwHlQFwN3/8EuVk9y73uXdRzoOm3D1PPlwAGQM2nb38RfpVpHtdiL+7F/xckkSoAS88vPLPwmg63mgZe4/+TKjjIDMPP4XsnxZzSazHftgA6/w/eIPCqCSj2/Cn0RfRkBqzguxoruXhf5i+GLHPks3QJX+lX/vMDYBSe9fnn+NcVUydNYI4+VutZjAZJkvXthSJglNg/HIMkRNvuIE4nPwvAs1Gdlx1YPfLd/xA4kkwGBkCpZrA36msFt86ousk4ypPhmvkvnreqdORUbXpAlcBYsDjeV0/frpb/Gq/3/nL2Pf+EsY+/vXH9Pdsv2MifOI3frHV/42/X5r/2+PDnYABEEwAKuzAWfe/10LRMuitdWpjW/mCfsZaIhLMwVUUBmyQUS9mcvyrDBbfXsntp+J0Y6f3+LncPzu0kKbg9dD2odvYLT0lgy0nlZxtwSno2S1lA7Lo376R1PtKA8hhBDCT6wnUX8NVPkqHAAAAABJRU5ErkJggg==",CameraImage="/metaverse/assets/camera-162218b3.png",swiper_min="",effectCards_min="",Container$v=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row-reverse;
  padding: 16px;
`,Info$1=styled.div`
  display: flex;
  justify-content: space-between;
  flex-direction: row-reverse;
  align-items: center;
  margin-bottom: 24px;

  p {
    font-weight: bold;
  }
`,InfoImage$1=styled.div`
  display: flex;
  justify-content: space-between;
  flex-direction: row-reverse;
  align-items: center;

  img {
    margin-left: 16px;
  }
`,InfoSection$1=styled.div`
  width: 100%;
  padding: 24px;
`,Progress$1=styled.div`
  width: 50% !important;
  height: 40px !important;
  border-radius: 100px;
  border: 8px solid #e9e9e9;
  text-align: center;
  font-size: 16px;
  font-weight: bold;
  position: relative;

  span {
    position: absolute;
    left: 45%;
    top: 0;
  }
`,Complete$1=styled.div`
  width: 0%;
  height: 100%;
  border-radius: 100px;
  background-color: var(--bs-orange);
`,EstateContainer$1=styled.div`
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin-bottom: 24px;
`,Estate$1=styled.div`
  display: flex;
  height: 100px;
  justify-content: space-around;
  align-items: center;
  flex-direction: column;

  p {
    font-weight: bolder;
  }
`,ProfileSection$1=styled.div`
  width: 16%;
  display: flex;
  align-items: center;
  justify-content: center;
`,ProgressLevel$1=({percent:tt="0%"})=>jsxRuntimeExports.jsxs(Info$1,{children:[jsxRuntimeExports.jsx("p",{children:"سطح"}),jsxRuntimeExports.jsxs(Progress$1,{children:[jsxRuntimeExports.jsx(Complete$1,{style:{width:tt}}),jsxRuntimeExports.jsx("span",{children:tt})]})]}),Label$3=({Image:tt,Name:et,Value:nt})=>jsxRuntimeExports.jsxs(Info$1,{children:[jsxRuntimeExports.jsxs(InfoImage$1,{children:[jsxRuntimeExports.jsx("img",{src:tt,alt:"",width:32}),jsxRuntimeExports.jsx("p",{children:et})]}),jsxRuntimeExports.jsx("p",{children:nt})]});styled.textarea`
  resize: none;
  width: 90%;
  height: 40px;
  text-align: right;
  direction: rtl;
  outline: none;
  border: 2px solid #707070 !important;
  border-radius: 8px;
  padding: 4px;
  font-family: iransans;
`;styled.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`;const DeleteProfile=styled.img`
  width: 32px;
  position: absolute;
  right: 10px;
  top: 10px;
`,UploadProfile=styled.img`
  width: 32px;
  height: 32px;
  position: absolute;
  background: transparent;
  right: 10px;
  bottom: 10px;
`;function General$1(){var ft,dt,ht,mt,xt,_t;const[tt,et]=reactExports.useState({}),[nt,rt]=reactExports.useState({}),[it,st]=reactExports.useState([]),ot=useNavigate(),{Request:at,HTTP_METHOD:lt}=useRequest();reactExports.useEffect(()=>{at("user/wallet").then(At=>{rt(At.data.data)}),at("user/profile").then(At=>{et(At.data.data)}),at("profilePhotos").then(At=>{var gt;st((gt=At==null?void 0:At.data)==null?void 0:gt.data.reverse())})},[]);const ut=At=>{at(`profilePhotos/${At}`,lt.DELETE).then(()=>{st(it.filter(gt=>gt.id!==At))})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Container$v,{children:[jsxRuntimeExports.jsx(ProfileSection$1,{children:jsxRuntimeExports.jsx(Swiper,{direction:"vertical",slidesPerView:1,spaceBetween:30,mousewheel:!0,className:"mySwiper cursor-pointer ",style:{height:"37%"},children:it.length>0?it.map(At=>jsxRuntimeExports.jsxs(SwiperSlide,{className:"h-fit",children:[jsxRuntimeExports.jsx("img",{style:{borderRadius:"10px"},src:At.url,width:150,height:150,alt:""}),jsxRuntimeExports.jsx(DeleteProfile,{src:CrossIcon$1,onClick:()=>ut(At.id)}),jsxRuntimeExports.jsx(UploadProfile,{src:CameraImage,onClick:()=>ot("/metaverse/upload/avatar")})]},At.id)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{style:{borderRadius:"10px"},src:AnonymousImage,width:150,alt:""}),jsxRuntimeExports.jsx(UploadProfile,{src:CameraImage,onClick:()=>ot("/metaverse/upload/avatar")})]})})}),jsxRuntimeExports.jsxs(InfoSection$1,{children:[jsxRuntimeExports.jsxs(Info$1,{children:[jsxRuntimeExports.jsx("p",{children:tt==null?void 0:tt.name}),jsxRuntimeExports.jsx("p",{className:"link",children:tt==null?void 0:tt.code})]}),jsxRuntimeExports.jsx(Label$3,{Image:PSCImage,Name:"PSC مجموع دارایی",Value:nt==null?void 0:nt.psc}),jsxRuntimeExports.jsx(Label$3,{Image:IRRImage,Name:"مجموع دارایی ریال",Value:nt==null?void 0:nt.irr}),jsxRuntimeExports.jsx(Label$3,{Image:BlueImage,Name:"مجموع دارایی رنگ آبی",Value:nt==null?void 0:nt.blue}),jsxRuntimeExports.jsx(Label$3,{Image:RedImage,Name:"مجموع دارایی رنگ قرمز",Value:nt==null?void 0:nt.red}),jsxRuntimeExports.jsx(Label$3,{Image:YellowImage,Name:"مجموع دارایی رنگ زرد",Value:nt==null?void 0:nt.yellow}),jsxRuntimeExports.jsx(Label$3,{Image:SatisfactionICoin,Name:"مجموع دارایی رضایت",Value:nt==null?void 0:nt.satisfaction})]}),jsxRuntimeExports.jsxs(InfoSection$1,{style:{borderRight:"1px solid #333"},children:[jsxRuntimeExports.jsxs(Info$1,{children:[jsxRuntimeExports.jsx("p",{children:"تاریخ ورود"}),jsxRuntimeExports.jsx("p",{children:tt==null?void 0:tt.registered_at})]}),jsxRuntimeExports.jsx(ProgressLevel$1,{percent:`${tt==null?void 0:tt.score_percentage_to_next_level}%`}),jsxRuntimeExports.jsxs(EstateContainer$1,{children:[jsxRuntimeExports.jsxs(Estate$1,{children:[jsxRuntimeExports.jsx("img",{src:RedHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(ft=tt==null?void 0:tt.features)!=null&&ft.tejari?(dt=tt==null?void 0:tt.features)==null?void 0:dt.tejari:0})]}),jsxRuntimeExports.jsxs(Estate$1,{children:[jsxRuntimeExports.jsx("img",{src:YellowHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(ht=tt==null?void 0:tt.features)!=null&&ht.maskoni?(mt=tt==null?void 0:tt.features)==null?void 0:mt.maskoni:0})]}),jsxRuntimeExports.jsxs(Estate$1,{children:[jsxRuntimeExports.jsx("img",{src:BlueHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(xt=tt==null?void 0:tt.features)!=null&&xt.amoozeshi?(_t=tt==null?void 0:tt.features)==null?void 0:_t.amoozeshi:0})]})]}),jsxRuntimeExports.jsx(Label$3,{Image:FollowingImage,Name:"دنبال کننده",Value:tt==null?void 0:tt.followers}),jsxRuntimeExports.jsx(Label$3,{Image:FollowersImage,Name:"دنبال شونده",Value:tt==null?void 0:tt.following})]})]})})}const Container$u=styled.div`
  height: 90%;
  display: flex;
  align-items: center;
  justify-content: center;
`,BtnContainer$1=styled.div`
  width: 20%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,MainContainer$1=styled.div`
  width: 80%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
`,BtnProperty=styled.button`
  border: none;
  width: 80%;
  height: 60px;
  background-color: transparent;
  border-left: 1px #b8b8b8 solid;

  &.active {
    border-left: 4px solid var(--bs-orange);
  }
`;function useActivity(tt,et){var at,lt;const nt=useLocation(),[rt,it]=reactExports.useState(((at=nt.state)==null?void 0:at.activeTab)||0),[st,ot]=reactExports.useState((lt=tt[rt])==null?void 0:lt.component);return reactExports.useEffect(()=>{var ut;ot((ut=tt[rt])==null?void 0:ut.component)},[rt]),jsxRuntimeExports.jsxs(Container$u,{children:[jsxRuntimeExports.jsx(MainContainer$1,{style:{...et},children:st}),jsxRuntimeExports.jsx(BtnContainer$1,{children:tt.map((ut,ft)=>jsxRuntimeExports.jsx(BtnProperty,{onClick:()=>it(ft),className:`${rt===ft&&"active"}`,children:ut.name},shortid$1.generate()))})]})}const Container$t=styled.div`
  width: 100%;
  height: 160px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #666;
`,DetailContainer$1=styled.div`
  width: 100%;
  display: flex;
  align-items: center;`,Title$3=styled.div`
  width: 50%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  gap: 22px;
`,Information$2=styled.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
`,PolygonContainer$1=styled.div`
  width: 40%;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
`,TextDetail$1=styled.p`
  font-size: 16px;
  color: #707070;
  direction: rtl;
  text-align: right;
`,IdContainer=styled.p`
  font-size: 19px;
  color: #fd7e14;
  font-weight: 700;
  cursor: pointer;
`;function FeatureCard$1({Id:tt,IdMap:et,Address:nt,Area:rt,Psc:it,Irr:st,Type:ot,Image:at}){const lt=useNavigate();return jsxRuntimeExports.jsxs(Container$t,{children:[jsxRuntimeExports.jsx(PolygonContainer$1,{children:jsxRuntimeExports.jsx(IdContainer,{onClick:()=>lt(`/metaverse/feature/${tt}`),children:et})}),jsxRuntimeExports.jsxs(DetailContainer$1,{children:[jsxRuntimeExports.jsxs(Information$2,{children:[jsxRuntimeExports.jsx(TextDetail$1,{children:TextShorter(nt,40)}),parseInt(it)!==0&&parseInt(st)!==0?jsxRuntimeExports.jsxs(TextDetail$1,{children:[parseInt(it)," / ",parseInt(st)]}):jsxRuntimeExports.jsx(Submit$1,{text:"قیمت گذاری",type:"primary",options:{style:{width:120}}}),jsxRuntimeExports.jsxs(TextDetail$1,{children:[ot,"  - متراژ :  ",rt,"     ",jsxRuntimeExports.jsx("img",{src:at,width:30,alt:""})]})]}),jsxRuntimeExports.jsxs(Title$3,{children:[jsxRuntimeExports.jsx(TextDetail$1,{children:"آدرس:"}),jsxRuntimeExports.jsx(TextDetail$1,{children:"قیمت:"}),jsxRuntimeExports.jsx(TextDetail$1,{children:"کاربری:"})]})]})]})}const COMBINE_FEATURE={a:"ساختمان مسکونی فروخته شده و قیمت گذاری شده",b:"ساختمان مسکونی فروخته شده و قیمت گذاری نشده",c:"ساختمان مسکونی قیمت گذاری نشده",d:"ساختمان مسکونی قیمت گذاری شده",e:"ساختمان مسکونی پیش خرید شده",f:"ساختمان مسکونی قفل غیر قابل فروش",g:"ساختمان مسکونی دارای محدودیت معامله",h:"ساختمان تجاری فروخته شده و قیمت گذاری شده",i:"ساختمان تجاری فروخته شده و قیمت گذاری نشده",j:"ساختمان تجاری قیمت گذاری نشده",k:"ساختمان تجاری قیمت گذاری شده",l:"ساختمان تجاری پیش خرید شده",m:"ساختمان تجاری قفل غیر قابل فروش",n:"ساختمان تجاری دارای محدودیت معامله",o:"ساختمان آموزشی فروخته شده و قیمت گذاری شده",p:"ساختمان آموزشی فروخته شده و قیمت گذاری نشده",q:"ساختمان آموزشی قیمت گذاری نشده",r:"ساختمان آموزشی قیمت گذاری شده",s:"محدوده فرهنگی فروخته شده و قیمت گذاری شده",t:"محدوده فرهنگی فروخته شده و قیمت گذاری نشده",u:"محدوده فرهنگی قیمت گذاری نشده",v:"محدوده فرهنگی قیمت گذاری شده",w:"محدوده انتظامی فروخته شده و قیمت گذاری شده",x:"محدوده انتظامی فروخته شده و قیمت گذاری نشده",y:"محدوده انتظامی قیمت گذاری نشده",z:"محدوده انتظامی قیمت گذاری شده",pa:"ساختمان پارکینگ فروخته شده و قیمت گذاری شده ",pb:"ساختمان پارکینگ فروخته شده و قیمت گذاری نشده",pc:"ساختمان پارکینگ قیمت گذاری نشده ",pd:"ساختمان پارکینگ قیمت گذاری شده ",me:"محدوده مذهبی فروخته شده و قیمت گذاری شده",mf:"محدوده مذهبی فروخته شده و قیمت گذاری نشده",mg:"محدوده مذهبی قیمت گذاری نشده",mh:"محدوده مذهبی قیمت گذاری شده",gi:"محدوده گردشگری فروخته شده و قیمت گذاری شده",gj:"محدوده گردشگری فروخته شده و قیمت گذاری نشده",gk:"محدوده گردشگری قیمت گذاری نشده",gl:"محدوده گردشگری قیمت گذاری شده",bm:"ساختمان بهداشتی فروخته شده و قیمت گذاری شده ",bn:"ساختمان بهداشتی فروخته شده و قیمت گذاری نشده",bo:"ساختمان بهداشتی قیمت گذاری نشده ",bp:"ساختمان بهداشتی قیمت گذاری شده ",nq:"محدوده نمایشگاه فروخته شده و قیمت گذاری شده",nr:"محدوده نمایشگاه فروخته شده و قیمت گذاری نشده",ns:"محدوده نمایشگاه قیمت گذاری نشده",nt:"محدوده نمایشگاه قیمت گذاری شده",fu:"محدوده فضای سبز فروخته شده و قیمت گذاری شده",fv:"محدوده فضای سبز فروخته شده و قیمت گذاری نشده",fw:"محدوده فضای سبز  قیمت گذاری نشده",fx:"محدوده فضای سبز قیمت گذاری نشده",uu:"ساختمان آموزشی دارای محدودیت معامله",oo:"ساختمان آموزشی درحال ساخت",pp:"ساختمان آموزشی دارای بنا",tt:"ساختمان آموزشی قفل غیر قابل فروش",ss:"ساختمان آموزشی پیش خرید شده",ii:"ساختمان تجاری دارای بنا",hh:"ساختمان تجاری درحال ساخت",bb:"ساختمان مسکونی دارای بنا",aa:"ساختمان مسکونی درحال ساخت",cc:"ساختمان مسکونی دارای سلسله"},RESIDENTIAL={a:"ساختمان مسکونی فروخته شده و قیمت گذاری شده",b:"ساختمان مسکونی فروخته شده و قیمت گذاری نشده",c:"ساختمان مسکونی قیمت گذاری نشده",d:"ساختمان مسکونی قیمت گذاری شده",e:"ساختمان مسکونی پیش خرید شده",f:"ساختمان مسکونی قفل غیر قابل فروش",g:"ساختمان مسکونی دارای محدودیت معامله",bb:"ساختمان مسکونی دارای بنا",aa:"ساختمان مسکونی درحال ساخت",cc:"ساختمان مسکونی دارای سلسله"},COMMERCIAL={h:"ساختمان تجاری فروخته شده و قیمت گذاری شده",i:"ساختمان تجاری فروخته شده و قیمت گذاری نشده",j:"ساختمان تجاری قیمت گذاری نشده",k:"ساختمان تجاری قیمت گذاری شده",l:"ساختمان تجاری پیش خرید شده",m:"ساختمان تجاری قفل غیر قابل فروش",n:"ساختمان تجاری دارای محدودیت معامله",ii:"ساختمان تجاری دارای بنا",hh:"ساختمان تجاری درحال ساخت"},EDUCATIONAL={o:"ساختمان آموزشی فروخته شده و قیمت گذاری شده",p:"ساختمان آموزشی فروخته شده و قیمت گذاری نشده",q:"ساختمان آموزشی قیمت گذاری نشده",r:"ساختمان آموزشی قیمت گذاری شده",uu:"ساختمان آموزشی دارای محدودیت معامله",oo:"ساختمان آموزشی درحال ساخت",pp:"ساختمان آموزشی دارای بنا",tt:"ساختمان آموزشی قفل غیر قابل فروش",ss:"ساختمان آموزشی پیش خرید شده"};function FeatureType(tt){return RESIDENTIAL[tt]?"ساختمان مسکونی":COMMERCIAL[tt]?"ساختمان تجاری":EDUCATIONAL[tt]?"ساختمان آموزشی":"نامشخص"}function FeatureColor(tt){return RESIDENTIAL[tt]?YellowImage:COMMERCIAL[tt]?RedImage:EDUCATIONAL[tt]?BlueImage:!1}function FeaturePrice(tt){if(RESIDENTIAL[tt])return 1e4;if(COMMERCIAL[tt])return 3e4;if(EDUCATIONAL[tt])return 6e4}function FeatureSvg(tt){if(RESIDENTIAL[tt])return"/metaverse/successful/residential";if(COMMERCIAL[tt])return"/metaverse/successful/commercial";if(EDUCATIONAL[tt])return"/metaverse/successful/educational"}const ParentInput$4=styled.div`
  width: 95%;
  position: relative;
  margin-top: 5%;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch$4=styled.input`
  width: 90%;
  border: 1px solid #b8b8b8 !important;
  border-radius: 8px !important;
  color: #b8b8b8 !important;
  height: 40px;
  text-align: right;
  direction: rtl;
  font-size: 16px !important;
`,IconSearch$4=styled.img`
  width: 32px;
  height: 32px;
  left:6%;
  position: absolute;
  cursor: pointer;
`;function FeaturesSearch$1({data:tt,setResult:et}){const[nt,rt]=reactExports.useState(""),[,it]=reactExports.useTransition();return reactExports.useEffect(()=>{it(()=>{et(tt.filter(st=>st.properties.address.indexOf(nt)!==-1||st.properties.id.indexOf(nt)!==-1))})},[tt,nt]),jsxRuntimeExports.jsxs(ParentInput$4,{children:[jsxRuntimeExports.jsx(InputSearch$4,{type:"text",placeholder:"جستجو کنید",onChange:st=>rt(st.target.value),value:nt}),jsxRuntimeExports.jsx(IconSearch$4,{src:SearchIcon})]})}const Container$s=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  padding: 0 20px;
  margin-top: 4%;
`;function Features$1(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]),[rt,it]=reactExports.useState([]);return reactExports.useEffect(()=>{tt("my-features").then(st=>{nt(st.data.data)})},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FeaturesSearch$1,{data:et,setResult:it}),jsxRuntimeExports.jsx(Container$s,{children:rt.map(st=>jsxRuntimeExports.jsx(FeatureCard$1,{Id:st==null?void 0:st.id,Address:st.properties.address,Area:st.properties.area,IdMap:st.properties.id,Irr:st.properties.price_irr,Psc:st.properties.price_psc,Type:FeatureType(st.properties.rgb),Image:FeatureColor(st.properties.rgb)},st.properties.id))})]})}const ParentInput$3=styled.div`
  width: 95%;
  position: relative;
  margin-top: 5%;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch$3=styled.input`
  width: 90%;
  border: 1px solid #b8b8b8 !important;
  border-radius: 8px !important;
  color: #b8b8b8 !important;
  height: 40px;
  text-align: right;
  direction: rtl;
  font-size: 16px !important;
`,IconSearch$3=styled.img`
  width: 32px;
  height: 32px;
  left:6%;
  position: absolute;
  cursor: pointer;
`;function FollowsSearch$1({data:tt,setResult:et}){const[nt,rt]=reactExports.useState(""),[,it]=reactExports.useTransition();return reactExports.useEffect(()=>{it(()=>{et(tt.filter(st=>st.name.indexOf(nt)!==-1||st.code.indexOf(nt)!==-1))})},[tt,nt]),jsxRuntimeExports.jsxs(ParentInput$3,{children:[jsxRuntimeExports.jsx(InputSearch$3,{type:"text",placeholder:"جستجو کنید",onChange:st=>rt(st.target.value),value:nt}),jsxRuntimeExports.jsx(IconSearch$3,{src:SearchIcon})]})}const Container$r=styled.div`
  width: 100%;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,DetailPlayersCard$1=styled.div`
  width: 40%;
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  justify-content: space-between;
`,BorderImgPlayersCard$1=styled.div`
  width: 90px;
  aspect-ratio: 1/1;
  border-radius: 9999px;
  border: 1px solid #b8b8b8;
  padding: 3px;
`,ImgPlayersCard$1=styled.img`
  height: 100%;
  width: 100%;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
`,ContainerTextPlayer$1=styled.div`
  width: 60%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
`,IdPlayer$1=styled.p`
  font-size: 19px;
  color: #0800ff;
  white-space: nowrap;
  font-family: "Segoe UI";
  font-weight: 700;
`,NamePlayer$1=styled.p`
  font-size: 15px;
  color: #707070;
  font-family: "Segoe UI";
  white-space: nowrap;
`;function PlayerCard$1({PlayerImg:tt,TextBtn:et,Code:nt,Name:rt,onClick:it,Id:st}){const ot=useNavigate();return jsxRuntimeExports.jsxs(Container$r,{children:[jsxRuntimeExports.jsx(Submit$1,{text:et,type:"primary",options:{style:{width:155},onClick:()=>{it(st)}}}),jsxRuntimeExports.jsxs(DetailPlayersCard$1,{children:[jsxRuntimeExports.jsx(BorderImgPlayersCard$1,{children:jsxRuntimeExports.jsx(ImgPlayersCard$1,{src:tt||AnonymousImage,onClick:()=>ot(`/metaverse/player/${st}`)})}),jsxRuntimeExports.jsxs(ContainerTextPlayer$1,{children:[jsxRuntimeExports.jsx(IdPlayer$1,{children:nt}),jsxRuntimeExports.jsx(NamePlayer$1,{children:rt})]})]})]})}const ContainerPlayerCard$3=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 30px;
  padding: 0 20px;
  margin-top: 3%;
`;function Followers$1(){const[tt,et]=reactExports.useState([]),{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState([]);reactExports.useLayoutEffect(()=>{nt("followers",rt.GET).then(at=>{et(at.data.data)})},[]);const ot=at=>{nt(`remove/${at}`).then(()=>{nt("followers").then(lt=>{et(lt.data.data)})})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FollowsSearch$1,{data:tt,setResult:st}),jsxRuntimeExports.jsx(ContainerPlayerCard$3,{children:it.map(at=>jsxRuntimeExports.jsx(PlayerCard$1,{TextBtn:"حذف کردن",Id:at.id,Code:at.code,Name:at.name,PlayerImg:at.profile_photos,onClick:ot},shortid$1.generate()))})]})}const ContainerPlayerCard$2=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 30px;
  padding: 0 20px;
  margin-top: 3%;
`;function Following$1(){const[,tt]=reactExports.useContext(FollowContext),[et,nt]=reactExports.useState([]),{Request:rt,HTTP_METHOD:it}=useRequest(),[st,ot]=reactExports.useState([]);reactExports.useLayoutEffect(()=>{rt("following",it.GET).then(lt=>{nt(lt.data.data)})},[]);const at=lt=>{rt(`unfollow/${lt}`).then(()=>{rt("following").then(ut=>{nt(ut.data.data),tt(ut.data.data)})})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FollowsSearch$1,{data:et,setResult:ot}),jsxRuntimeExports.jsx(ContainerPlayerCard$2,{children:st.map(lt=>jsxRuntimeExports.jsx(PlayerCard$1,{TextBtn:"آنفالو کردن",Id:lt.id,Code:lt.code,Name:lt.name,PlayerImg:lt.profile_photos,onClick:at},shortid$1.generate()))})]})}function Property$2(){return useActivity([{name:"املاک و مستغلات",component:jsxRuntimeExports.jsx(Features$1,{})},{name:"دنبال شوندگان",component:jsxRuntimeExports.jsx(Following$1,{})},{name:"دنبال کنندگان",component:jsxRuntimeExports.jsx(Followers$1,{})}])}function Profile(){const et=useTabs([{title:"کلیات",content:jsxRuntimeExports.jsx(General$1,{})},{title:"دارایی",content:jsxRuntimeExports.jsx(Property$2,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"حساب کاربری",children:et})}const Label$2=styled.label`
  color: #707070 !important;
  position: absolute;
  top: 45%;
  right: 16px;
  background-color: transparent !important;
  transition: 0.2s ease all;
  -moz-transition: 0.2s ease all;
  -webkit-transition: 0.2s ease all;
`,InputContainer$3=styled.div`
  width: 100%;
  position: relative;
  margin-bottom: 24px;
`,TextInput=styled.input`
  margin-top: 12px;
  width: 100%;
  text-align: right;
  direction: rtl;
  padding: 8px;
  font-size: 1rem !important;
  height: 50px !important;
  border-radius: 8px !important;
  border: 1px solid #c2c2c2 !important;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    /* display: none; <- Crashes Chrome on hover */
    -webkit-appearance: none;
    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
  }

  &[type="number"] {
    -moz-appearance: textfield; /* Firefox */
  }

  &[value=""]:focus + ${Label$2} {
    top: -12px;
    right: 16px;
    background: white;
    padding-right: 8px;
    padding-left: 8px;
    font-size: 16px;
  }

  &:not([value=""]) + ${Label$2} {
    top: -12px;
    right: 16px;
    background: white;
    padding-right: 8px;
    padding-left: 8px;
    font-size: 16px;
  }

  &.invalid {
    border: 1px solid red !important;
    box-shadow: 2px 2px 5px 0px #ef58589e;
  }
`;function Input$4({onChange:tt,numberOnly:et,value:nt,text:rt,name:it,ignoreEn:st,error:ot,disabled:at}){const lt=ut=>{if(et)try{(Number(ut.target.value)||ut.target.value===""||parseInt(ut.target.value)===0)&&tt(ft=>({...ft,[ut.target.name]:ut.target.value}))}catch{}else(b$1(ut.target.value)||ut.target.value===""||st)&&tt(ft=>({...ft,[ut.target.name]:ut.target.value}))};return jsxRuntimeExports.jsxs(InputContainer$3,{children:[jsxRuntimeExports.jsx(TextInput,{name:it,type:"text",value:nt,className:`${ot&&"invalid"}`,onChange:lt,disabled:at}),jsxRuntimeExports.jsx(Label$2,{children:rt})]})}var build={},browser_min={exports:{}};(function(tt,et){(function(nt,rt){tt.exports=rt(reactDomExports,reactExports)})(commonjsGlobal,function(nt,rt){function it(At){return At&&typeof At=="object"&&"default"in At?At:{default:At}}var st=it(rt);function ot(At,gt){var vt=Object.keys(At);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(At);gt&&(Et=Et.filter(function(yt){return Object.getOwnPropertyDescriptor(At,yt).enumerable})),vt.push.apply(vt,Et)}return vt}function at(At){for(var gt=1;gt<arguments.length;gt++){var vt=arguments[gt]!=null?arguments[gt]:{};gt%2?ot(Object(vt),!0).forEach(function(Et){lt(At,Et,vt[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(vt)):ot(Object(vt)).forEach(function(Et){Object.defineProperty(At,Et,Object.getOwnPropertyDescriptor(vt,Et))})}return At}function lt(At,gt,vt){return gt in At?Object.defineProperty(At,gt,{value:vt,enumerable:!0,configurable:!0,writable:!0}):At[gt]=vt,At}function ut(At,gt){return function(vt){if(Array.isArray(vt))return vt}(At)||function(vt,Et){var yt=vt==null?null:typeof Symbol<"u"&&vt[Symbol.iterator]||vt["@@iterator"];if(yt!=null){var wt,Ct,Rt=[],It=!0,$t=!1;try{for(yt=yt.call(vt);!(It=(wt=yt.next()).done)&&(Rt.push(wt.value),!Et||Rt.length!==Et);It=!0);}catch(Ft){$t=!0,Ct=Ft}finally{try{It||yt.return==null||yt.return()}finally{if($t)throw Ct}}return Rt}}(At,gt)||function(vt,Et){if(vt){if(typeof vt=="string")return ft(vt,Et);var yt=Object.prototype.toString.call(vt).slice(8,-1);if(yt==="Object"&&vt.constructor&&(yt=vt.constructor.name),yt==="Map"||yt==="Set")return Array.from(vt);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return ft(vt,Et)}}(At,gt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ft(At,gt){(gt==null||gt>At.length)&&(gt=At.length);for(var vt=0,Et=new Array(gt);vt<gt;vt++)Et[vt]=At[vt];return Et}function dt(At,gt){var vt=At.element,Et=At.popper,yt=At.position,wt=yt===void 0?"bottom-center":yt,Ct=At.containerStyle,Rt=At.containerClassName,It=Rt===void 0?"":Rt,$t=At.arrow,Ft=At.arrowStyle,Bt=Ft===void 0?{}:Ft,Nt=At.arrowClassName,Xt=Nt===void 0?"":Nt,nn=At.fixMainPosition,sn=At.fixRelativePosition,rn=At.offsetY,Jt=At.offsetX,Ut=At.animations,Kt=At.zIndex,Qt=Kt===void 0?0:Kt,zt=At.popperShadow,Ht=At.onChange,en=At.active,an=en===void 0||en,on=At.portal,Wt=At.portalTarget,mn=typeof window<"u",vn=mn&&Wt instanceof HTMLElement,En=$t===!0,Cn=Et&&an===!0,$n=rt.useRef(),Fn=rt.useRef(),Ln=rt.useRef(),Mn=rt.useRef(),Gn=rt.useMemo(function(){return{position:wt,fixMainPosition:nn,fixRelativePosition:sn,offsetY:rn,offsetX:Jt,defaultArrow:En,animations:Ut,zIndex:Qt,onChange:Ht}},[wt,nn,sn,rn,Jt,En,Ut,Ht,Qt]),er=rt.useCallback(function(){Ln.current&&(Ln.current.style.transition=""),Fn.current&&(Fn.current.parentNode.style.transition="")},[]),un={element:at({display:"inline-block",height:"max-content"},Ct),arrow:at({visibility:"hidden",left:"0",top:"0",position:"absolute"},Bt),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:Qt}};mn&&!Mn.current&&(Mn.current=document.createElement("div"),Mn.current.data={portal:on,isValidPortalTarget:vn}),rt.useEffect(function(){if(on&&!vn){var yn=Mn.current;return document.body.appendChild(yn),function(){return document.body.removeChild(yn)}}},[on,vn]),rt.useEffect(function(){if(!Cn)return er(),Fn.current.parentNode.style.visibility="hidden",void(Ln.current&&(Ln.current.style.visibility="hidden"));function yn(bn){bn&&bn.type!=="resize"&&!bn.target.contains($n.current)||(bn&&er(),ht($n,Fn,Ln,Gn,bn))}return yn(),document.addEventListener("scroll",yn,!0),window.addEventListener("resize",yn),function(){document.removeEventListener("scroll",yn,!0),window.removeEventListener("resize",yn)}},[Cn,Gn,er]),rt.useEffect(function(){var yn={portal:on,isValidPortalTarget:vn},bn=Mn.current.data;JSON.stringify(yn)!==JSON.stringify(bn)&&(Mn.current.data=yn,$n.current.refreshPosition())},[on,vn]);var dn=st.default.createElement(st.default.Fragment,null,function(){if(!$t||!Cn)return null;var yn=st.default.createElement("div",{ref:Ln,style:un.arrow}),bn=rt.isValidElement($t)?{children:$t}:{className:"ep-arrow ".concat(zt?"ep-shadow":""," ").concat(Xt)};return rt.cloneElement(yn,bn)}(),st.default.createElement("div",{className:zt?"ep-popper-shadow":"",style:un.popper},st.default.createElement("div",{ref:Fn},Et)));return st.default.createElement("div",{ref:function(yn){if(yn&&(yn.removeTransition=er,yn.refreshPosition=function(){return setTimeout(function(){return ht($n,Fn,Ln,Gn,{})},10)}),$n.current=yn,gt instanceof Function)return gt(yn);gt&&(gt.current=yn)},className:It,style:un.element},vt,on&&mn?nt.createPortal(dn,vn?Wt:Mn.current):dn)}function ht(At,gt,vt,Et,yt){var wt=Et.position,Ct=Et.fixMainPosition,Rt=Et.fixRelativePosition,It=Et.offsetY,$t=It===void 0?0:It,Ft=Et.offsetX,Bt=Ft===void 0?0:Ft,Nt=Et.defaultArrow,Xt=Et.animations,nn=Xt===void 0?[]:Xt,sn=Et.zIndex,rn=Et.onChange;if(At.current&&gt.current){var Jt,Ut,Kt,Qt,zt=(Ut=window.pageXOffset!==void 0,Kt=(document.compatMode||"")==="CSS1Compat",{scrollLeft:Ut?window.pageXOffset:Kt?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:Ut?window.pageYOffset:Kt?document.documentElement.scrollTop:document.body.scrollTop}),Ht=zt.scrollLeft,en=zt.scrollTop,an=mt(At.current,Ht,en),on=an.top,Wt=an.left,mn=an.height,vn=an.width,En=an.right,Cn=an.bottom,$n=mt(gt.current,Ht,en),Fn=$n.top,Ln=$n.left,Mn=$n.height,Gn=$n.width,er=document.documentElement,un=er.clientHeight,dn=er.clientWidth,yn=gt.current.parentNode,bn=function(cr){if(!cr)return[0,0];var Mr=ut((cr.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(ss){return Number(ss)}),3),js=Mr[1],wr=js===void 0?0:js,ys=Mr[2];return[wr,ys===void 0?0:ys]}(yn),Tn=ut(bn,2),Pn=Tn[0],Yn=Tn[1],Un=function(cr){var Mr=ut(cr.split("-"),2),js=Mr[0],wr=js===void 0?"bottom":js,ys=Mr[1],ss=ys===void 0?"center":ys;wr==="auto"&&(wr="bottom"),ss==="auto"&&(ss="center");var os=wr==="top"||wr==="bottom",xs=wr==="left"||wr==="right";return xs&&(ss==="start"&&(ss="top"),ss==="end"&&(ss="bottom")),os&&(ss==="start"&&(ss="left"),ss==="end"&&(ss="right")),[wr,ss,os,xs]}(wt),Nn=ut(Un,4),rr=Nn[0],Kn=Nn[1],Vn=Nn[2],ir=Nn[3],gr=rr,Gr=function(cr,Mr){return"translate(".concat(cr,"px, ").concat(Mr,"px)")},Rs=vn-Gn,$s=mn-Mn,kn=Kn==="left"?0:Kn==="right"?Rs:Rs/2,or=Rs-kn,sr=Kn==="top"?0:Kn==="bottom"?$s:$s/2,Ar=$s-sr,ar=Wt-Ln+Pn,Pr=on-Fn+Yn,dr=0,xr=0,pr=xt(At.current),Sr=[],Or=vt.current,Ur=mt(Or,Ht,en)||{},Ir=Ur.height,jr=Ir===void 0?0:Ir,rs=Ur.width,Er=rs===void 0?0:rs,ps=ar,Br=Pr,is={top:"bottom",bottom:"top",left:"right",right:"left"};for(Vn&&(ar+=kn,Pr+=rr==="top"?-Mn:mn,Nt&&(jr=11,Er=20)),ir&&(ar+=rr==="left"?-Gn:vn,Pr+=sr,Nt&&(jr=20,Er=11));pr;)Sr.push(pr),Ls(mt(pr,Ht,en)),pr=xt(pr.parentNode);Ls({top:en,bottom:en+un,left:Ht,right:Ht+dn,height:un,width:dn}),Vn&&(Pr+=gr==="bottom"?$t:-$t),ir&&(ar+=gr==="right"?Bt:-Bt),ar-=dr,Pr-=xr,Jt=is[gr],Or&&(Vn&&((Qt=vn<Gn)?ps+=vn/2:ps=ar+Gn/2,ps-=Er/2,gr==="bottom"&&(Br=Pr,Pr+=jr),gr==="top"&&(Br=(Pr-=jr)+Mn),dr<0&&dr-kn<0&&(Qt?ps+=(kn-dr)/2:vn-kn+dr<Gn&&(ps+=(vn-kn+dr-Gn)/2)),dr>0&&dr+or>0&&(Qt?ps-=(dr+or)/2:vn-dr-or<Gn&&(ps-=(vn-dr-or-Gn)/2))),ir&&((Qt=mn<Mn)?Br+=mn/2:Br=Pr+Mn/2,Br-=jr/2,gr==="left"&&(ps=(ar-=Er)+Gn),gr==="right"&&(ps=ar,ar+=Er),xr<0&&xr-sr<0&&(Qt?Br+=(sr-xr)/2:mn-sr+xr<Mn&&(Br+=(mn-sr+xr-Mn)/2)),xr>0&&xr+Ar>0&&(Qt?Br-=(xr+Ar)/2:mn-xr-Ar<Mn&&(Br-=(mn-xr-Ar-Mn)/2))),Or.setAttribute("direction",Jt),Or.style.height=jr+"px",Or.style.width=Er+"px",Or.style.transform=Gr(ps,Br),Or.style.visibility="visible",Or.style.zIndex=sn+1),yn.style.transform=Gr(ar,Pr);var ur={popper:{top:Pr,bottom:Pr+Mn,left:ar,right:ar+Gn,height:Mn,width:Gn},element:{top:on,bottom:Cn,left:Wt,right:En,height:mn,width:vn},arrow:{top:Br,bottom:Br+jr,left:ps,right:ps+Er,height:jr,width:Er,direction:Jt},position:gr+"-"+(dr!==0?"auto":Kn),scroll:{scrollLeft:Ht,scrollTop:en},scrollableParents:Sr,event:yt};yt||nn.forEach(function(cr){cr({popper:yn,arrow:Or,data:at(at({},ur),{},{getTransform:Gr,mirror:is})})}),yn.style.visibility="visible",typeof rn=="function"&&rn(ur)}function Ls(cr){var Mr=cr.top,js=cr.bottom,wr=cr.left,ys=cr.right,ss=cr.height,os=cr.width;if(Vn){var xs=Math.round(on-Mr+mn/2),ts=Math.round(ss/2);Ct||(on-(Mn+$t+jr)<Mr&&xs<=ts&&gr==="top"?(Pr+=Mn+mn,gr="bottom"):Cn+Mn+$t+jr>ss+Mr&&xs>=ts&&gr==="bottom"&&(Pr-=Mn+mn,gr="top")),Rt||(Wt+kn<wr&&(dr=_t(En-Er>wr?Wt+kn-wr:-vn+kn+Er,dr)),En-or>ys&&(dr=_t(Wt+Er<ys?En-or-ys:vn-or-Er,dr)))}if(ir){var Fr=Math.round(Wt-wr+vn/2),Jr=Math.round(os/2);Ct||(Wt-(Gn+Bt+Er)<wr&&Fr<Jr&&gr==="left"?(ar+=vn+Gn,gr="right"):En+Gn+Bt+Er>ys&&Fr>Jr&&gr==="right"&&(ar-=vn+Gn,gr="left")),Rt||(on+sr<Mr&&(xr=_t(Cn-jr>Mr?on+sr-Mr:-mn+sr+jr,xr)),Cn-Ar>js&&(xr=_t(on+jr<js?Cn-Ar-js:mn-Ar-jr,xr)))}}}function mt(At,gt,vt){if(At){var Et=At.getBoundingClientRect(),yt=Et.top,wt=Et.left,Ct=Et.width,Rt=Et.height,It=yt+vt,$t=wt+gt;return{top:It,bottom:It+Rt,left:$t,right:$t+Ct,width:Ct,height:Rt}}}function xt(At){if(At&&At.tagName!=="HTML"){var gt=window.getComputedStyle(At),vt=function(Et){return["auto","scroll"].includes(Et)};return At.clientHeight<At.scrollHeight&&vt(gt.overflowX)||At.clientWidth<At.scrollWidth&&vt(gt.overflowY)?At:xt(At.parentNode)}}function _t(At,gt){return Math.round(Math.abs(At))>Math.round(Math.abs(gt))?At:gt}return rt.forwardRef(dt)})})(browser_min);var browser_minExports=browser_min.exports;function t(tt){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(tt)}function e$1(tt){return function(et){if(Array.isArray(et))return c(et)}(tt)||n(tt)||h$1(tt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}function r(tt,et){var nt=typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(!nt){if(Array.isArray(tt)||(nt=h$1(tt))||et&&tt&&typeof tt.length=="number"){nt&&(tt=nt);var rt=0,it=function(){};return{s:it,n:function(){return rt>=tt.length?{done:!0}:{done:!1,value:tt[rt++]}},e:function(lt){throw lt},f:it}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st,ot=!0,at=!1;return{s:function(){nt=nt.call(tt)},n:function(){var lt=nt.next();return ot=lt.done,lt},e:function(lt){at=!0,st=lt},f:function(){try{ot||nt.return==null||nt.return()}finally{if(at)throw st}}}}function i(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function s(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?i(Object(nt),!0).forEach(function(rt){a(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):i(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function a(tt,et,nt){return(et=y(et))in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function u(tt,et){return l(tt)||function(nt,rt){var it=nt==null?null:typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(it!=null){var st,ot,at,lt,ut=[],ft=!0,dt=!1;try{if(at=(it=it.call(nt)).next,rt===0){if(Object(it)!==it)return;ft=!1}else for(;!(ft=(st=at.call(it)).done)&&(ut.push(st.value),ut.length!==rt);ft=!0);}catch(ht){dt=!0,ot=ht}finally{try{if(!ft&&it.return!=null&&(lt=it.return(),Object(lt)!==lt))return}finally{if(dt)throw ot}}return ut}}(tt,et)||h$1(tt,et)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$1(tt,et){if(tt){if(typeof tt=="string")return c(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);return nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set"?Array.from(tt):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?c(tt,et):void 0}}function c(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function l(tt){if(Array.isArray(tt))return tt}function f(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,y(rt.key),rt)}}function y(tt){var et=function(nt,rt){if(t(nt)!=="object"||nt===null)return nt;var it=nt[Symbol.toPrimitive];if(it!==void 0){var st=it.call(nt,rt||"default");if(t(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(nt)}(tt,"string");return t(et)==="symbol"?et:String(et)}function d(tt,et,nt){(function(rt,it){if(it.has(rt))throw new TypeError("Cannot initialize the same private elements twice on an object")})(tt,et),et.set(tt,nt)}function m(tt,et){return function(nt,rt){return rt.get?rt.get.call(nt):rt.value}(tt,g(tt,et,"get"))}function v$1(tt,et,nt){return function(rt,it,st){if(it.set)it.set.call(rt,st);else{if(!it.writable)throw new TypeError("attempted to set read only private field");it.value=st}}(tt,g(tt,et,"set"),nt),nt}function g(tt,et,nt){if(!et.has(tt))throw new TypeError("attempted to "+nt+" private field on non-instance");return et.get(tt)}var k={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},p={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(tt){return[31,tt?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(tt){return tt%4==0&&tt%100!=0||tt%400==0},getLeaps:function(tt){if(tt!==0){for(var et=tt>0?1:-1,nt=[];tt>0?et<=tt:tt<=et;)this.isLeap(et)&&nt.push(et),tt>0?et++:et--;return nt}},getDayOfYear:function(tt){for(var et=tt.year,nt=tt.month,rt=tt.day,it=this.getMonthLengths(this.isLeap(et)),st=0;st<nt.index;st++)rt+=it[st];return rt},getAllDays:function(tt){var et=tt.year;return this.yearLength*(et-1)+this.leapsLength(et)+this.getDayOfYear(tt)},leapsLength:function(tt){return((tt-1)/4|0)+(-(tt-1)/100|0)+((tt-1)/400|0)},guessYear:function(tt,et){return~~(tt/365.24)+(et>0?1:-1)}};function b(tt){return tt&&tt.constructor===Object}function w$1(tt){if(!isNaN(tt))return parseInt(tt)}function D(tt){return Array.isArray(tt)}function M(tt,et,nt){return tt===void 0||tt<et||tt>nt}var O=new WeakMap,S=new WeakMap,Y=new WeakMap,L$1=new WeakMap,W=new WeakMap,x=new WeakMap,j=new WeakMap,N=new WeakMap,A=new WeakMap,I=new WeakMap,T=new WeakMap,F=new WeakMap,E=new WeakMap,P=new WeakMap,H=new WeakMap,V=new WeakMap,J=new WeakMap,C=new WeakMap,U=new WeakMap,R=function(){function tt(rt){var it=this;(function(lt,ut){if(!(lt instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,tt),d(this,O,{writable:!0,value:void 0}),d(this,S,{writable:!0,value:void 0}),d(this,Y,{writable:!0,value:void 0}),d(this,L$1,{writable:!0,value:void 0}),d(this,W,{writable:!0,value:void 0}),d(this,x,{writable:!0,value:void 0}),d(this,j,{writable:!0,value:void 0}),d(this,N,{writable:!0,value:void 0}),d(this,A,{writable:!0,value:k}),d(this,I,{writable:!0,value:p}),d(this,T,{writable:!0,value:!1}),d(this,F,{writable:!0,value:{}}),d(this,E,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),d(this,P,{writable:!0,value:[]}),d(this,H,{writable:!0,value:!0}),d(this,V,{writable:!0,value:function(lt,ut){switch(lt){case"YYYY":return["year",ut];case"YY":return["year","".concat(m(it,I).century).concat(ut)];case"MMMM":case"MMM":return["month",it.months.findIndex(function(dt){var ht=dt.name,mt=dt.shortName;return new RegExp(ut,"i").test(ht+mt)})+1];case"MM":case"M":return["month",ut];case"DD":case"D":return["day",ut];case"HH":case"H":return["hour",ut];case"hh":case"h":var ft=w$1(ut);return["hour",ft>12?ft-12:ft];case"mm":case"m":return["minute",ut];case"ss":case"s":return["second",ut];case"SSS":case"SS":case"S":return["millisecond",ut];default:return[]}}}),d(this,J,{writable:!0,value:function(){return m(it,O)===0&&m(it,I).startYear!==0}}),d(this,C,{writable:!0,value:function(){if(m(it,H)&&it.isValid){var lt=Math.floor,ut=function(_t,At){return[(Et=_t,(Et<0?-1:1)*Math.abs(lt(_t/At))),(gt=_t,vt=At,(gt<0&&lt(gt%vt)!==-0?vt:0)+lt(_t%At))];var gt,vt,Et},ft=function(){if(m(it,S)<0||m(it,S)>11){var _t=m(it,S)<0?-1:1,At=u(ut(m(it,S),12),2),gt=At[0],vt=At[1];v$1(it,O,m(it,O)+gt),v$1(it,S,vt),m(it,J).call(it)&&v$1(it,O,_t)}};for(v$1(it,H,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(_t){var At=u(_t,3),gt=At[0],vt=At[1],Et=At[2];if(function(Rt,It){return Rt>=It||Rt<0}(it[gt],Et)){var yt=u(ut(it[gt],Et),2),wt=yt[0],Ct=yt[1];it[vt]+=wt,it[gt]=Ct}}),v$1(it,H,!0),ft();m(it,Y)<-m(it,I).yearLength||m(it,Y)>m(it,I).yearLength;){if(m(it,S)>0){for(var dt=m(it,I).getMonthLengths(it.isLeap),ht=0;ht<m(it,S);ht++)v$1(it,Y,m(it,Y)+dt[ht]);v$1(it,S,0)}var mt=it.isLeap?it.calendar.yearLength+1:it.calendar.yearLength;v$1(it,Y,m(it,Y)+mt*(m(it,Y)<0?1:-1)),v$1(it,O,m(it,O)+(m(it,Y)<0?-1:1))}for(;;){var xt;for(ft();m(it,Y)<1;)v$1(it,S,m(it,S)-1),ft(),v$1(it,Y,it.month.length+m(it,Y));if(m(it,Y)<=it.month.length||isNaN(m(it,Y)))break;v$1(it,Y,m(it,Y)-it.month.length),v$1(it,S,(xt=m(it,S),xt++,xt))}m(it,L$1)||v$1(it,L$1,0),m(it,W)||v$1(it,W,0),m(it,x)||v$1(it,x,0),m(it,j)||v$1(it,j,0)}}}),d(this,U,{writable:!0,value:function(){return(m(it,F).weekDays||m(it,A).weekDays).map(function(lt,ut){var ft=u(lt,2),dt=ft[0],ht=ft[1],mt=ut-it.weekStartDayIndex;return mt<0&&(mt+=7),{name:dt,shortName:ht,index:mt,number:mt+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var st=b(rt)?s({},rt):rt,ot=!0;if(st&&typeof st!="boolean"||(st={date:new Date}),b(st)||(st={date:st}),Object.keys(st).length!==0){for(var at in b(st.calendar)&&v$1(this,I,st.calendar),b(st.locale)&&v$1(this,A,st.locale),isNaN(st.year)&&isNaN(st.month)&&isNaN(st.day)&&!st.date&&(st.date=new Date),st.date&&(typeof st.date=="string"&&st.format&&v$1(this,N,st.format),this.setDate(st.date),st.calendar&&this.convert(st.calendar),ot=!1),delete st.calendar,delete st.locale,delete st.date,st)this.set(at,st[at]);m(this,J).call(this)&&v$1(this,O,-1),ot&&m(this,C).call(this)}}var et,nt;return et=tt,(nt=[{key:"parse",value:function(rt){if(!rt)return this;var it,st,ot=m(this,N),at=m(this,A).digits,lt=r(at);try{for(lt.s();!(it=lt.n()).done;){var ut=it.value;rt=rt.replace(new RegExp(ut,"g"),at.indexOf(ut))}}catch(Bt){lt.e(Bt)}finally{lt.f()}if(ot)for(var ft=ot.split(/[^\w\u0600-\u06FF]/),dt=rt.split(/[^\w\u0600-\u06FF]/),ht=0;ht<ft.length;ht++)this.set.apply(this,e$1(m(this,V).call(this,ft[ht],dt[ht])));else{var mt=rt.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),xt=(l(st=mt)||n(st)||h$1(st)||o()).slice(1),_t=xt[1];_t&&(_t=/\d+/.test(_t)?w$1(_t)-1:this.months.findIndex(function(Bt){return new RegExp(_t,"i").test(Bt.name)})),xt[1]=_t;var At=u(xt.map(w$1),7),gt=At[0],vt=At[1],Et=At[2],yt=At[3],wt=At[4],Ct=At[5],Rt=At[6];v$1(this,O,gt),v$1(this,S,vt),v$1(this,Y,Et),v$1(this,L$1,yt),v$1(this,W,wt),v$1(this,x,Ct),v$1(this,j,Rt)}var It=u(m(this,A).meridiems[1],2),$t=It[0],Ft=It[1];return m(this,L$1)<12&&(rt.includes($t)||rt.includes(Ft))&&v$1(this,L$1,m(this,L$1)+12),m(this,C).call(this),this}},{key:"convert",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,it=arguments.length>1?arguments[1]:void 0;if(b(it)&&v$1(this,A,it),!b(rt)||rt.name===m(this,I).name)return this;var st=this.toJulianDay()-rt.epoch,ot=new tt({calendar:rt,year:rt.guessYear(st,m(this,O)),month:1,day:1});return ot.day+=st-ot.toDays(),v$1(this,O,ot.year),v$1(this,S,ot.month.index),v$1(this,Y,ot.day),v$1(this,I,rt),this}},{key:"format",value:function(rt,it){if(!this.isValid||rt&&typeof rt!="string")return"";rt||(rt=m(this,N)||"YYYY/MM/DD"),D(it)||(it=[]),it=(it=it.concat(m(this,P))).filter(function(ht){return typeof ht=="string"||(console.warn("type of all items in the ignore list must be string, found",t(ht)),!1)}).map(function(ht){return ht.replace(/[*/+\-()[\]{}\s$^]/g,function(mt){return"\\"+mt})});var st,ot=new RegExp("".concat(it.join("|")).concat(it.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),at="",lt=r(rt.match(ot)||[]);try{for(lt.s();!(st=lt.n()).done;){var ut=st.value,ft=this.getValue(ut);at+=it.includes(ut)?ut:ft===0?ft:ft||ut}}catch(ht){lt.e(ht)}finally{lt.f()}var dt=this.digits;return at.replace(/[0-9]/g,function(ht){return dt[ht]})}},{key:"getProperty",value:function(rt){return this.getValue(rt)}},{key:"getValue",value:function(rt){var it=function(st){return st<10?"0"+st:st};switch(rt){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return it(this.month.number);case"M":return this.month.number;case"WW":return it(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return it(this.day);case"D":return this.day;case"HH":return it(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return it(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return it(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return it(this.minute);case"m":return this.minute;case"ss":return it(this.second);case"s":return this.second;case"SSS":return m(this,j)<10?"00".concat(m(this,j)):m(this,j)<100?"0".concat(m(this,j)):m(this,j);case"SS":return m(this,j)<10?"00":m(this,j)<100?("0"+m(this,j)).substring(2,0):m(this,j).toString().substring(0,2);case"S":return m(this,j)<10||m(this,j)<100?"0":m(this,j).toString().substring(0,1);case"a":return this.hour>=12?m(this,A).meridiems[1][1]:m(this,A).meridiems[0][1];case"A":return this.hour>=12?m(this,A).meridiems[1][0]:m(this,A).meridiems[0][0];default:return""}}},{key:"setYear",value:function(rt){return this.year=rt,this}},{key:"setMonths",value:function(rt){return this.months=rt,this}},{key:"setMonth",value:function(rt){return this.month=rt,this}},{key:"setWeekDays",value:function(rt){return this.weekDays=rt,this}},{key:"setDigits",value:function(rt){return this.digits=rt,this}},{key:"setDay",value:function(rt){return this.day=rt,this}},{key:"setHour",value:function(rt){return this.hour=rt,this}},{key:"setMinute",value:function(rt){return this.minute=rt,this}},{key:"setSecond",value:function(rt){return this.second=rt,this}},{key:"setMillisecond",value:function(rt){return this.millisecond=rt,this}},{key:"setFormat",value:function(rt){return v$1(this,N,rt),this}},{key:"setLocale",value:function(rt){return this.locale=rt,this}},{key:"setCalendar",value:function(rt){return this.calendar=rt,this}},{key:"setDate",value:function(rt){if(typeof rt=="string"){if(!m(this,E).test(rt))return this.parse(rt);rt=new Date(rt)}return typeof rt=="number"&&(rt=new Date(rt)),rt instanceof Date&&(v$1(this,I,p),v$1(this,O,rt.getFullYear()),v$1(this,S,rt.getMonth()),v$1(this,Y,rt.getDate()),v$1(this,L$1,rt.getHours()),v$1(this,W,rt.getMinutes()),v$1(this,x,rt.getSeconds()),v$1(this,j,rt.getMilliseconds()),v$1(this,T,!1)),rt instanceof tt&&(v$1(this,O,rt.year),v$1(this,S,rt.month.index),v$1(this,Y,rt.day),v$1(this,L$1,rt.hour),v$1(this,W,rt.minute),v$1(this,x,rt.second),v$1(this,j,rt.millisecond),v$1(this,A,rt.locale),v$1(this,N,rt._format),v$1(this,I,rt.calendar),v$1(this,T,rt.isUTC),v$1(this,P,rt.ignoreList),v$1(this,F,rt.custom)),this}},{key:"setIgnoreList",value:function(rt){return this.ignoreList=rt,this}},{key:"set",value:function(rt,it){if(rt==null)return this;if(b(rt)){var st=s({},rt);for(var ot in st.date&&(this.setDate(st.date),delete st.date),st.calendar&&(this.convert(st.calendar),delete st.calendar),st.locale&&(this.setLocale(st.locale),delete st.locale),v$1(this,H,!1),st)this.set(ot,st[ot]);return v$1(this,H,!0),m(this,C).call(this),this}rt==="format"&&(rt="_format");try{this[rt]=it}catch{}return this}},{key:"add",value:function(rt,it){if(!(rt=w$1(rt))||!it)return this;switch(it){case"years":case"y":it="year";break;case"months":case"M":it="month";break;case"days":case"d":it="day";break;case"hours":case"h":it="hour";break;case"minutes":case"m":it="minute";break;case"seconds":case"s":it="second";break;case"milliseconds":case"ms":it="millisecond"}return this[it]+=rt,this}},{key:"subtract",value:function(rt,it){return this.add(-rt,it)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return v$1(this,Y,1),this}},{key:"toLastOfMonth",value:function(){return v$1(this,Y,0),v$1(this,S,m(this,S)+1),m(this,C).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var rt=new tt(this);return m(this,I).name!=="gregorian"&&rt.convert(p),new Date(rt.year,rt.month.index,rt.day,rt.hour,rt.minute,rt.second,rt.millisecond)}},{key:"toUTC",value:function(){return m(this,T)||(this.minute+=this.toDate().getTimezoneOffset(),v$1(this,T,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+m(this,I).epoch}},{key:"toObject",value:function(){return{year:m(this,O),month:this.month,day:m(this,Y),weekDay:this.weekDay,hour:m(this,L$1),minute:m(this,W),second:m(this,x),millisecond:m(this,j),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:m(this,I),locale:m(this,A),format:m(this,N)||"YYYY/MM/DD",ignoreList:m(this,P)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return m(this,I).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return m(this,I).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var rt=m(this,I).yearLength;return(this.isLeap?rt+1:rt)-this.dayOfYear}}},{key:"year",get:function(){return m(this,O)},set:function(rt){v$1(this,O,w$1(rt)),m(this,C).call(this)}},{key:"month",get:function(){return this.months[m(this,S)]||{}},set:function(rt){var it;rt=(it=w$1(rt.valueOf())-1)!==null&&it!==void 0?it:void 0,v$1(this,S,rt),M(rt,0,11)&&m(this,C).call(this)}},{key:"monthIndex",get:function(){return m(this,S)}},{key:"day",get:function(){return m(this,Y)},set:function(rt){rt=w$1(rt),v$1(this,Y,rt),M(rt,1,28)&&m(this,C).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var rt=(this.toJulianDay()+3)%7;return m(this,U).call(this)[rt]}},{key:"hour",get:function(){return m(this,L$1)},set:function(rt){rt=w$1(rt),v$1(this,L$1,rt),M(rt,0,23)&&m(this,C).call(this)}},{key:"minute",get:function(){return m(this,W)},set:function(rt){rt=w$1(rt),v$1(this,W,rt),M(rt,0,59)&&m(this,C).call(this)}},{key:"second",get:function(){return m(this,x)},set:function(rt){rt=w$1(rt),v$1(this,x,rt),M(rt,0,59)&&m(this,C).call(this)}},{key:"millisecond",get:function(){return m(this,j)},set:function(rt){rt=w$1(rt),v$1(this,j,rt),M(rt,0,999)&&m(this,C).call(this)}},{key:"months",get:function(){var rt=m(this,I).getMonthLengths(this.isLeap);return(m(this,F).months||m(this,A).months).map(function(it,st){var ot=u(it,2);return{name:ot[0],shortName:ot[1],length:rt[st],index:st,number:st+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})},set:function(rt){if(!rt)return delete m(this,F).months;D(rt)&&rt.length===12&&rt.every(function(it){return D(it)&&it.length===2&&it.every(function(st){return typeof st=="string"})})&&(m(this,F).months=rt)}},{key:"weekDays",get:function(){return m(this,U).call(this).sort(function(rt,it){return rt.index-it.index})},set:function(rt){if(!rt)return delete m(this,F).weekDays;D(rt)&&rt.length===7&&rt.every(function(it){return D(it)&&it.length===2&&it.every(function(st){return typeof st=="string"})})&&(m(this,F).weekDays=rt)}},{key:"leaps",get:function(){return m(this,I).getLeaps(m(this,O))}},{key:"calendar",get:function(){return m(this,I)},set:function(rt){this.convert(rt)}},{key:"locale",get:function(){return m(this,A)},set:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;b(rt)&&v$1(this,A,rt)}},{key:"custom",get:function(){return m(this,F)}},{key:"meridiems",get:function(){return m(this,A).meridiems}},{key:"digits",get:function(){return m(this,F).digits||m(this,A).digits},set:function(rt){if(!rt)return delete m(this,F).digits;D(rt)&&rt.length===10&&(m(this,F).digits=rt)}},{key:"_format",get:function(){return m(this,N)},set:function(rt){typeof rt=="string"&&v$1(this,N,rt)}},{key:"isLeap",get:function(){return m(this,I).isLeap(m(this,O))}},{key:"isValid",get:function(){return!isNaN(m(this,O))&&!isNaN(m(this,S))&&!isNaN(m(this,Y))}},{key:"isUTC",get:function(){return m(this,T)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return m(this,P)},set:function(rt){D(rt)&&v$1(this,P,rt)}},{key:"weekStartDayIndex",get:function(){return m(this,I).weekStartDayIndex},set:function(rt){(rt=w$1(rt))!==void 0&&(m(this,I).weekStartDayIndex=Math.abs(rt)%7)}},{key:"date",set:function(rt){this.setDate(rt)}}])&&f(et.prototype,nt),Object.defineProperty(et,"prototype",{writable:!1}),tt}();const index_module=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(index_module);(function(tt){Object.defineProperty(tt,"__esModule",{value:!0});var et=reactExports,nt=browser_minExports,rt=require$$2;function it(un){return un&&typeof un=="object"&&"default"in un?un:{default:un}}var st=it(et),ot=it(nt),at=it(rt);function lt(un,dn){var yn=Object.keys(un);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(un);dn&&(bn=bn.filter(function(Tn){return Object.getOwnPropertyDescriptor(un,Tn).enumerable})),yn.push.apply(yn,bn)}return yn}function ut(un){for(var dn=1;dn<arguments.length;dn++){var yn=arguments[dn]!=null?arguments[dn]:{};dn%2?lt(Object(yn),!0).forEach(function(bn){ft(un,bn,yn[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(un,Object.getOwnPropertyDescriptors(yn)):lt(Object(yn)).forEach(function(bn){Object.defineProperty(un,bn,Object.getOwnPropertyDescriptor(yn,bn))})}return un}function ft(un,dn,yn){return dn in un?Object.defineProperty(un,dn,{value:yn,enumerable:!0,configurable:!0,writable:!0}):un[dn]=yn,un}function dt(){return(dt=Object.assign?Object.assign.bind():function(un){for(var dn=1;dn<arguments.length;dn++){var yn=arguments[dn];for(var bn in yn)Object.prototype.hasOwnProperty.call(yn,bn)&&(un[bn]=yn[bn])}return un}).apply(this,arguments)}function ht(un,dn){if(un==null)return{};var yn,bn,Tn=function(Yn,Un){if(Yn==null)return{};var Nn,rr,Kn={},Vn=Object.keys(Yn);for(rr=0;rr<Vn.length;rr++)Nn=Vn[rr],Un.indexOf(Nn)>=0||(Kn[Nn]=Yn[Nn]);return Kn}(un,dn);if(Object.getOwnPropertySymbols){var Pn=Object.getOwnPropertySymbols(un);for(bn=0;bn<Pn.length;bn++)yn=Pn[bn],dn.indexOf(yn)>=0||Object.prototype.propertyIsEnumerable.call(un,yn)&&(Tn[yn]=un[yn])}return Tn}function mt(un,dn){return function(yn){if(Array.isArray(yn))return yn}(un)||function(yn,bn){var Tn=yn==null?null:typeof Symbol<"u"&&yn[Symbol.iterator]||yn["@@iterator"];if(Tn!=null){var Pn,Yn,Un=[],Nn=!0,rr=!1;try{for(Tn=Tn.call(yn);!(Nn=(Pn=Tn.next()).done)&&(Un.push(Pn.value),!bn||Un.length!==bn);Nn=!0);}catch(Kn){rr=!0,Yn=Kn}finally{try{Nn||Tn.return==null||Tn.return()}finally{if(rr)throw Yn}}return Un}}(un,dn)||_t(un,dn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xt(un){return function(dn){if(Array.isArray(dn))return At(dn)}(un)||function(dn){if(typeof Symbol<"u"&&dn[Symbol.iterator]!=null||dn["@@iterator"]!=null)return Array.from(dn)}(un)||_t(un)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _t(un,dn){if(un){if(typeof un=="string")return At(un,dn);var yn=Object.prototype.toString.call(un).slice(8,-1);return yn==="Object"&&un.constructor&&(yn=un.constructor.name),yn==="Map"||yn==="Set"?Array.from(un):yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yn)?At(un,dn):void 0}}function At(un,dn){(dn==null||dn>un.length)&&(dn=un.length);for(var yn=0,bn=new Array(dn);yn<dn;yn++)bn[yn]=un[yn];return bn}function gt(un,dn){var yn=typeof Symbol<"u"&&un[Symbol.iterator]||un["@@iterator"];if(!yn){if(Array.isArray(un)||(yn=_t(un))||dn&&un&&typeof un.length=="number"){yn&&(un=yn);var bn=0,Tn=function(){};return{s:Tn,n:function(){return bn>=un.length?{done:!0}:{done:!1,value:un[bn++]}},e:function(Nn){throw Nn},f:Tn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pn,Yn=!0,Un=!1;return{s:function(){yn=yn.call(un)},n:function(){var Nn=yn.next();return Yn=Nn.done,Nn},e:function(Nn){Un=!0,Pn=Nn},f:function(){try{Yn||yn.return==null||yn.return()}finally{if(Un)throw Pn}}}}function vt(un){return Array.isArray(un)}function Et(un){var dn=un.state.date,yn=dn.calendar,bn=dn.locale,Tn=un.customWeekDays,Pn=un.weekStartDayIndex,Yn=un.displayWeekNumbers,Un=un.weekNumber,Nn=et.useMemo(function(){var rr=Tn;return vt(rr)&&rr.length>=7?(rr.length=7,rr=rr.map(function(Kn){return vt(Kn)&Kn.length>1?Kn=Kn[1]:vt(Kn)&&(Kn=Kn[0]),Kn})):rr=new at.default({year:1,calendar:yn,locale:bn}).weekDays.map(function(Kn){return Kn.shortName}),rr},[yn,bn,Tn]);return Nn=xt(Nn).slice(Pn).concat(xt(Nn).splice(0,Pn)),st.default.createElement("div",{className:"rmdp-week"},Yn&&st.default.createElement("div",{className:"rmdp-week-day"},Un),Nn.map(function(rr,Kn){return st.default.createElement("div",{key:Kn,className:"rmdp-week-day"},rr)}))}function yt(un,dn){var yn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],bn=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!un||!dn)return!1;if(un.year===dn.year){if(bn)return!0;if(un.monthIndex===dn.monthIndex)return!!yn||un.day===dn.day}}function wt(un,dn,yn){var bn=yn.multiple,Tn=yn.range,Pn=yn.selectedDate,Yn=yn.onlyMonthPicker,Un=yn.onlyYearPicker,Nn=yn.format,rr=yn.focused,Kn=yn.weekPicker;un.setFormat(Nn);var Vn=new at.default(un);return[Pn=bn?function(){var ir=Pn.filter(function(gr){return!yt(un,gr,Yn,Un)});return ir.length===Pn.length?ir.push(Vn):Vn=ir.find(function(gr){return yt(gr,rr)}),dn&&ir.sort(function(gr,Gr){return gr-Gr}),ir}():Tn?function(){if(Kn)return[new at.default(Vn).toFirstOfWeek(),new at.default(Vn).toLastOfWeek()];if(Pn.length===2||Pn.length===0)return[Vn];if(Pn.length===1)return[Pn[0],Vn].sort(function(ir,gr){return ir-gr})}():Vn,Vn]}function Ct(un,dn,yn){var bn=dn[0],Tn=dn[1],Pn=[];return dn.length===1?yt(un,bn,yn)&&Pn.push("rmdp-range"):dn.length===2&&(un.toDays()>=bn.toDays()&&un.toDays()<=Tn.toDays()&&Pn.push("rmdp-range"),yt(un,bn,yn)&&Pn.push("start"),yt(un,Tn,yn)&&Pn.push("end")),Pn.join(" ")}function Rt(un,dn,yn,bn){var Tn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day",Pn=[];if(bn&&(dn==null?void 0:dn.length)===1&&yn){var Yn=Tn==="day"?"YYYY/MM/DD":"YYYY/MM",Un=yn.format(Yn),Nn=dn[0].format(Yn),rr=un.format(Yn);(rr>Nn&&rr<=Un||rr<Nn&&rr>=Un)&&(Pn.push("rmdp-range-hover"),rr===Un&&Pn.push(Un>Nn?"end":"start"))}return Pn}function It(un){var dn=un.state,yn=un.onChange,bn=un.showOtherDays,Tn=bn!==void 0&&bn,Pn=un.mapDays,Yn=un.onlyShowInRangeDates,Un=un.customWeekDays,Nn=un.sort,rr=un.numberOfMonths,Kn=un.isRTL,Vn=un.weekStartDayIndex,ir=un.handleFocusedDate,gr=un.hideWeekDays,Gr=un.fullYear,Rs=mt(un.monthAndYears,1)[0],$s=un.displayWeekNumbers,kn=un.weekNumber,or=kn===void 0?"":kn,sr=un.rangeHover,Ar=et.useRef({}),ar=dn.today,Pr=dn.minDate,dr=dn.maxDate,xr=dn.range,pr=dn.date,Sr=dn.selectedDate,Or=dn.onlyMonthPicker,Ur=dn.onlyYearPicker,Ir=!Or&&!Ur,jr=mt(et.useState(),2),rs=jr[0],Er=jr[1];Ar.current.date=pr;var ps=et.useMemo(function(){return Ir?function(is,ur,Ls,cr){if(!is)return[];for(var Mr=[],js=0;js<Ls;js++){var wr=(is=new at.default(is).toFirstOfMonth()).monthIndex,ys=[];is.toFirstOfWeek().add(cr,"day"),is.monthIndex===wr&&is.day>1&&is.subtract(7,"days");for(var ss=0;ss<6;ss++){for(var os=[],xs=0;xs<7;xs++)os.push({date:new at.default(is),day:is.format("D"),current:is.monthIndex===wr}),is.day+=1;if(ys.push(os),ss>2&&is.monthIndex!==wr&&!ur)break}Mr.push(ys)}return Mr}(Ar.current.date,Tn,rr,Vn):[]},[pr.monthIndex,pr.year,pr.calendar,pr.locale,Ir,Tn,rr,Vn]);return Ir&&st.default.createElement("div",{className:"rmdp-day-picker ".concat(Gr?"rmdp-full-year":""),style:{display:Gr?"grid":"flex"},onMouseLeave:function(){return sr&&Er()}},ps.map(function(is,ur){return st.default.createElement("div",{key:ur,style:ft({},Kn?"marginLeft":"marginRight",ur+(Gr?0:1)<rr?"10px":"")},Gr&&st.default.createElement("div",{className:"rmdp-month-name"},Rs[ur]),!gr&&st.default.createElement(Et,{state:dn,customWeekDays:Un,weekStartDayIndex:Vn,displayWeekNumbers:$s,weekNumber:or}),is.map(function(Ls,cr){return st.default.createElement("div",{key:cr,className:"rmdp-week"},$s&&st.default.createElement("div",{className:"rmdp-day rmdp-disabled"},st.default.createElement("span",null,Ls[0].date.format("WW"))),Ls.map(function(Mr,js){var wr=function(ts){if(!ts.current&&!Tn)return{};var Fr={};return Pn.forEach(function(Jr){var hs,Os=Jr({date:ts.date,today:ar,currentMonth:dn.date.month,selectedDate:dn.selectedDate,isSameDate:yt});((hs=Os)===null||hs===void 0?void 0:hs.constructor)!==Object&&(Os={}),(Os.disabled||Os.hidden)&&(ts.disabled=!0),Os.hidden&&(ts.hidden=!0),Fr=ut(ut({},Fr),Os)}),delete Fr.disabled,delete Fr.hidden,Fr}(Mr={date:Mr.date,day:Mr.day,current:Mr.current}),ys=Br(Mr)&&!Mr.disabled,ss="".concat(ys?"sd":""),os=wr.children;ys&&(ss="".concat(ss," ").concat(wr.className||"")),delete wr.className,delete wr.children;var xs=function(ts,Fr){var Jr=["rmdp-day"],hs=ts.date,Os=ts.hidden,uo=ts.current;if(!Br(ts)||Os)Jr.push("rmdp-day-hidden");else{(Pr&&hs<Pr||dr&&hs>dr||ts.disabled)&&(Jr.push("rmdp-disabled"),ts.disabled||(ts.disabled=!0)),uo||Jr.push("rmdp-deactive");var ws=Fr>1&&uo||Fr===1;ts.disabled&&Yn||(yt(hs,ar)&&Jr.push("rmdp-today"),go=hs,[].concat(Sr).some(function(Vr){return yt(Vr,go)})&&ws&&!xr&&Jr.push("rmdp-selected")),xr&&!ts.disabled&&ws&&(Jr.push(Ct(hs,Sr)),Jr=Jr.concat(Rt(hs,Sr,rs,sr)))}var go;return Jr.join(" ")}(Mr,rr);return(Mr.hidden||Mr.disabled)&&(ss=ss.replace("sd","")),st.default.createElement("div",{key:js,className:xs,onMouseEnter:function(){return sr&&Er(Mr.date)},onClick:function(){Br(Mr)&&!Mr.disabled&&function(ts,Fr,Jr){var hs,Os,uo,ws=ts.date,go=ts.current,Vr=dn.selectedDate,Ns=dn.focused,Ts=dn.date,eo=Ts,ao=eo.hour,vo=eo.minute,Vs=eo.second;ws.set({hour:((hs=Vr)===null||hs===void 0?void 0:hs.hour)||ao,minute:((Os=Vr)===null||Os===void 0?void 0:Os.minute)||vo,second:((uo=Vr)===null||uo===void 0?void 0:uo.second)||Vs}),Jr!==1||go?Jr>1&&!go&&(Fr===0&&ws<Ts&&(Ts=new at.default(Ts).toFirstOfMonth()),Fr>0&&ws.monthIndex>Ts.monthIndex+Fr&&Fr+1===Jr&&(Ts=new at.default(Ts).toFirstOfMonth().add(1,"month"))):Ts=new at.default(Ts).toFirstOfMonth();var co=mt(wt(ws,Nn,dn),2);Vr=co[0],Ns=co[1],yn(Vr,ut(ut({},dn),{},{date:Ts,focused:Ns,selectedDate:Vr})),ir(Ns,ws)}(Mr,ur,rr)}},st.default.createElement("span",dt({className:ss},wr),Br(Mr)&&!Mr.hidden?os??Mr.day:""))}))}))}));function Br(is){return!!is.current||Tn}}function $t(un){var dn=un.direction,yn=un.onClick,bn=un.disabled;return st.default.createElement("span",{className:"rmdp-arrow-container ".concat(dn," ").concat(bn?"disabled":""),onClick:yn},st.default.createElement("i",{className:"rmdp-arrow"}))}function Ft(un){var dn=un.state,yn=un.setState,bn=un.disableYearPicker,Tn=un.disableMonthPicker,Pn=un.buttons,Yn=un.renderButton,Un=un.handleMonthChange,Nn=un.disabled,rr=un.hideMonth,Kn=un.hideYear,Vn=un.isRTL,ir=un.fullYear,gr=mt(un.monthAndYears,2),Gr=gr[0],Rs=gr[1],$s={},kn=dn.date,or=dn.onlyMonthPicker,sr=dn.onlyYearPicker,Ar=dn.mustShowYearPicker,ar=dn.minDate,Pr=dn.maxDate,dr=dn.year,xr=dn.today,pr=ar&&kn.year<=ar.year&&ar.monthIndex>kn.monthIndex-1,Sr=Pr&&kn.year>=Pr.year&&Pr.monthIndex<kn.monthIndex+1,Or=xr.year+7;if(Or-=12*Math.floor((Or-dr)/12),(rr||ir)&&Kn&&!Pn)return null;if((rr&&Kn||sr&&Kn||Pn&&Kn)&&($s.minHeight="36px"),(or||ir)&&(ar&&ar.year>=kn.year&&(pr=!0),Pr&&Pr.year<=kn.year&&(Sr=!0)),Ar||sr){var Ur=Or-11;pr=ar&&ar.year>Ur,Sr=Pr&&Pr.year<Or}return Nn&&(pr=!0,Sr=!0),st.default.createElement("div",{className:"rmdp-header"},st.default.createElement("div",{style:{position:"relative",display:"flex"}},Pn&&Ir("left"),ir?st.default.createElement("div",{className:"rmdp-header-values",style:$s},!Kn&&kn.format("YYYY")):Gr.map(function(Er,ps){return st.default.createElement("div",{key:ps,className:"rmdp-header-values",style:$s},!rr&&st.default.createElement("span",{style:{cursor:Nn||Tn||or?"default":"pointer"},onClick:function(){return!Tn&&rs("mustShowMonthPicker")}},Er,!Kn&&(Vn?"،":",")),!Kn&&st.default.createElement("span",{style:{cursor:Nn||bn||sr?"default":"pointer"},onClick:function(){return!bn&&rs("mustShowYearPicker")}},Rs[ps]))}),Pn&&Ir("right")));function Ir(Er){var ps=function(){return jr(Er==="right"?1:-1)},Br=Er==="left"&&pr||Er==="right"&&Sr;return Yn instanceof Function?Yn(Er,ps,Br):et.isValidElement(Yn)?et.cloneElement(Yn,{direction:Er,handleClick:ps,disabled:Br}):st.default.createElement($t,{direction:"rmdp-".concat(Er),onClick:ps,disabled:Br})}function jr(Er){Nn||Er<0&&pr||Er>0&&Sr||(ir?kn.year+=Er:Ar||sr?(dr+=12*Er,Er<0&&ar&&dr<ar.year&&(dr=ar.year),Er>0&&Pr&&dr>Pr.year&&(dr=Pr.year)):(kn.toFirstOfMonth(),or?kn.year+=Er:(kn.month+=Er,Un(kn))),yn(ut(ut({},dn),{},{date:kn,year:dr})))}function rs(Er){if(!Nn){var ps={mustShowMonthPicker:!1,mustShowYearPicker:!1};ps[Er]=!dn[Er],yn(ut(ut({},dn),ps))}}}function Bt(un){return vt(un)||(un=[]),JSON.stringify(un)}function Nt(un){var dn=un.state,yn=un.onChange,bn=un.customMonths,Tn=un.sort,Pn=un.handleMonthChange,Yn=un.handleFocusedDate,Un=un.rangeHover,Nn=dn.date,rr=dn.today,Kn=dn.minDate,Vn=dn.maxDate,ir=dn.calendar,gr=dn.locale,Gr=dn.onlyMonthPicker,Rs=dn.onlyYearPicker,$s=dn.range,kn=dn.onlyShowInRangeDates,or=(dn.mustShowMonthPicker||Gr)&&!Rs,sr=mt(et.useState(),2),Ar=sr[0],ar=sr[1];bn=bn&&Bt(bn);var Pr=et.useMemo(function(){var pr=bn&&JSON.parse(bn),Sr=[],Or=0,Ur=new at.default({calendar:ir,locale:gr,format:dn.date._format,year:dn.date.year,month:1,day:1});vt(pr)&&pr.length>=12?(pr.length=12,pr=pr.map(function(Er){return vt(Er)?Er[0]:Er})):pr=Ur.locale.months.map(function(Er){return mt(Er,1)[0]});for(var Ir=0;Ir<4;Ir++){for(var jr=[],rs=0;rs<3;rs++)jr.push({date:new at.default(Ur),name:pr[Or]}),Or++,Ur.add(1,"month");Sr.push(jr)}return Sr},[ir,gr,bn,dn.date.year,dn.date._format]);return st.default.createElement("div",{className:"".concat(Gr?"only ":"","rmdp-month-picker"),style:{display:or?"block":"none"},onMouseLeave:function(){return Un&&ar()}},Pr.map(function(pr,Sr){return st.default.createElement("div",{key:Sr,className:"rmdp-ym"},pr.map(function(Or,Ur){var Ir=Or.date,jr=Or.name;return st.default.createElement("div",{key:Ur,className:xr(Ir),onClick:function(){return dr(Ir)},onMouseEnter:function(){return Un&&ar(Ir)}},st.default.createElement("span",{className:Gr?"sd":""},jr))}))}));function dr(pr){var Sr=dn.selectedDate,Or=dn.focused,Ur=pr.year,Ir=pr.monthIndex;if(!(Kn&&Ur<=Kn.year&&Ir<Kn.monthIndex||Vn&&Ur>=Vn.year&&Ir>Vn.monthIndex)){if(Nn.setMonth(Ir+1),Gr){var jr=mt(wt(pr,Tn,dn),2);Sr=jr[0],Or=jr[1]}else Pn(Nn);yn(Gr?Sr:void 0,ut(ut({},dn),{},{date:Nn,focused:Or,selectedDate:Sr,mustShowMonthPicker:!1})),Gr&&Yn(Or,pr)}}function xr(pr){var Sr=["rmdp-day"],Or=pr.year,Ur=pr.monthIndex,Ir=dn.selectedDate;if((Kn&&(Or<Kn.year||Or===Kn.year&&Ur<Kn.monthIndex)||Vn&&(Or>Vn.year||Or===Vn.year&&Ur>Vn.monthIndex))&&Sr.push("rmdp-disabled"),!Sr.includes("rmdp-disabled")||!kn)return yt(rr,pr,!0)&&Sr.push("rmdp-today"),Gr?$s?(Sr.push(Ct(pr,Ir,!0)),Sr=Sr.concat(Rt(pr,Ir,Ar,Un,"month"))):[].concat(Ir).some(function(jr){return yt(jr,pr,!0)})&&Sr.push("rmdp-selected"):Nn.monthIndex===Ur&&Sr.push("rmdp-selected"),Sr.join(" ")}}function Xt(un,dn){return un.replace(/[0-9]/g,function(yn){return dn[yn]})}function nn(un){var dn=un.state,yn=un.onChange,bn=un.sort,Tn=un.handleFocusedDate,Pn=un.onYearChange,Yn=un.rangeHover,Un=dn.date,Nn=dn.today,rr=dn.minDate,Kn=dn.maxDate,Vn=dn.onlyYearPicker,ir=dn.range,gr=dn.onlyShowInRangeDates,Gr=dn.year,Rs=dn.mustShowYearPicker||Vn,$s=Un.digits,kn=mt(et.useState(),2),or=kn[0],sr=kn[1],Ar=Nn.year-4;Ar-=12*Math.ceil((Ar-Gr)/12);var ar=et.useMemo(function(){for(var xr=[],pr=Ar,Sr=0;Sr<4;Sr++){for(var Or=[],Ur=0;Ur<3;Ur++)Or.push(pr),pr++;xr.push(Or)}return xr},[Ar]);return st.default.createElement("div",{className:"".concat(Vn?"only ":"","rmdp-year-picker"),style:{display:Rs?"block":"none"}},ar.map(function(xr,pr){return st.default.createElement("div",{key:pr,className:"rmdp-ym",onMouseLeave:function(){return Yn&&sr()}},xr.map(function(Sr,Or){return st.default.createElement("div",{key:Or,className:Pr(Sr),onClick:function(){return function(Ur){if(!dr(Ur)){var Ir=new at.default(dn.date).setYear(Ur),jr=dn.selectedDate,rs=dn.focused;if(Vn){var Er=mt(wt(Ir,bn,dn),2);jr=Er[0],rs=Er[1]}else rr&&Ir.monthIndex<rr.monthIndex?Ir=Ir.setMonth(rr.monthIndex+1):Kn&&Ir.monthIndex>Kn.monthIndex&&(Ir=Ir.setMonth(Kn.monthIndex+1)),Pn==null||Pn(Ir);yn(Vn?jr:void 0,ut(ut({},dn),{},{date:Ir,focused:rs,selectedDate:jr,mustShowYearPicker:!1})),Vn&&Tn(rs,Ir)}}(Sr)},onMouseEnter:function(){return Yn&&sr(Sr)}},st.default.createElement("span",{className:Vn?"sd":""},Xt(Sr.toString(),$s)))}))}));function Pr(xr){var pr=["rmdp-day"],Sr=dn.date,Or=dn.selectedDate;if(dr(xr)&&pr.push("rmdp-disabled"),!pr.includes("rmdp-disabled")||!gr){if(Nn.year===xr&&pr.push("rmdp-today"),Vn)if(ir){var Ur=Or[0],Ir=Or[1];if(Or.length===1){if(xr===Ur.year&&pr.push("rmdp-range"),Yn){var jr=Or[0].year;(xr>jr&&xr<=or||xr<jr&&xr>=or)&&(pr.push("rmdp-range-hover"),xr===or&&pr.push(or>jr?"end":"start"))}}else Or.length===2&&(xr>=Ur.year&&xr<=Ir.year&&pr.push("rmdp-range"),xr===Ur.year&&pr.push("start"),xr===Ir.year&&pr.push("end"))}else[].concat(Or).some(function(rs){return rs&&rs.year===xr})&&pr.push("rmdp-selected");else xr===Sr.year&&pr.push("rmdp-selected");return pr.join(" ")}}function dr(xr){return rr&&xr<rr.year||Kn&&xr>Kn.year}}function sn(un,dn,yn){return yn||(un?"MM/YYYY":dn?"YYYY":"YYYY/MM/DD")}function rn(un,dn){return un instanceof at.default?un.setCalendar(dn):un=new at.default({date:un,calendar:dn}),un}function Jt(un){"_self"in st.default.createElement("div")&&console.warn(un.join(`
`))}var Ut=new at.default,Kt=Ut.calendar,Qt=Ut.locale;function zt(un,dn){return un&&un.constructor!==Object&&(Jt(Ht("calendar")),un=void 0),dn&&dn.constructor!==Object&&(Jt(Ht("locale")),dn=void 0),[un||Kt,dn||Qt]}function Ht(un){return["".concat(un," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function en(un){return un&&un.name?un.name.split("_")[1]:""}function an(un){return["fa","ar"].includes(en(un))}function on(un,dn){dn===void 0&&(dn={});var yn=dn.insertAt;if(un&&typeof document<"u"){var bn=document.head||document.getElementsByTagName("head")[0],Tn=document.createElement("style");Tn.type="text/css",yn==="top"&&bn.firstChild?bn.insertBefore(Tn,bn.firstChild):bn.appendChild(Tn),Tn.styleSheet?Tn.styleSheet.cssText=un:Tn.appendChild(document.createTextNode(un))}}on(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start,.rmdp-range.start{border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end,.rmdp-range.end{border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start,.rmdp-ym .rmdp-range.start{border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end,.rmdp-ym .rmdp-range.end{border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;height:38px;line-height:37px;margin-top:5px}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:250px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left,.rmdp-right{position:absolute;top:54%;transform:translateY(-50%)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start,.rmdp-rtl .rmdp-range.start{border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end,.rmdp-rtl .rmdp-range.end{border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end{border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start,.rmdp-rtl .rmdp-ym .rmdp-range.start{border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end,.rmdp-rtl .rmdp-ym .rmdp-range.end{border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:205px}.rmdp-header{height:32px;line-height:32px}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var Wt=["datePickerProps","DatePicker"];function mn(un,dn){var yn,bn=un.value,Tn=un.calendar,Pn=un.locale,Yn=un.format,Un=un.onlyMonthPicker,Nn=un.onlyYearPicker,rr=un.range,Kn=rr!==void 0&&rr,Vn=un.multiple,ir=Vn!==void 0&&Vn,gr=un.className,Gr=un.weekDays,Rs=un.months,$s=un.children,kn=un.onChange,or=un.showOtherDays,sr=un.minDate,Ar=un.maxDate,ar=un.mapDays,Pr=un.disableMonthPicker,dr=un.disableYearPicker,xr=un.formattingIgnoreList,pr=un.onReady,Sr=un.onlyShowInRangeDates,Or=Sr===void 0||Sr,Ur=un.zIndex,Ir=Ur===void 0?100:Ur,jr=un.plugins,rs=jr===void 0?[]:jr,Er=un.sort,ps=un.numberOfMonths,Br=ps===void 0?1:ps,is=un.currentDate,ur=un.digits,Ls=un.buttons,cr=Ls===void 0||Ls,Mr=un.renderButton,js=un.weekStartDayIndex,wr=js===void 0?0:js,ys=un.disableDayPicker,ss=un.onPropsChange,os=un.onMonthChange,xs=un.onYearChange,ts=un.onFocusedDateChange,Fr=un.readOnly,Jr=un.disabled,hs=un.hideMonth,Os=un.hideYear,uo=un.hideWeekDays,ws=un.shadow,go=ws===void 0||ws,Vr=un.fullYear,Ns=un.displayWeekNumbers,Ts=un.weekNumber,eo=un.weekPicker,ao=un.rangeHover;!is||is instanceof at.default||(console.warn("currentDate must be instance of DateObject"),is=void 0),(typeof wr!="number"||wr<0||wr>6)&&(wr=0),(typeof Br!="number"||Br<1||Un||Nn)&&(Br=1),(ir||Kn||vt(bn))&&(Kn||ir||(ir=!0),ir&&Kn&&(ir=!1)),eo&&(Kn=!0,ir=!1),Vr&&(Br=12,Un=!1,Nn=!1),Nn&&!hs&&(hs=!0);var vo=zt(Tn,Pn),Vs=mt(vo,2);Tn=Vs[0],Pn=Vs[1],Yn=sn(Un,Nn,Yn),xr=Bt(xr),ar=[].concat(ar).filter(Boolean),rs=[].concat.apply([],rs);var co=et.useState({}),Bo=mt(co,2),Ks=Bo[0],Hr=Bo[1],Kr={},ks=et.useRef({mustCallOnReady:!0,currentDate:is});et.useEffect(function(){Hr(function(Hn){var mr=ks.current.currentDate,yr=Hn.date,Cr=Hn.selectedDate,Rr=Hn.initialValue,zr=Hn.focused,Ds=Hn.mustSortDates;function bs(ro){if(ro)return ro.calendar.name!==Tn.name&&ro.setCalendar(Tn),ro.locale.name!==Pn.name&&ro.setLocale(Pn),ro._format!==Yn&&ro.setFormat(Yn),ro.digits=ur,ro.ignoreList=JSON.parse(xr),ro}function fo(ro){return new at.default(mr||ro)}if(bn)if(vt(Cr=Cn(bn,Tn,Pn,Yn)))yr||(yr=fo(Cr[0]));else if(yr&&Br!==1){var $r=new at.default(yr).toFirstOfMonth(),Co=new at.default(yr).add(Br-1,"months").toLastOfMonth();(Cr<$r||Cr>Co)&&(yr=new at.default(Cr))}else yr=fo(Cr);else yr||(yr=fo({calendar:Tn,locale:Pn,format:Yn})),Rr&&(Cr=void 0);if([].concat(Cr).forEach(bs),bs(yr),ir||Kn||vt(bn)){if(Cr||(Cr=[]),vt(Cr)||(Cr=[Cr]),Kn&&Cr.length>2){var _s=Cr[Cr.length-1];Cr=[Cr[0],_s],zr=_s}ir&&Er&&!Ds?(Ds=!0,Cr.sort(function(ro,$o){return ro-$o})):Kn&&Cr.sort(function(ro,$o){return ro-$o})}else vt(Cr)&&(Cr=Cr[Cr.length-1]);return Vr&&yr.toFirstOfYear(),delete ks.current.currentDate,ut(ut({},Hn),{},{date:yr,selectedDate:Cr,multiple:ir,range:Kn,onlyMonthPicker:Un,onlyYearPicker:Nn,initialValue:Hn.initialValue||bn,value:bn,focused:zr,calendar:Tn,locale:Pn,format:Yn,mustSortDates:Ds,year:yr.year,today:Hn.today||new at.default({calendar:Tn}),weekPicker:eo})})},[bn,Tn,Pn,Yn,Un,Nn,Kn,ir,Er,Br,ur,xr,Vr,eo]),et.useEffect(function(){(sr||Ar)&&Hr(function(Hn){var mr=Hn.calendar,yr=Hn.locale,Cr=Hn.format,Rr=mt(En(Cn(bn,mr,yr,Cr),sr,Ar,mr),3),zr=Rr[0],Ds=Rr[1],bs=Rr[2];return ut(ut({},Hn),{},{inRangeDates:Or?zr:Hn.selectedDate,minDate:Ds,maxDate:bs})})},[sr,Ar,Or,bn]),Ks.today&&!ks.current.isReady&&(ks.current.isReady=!0),et.useEffect(function(){ks.current.isReady&&ks.current.mustCallOnReady&&pr instanceof Function&&(ks.current.mustCallOnReady=!1,pr())},[ks.current.isReady,pr]);var to="rmdp-top-class "+xn(["top","bottom"]),Zs={top:[],bottom:[],left:[],right:[]},To=an((yn=Ks.date)===null||yn===void 0?void 0:yn.locale),Lr={state:Ks,setState:Hr,onChange:no,sort:Er,handleFocusedDate:ms,isRTL:To,fullYear:Vr,monthAndYears:Xn(),rangeHover:ao},ns=arguments[0],Xs=ns.datePickerProps,Vo=ns.DatePicker,Js=ht(ns,Wt);return Eo(),Ks.today?st.default.createElement("div",{ref:Bn,className:"rmdp-wrapper rmdp-".concat(go?"shadow":"border"," ").concat(gr||""),style:{zIndex:Ir}},Zs.top,st.default.createElement("div",{style:{display:"flex"},className:to},Zs.left,!ys&&st.default.createElement("div",{className:"rmdp-calendar ".concat(To?"rmdp-rtl":""," ").concat(xn(["left","right"]))},st.default.createElement(Ft,dt({},Lr,{disableYearPicker:dr,disableMonthPicker:Pr,buttons:cr,renderButton:Mr,handleMonthChange:cn,disabled:Jr,hideMonth:hs,hideYear:Os})),st.default.createElement("div",{style:{position:"relative"}},st.default.createElement(It,dt({},Lr,{showOtherDays:or,mapDays:ar,onlyShowInRangeDates:Or,customWeekDays:Gr,numberOfMonths:Br,weekStartDayIndex:wr,hideWeekDays:uo,displayWeekNumbers:Ns,weekNumber:Ts})),!Vr&&st.default.createElement(st.default.Fragment,null,!Pr&&st.default.createElement(Nt,dt({},Lr,{customMonths:Rs,handleMonthChange:cn})),!dr&&st.default.createElement(nn,dt({},Lr,{onYearChange:xs}))))),Zs.right),Zs.bottom,$s):null;function Eo(){if(ks.current.isReady&&vt(rs)){var Hn={state:Ks,setState:Hr,registerListener:Sn,calendarProps:Js,datePickerProps:Xs,handleChange:no,Calendar:ks.current.Calendar,DatePicker:Vo,handlePropsChange:Ao,handleFocusedDate:function(yr){return ms(yr)}},mr=function(yr){return ys?"bottom":yr.props.position||"right"};rs.forEach(function(yr,Cr){if(typeof yr.type!="string"){var Rr={},zr=mr(yr);if(Zs[zr]&&!yr.props.disabled){for(var Ds=0;Ds<rs.length;Ds++)if(typeof rs[Ds].type!="string"&&!rs[Ds].props.disabled){if(Object.keys(Rr).length===4)break;var bs=mr(rs[Ds]);["top","bottom"].includes(zr)?(bs===zr&&Ds>Cr&&(Rr.bottom=!0),bs===zr&&Ds<Cr&&(Rr.top=!0)):(to.includes("border-top")&&(Rr.top=!0),to.includes("border-bottom")&&(Rr.bottom=!0),bs===zr&&Ds>Cr&&(Rr.right=!0),bs===zr&&Ds<Cr&&(Rr.left=!0))}Zs[zr].push(et.cloneElement(yr,ut({key:Cr,position:zr,nodes:Rr},Hn)))}}else yr.type==="mapDays"&&ar.push(yr.fn(Hn))})}}function no(Hn,mr){if(!Jr){if(Hn||Hn===null){if(Fr)return;Kr.change&&Kr.change.forEach(function(yr){return yr(Hn)})}mr&&Hr(mr),(Hn||Hn===null)&&(kn==null||kn(Hn)),Ao({value:Hn})}}function Ao(){var Hn,mr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Fr&&!Jr){var yr=ut(ut(ut(ut({},Js),Xs),mr),{},{value:(Hn=mr.value)!==null&&Hn!==void 0?Hn:Ks.selectedDate});delete yr.onPropsChange,ss==null||ss(yr)}}function ms(Hn,mr){Fr||Jr||ts==null||ts(Hn,mr)}function cn(Hn){os==null||os(Hn)}function xn(Hn){return ys||!vt(rs)?"":Array.from(new Set(rs.map(function(mr){if(!mr.props)return"";var yr=mr.props.position||"right";return Hn.includes(yr)&&!mr.props.disabled?"rmdp-border-"+yr:""}))).join(" ")}function Sn(Hn,mr){Kr[Hn]||(Kr[Hn]=[]),Kr[Hn].push(mr)}function Bn(Hn){if(Hn&&(Hn.date=Ks.date,Hn.set=function(mr,yr){Jr||Hr(ut(ut({},Ks),{},{date:new at.default(Ks.date.set(mr,yr))}))}),ks.current.Calendar=Hn,dn instanceof Function)return dn(Hn);dn&&(dn.current=Hn)}function Xn(){var Hn=Ks.date;if(!Hn)return[];for(var mr=[],yr=[],Cr=Hn.digits,Rr=0;Rr<Br;Rr++){var zr=void 0,Ds=Hn.year,bs=Hn.monthIndex+Rr;if(bs>11&&(bs-=12,Ds++),vt(Rs)&&Rs.length>=12){var fo=Rs[bs];zr=vt(fo)?fo[0]:fo}else zr=Hn.months[bs].name;Ds=Xt(Ds.toString(),Cr),mr.push(zr),yr.push(Ds)}return[mr,yr]}}var vn=et.forwardRef(mn);function En(un,dn,yn,bn){return dn&&(dn=rn(dn,bn).set({hour:0,minute:0,second:0,millisecond:0})),yn&&(yn=rn(yn,bn).set({hour:23,minute:59,second:59,millisecond:999})),vt(un)&&(un=un.filter(function(Tn){return!(dn&&Tn<dn)&&!(yn&&Tn>yn)})),[un,dn,yn]}function Cn(un,dn,yn,bn){var Tn=[].concat(un).map(function(Pn){return Pn?Pn instanceof at.default?Pn:new at.default({date:Pn,calendar:dn,locale:yn,format:bn}):{}}).filter(function(Pn){return Pn.isValid});return vt(un)?Tn:Tn[0]}on('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var $n=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons"],Fn=["label"];function Ln(un,dn){var yn=un.value,bn=un.calendar,Tn=un.locale,Pn=un.format,Yn=un.onlyMonthPicker,Un=un.onlyYearPicker,Nn=un.onChange,rr=un.range,Kn=rr!==void 0&&rr,Vn=un.multiple,ir=Vn!==void 0&&Vn,gr=un.name,Gr=un.id,Rs=un.title,$s=un.placeholder,kn=un.required,or=un.style,sr=or===void 0?{}:or,Ar=un.className,ar=Ar===void 0?"":Ar,Pr=un.inputClass,dr=un.disabled,xr=un.render,pr=un.weekDays,Sr=un.months,Or=un.children,Ur=un.inputMode,Ir=un.scrollSensitive,jr=Ir===void 0||Ir,rs=un.hideOnScroll,Er=un.minDate,ps=un.maxDate,Br=un.formattingIgnoreList,is=un.containerClassName,ur=is===void 0?"":is,Ls=un.calendarPosition,cr=Ls===void 0?"bottom-left":Ls,Mr=un.editable,js=Mr===void 0||Mr,wr=un.onOpen,ys=un.onClose,ss=un.arrowClassName,os=ss===void 0?"":ss,xs=un.zIndex,ts=xs===void 0?100:xs,Fr=un.arrow,Jr=Fr===void 0||Fr,hs=un.fixMainPosition,Os=un.onPositionChange,uo=un.onPropsChange,ws=un.digits,go=un.readOnly,Vr=un.shadow,Ns=Vr===void 0||Vr,Ts=un.onFocusedDateChange,eo=un.type,ao=un.weekPicker,vo=un.mobileLabels,Vs=un.onOpenPickNewDate,co=Vs===void 0||Vs,Bo=un.mobileButtons,Ks=Bo===void 0?[]:Bo,Hr=ht(un,$n),Kr=et.useState(),ks=mt(Kr,2),to=ks[0],Zs=ks[1],To=et.useState(),Lr=mt(To,2),ns=Lr[0],Xs=Lr[1],Vo=et.useState(""),Js=mt(Vo,2),Eo=Js[0],no=Js[1],Ao=et.useState(!1),ms=mt(Ao,2),cn=ms[0],xn=ms[1],Sn=et.useState(!1),Bn=mt(Sn,2),Xn=Bn[0],Hn=Bn[1],mr=et.useRef(),yr=et.useRef(),Cr=et.useRef(),Rr=et.useRef({}),zr=Kn||ao?" ~ ":", ",Ds=arguments[0],bs=mu(),fo=et.useCallback(function(){if((ys==null?void 0:ys())!==!1){var hr=er(yr);if(hr&&hr.blur(),Rr.current.mobile){var Wr=Cr.current.parentNode.parentNode;Wr.classList.remove("rmdp-calendar-container-mobile"),Wr.style.position="absolute",Wr.style.visibility="hidden"}xn(!1),Hn(!1)}},[ys]),$r=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Xs(void 0),fo()},label:_l("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){ns&&(as(ns,!0),Xs(void 0)),fo()},label:_l("OK")}];bs&&!Rr.current.mobile&&(Rr.current=ut(ut({},Rr.current),{},{mobile:!0})),!bs&&Rr.current.mobile&&(Rr.current=ut(ut({},Rr.current),{},{mobile:!1})),Br=Bt(Br),Pn=sn(Yn,Un,Pn);var Co=zt(bn,Tn),_s=mt(Co,2);return bn=_s[0],Tn=_s[1],et.useEffect(function(){function hr(yo){if(cn&&!Rr.current.mobile){var lo=[];if([yr.current,Cr.current].forEach(function(Yr){!Yr||Yr.contains(yo.target)||yo.target.classList.contains("b-deselect")||lo.push(Yr)}),lo.length===2)return fo();Cr.current&&Cr.current.contains(yo.target)&&(mr.current.removeTransition(),mr.current.refreshPosition())}}function Wr(){rs&&cn&&fo()}return document.addEventListener("click",hr,!1),document.addEventListener("scroll",Wr,!0),function(){document.removeEventListener("click",hr,!1),document.removeEventListener("scroll",Wr,!0)}},[fo,dn,cn,rs]),et.useEffect(function(){var hr=yn,Wr=Rr.current,yo=Wr.date,lo=Wr.initialValue,Yr=function(){return hr[hr.length-1]};function Hs(Fs){if(Fs)return Fs instanceof at.default||(Fs=new at.default({date:Fs,calendar:bn,locale:Tn,format:Pn})),Fs.calendar!==bn&&Fs.setCalendar(bn),Fs.set({weekDays:pr,months:Sr,digits:ws,locale:Tn,format:Pn,ignoreList:JSON.parse(Br)}),Fs}yn||lo||!yo?lo&&!yn&&(lo=void 0):hr=yo,Kn||ir||vt(hr)?(vt(hr)||(hr=[hr]),hr=hr.map(Hs).filter(function(Fs){return Fs!==void 0}),Kn&&hr.length>2&&(hr=[hr[0],Yr()]),no(Gn(hr,zr))):(vt(hr)&&(hr=Yr()),hr=Hs(hr),document.activeElement!==er(yr)&&no(hr?hr.format():"")),Rr.current=ut(ut({},Rr.current),{},{date:hr,separator:zr,initialValue:lo||yn}),Rr.current.mobile&&mr.current.isOpen?Xs(hr):Zs(hr)},[yn,bn,Tn,Pn,Kn,ir,zr,Yn,Un,pr,Sr,ws,Br]),et.useEffect(function(){var hr=Rr.current.selection;if(hr){var Wr=er(yr);Wr&&(Wr.setSelectionRange(hr,hr),Rr.current.selection=void 0,mr.current.refreshPosition())}},[Eo]),(ir||Kn||vt(to)||!js)&&(Ur="none"),st.default.createElement(ot.default,dt({ref:ro,element:$o(),popper:cn&&pu(),active:!bs&&Xn,position:cr,arrow:!bs&&Jr,fixMainPosition:!jr||hs,zIndex:ts,onChange:!bs&&Os,containerClassName:"rmdp-container ".concat(ur),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(Ns?"shadow":"border"),ar,os].join(" ")},Hr));function ro(hr){if(hr&&(hr.openCalendar=function(){return setTimeout(function(){return Ho()},10)},hr.closeCalendar=fo,hr.isOpen=cn&&Xn),mr.current=hr,dn instanceof Function)return dn(hr);dn&&(dn.current=hr)}function $o(){if(typeof eo=="string"&&Jt(["the type Prop is deprecated.","https://shahabyazdi.github.io/react-multi-date-picker/types/"]),xr){var hr,Wr=vt(to)||ir||Kn?Gn(to,zr):Eo;return st.default.createElement("div",{ref:yr},et.isValidElement(xr)?et.cloneElement(xr,(ft(hr={},ir||Kn?"stringDates":"stringDate",Wr),ft(hr,"value",Wr),ft(hr,"openCalendar",Ho),ft(hr,"handleValueChange",Yl),ft(hr,"locale",Tn),ft(hr,"separator",zr),hr)):xr instanceof Function?xr(Wr,Ho,Yl,Tn,zr):null)}return st.default.createElement("input",{ref:yr,type:"text",name:gr,id:Gr,title:Rs,required:kn,onFocus:Ho,className:Pr||"rmdp-input",placeholder:$s,value:Eo,onChange:Yl,style:sr,autoComplete:"off",disabled:!!dr,inputMode:Ur||(bs?"none":void 0),readOnly:go})}function pu(){return st.default.createElement(vn,dt({ref:Cr,value:ns||to,onChange:as,range:Kn,multiple:ir,calendar:bn,locale:Tn,format:Pn,onlyMonthPicker:Yn,onlyYearPicker:Un,className:ar+(bs?" rmdp-mobile":""),weekDays:pr,months:Sr,digits:ws,minDate:Er,maxDate:ps,formattingIgnoreList:JSON.parse(Br),onPropsChange:uo,shadow:Ns,onReady:Jo,DatePicker:mr.current,datePickerProps:Ds,onFocusedDateChange:gu,weekPicker:ao},Hr),Or,bs&&Zo())}function mu(){return typeof ar=="string"&&ar.includes("rmdp-mobile")}function Zo(){var hr=[].concat.apply([],Ds.plugins||[]).some(function(Wr){var yo=Wr.props;return!(yo===void 0?{}:yo).disabled});return vt(Ks)&&st.default.createElement("div",{className:"rmdp-action-buttons ".concat(an(Tn)?"rmdp-rtl":""," ").concat(hr?"rmdp-border-top":"")},Ks.concat($r).map(function(Wr,yo){var lo=Wr.label,Yr=ht(Wr,Fn);return st.default.createElement("button",dt({key:yo},Yr),lo)}))}function _l(hr){var Wr;return!Tn||typeof Tn.name!="string"?hr:(vo==null?void 0:vo[hr])||((Wr={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"تأیید",CANCEL:"لغو"},ar:{OK:"تأكيد",CANCEL:"الغاء"},hi:{OK:"पुष्टि",CANCEL:"रद्द करें"}}[en(Tn)])===null||Wr===void 0?void 0:Wr[hr])||hr}function Ho(){if(!dr&&!go&&(wr==null?void 0:wr())!==!1){if(es()){var hr=new at.default({calendar:bn,locale:Tn,format:Pn,months:Sr,weekDays:pr,digits:ws,ignoreList:JSON.parse(Br)});(!Er||hr>Er)&&(!ps||hr<ps)&&(as(hr),uo==null||uo(ut(ut({},Ds),{},{value:hr})),Rr.current.date=hr)}var Wr=er(yr);bs&&Wr&&Wr.blur(),Wr||!cn?xn(!0):fo()}}function es(){return co&&!yn&&!Rr.current.date&&!Kn&&!ir&&!bs}function as(hr,Wr){if(bs&&!Wr)return Xs(hr);Zs(hr),Rr.current=ut(ut({},Rr.current),{},{date:hr}),Nn==null||Nn(hr),hr&&no(Gn(hr,zr))}function Yl(hr){if(!vt(to)&&js){Rr.current.selection=hr.target.selectionStart;var Wr=hr.target.value,yo={calendar:bn,locale:Tn,format:Pn,ignoreList:JSON.parse(Br)};if(ws=vt(ws)?ws:Tn.digits,!Wr)return no(""),as(null);if(ws){var lo,Yr,Hs=gt(ws);try{for(Hs.s();!(lo=Hs.n()).done;){var Fs=lo.value;Wr=Wr.replace(new RegExp(Fs,"g"),ws.indexOf(Fs))}}catch(Po){Hs.e(Po)}finally{Hs.f()}as((Yr=/(?=.*Y)(?=.*M)(?=.*D)/.test(Pn)?new at.default(ut(ut({},yo),{},{date:Wr})):new at.default(yo).parse(Wr)).isValid?Yr:null),no(Xt(Wr,ws))}}}function Jo(){if(Hn(!0),bs){var hr=Cr.current.parentNode.parentNode;hr.className="rmdp-calendar-container-mobile",hr.style.position="fixed",hr.style.transform="",setTimeout(function(){hr.style.visibility="visible"},50)}}function gu(hr,Wr){vt(Rr.current.date)||!Wr||bs||fo(),Ts==null||Ts(hr,Wr)}}var Mn=et.forwardRef(Ln);function Gn(un,dn){var yn=[].concat(un).map(function(bn){return bn!=null&&bn.isValid?bn.format():""});return yn.toString=function(){return this.filter(Boolean).join(dn)},yn}function er(un){if(un.current)return un.current.tagName==="INPUT"?un.current:un.current.querySelector("input")}Object.defineProperty(tt,"DateObject",{enumerable:!0,get:function(){return at.default}}),tt.Calendar=vn,tt.default=Mn,tt.getAllDatesInRange=function(){var un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],dn=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(un))return[];var yn=un[0],bn=un[un.length-1],Tn=[];if(!(yn instanceof at.default&&bn instanceof at.default&&yn.isValid&&bn.isValid&&!(yn>bn)))return[];for(yn=new at.default(yn),bn=new at.default(bn);yn<=bn;yn.day++)Tn.push(dn?yn.toDate():new at.default(yn));return Tn},tt.toDateObject=rn})(build);const DatePicker=getDefaultExportFromCjs(build);var e={name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:tt=>[31,31,31,31,31,31,30,30,30,30,30,tt?30:29],isLeap(tt){return this.getLeaps(tt).includes(tt)},getLeaps(tt){if(tt===0)return;let et=tt>0?1:-1,nt=[],rt=.242362,it=tt>0?.2684:.7316,st={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;tt>0?et<=tt:tt<=et;){if(it+=tt>0?rt:-1*rt,it>1&&(it-=1),it<0&&(it+=1),it>=.257800926&&it<=.5){let ot=st[et]||et<-1?et+1:et;tt>0&&ot<=tt&&nt.push(ot),tt<0&&nt.push(ot)}tt>0?et++:et--}return nt},getDayOfYear:({month:{index:tt},day:et})=>(tt<=6?31*tt:186+30*(tt-6))+et,getAllDays(tt){const{year:et}=tt,nt=this.getLeaps(et),rt=nt.includes(et);return this.yearLength*(et-1)+(rt?nt.length-1:nt.length)+this.getDayOfYear(tt)},guessYear:(tt,et)=>~~((tt+.5)/365.241)+(et>0?1:-1)},persian=e;const persian$1=getDefaultExportFromCjs(persian);var persian_fa={name:"persian_fa",months:[["فروردین","فر"],["اردیبهشت","ار"],["خرداد","خرد"],["تیر","تیر"],["مرداد","مر"],["شهریور","شه"],["مهر","مه"],["آبان","آبا"],["آذر","آذ"],["دی","دی"],["بهمن","بهم"],["اسفند","اسف"]],weekDays:[["شنبه","شن"],["یکشنبه","یک"],["دوشنبه","دو"],["سه شنبه","سه"],["چهارشنبه","چهار"],["پنجشنبه","پنج"],["جمعه","جم"]],digits:["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],meridiems:[["قبل از ظهر","ق.ظ"],["بعد از ظهر","ب.ظ"]]};const persian_fa$1=getDefaultExportFromCjs(persian_fa),Select=styled.select`
  width: 100%;
  position: relative;
  margin-bottom: 24px;
  margin-top: 12px;
  width: 100%;
  text-align: right;
  direction: rtl;
  padding: 8px;
  font-size: 1rem !important;
  height: 50px !important;
  border-radius: 8px !important;
  border: 1px solid #c2c2c2 !important;
  font-family: iransans;
  outline: none;

  &.invalid {
    border: 1px solid red !important;
    box-shadow: 2px 2px 5px 0px #ef58589e;
  }
`;function SelectProvince({onChange:tt,name:et,error:nt,value:rt,disabled:it}){return jsxRuntimeExports.jsxs(Select,{disabled:it,name:et,onChange:st=>tt(ot=>({...ot,[st.target.name]:st.target.value})),className:`${nt&&"invalid"}`,value:rt,children:[jsxRuntimeExports.jsx("option",{value:"none",children:"استان خود را انتخاب کنید"}),jsxRuntimeExports.jsx("option",{value:"تهران",children:"تهران"}),jsxRuntimeExports.jsx("option",{value:"گیلان",children:"گیلان"}),jsxRuntimeExports.jsx("option",{value:"آذربایجان شرقی",children:"آذربایجان شرقی"}),jsxRuntimeExports.jsx("option",{value:"خوزستان",children:"خوزستان"}),jsxRuntimeExports.jsx("option",{value:"فارس",children:"فارس"}),jsxRuntimeExports.jsx("option",{value:"اصفهان",children:"اصفهان"}),jsxRuntimeExports.jsx("option",{value:"خراسان رضوی",children:"خراسان رضوی"}),jsxRuntimeExports.jsx("option",{value:"قزوین",children:"قزوین"}),jsxRuntimeExports.jsx("option",{value:"سمنان",children:"سمنان"}),jsxRuntimeExports.jsx("option",{value:"قم",children:"قم"}),jsxRuntimeExports.jsx("option",{value:"مرکزی",children:"مرکزی"}),jsxRuntimeExports.jsx("option",{value:"زنجان",children:"زنجان"}),jsxRuntimeExports.jsx("option",{value:"مازندران",children:"مازندران"}),jsxRuntimeExports.jsx("option",{value:"گلستان",children:"گلستان"}),jsxRuntimeExports.jsx("option",{value:"اردبیل",children:"اردبیل"}),jsxRuntimeExports.jsx("option",{value:"آذربایجان غربی",children:"آذربایجان غربی"}),jsxRuntimeExports.jsx("option",{value:"همدان",children:"همدان"}),jsxRuntimeExports.jsx("option",{value:"کردستان",children:"کردستان"}),jsxRuntimeExports.jsx("option",{value:"کرمانشاه",children:"کرمانشاه"}),jsxRuntimeExports.jsx("option",{value:"لرستان",children:"لرستان"}),jsxRuntimeExports.jsx("option",{value:"بوشهر",children:"بوشهر"}),jsxRuntimeExports.jsx("option",{value:"کرمان",children:"کرمان"}),jsxRuntimeExports.jsx("option",{value:"هرمزگان",children:"هرمزگان"}),jsxRuntimeExports.jsx("option",{value:"چهارمحال و بختیاری",children:"چهارمحال و بختیاری"}),jsxRuntimeExports.jsx("option",{value:"یزد",children:"یزد"}),jsxRuntimeExports.jsx("option",{value:"سیستان و بلوچستان",children:"سیستان و بلوچستان"}),jsxRuntimeExports.jsx("option",{value:"ایلام",children:"ایلام"}),jsxRuntimeExports.jsx("option",{value:"کهگلویه و بویراحمد",children:"کهگلویه و بویراحمد"}),jsxRuntimeExports.jsx("option",{value:"خراسان شمالی",children:"خراسان شمالی"}),jsxRuntimeExports.jsx("option",{value:"خراسان جنوبی",children:"خراسان جنوبی"}),jsxRuntimeExports.jsx("option",{value:"البرز",children:"البرز"})]})}const KycContext=reactExports.createContext({});function KycProvider({children:tt,id:et}){const[nt,rt]=reactExports.useState({}),{Request:it}=useRequest();return reactExports.useEffect(()=>{it("kyc").then(st=>{rt(st.data.data)})},[]),jsxRuntimeExports.jsx(KycContext.Provider,{value:[nt,rt],children:tt})}const Container$q=styled.section`
  z-index: 501;
  background-color: white;
  height:100%;
  width: 450px;
  position: absolute;
  bottom:25%;
  left:8%;
  border-radius: 8px;
  padding: 16px;
`,Header$3=styled.div`
  width: 100%;
  height: 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;

  & h4 {
    width:87%;
    text-align: right;
    direction: rtl;
    color: #555;
    padding: 8px;
    border: 0.5px solid #999;
    box-shadow: inset 0 2px 6px -1px #07af07be;
    border-radius: 8px;
  }
`,Body$1=styled.div`
  margin-top: 8px;
  width: 100%;
  height: 91%;
  border: 0.5px solid #999;
  border-radius: 8px;
  overflow-y: scroll;
  box-shadow: inset 0 2px 6px -1px #07af07be;
      padding: 11px;
    display: flex;
    flex-direction: column;
    gap: 10px;
`,Information$1=styled.div`
  text-align: right;
  color: red;
  & > p {
    margin-top: 8px;
    
  }

  & > div {
    position: relative;
  }
  border-bottom: 1px solid #6666;
  padding-bottom: 12px;
`,Gif=styled.img`
  width: 350px;
`,AnimateContainer=styled.div`
  width: 100%;
  height: 80%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;

  & p {
    text-align: right;
    direction: rtl;
    margin-top: -32px;
    font-weight: bold;
  }
`;function ErrorVerification({errors:tt,setShowModal:et}){return jsxRuntimeExports.jsxs(Container$q,{children:[jsxRuntimeExports.jsxs(Header$3,{children:[jsxRuntimeExports.jsx("h4",{className:"purple-box-shadow",children:"مشکلات احراز هویت"}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer white-drop-shadow",src:ExitImage,width:40,alt:"exit",onClick:()=>et(!1)})]}),jsxRuntimeExports.jsxs(Body$1,{children:[tt==null?void 0:tt.map(nt=>jsxRuntimeExports.jsx(Information$1,{children:nt==null?void 0:nt.message})),(tt==null?void 0:tt.length)===0&&jsxRuntimeExports.jsxs(AnimateContainer,{children:[jsxRuntimeExports.jsx(Gif,{src:BellGif,alt:""}),jsxRuntimeExports.jsx("p",{children:"خطایی یافت نشد !"})]})]})]})}const Container$p=styled.div`
  width: 100%;
  height: 370px;
  overflow-y: scroll;
  display: flex;
  padding: 16px;
  flex-direction: row-reverse;
`,InputContainer$2=styled.div`
  width: 100%;
  padding: 8px;
`,IconError=styled.img`
  width: 50px;
  cursor: pointer;
`,MainContainer=styled.div`
  width: 100%;
  height: 430px !important;
  overflow-y: scroll;
`,ErrorContainer$3=styled.div`
  width: 95%;
  margin: auto;
  background-color: #df2e38;
  border-radius: 32px;
`,errorHandler$1=(tt,et)=>{var nt;try{return(nt=tt==null?void 0:tt.filter(rt=>(rt==null?void 0:rt.name)===et)[0])==null?void 0:nt.message}catch{}};function PersonalVerification({setDefaultTab:tt}){const[et,nt]=reactExports.useContext(KycContext),[rt,it]=reactExports.useState([]),[st,ot]=reactExports.useState([]),[at,lt]=reactExports.useState(!1),[ut,ft]=reactExports.useState({fname:"",lname:"",father_name:"",melli_code:"",province:"",city:"",postal_code:"",number:"",address:"",birthdate:"",site:""});reactExports.useEffect(()=>{typeof(et==null?void 0:et.errors)=="object"&&it(et==null?void 0:et.errors),ft({fname:(et==null?void 0:et.fname)===void 0?"":et==null?void 0:et.fname,lname:(et==null?void 0:et.lname)===void 0?"":et==null?void 0:et.lname,father_name:(et==null?void 0:et.father_name)===void 0?"":et==null?void 0:et.father_name,melli_code:(et==null?void 0:et.melli_code)===void 0?"":et==null?void 0:et.melli_code,province:(et==null?void 0:et.province)===void 0?"":et==null?void 0:et.province,city:(et==null?void 0:et.city)===void 0?"":et==null?void 0:et.city,postal_code:(et==null?void 0:et.postal_code)===void 0?"":et==null?void 0:et.postal_code,number:(et==null?void 0:et.number)===void 0?"":et==null?void 0:et.number,address:(et==null?void 0:et.address)===void 0?"":et==null?void 0:et.address,birthdate:(et==null?void 0:et.birthdate)===void 0?"":et==null?void 0:et.birthdate,site:(et==null?void 0:et.site)===void 0?"":et==null?void 0:et.site})},[et,rt]);const dt=()=>{var ht,mt,xt,_t,At,gt,vt,Et,yt,wt,Ct;if(!(ut!=null&&ut.fname))return ot(["نام وارد نشده است."]);if(((ht=ut==null?void 0:ut.fname)==null?void 0:ht.length)>32)return ot(["نام وارد شده باید کمتر از 32 کاراکتر داشته باشد."]);if(((mt=ut==null?void 0:ut.fname)==null?void 0:mt.length)<3)return ot(["نام وارد شده باید بیشتر از 3 کاراکتر داشته باشد."]);if(!(ut!=null&&ut.lname))return ot(["نام خانوادگی وارد نشده است."]);if(((xt=ut==null?void 0:ut.lname)==null?void 0:xt.length)>52)return ot(["نام خانوادگی وارد شده باید کمتر از 52 کاراکتر داشته باشد."]);if(((_t=ut==null?void 0:ut.lname)==null?void 0:_t.length)<3)return ot(["نام خانوادگی وارد شده باید بیشتر از 3 کاراکتر داشته باشد."]);if(!(ut!=null&&ut.father_name))return ot(["نام پدر وارد نشده است."]);if(((At=ut==null?void 0:ut.father_name)==null?void 0:At.length)>32)return ot(["نام پدر وارد شده باید کمتر از 32 کاراکتر داشته باشد."]);if(((gt=ut==null?void 0:ut.father_name)==null?void 0:gt.length)<3)return ot(["نام پدر وارد شده باید بیشتر از 3 کاراکتر داشته باشد."]);if(!V$1(ut==null?void 0:ut.melli_code))return ot(["کد ملی صحیح نمی باشد."]);if((ut==null?void 0:ut.province)==="none"||(ut==null?void 0:ut.province)==="")return ot(["استان وارد نشده است"]);if(((vt=ut==null?void 0:ut.city)==null?void 0:vt.length)<2)return ot(["نام شهر وارد شده باید بیشتر از 2 کاراکتر داشته باشد."]);if(((Et=ut==null?void 0:ut.address)==null?void 0:Et.length)>200)return ot(["آدرس باید کمتر از 200 کاراکتر داشته باشد."]);if(((yt=ut==null?void 0:ut.address)==null?void 0:yt.length)<10)return ot(["آدرس باید بیشتر از 10 کاراکتر داشته باشد."]);if(((wt=ut==null?void 0:ut.number)==null?void 0:wt.length)>4)return ot(["پلاک باید کمتر از 4 رقم باشد."]);if(!(ut!=null&&ut.number))return ot(["پلاک وارد نشده است."]);if(((Ct=ut==null?void 0:ut.postal_code)==null?void 0:Ct.length)!==10)return ot(["کد پستی وارد شده نا معتبر است."]);if(!(ut!=null&&ut.birthdate))return ot(["تاریخ تولد وارد نشده است."]);ot([]),nt({...et,...ut}),tt(1)};return jsxRuntimeExports.jsxs(MainContainer,{children:[jsxRuntimeExports.jsx(ErrorContainer$3,{children:jsxRuntimeExports.jsx(ErrorMessage,{maxList:1,errors:st,style:{padding:8,color:"white"}})}),jsxRuntimeExports.jsxs(Form,{onSubmit:dt,children:[jsxRuntimeExports.jsxs(Container$p,{children:[jsxRuntimeExports.jsxs(InputContainer$2,{children:[jsxRuntimeExports.jsx(Input$4,{onChange:ft,name:"fname",text:": نام",value:ut==null?void 0:ut.fname,error:errorHandler$1(rt,"fname"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,numberOnly:!0,name:"melli_code",text:": کد ملی",value:ut==null?void 0:ut.melli_code,error:errorHandler$1(rt,"melli_code"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,name:"address",text:": خیابان",value:ut==null?void 0:ut.address,error:errorHandler$1(rt,"address"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,ignoreEn:!0,name:"site",text:": وبسایت",value:ut==null?void 0:ut.site,error:errorHandler$1(rt,"site"),disabled:parseInt(et==null?void 0:et.status)===1})]}),jsxRuntimeExports.jsxs(InputContainer$2,{children:[jsxRuntimeExports.jsx(Input$4,{onChange:ft,name:"lname",text:": نام خانوادگی",value:ut==null?void 0:ut.lname,error:errorHandler$1(rt,"lname"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(SelectProvince,{onChange:ft,name:"province",value:ut==null?void 0:ut.province,error:errorHandler$1(rt,"province"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,numberOnly:!0,name:"number",text:": پلاک",value:ut==null?void 0:ut.number,error:errorHandler$1(rt,"number"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(DatePicker,{style:{width:"100%"},calendar:persian$1,locale:persian_fa$1,inputClass:`datePicker ${errorHandler$1(rt,"birthdate")&&"invalid-input"}`,placeholder:"1402/01/01",onChange:ht=>ft({...ut,birthdate:fixNumbers(ht.format("YYYY/MM/DD"))}),disabled:parseInt(et==null?void 0:et.status)===1,value:ut.birthdate})]}),jsxRuntimeExports.jsxs(InputContainer$2,{children:[jsxRuntimeExports.jsx(Input$4,{onChange:ft,name:"father_name",text:": نام پدر",value:ut==null?void 0:ut.father_name,disabled:parseInt(et==null?void 0:et.status)===1,error:errorHandler$1(rt,"father_name")}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,name:"city",text:": شهر",value:ut==null?void 0:ut.city,error:errorHandler$1(rt,"city"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(Input$4,{onChange:ft,numberOnly:!0,name:"postal_code",text:": کد پستی",value:ut==null?void 0:ut.postal_code,error:errorHandler$1(rt,"postal_code"),disabled:parseInt(et==null?void 0:et.status)===1}),jsxRuntimeExports.jsx(IconError,{src:Error$1,onClick:()=>lt(ht=>!ht)}),at&&jsxRuntimeExports.jsx(ErrorVerification,{errors:rt,setShowModal:lt})]})]}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"بعدی",options:{style:{width:"95%"}}})]})]})}/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function ownKeys$1(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2$1(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(nt),!0).forEach(function(rt){_defineProperty$1(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys$1(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _classCallCheck$1(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,_toPropertyKey$1(rt.key),rt)}}function _createClass$1(tt,et,nt){return et&&_defineProperties$1(tt.prototype,et),nt&&_defineProperties$1(tt,nt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function _defineProperty$1(tt,et,nt){return et=_toPropertyKey$1(et),et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$1.apply(this,arguments)}function _toPrimitive$1(tt,et){if(typeof tt!="object"||tt===null)return tt;var nt=tt[Symbol.toPrimitive];if(nt!==void 0){var rt=nt.call(tt,et||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(tt)}function _toPropertyKey$1(tt){var et=_toPrimitive$1(tt,"string");return typeof et=="symbol"?et:String(et)}var canvasToBlob={exports:{}};(function(tt){typeof window>"u"||function(et){var nt=et.HTMLCanvasElement&&et.HTMLCanvasElement.prototype,rt=et.Blob&&function(){try{return!!new Blob}catch{return!1}}(),it=rt&&et.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),st=et.BlobBuilder||et.WebKitBlobBuilder||et.MozBlobBuilder||et.MSBlobBuilder,ot=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,at=(rt||st)&&et.atob&&et.ArrayBuffer&&et.Uint8Array&&function(lt){var ut,ft,dt,ht,mt,xt,_t,At,gt;if(ut=lt.match(ot),!ut)throw new Error("invalid data URI");for(ft=ut[2]?ut[1]:"text/plain"+(ut[3]||";charset=US-ASCII"),dt=!!ut[4],ht=lt.slice(ut[0].length),dt?mt=atob(ht):mt=decodeURIComponent(ht),xt=new ArrayBuffer(mt.length),_t=new Uint8Array(xt),At=0;At<mt.length;At+=1)_t[At]=mt.charCodeAt(At);return rt?new Blob([it?_t:xt],{type:ft}):(gt=new st,gt.append(xt),gt.getBlob(ft))};et.HTMLCanvasElement&&!nt.toBlob&&(nt.mozGetAsFile?nt.toBlob=function(lt,ut,ft){var dt=this;setTimeout(function(){ft&&nt.toDataURL&&at?lt(at(dt.toDataURL(ut,ft))):lt(dt.mozGetAsFile("blob",ut))})}:nt.toDataURL&&at&&(nt.msToBlob?nt.toBlob=function(lt,ut,ft){var dt=this;setTimeout(function(){(ut&&ut!=="image/png"||ft)&&nt.toDataURL&&at?lt(at(dt.toDataURL(ut,ft))):lt(dt.msToBlob(ut))})}:nt.toBlob=function(lt,ut,ft){var dt=this;setTimeout(function(){lt(at(dt.toDataURL(ut,ft)))})})),tt.exports?tt.exports=at:et.dataURLtoBlob=at}(window)})(canvasToBlob);var toBlob=canvasToBlob.exports,isBlob=function(et){return typeof Blob>"u"?!1:et instanceof Blob||Object.prototype.toString.call(et)==="[object Blob]"},DEFAULTS={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},IS_BROWSER=typeof window<"u"&&typeof window.document<"u",WINDOW=IS_BROWSER?window:{},isPositiveNumber=function(et){return et>0&&et<1/0},slice=Array.prototype.slice;function toArray(tt){return Array.from?Array.from(tt):slice.call(tt)}var REGEXP_IMAGE_TYPE=/^image\/.+$/;function isImageType(tt){return REGEXP_IMAGE_TYPE.test(tt)}function imageTypeToExtension(tt){var et=isImageType(tt)?tt.substr(6):"";return et==="jpeg"&&(et="jpg"),".".concat(et)}var fromCharCode=String.fromCharCode;function getStringFromCharCode(tt,et,nt){var rt="",it;for(nt+=et,it=et;it<nt;it+=1)rt+=fromCharCode(tt.getUint8(it));return rt}var btoa$1=WINDOW.btoa;function arrayBufferToDataURL(tt,et){for(var nt=[],rt=8192,it=new Uint8Array(tt);it.length>0;)nt.push(fromCharCode.apply(null,toArray(it.subarray(0,rt)))),it=it.subarray(rt);return"data:".concat(et,";base64,").concat(btoa$1(nt.join("")))}function resetAndGetOrientation(tt){var et=new DataView(tt),nt;try{var rt,it,st;if(et.getUint8(0)===255&&et.getUint8(1)===216)for(var ot=et.byteLength,at=2;at+1<ot;){if(et.getUint8(at)===255&&et.getUint8(at+1)===225){it=at;break}at+=1}if(it){var lt=it+4,ut=it+10;if(getStringFromCharCode(et,lt,4)==="Exif"){var ft=et.getUint16(ut);if(rt=ft===18761,(rt||ft===19789)&&et.getUint16(ut+2,rt)===42){var dt=et.getUint32(ut+4,rt);dt>=8&&(st=ut+dt)}}}if(st){var ht=et.getUint16(st,rt),mt,xt;for(xt=0;xt<ht;xt+=1)if(mt=st+xt*12+2,et.getUint16(mt,rt)===274){mt+=8,nt=et.getUint16(mt,rt),et.setUint16(mt,1,rt);break}}}catch{nt=1}return nt}function parseOrientation(tt){var et=0,nt=1,rt=1;switch(tt){case 2:nt=-1;break;case 3:et=-180;break;case 4:rt=-1;break;case 5:et=90,rt=-1;break;case 6:et=90;break;case 7:et=90,nt=-1;break;case 8:et=-90;break}return{rotate:et,scaleX:nt,scaleY:rt}}var REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(tt)?Math.round(tt*et)/et:tt}function getAdjustedSizes(tt){var et=tt.aspectRatio,nt=tt.height,rt=tt.width,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",st=isPositiveNumber(rt),ot=isPositiveNumber(nt);if(st&&ot){var at=nt*et;(it==="contain"||it==="none")&&at>rt||it==="cover"&&at<rt?nt=rt/et:rt=nt*et}else st?nt=rt/et:ot&&(rt=nt*et);return{width:rt,height:nt}}function getExif(tt){for(var et=toArray(new Uint8Array(tt)),nt=et.length,rt=[],it=0;it+3<nt;){var st=et[it],ot=et[it+1];if(st===255&&ot===218)break;if(st===255&&ot===216)it+=2;else{var at=et[it+2]*256+et[it+3],lt=it+at+2,ut=et.slice(it,lt);rt.push(ut),it=lt}}return rt.reduce(function(ft,dt){return dt[0]===255&&dt[1]===225?ft.concat(dt):ft},[])}function insertExif(tt,et){var nt=toArray(new Uint8Array(tt));if(nt[2]!==255||nt[3]!==224)return tt;var rt=nt[4]*256+nt[5],it=[255,216].concat(et,nt.slice(4+rt));return new Uint8Array(it)}var ArrayBuffer$1=WINDOW.ArrayBuffer,FileReader$1=WINDOW.FileReader,URL$1=WINDOW.URL||WINDOW.webkitURL,REGEXP_EXTENSION=/\.\w+$/,AnotherCompressor=WINDOW.Compressor,Compressor=function(){function tt(et,nt){_classCallCheck$1(this,tt),this.file=et,this.exif=[],this.image=new Image,this.options=_objectSpread2$1(_objectSpread2$1({},DEFAULTS),nt),this.aborted=!1,this.result=null,this.init()}return _createClass$1(tt,[{key:"init",value:function(){var nt=this,rt=this.file,it=this.options;if(!isBlob(rt)){this.fail(new Error("The first argument must be a File or Blob object."));return}var st=rt.type;if(!isImageType(st)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!URL$1||!FileReader$1){this.fail(new Error("The current browser does not support image compression."));return}ArrayBuffer$1||(it.checkOrientation=!1,it.retainExif=!1);var ot=st==="image/jpeg",at=ot&&it.checkOrientation,lt=ot&&it.retainExif;if(URL$1&&!at&&!lt)this.load({url:URL$1.createObjectURL(rt)});else{var ut=new FileReader$1;this.reader=ut,ut.onload=function(ft){var dt=ft.target,ht=dt.result,mt={},xt=1;at&&(xt=resetAndGetOrientation(ht),xt>1&&_extends$1(mt,parseOrientation(xt))),lt&&(nt.exif=getExif(ht)),at||lt?!URL$1||xt>1?mt.url=arrayBufferToDataURL(ht,st):mt.url=URL$1.createObjectURL(rt):mt.url=ht,nt.load(mt)},ut.onabort=function(){nt.fail(new Error("Aborted to read the image with FileReader."))},ut.onerror=function(){nt.fail(new Error("Failed to read the image with FileReader."))},ut.onloadend=function(){nt.reader=null},at||lt?ut.readAsArrayBuffer(rt):ut.readAsDataURL(rt)}}},{key:"load",value:function(nt){var rt=this,it=this.file,st=this.image;st.onload=function(){rt.draw(_objectSpread2$1(_objectSpread2$1({},nt),{},{naturalWidth:st.naturalWidth,naturalHeight:st.naturalHeight}))},st.onabort=function(){rt.fail(new Error("Aborted to load the image."))},st.onerror=function(){rt.fail(new Error("Failed to load the image."))},WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)&&(st.crossOrigin="anonymous"),st.alt=it.name,st.src=nt.url}},{key:"draw",value:function(nt){var rt=this,it=nt.naturalWidth,st=nt.naturalHeight,ot=nt.rotate,at=ot===void 0?0:ot,lt=nt.scaleX,ut=lt===void 0?1:lt,ft=nt.scaleY,dt=ft===void 0?1:ft,ht=this.file,mt=this.image,xt=this.options,_t=document.createElement("canvas"),At=_t.getContext("2d"),gt=Math.abs(at)%180===90,vt=(xt.resize==="contain"||xt.resize==="cover")&&isPositiveNumber(xt.width)&&isPositiveNumber(xt.height),Et=Math.max(xt.maxWidth,0)||1/0,yt=Math.max(xt.maxHeight,0)||1/0,wt=Math.max(xt.minWidth,0)||0,Ct=Math.max(xt.minHeight,0)||0,Rt=it/st,It=xt.width,$t=xt.height;if(gt){var Ft=[yt,Et];Et=Ft[0],yt=Ft[1];var Bt=[Ct,wt];wt=Bt[0],Ct=Bt[1];var Nt=[$t,It];It=Nt[0],$t=Nt[1]}vt&&(Rt=It/$t);var Xt=getAdjustedSizes({aspectRatio:Rt,width:Et,height:yt},"contain");Et=Xt.width,yt=Xt.height;var nn=getAdjustedSizes({aspectRatio:Rt,width:wt,height:Ct},"cover");if(wt=nn.width,Ct=nn.height,vt){var sn=getAdjustedSizes({aspectRatio:Rt,width:It,height:$t},xt.resize);It=sn.width,$t=sn.height}else{var rn=getAdjustedSizes({aspectRatio:Rt,width:It,height:$t}),Jt=rn.width;It=Jt===void 0?it:Jt;var Ut=rn.height;$t=Ut===void 0?st:Ut}It=Math.floor(normalizeDecimalNumber(Math.min(Math.max(It,wt),Et))),$t=Math.floor(normalizeDecimalNumber(Math.min(Math.max($t,Ct),yt)));var Kt=-It/2,Qt=-$t/2,zt=It,Ht=$t,en=[];if(vt){var an=0,on=0,Wt=it,mn=st,vn=getAdjustedSizes({aspectRatio:Rt,width:it,height:st},{contain:"cover",cover:"contain"}[xt.resize]);Wt=vn.width,mn=vn.height,an=(it-Wt)/2,on=(st-mn)/2,en.push(an,on,Wt,mn)}if(en.push(Kt,Qt,zt,Ht),gt){var En=[$t,It];It=En[0],$t=En[1]}_t.width=It,_t.height=$t,isImageType(xt.mimeType)||(xt.mimeType=ht.type);var Cn="transparent";ht.size>xt.convertSize&&xt.convertTypes.indexOf(xt.mimeType)>=0&&(xt.mimeType="image/jpeg");var $n=xt.mimeType==="image/jpeg";if($n&&(Cn="#fff"),At.fillStyle=Cn,At.fillRect(0,0,It,$t),xt.beforeDraw&&xt.beforeDraw.call(this,At,_t),!this.aborted&&(At.save(),At.translate(It/2,$t/2),At.rotate(at*Math.PI/180),At.scale(ut,dt),At.drawImage.apply(At,[mt].concat(en)),At.restore(),xt.drew&&xt.drew.call(this,At,_t),!this.aborted)){var Fn=function(Mn){if(!rt.aborted){var Gn=function(yn){return rt.done({naturalWidth:it,naturalHeight:st,result:yn})};if(Mn&&$n&&xt.retainExif&&rt.exif&&rt.exif.length>0){var er=function(yn){return Gn(toBlob(arrayBufferToDataURL(insertExif(yn,rt.exif),xt.mimeType)))};if(Mn.arrayBuffer)Mn.arrayBuffer().then(er).catch(function(){rt.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var un=new FileReader$1;rt.reader=un,un.onload=function(dn){var yn=dn.target;er(yn.result)},un.onabort=function(){rt.fail(new Error("Aborted to read the compressed image with FileReader."))},un.onerror=function(){rt.fail(new Error("Failed to read the compressed image with FileReader."))},un.onloadend=function(){rt.reader=null},un.readAsArrayBuffer(Mn)}}else Gn(Mn)}};_t.toBlob?_t.toBlob(Fn,xt.mimeType,xt.quality):Fn(toBlob(_t.toDataURL(xt.mimeType,xt.quality)))}}},{key:"done",value:function(nt){var rt=nt.naturalWidth,it=nt.naturalHeight,st=nt.result,ot=this.file,at=this.image,lt=this.options;if(URL$1&&at.src.indexOf("blob:")===0&&URL$1.revokeObjectURL(at.src),st)if(lt.strict&&!lt.retainExif&&st.size>ot.size&&lt.mimeType===ot.type&&!(lt.width>rt||lt.height>it||lt.minWidth>rt||lt.minHeight>it||lt.maxWidth<rt||lt.maxHeight<it))st=ot;else{var ut=new Date;st.lastModified=ut.getTime(),st.lastModifiedDate=ut,st.name=ot.name,st.name&&st.type!==ot.type&&(st.name=st.name.replace(REGEXP_EXTENSION,imageTypeToExtension(st.type)))}else st=ot;this.result=st,lt.success&&lt.success.call(this,st)}},{key:"fail",value:function(nt){var rt=this.options;if(rt.error)rt.error.call(this,nt);else throw nt}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=AnotherCompressor,tt}},{key:"setDefaults",value:function(nt){_extends$1(DEFAULTS,nt)}}]),tt}();const Container$o=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-around;
  height: 100%;
`,ParentUploadImg=styled.div`
  position: relative;
  aspect-ratio: 16 / 9;
  padding: 16px;
  width: 30%;
  border-radius: 0.5rem;
  border: 1px solid rgb(156, 163,175);
  display: flex;
  justify-content: center;
  align-items: center;
`,LabelBorder=styled.label`
  padding: 0.2em;
  color: gray;
  position: absolute;
  right: 5px;
  font-size:16px;
  background: #f6f6f6;
  top: -5%;
`,ContainerUploader=styled.div`
  width: 280px;
  height: 180px;
  border: 3px dashed #666;
  margin-top: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  position: relative;
  & p {
    font-size: 48px;
  }

  & input {
    display: none;
  }
`,PreviewImage=styled.img`
  width: 100%;
  height: 100%;
`,RemoveImage=styled.span`
  position: absolute;
  top: 8px;
  left: 8px;
  font-size: 16px;
  background: #f4f4f4;
  border-radius: 100px;
  padding: 0px 6px;
  color: red;
`,ErrorContainer$2=styled.div`
  width: 95%;
  background-color: #DF2E38;
  border-radius: 32px;
  margin-top: 16px;
`,errorHandler=(tt,et)=>{var nt;try{return(nt=tt==null?void 0:tt.filter(rt=>(rt==null?void 0:rt.name)===et)[0])==null?void 0:nt.message}catch{}};function SendDocuments({setDefaultTab:tt}){const[et,nt]=reactExports.useContext(KycContext),[rt,it]=reactExports.useState({melli_card:null,prove_picture:null,resume:null}),[st,ot]=reactExports.useState({melli_card:null,prove_picture:null,resume:null}),[at,lt]=reactExports.useState([]),{Request:ut,HTTP_METHOD:ft}=useRequest(),dt=reactExports.useRef(),ht=reactExports.useRef(),mt=reactExports.useRef();reactExports.useEffect(()=>{tt(null)},[]);const xt=gt=>{const vt=gt.target.files[0];vt.size<1e6?new Compressor(vt,{quality:.6,width:512,height:512,success(Et){ot({...st,[gt.target.name]:URL.createObjectURL(Et)});const yt=new FormData;yt.append(gt.target.name,Et,Et.name),it({...rt,[gt.target.name]:yt.get(gt.target.name)})}}):ToastError("باید حجم فایل انتخابی کمتر از 1024 کیلوبایت باشد.")},_t=(gt,vt)=>{gt.preventDefault(),gt.stopPropagation(),ot({...st,[vt]:null}),it({...rt,[vt]:null})},At=()=>{if(!(rt!=null&&rt.melli_card))return lt(["کارت ملی وجود ندارد."]);if(!(rt!=null&&rt.prove_picture))return lt(["عکس صورت همراه با کارت ملی وجود ندارد."]);if(!(rt!=null&&rt.resume))return lt(["عکس کارت بانکی موجود ندارد."]);const gt={fname:et==null?void 0:et.fname,lname:et==null?void 0:et.lname,father_name:et==null?void 0:et.father_name,melli_code:et==null?void 0:et.melli_code,province:et==null?void 0:et.province,city:et==null?void 0:et.city,postal_code:et==null?void 0:et.postal_code,number:et==null?void 0:et.number,address:et==null?void 0:et.address,birthdate:et==null?void 0:et.birthdate,site:et==null?void 0:et.site,...rt};(et==null?void 0:et.status)===-1?ut(`kyc/${et==null?void 0:et.id}`,ft.POST,{...gt,_method:"PUT"},{"Content-Type":"multipart/form-data"}).then(vt=>{ToastSuccess("مشخصات با موفقیت بروزرسانی شد ، کارشناسان ما در کمترین زمان آنها را برسی میکنند و به شما اطلاع میدهند.")}).catch(vt=>{nt({...et,errors:[...Object.keys(at).map(Et=>({name:Et,message:at==null?void 0:at[Et][0]}))]}),ToastError(vt.response.data.message)}):ut("kyc",ft.POST,gt,{"Content-Type":"multipart/form-data"}).then(vt=>{ToastSuccess("مشخصات با موفقیت ارسال شد ، کارشناسان ما در کمترین زمان آنها را برسی میکنند و به شما اطلاع میدهند.")}).catch(vt=>{nt({...et,errors:[...Object.keys(at).map(Et=>({name:Et,message:at==null?void 0:at[Et][0]}))]}),ToastError(vt.response.data.message)})};return jsxRuntimeExports.jsxs(Form,{onSubmit:At,options:{style:{height:"95%"}},children:[jsxRuntimeExports.jsx(ErrorContainer$2,{children:jsxRuntimeExports.jsx(ErrorMessage,{maxList:1,errors:at,style:{padding:8,color:"white",margin:0}})}),jsxRuntimeExports.jsxs(Container$o,{children:[jsxRuntimeExports.jsxs(ParentUploadImg,{className:`${errorHandler(et==null?void 0:et.errors,"resume")&&"invalid-input"}`,children:[jsxRuntimeExports.jsx(LabelBorder,{children:"تصویر کارت بانکی"}),jsxRuntimeExports.jsxs(ContainerUploader,{onClick:()=>(et==null?void 0:et.status)===1?null:mt.current.click(),children:[!(st!=null&&st.resume)&&(et==null?void 0:et.status)!==1&&jsxRuntimeExports.jsx("p",{children:"+"}),(st==null?void 0:st.resume)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RemoveImage,{onClick:gt=>_t(gt,"resume"),children:"X"}),jsxRuntimeExports.jsx(PreviewImage,{src:st==null?void 0:st.resume})]}),(et==null?void 0:et.status)===1&&jsxRuntimeExports.jsx(PreviewImage,{src:et==null?void 0:et.resume}),jsxRuntimeExports.jsx("input",{ref:mt,name:"resume",accept:"image/jpeg",type:"file",onChange:xt})]})]}),jsxRuntimeExports.jsxs(ParentUploadImg,{className:`${errorHandler(et==null?void 0:et.errors,"melli_card")&&"invalid-input"}`,children:[jsxRuntimeExports.jsx(LabelBorder,{children:"  تصویر کارت ملی"}),jsxRuntimeExports.jsxs(ContainerUploader,{onClick:()=>(et==null?void 0:et.status)===1?null:ht.current.click(),children:[!(st!=null&&st.melli_card)&&(et==null?void 0:et.status)!==1&&jsxRuntimeExports.jsx("p",{children:"+"}),(st==null?void 0:st.melli_card)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RemoveImage,{onClick:gt=>_t(gt,"melli_card"),children:"X"}),jsxRuntimeExports.jsx(PreviewImage,{src:st==null?void 0:st.melli_card})]}),(et==null?void 0:et.status)===1&&jsxRuntimeExports.jsx(PreviewImage,{src:et==null?void 0:et.melli_card}),jsxRuntimeExports.jsx("input",{ref:ht,name:"melli_card",accept:"image/jpeg",type:"file",onChange:xt})]})]}),jsxRuntimeExports.jsxs(ParentUploadImg,{className:`${errorHandler(et==null?void 0:et.errors,"prove_picture")&&"invalid-input"}`,children:[jsxRuntimeExports.jsx(LabelBorder,{children:"تصویر چهره به همراه فرم قوانین و مدارک "}),jsxRuntimeExports.jsxs(ContainerUploader,{onClick:()=>(et==null?void 0:et.status)===1?null:dt.current.click(),children:[!(st!=null&&st.prove_picture)&&(et==null?void 0:et.status)!==1&&jsxRuntimeExports.jsx("p",{children:"+"}),(st==null?void 0:st.prove_picture)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RemoveImage,{onClick:gt=>_t(gt,"prove_picture"),children:"X"}),jsxRuntimeExports.jsx(PreviewImage,{src:st==null?void 0:st.prove_picture})]}),(et==null?void 0:et.status)===1&&jsxRuntimeExports.jsx(PreviewImage,{src:et==null?void 0:et.prove_picture}),jsxRuntimeExports.jsx("input",{ref:dt,name:"prove_picture",accept:"image/jpeg",type:"file",onChange:xt})]})]})]}),(et==null?void 0:et.status)!==1&&jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ثبت",options:{style:{width:"95%"}}})]})}const Container$n=styled.div`
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  display: flex;
  flex-direction: column;
`,InputContainer$1=styled.div`
  width: 50%;
  padding: 8px;
`,ErrorContainer$1=styled.div`
  width: 95%;
  background-color: #DF2E38;
  border-radius: 32px;
  margin-top: 16px;
`,CardNumber=styled.div`
  display: flex;
  width: 470px;
  padding: 8px;
  margin-bottom: 24px;
  justify-content: space-between;
  border: 2px solid #fcfcfc;
`;function BankVerification(){const[tt,et]=reactExports.useState([]),[nt,rt]=reactExports.useState([]),{Request:it,HTTP_METHOD:st}=useRequest(),[ot,at]=reactExports.useState({card_num:"",shaba_num:""});reactExports.useEffect(()=>{it("bank-accounts").then(ut=>{rt(ut.data.data)})},[]);const lt=()=>{const ut=ne(`IR${ot.shaba_num}`),ft=H$1(ot.card_num),dt=G(ot.card_num);ut!=null&&ut.persianName?dt===ut.persianName?ft?it("bank-accounts",st.POST,{card_num:ot.card_num,shaba_num:`IR${ot.shaba_num}`,bank_name:ut.persianName}).then(()=>{ToastSuccess("حساب بانکی شما با موفقيت ثبت شد. تاييد نهايی پس از بررسی های لازم صورت ميگيرد/ قابليت بارگذاری ٢٠ حساب بانکی توسط متقاضی صورت گيرد")}).catch(ht=>{ToastError(ht.response.data.message)}):et(["شماره کارت صحیح نمی باشد لطفا آنرا برسی نمایید."]):et(["شماره شبا و شماره کارت باید متعلق به یک کارت باشد."]):et(["شماره شبا صحیح نمی باشد لطفا آنرا برسی نمایید."])};return jsxRuntimeExports.jsxs(Form,{onSubmit:lt,options:{style:{height:"100%"}},children:[jsxRuntimeExports.jsx(ErrorContainer$1,{children:jsxRuntimeExports.jsx(ErrorMessage,{maxList:1,errors:tt,style:{padding:8,color:"white",margin:0}})}),jsxRuntimeExports.jsxs(Container$n,{children:[jsxRuntimeExports.jsxs(InputContainer$1,{children:[jsxRuntimeExports.jsx(Input$4,{name:"card_num",text:": شماره کارت",numberOnly:!0,value:ot.card_num,onChange:at}),jsxRuntimeExports.jsx(Input$4,{name:"shaba_num",text:": شماره شبا",numberOnly:!0,value:ot.shaba_num,onChange:at})]}),nt.map(ut=>jsxRuntimeExports.jsxs(CardNumber,{children:[jsxRuntimeExports.jsx("p",{children:ut.card_num}),ut.status===0&&jsxRuntimeExports.jsx("span",{children:"درحال برسی"}),ut.status===1&&jsxRuntimeExports.jsx("span",{children:"تایید شده"}),ut.status===-1&&jsxRuntimeExports.jsx("span",{children:"رد شده"})]})),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ذخیره",options:{style:{width:150}}})]})]})}function Verification(){const[tt,et]=reactExports.useState(0),rt=useTabs([{title:"احراز فردی",content:jsxRuntimeExports.jsx(PersonalVerification,{setDefaultTab:et})},{title:"ارسال مدارک",content:jsxRuntimeExports.jsx(SendDocuments,{setDefaultTab:et})},{title:"احراز بانکی",content:jsxRuntimeExports.jsx(BankVerification,{})}],tt);return jsxRuntimeExports.jsx(KycProvider,{children:jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"احراز هویت",children:rt})})}const FeatureContext=reactExports.createContext({});function FeatureProvider({children:tt,id:et}){const[nt,rt]=reactExports.useState({}),{Request:it}=useRequest();return reactExports.useEffect(()=>{it(`features/${et}`).then(st=>{rt(st.data.data)})},[]),jsxRuntimeExports.jsx(FeatureContext.Provider,{value:[nt,rt],children:tt})}var exports={},unityComponent={},useUnityCanvasId$1={};Object.defineProperty(useUnityCanvasId$1,"__esModule",{value:!0});useUnityCanvasId$1.useUnityCanvasId=void 0;var react_1$7=reactExports,unityCanvasCount=0,unityCanvasIdPrefix="react-unity-webgl-canvas",useUnityCanvasId=function(){var tt=(0,react_1$7.useMemo)(function(){return[unityCanvasIdPrefix,++unityCanvasCount].join("-")},[]);return tt};useUnityCanvasId$1.useUnityCanvasId=useUnityCanvasId;var useUnityInstance$1={},unityLoaderStatus={};Object.defineProperty(unityLoaderStatus,"__esModule",{value:!0});unityLoaderStatus.UnityLoaderStatus=void 0;var UnityLoaderStatus;(function(tt){tt.Idle="Idle",tt.Loading="Loading",tt.Loaded="Loaded",tt.Error="Error"})(UnityLoaderStatus||(UnityLoaderStatus={}));unityLoaderStatus.UnityLoaderStatus=UnityLoaderStatus;var isBrowserEnvironment={};Object.defineProperty(isBrowserEnvironment,"__esModule",{value:!0});isBrowserEnvironment.isBrowserEnvironment=void 0;isBrowserEnvironment.isBrowserEnvironment=typeof window<"u"&&typeof document<"u";var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(tt,et,nt,rt){function it(st){return st instanceof nt?st:new nt(function(ot){ot(st)})}return new(nt||(nt=Promise))(function(st,ot){function at(ft){try{ut(rt.next(ft))}catch(dt){ot(dt)}}function lt(ft){try{ut(rt.throw(ft))}catch(dt){ot(dt)}}function ut(ft){ft.done?st(ft.value):it(ft.value).then(at,lt)}ut((rt=rt.apply(tt,et||[])).next())})},__generator$1=commonjsGlobal&&commonjsGlobal.__generator||function(tt,et){var nt={label:0,sent:function(){if(st[0]&1)throw st[1];return st[1]},trys:[],ops:[]},rt,it,st,ot;return ot={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function at(ut){return function(ft){return lt([ut,ft])}}function lt(ut){if(rt)throw new TypeError("Generator is already executing.");for(;nt;)try{if(rt=1,it&&(st=ut[0]&2?it.return:ut[0]?it.throw||((st=it.return)&&st.call(it),0):it.next)&&!(st=st.call(it,ut[1])).done)return st;switch(it=0,st&&(ut=[ut[0]&2,st.value]),ut[0]){case 0:case 1:st=ut;break;case 4:return nt.label++,{value:ut[1],done:!1};case 5:nt.label++,it=ut[1],ut=[0];continue;case 7:ut=nt.ops.pop(),nt.trys.pop();continue;default:if(st=nt.trys,!(st=st.length>0&&st[st.length-1])&&(ut[0]===6||ut[0]===2)){nt=0;continue}if(ut[0]===3&&(!st||ut[1]>st[0]&&ut[1]<st[3])){nt.label=ut[1];break}if(ut[0]===6&&nt.label<st[1]){nt.label=st[1],st=ut;break}if(st&&nt.label<st[2]){nt.label=st[2],nt.ops.push(ut);break}st[2]&&nt.ops.pop(),nt.trys.pop();continue}ut=et.call(tt,nt)}catch(ft){ut=[6,ft],it=0}finally{rt=st=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}};Object.defineProperty(useUnityInstance$1,"__esModule",{value:!0});useUnityInstance$1.useUnityInstance=void 0;var react_1$6=reactExports,unity_loader_status_1$1=unityLoaderStatus,is_browser_environment_1$2=isBrowserEnvironment,useUnityInstance=function(tt,et,nt,rt){(0,react_1$6.useEffect)(function(){(function(){return __awaiter$1(void 0,void 0,void 0,function(){var it,st;return __generator$1(this,function(ot){switch(ot.label){case 0:if(is_browser_environment_1$2.isBrowserEnvironment===!1)return[2];if(tt!==unity_loader_status_1$1.UnityLoaderStatus.Loaded||et===null)return rt.setUnityInstance(null),rt.setInitialisationError(null),[2];ot.label=1;case 1:return ot.trys.push([1,3,,4]),[4,window.createUnityInstance(et,nt,rt.setLoadingProgression)];case 2:return it=ot.sent(),rt.setUnityInstance(it),rt.setInitialisationError(null),[3,4];case 3:return st=ot.sent(),rt.setUnityInstance(null),rt.setInitialisationError(st),[3,4];case 4:return[2]}})})})()},[tt,et,nt,rt])};useUnityInstance$1.useUnityInstance=useUnityInstance;var useUnityArguments$1={};Object.defineProperty(useUnityArguments$1,"__esModule",{value:!0});useUnityArguments$1.useUnityArguments=void 0;var react_1$5=reactExports,useUnityArguments=function(tt){return(0,react_1$5.useMemo)(function(){return{dataUrl:tt.unityProvider.unityConfig.dataUrl,frameworkUrl:tt.unityProvider.unityConfig.frameworkUrl,codeUrl:tt.unityProvider.unityConfig.codeUrl,streamingAssetsUrl:tt.unityProvider.unityConfig.streamingAssetsUrl,memoryUrl:tt.unityProvider.unityConfig.memoryUrl,symbolsUrl:tt.unityProvider.unityConfig.symbolsUrl,companyName:tt.unityProvider.unityConfig.companyName,productName:tt.unityProvider.unityConfig.productName,productVersion:tt.unityProvider.unityConfig.productVersion,webglContextAttributes:tt.unityProvider.unityConfig.webglContextAttributes||{},cacheControl:tt.unityProvider.unityConfig.cacheControl||function(){return"must-revalidate"},devicePixelRatio:tt.devicePixelRatio||1,matchWebGLToCanvasSize:tt.matchWebGLToCanvasSize||!0,disabledCanvasEvents:tt.disabledCanvasEvents||["contextmenu","dragstart"],print:function(et){},printErr:function(et){}}},[])};useUnityArguments$1.useUnityArguments=useUnityArguments;var useUnityLoader$1={};Object.defineProperty(useUnityLoader$1,"__esModule",{value:!0});useUnityLoader$1.useUnityLoader=void 0;var react_1$4=reactExports,is_browser_environment_1$1=isBrowserEnvironment,unity_loader_status_1=unityLoaderStatus,useUnityLoader=function(tt){var et=(0,react_1$4.useState)(unity_loader_status_1.UnityLoaderStatus.Loading),nt=et[0],rt=et[1];return(0,react_1$4.useEffect)(function(){if(is_browser_environment_1$1.isBrowserEnvironment!==!1){if(tt===null){rt(unity_loader_status_1.UnityLoaderStatus.Idle);return}var it=window.document.querySelector('script[src="'.concat(tt,'"]'));it===null?(it=window.document.createElement("script"),it.type="text/javascript",it.src=tt,it.async=!0,it.setAttribute("data-status","loading"),window.document.body.appendChild(it),it.addEventListener("load",function(){return it==null?void 0:it.setAttribute("data-status","loaded")}),it.addEventListener("error",function(){return it==null?void 0:it.setAttribute("data-status","error")})):rt(it.getAttribute("data-status")==="loaded"?unity_loader_status_1.UnityLoaderStatus.Loaded:unity_loader_status_1.UnityLoaderStatus.Error);var st=function(ot){return rt(ot.type==="load"?unity_loader_status_1.UnityLoaderStatus.Loaded:unity_loader_status_1.UnityLoaderStatus.Error)};return it.addEventListener("load",st),it.addEventListener("error",st),function(){it!==null&&(it.removeEventListener("load",st),it.removeEventListener("error",st),window.document.body.removeChild(it))}}},[tt]),nt};useUnityLoader$1.useUnityLoader=useUnityLoader;Object.defineProperty(unityComponent,"__esModule",{value:!0});unityComponent.Unity=void 0;var react_1$3=reactExports,react_2=reactExports,use_unity_canvas_id_1=useUnityCanvasId$1,use_unity_instance_1=useUnityInstance$1,use_unity_arguments_1=useUnityArguments$1,use_unity_loader_1=useUnityLoader$1,Unity=(0,react_2.forwardRef)(function(tt,et){var nt=(0,react_2.useRef)(null),rt=(0,use_unity_canvas_id_1.useUnityCanvasId)(),it=(0,use_unity_arguments_1.useUnityArguments)(tt),st=(0,use_unity_loader_1.useUnityLoader)(tt.unityProvider.unityConfig.loaderUrl);return(0,use_unity_instance_1.useUnityInstance)(st,nt.current,it,tt.unityProvider),(0,react_1$3.useImperativeHandle)(et,function(){return nt.current}),(0,react_1$3.createElement)("canvas",{ref:nt,id:rt,style:tt.style,className:tt.className,tabIndex:tt.tabIndex})});unityComponent.Unity=Unity;var useUnityContext$1={},errorMessages$1={};Object.defineProperty(errorMessages$1,"__esModule",{value:!0});errorMessages$1.errorMessages=void 0;var errorMessages={genericNoUnityInstance:"No Unity Instance found.",requestFullscreenNoUnityInstance:"Unable to Set Fullscreen while Unity is not Instantiated.",requestPointerLockNoUnityInstanceOrCanvas:"Unable to Request Pointer Lock while Unity is not Instantiated or the Canvas is not found.",sendMessageNoUnityInstance:"Unable to Send Message while Unity is not Instantiated.",quitNoUnityInstance:"Unable to Quit Unity while Unity is not Instantiated.",screenshotNoUnityInstanceOrCanvas:"Unable to Take Screenshot while Unity is not Instantiated or Canvas is not available.",noEventListener:"Unable to find Event Listener in Event System for Event"};errorMessages$1.errorMessages=errorMessages;var useEventSystem$1={},__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(tt,et,nt){if(nt||arguments.length===2)for(var rt=0,it=et.length,st;rt<it;rt++)(st||!(rt in et))&&(st||(st=Array.prototype.slice.call(et,0,rt)),st[rt]=et[rt]);return tt.concat(st||Array.prototype.slice.call(et))};Object.defineProperty(useEventSystem$1,"__esModule",{value:!0});useEventSystem$1.useEventSystem=void 0;var react_1$2=reactExports,error_messages_1$1=errorMessages$1,is_browser_environment_1=isBrowserEnvironment,mountedEventDispatchers=[],dispatchReactUnityEvent=function(tt){for(var et=[],nt=1;nt<arguments.length;nt++)et[nt-1]=arguments[nt];var rt=void 0;return mountedEventDispatchers.forEach(function(it){rt=it.apply(void 0,__spreadArray([tt],et,!1))}),rt};is_browser_environment_1.isBrowserEnvironment===!0&&(window.dispatchReactUnityEvent=dispatchReactUnityEvent);var useEventSystem=function(){var tt=(0,react_1$2.useRef)([]),et=(0,react_1$2.useCallback)(function(it,st){tt.current=__spreadArray(__spreadArray([],tt.current,!0),[{eventName:it,callback:st}],!1)},[tt]),nt=(0,react_1$2.useCallback)(function(it,st){tt.current=tt.current.filter(function(ot){return ot.eventName!==it&&ot.callback!==st})},[tt]),rt=(0,react_1$2.useCallback)(function(it){for(var st=[],ot=1;ot<arguments.length;ot++)st[ot-1]=arguments[ot];var at=tt.current.find(function(lt){return lt.eventName===it});if(typeof at>"u"){console.warn(error_messages_1$1.errorMessages.noEventListener,{eventName:it});return}return at.callback.apply(at,st)},[tt]);return(0,react_1$2.useEffect)(function(){return mountedEventDispatchers.push(rt),function(){mountedEventDispatchers.splice(mountedEventDispatchers.indexOf(rt),1)}},[rt]),{addEventListener:et,removeEventListener:nt}};useEventSystem$1.useEventSystem=useEventSystem;var useNullableState$1={};Object.defineProperty(useNullableState$1,"__esModule",{value:!0});useNullableState$1.useNullableState=void 0;var react_1$1=reactExports,useNullableState=function(tt){return(0,react_1$1.useState)(tt||null)};useNullableState$1.useNullableState=useNullableState;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(tt,et,nt,rt){function it(st){return st instanceof nt?st:new nt(function(ot){ot(st)})}return new(nt||(nt=Promise))(function(st,ot){function at(ft){try{ut(rt.next(ft))}catch(dt){ot(dt)}}function lt(ft){try{ut(rt.throw(ft))}catch(dt){ot(dt)}}function ut(ft){ft.done?st(ft.value):it(ft.value).then(at,lt)}ut((rt=rt.apply(tt,et||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(tt,et){var nt={label:0,sent:function(){if(st[0]&1)throw st[1];return st[1]},trys:[],ops:[]},rt,it,st,ot;return ot={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function at(ut){return function(ft){return lt([ut,ft])}}function lt(ut){if(rt)throw new TypeError("Generator is already executing.");for(;nt;)try{if(rt=1,it&&(st=ut[0]&2?it.return:ut[0]?it.throw||((st=it.return)&&st.call(it),0):it.next)&&!(st=st.call(it,ut[1])).done)return st;switch(it=0,st&&(ut=[ut[0]&2,st.value]),ut[0]){case 0:case 1:st=ut;break;case 4:return nt.label++,{value:ut[1],done:!1};case 5:nt.label++,it=ut[1],ut=[0];continue;case 7:ut=nt.ops.pop(),nt.trys.pop();continue;default:if(st=nt.trys,!(st=st.length>0&&st[st.length-1])&&(ut[0]===6||ut[0]===2)){nt=0;continue}if(ut[0]===3&&(!st||ut[1]>st[0]&&ut[1]<st[3])){nt.label=ut[1];break}if(ut[0]===6&&nt.label<st[1]){nt.label=st[1],st=ut;break}if(st&&nt.label<st[2]){nt.label=st[2],nt.ops.push(ut);break}st[2]&&nt.ops.pop(),nt.trys.pop();continue}ut=et.call(tt,nt)}catch(ft){ut=[6,ft],it=0}finally{rt=st=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}};Object.defineProperty(useUnityContext$1,"__esModule",{value:!0});useUnityContext$1.useUnityContext=void 0;var react_1=reactExports,error_messages_1=errorMessages$1,use_event_system_1=useEventSystem$1,use_nullable_state_1=useNullableState$1,useUnityContext=function(tt){var et=(0,use_nullable_state_1.useNullableState)(),nt=et[0],rt=et[1],it=(0,react_1.useState)(0),st=it[0],ot=it[1],at=(0,react_1.useState)(!1),lt=at[0],ut=at[1],ft=(0,use_nullable_state_1.useNullableState)(),dt=ft[0],ht=ft[1],mt=(0,use_event_system_1.useEventSystem)(),xt=(0,react_1.useRef)({setLoadingProgression:ot,setInitialisationError:ht,setUnityInstance:rt,setIsLoaded:ut,unityConfig:tt}),_t=(0,react_1.useCallback)(function(wt){if(nt===null){console.warn(error_messages_1.errorMessages.requestFullscreenNoUnityInstance);return}nt.SetFullscreen(wt===!0?1:0)},[nt]),At=(0,react_1.useCallback)(function(){if(nt===null||typeof nt.Module.canvas>"u"){console.warn(error_messages_1.errorMessages.requestPointerLockNoUnityInstanceOrCanvas);return}return nt.Module.canvas.requestPointerLock()},[nt]),gt=(0,react_1.useCallback)(function(wt,Ct,Rt){if(nt===null){console.warn(error_messages_1.errorMessages.sendMessageNoUnityInstance);return}nt.SendMessage(wt,Ct,Rt)},[nt]),vt=(0,react_1.useCallback)(function(wt,Ct){if(nt===null||typeof nt.Module.canvas>"u"){console.warn(error_messages_1.errorMessages.screenshotNoUnityInstanceOrCanvas);return}return nt.Module.canvas.toDataURL(wt,Ct)},[nt]),Et=(0,react_1.useCallback)(function(){return nt===null?(console.warn(error_messages_1.errorMessages.quitNoUnityInstance),Promise.reject()):nt.Quit()},[nt]),yt=(0,react_1.useCallback)(function(){return __awaiter(void 0,void 0,void 0,function(){var wt;return __generator(this,function(Ct){switch(Ct.label){case 0:return nt===null||typeof nt.Module.canvas>"u"?(console.warn(error_messages_1.errorMessages.genericNoUnityInstance),[2,Promise.reject()]):(wt=nt.Module.canvas,document.body.appendChild(wt),wt.style.display="none",[4,Et()]);case 1:return Ct.sent(),wt.remove(),[2]}})})},[nt]);return(0,react_1.useEffect)(function(){ut(st===1)},[st]),{unityProvider:xt.current,loadingProgression:st,initialisationError:dt,isLoaded:lt,UNSAFE__unityInstance:nt,requestFullscreen:_t,requestPointerLock:At,sendMessage:gt,unload:Et,takeScreenshot:vt,addEventListener:mt.addEventListener,removeEventListener:mt.removeEventListener,UNSAFE__detachAndUnloadImmediate:yt}};useUnityContext$1.useUnityContext=useUnityContext;(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),tt.useUnityContext=tt.Unity=void 0;var et=unityComponent;Object.defineProperty(tt,"Unity",{enumerable:!0,get:function(){return et.Unity}});var nt=useUnityContext$1;Object.defineProperty(tt,"useUnityContext",{enumerable:!0,get:function(){return nt.useUnityContext}})})(exports);const Container$m=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-around;
`,ContainerItem=styled.div`
  width: 50%;
  height: 100%;
  align-items: center;
  justify-content: center;
  display: flex;
`,LoadingContainer=styled.div`
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  display: flex;
  position: absolute;
`;function UnitiTab(){var mt;const[tt]=reactExports.useContext(FeatureContext),[et,nt]=reactExports.useState({}),{Request:rt,HTTP_METHOD:it}=useRequest(),{unityProvider:st,isLoaded:ot,loadingProgression:at,sendMessage:lt}=exports.useUnityContext({loaderUrl:"/Build/WebGL.loader.js",dataUrl:"/Build/WebGL.data.unityweb",frameworkUrl:"/Build/WebGL.framework.js.unityweb",codeUrl:"/Build/WebGL.wasm.unityweb"});reactExports.useEffect(()=>{rt("user/profile").then(xt=>{nt(xt.data.data)})},[]);const ut={ID:(mt=tt.properties)==null?void 0:mt.id,urlImgCharacter:et==null?void 0:et.image};var ft=JSON.stringify(ut);const dt=Math.round(at*100);function ht(){lt("JavaScriptHook","SetJson",ft)}return jsxRuntimeExports.jsxs(Container$m,{children:[jsxRuntimeExports.jsxs(ContainerItem,{children:[ot===!1&&jsxRuntimeExports.jsx(LoadingContainer,{className:"loading-overlay",children:jsxRuntimeExports.jsxs("p",{children:["Loading... (",dt,"%)"]})}),jsxRuntimeExports.jsx(exports.Unity,{className:"unity",unityProvider:st,style:{width:"100%",height:"100%"}})]}),jsxRuntimeExports.jsx(ContainerItem,{children:jsxRuntimeExports.jsx(Submit$1,{text:"ورود",onClick:ht,type:"primary",options:{style:{width:150}}})})]})}const Container$l=styled.div`
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
`,Text$4=styled.p`
    text-align: center;
    width: 80%;
    margin: auto;
    direction: rtl;
    margin-top: 16px;
    font-weight: 700;
`,Title$2=styled.p`
    text-align: center;
    margin-top: 16px;
    direction: rtl;
`,ContainerPrice$1=styled.div`
  width: 65%;
  background-color: #e9e9e9;
  border: 1px solid #c2c2c2;
  border-radius: 5px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-weight: 700;
`,IconPrice$1=styled.img`
  width: 35px;
`;function BuySystem({price:tt,image:et,rgb:nt,id:rt}){const it=useNavigate(),{Request:st,HTTP_METHOD:ot}=useRequest(),at=()=>{st(`features/buy/${rt}`,ot.POST).then(lt=>{it(FeatureSvg(nt))}).catch(lt=>{if(lt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),it("/metaverse/confirmation");ToastError(lt.response.data.message)})};return jsxRuntimeExports.jsxs(Container$l,{style:{gap:"50px"},children:[jsxRuntimeExports.jsx(Text$4,{style:{fontWeight:"700"},children:"این VOD توسط متارنگ قیمت گذاری شده است شما میتوانید این ملک را خریداری نمایید"}),jsxRuntimeExports.jsxs(ContainerPrice$1,{children:[jsxRuntimeExports.jsx(IconPrice$1,{src:et}),"   ",tt]}),jsxRuntimeExports.jsx(Form,{onSubmit:at,children:jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"خرید",options:{style:{width:150}}})})]})}function BuyFromSystem(){const[tt]=reactExports.useContext(FeatureContext),et=[{name:"قیمت فروشنده",component:jsxRuntimeExports.jsx(BuySystem,{rgb:tt.properties.rgb,price:tt.properties.area*tt.properties.density,image:FeatureColor(tt.properties.rgb),id:tt.id})}];return useActivity(et,{justifyContent:"center"})}const Label$1=styled.label`
  color: #707070 !important;
  position: absolute;
  top: 45%;
  right: 16px;
  background-color: transparent !important;
  transition: 0.2s ease all;
  -moz-transition: 0.2s ease all;
  -webkit-transition: 0.2s ease all;
`,InputContainer=styled.div`
  width:65%;
  position: relative;
`,Input$3=styled.input`
  margin-top:12px;
  width: 100%;
  padding-left: 32px;
  font-size: 1rem !important;
  height: 50px !important;
  border-radius: 8px !important;
  border: 1px solid #c2c2c2 !important;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    /* display: none; <- Crashes Chrome on hover */
    -webkit-appearance: none;
    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
  }

  &[type="number"] {
    -moz-appearance: textfield; /* Firefox */
  }

  &[value=""]:focus + ${Label$1} {
    top: -12px;
    right: 16px;
    background: white;
    padding-right: 8px;
    padding-left: 8px;
    font-size: 16px;
  }

  &:not([value=""]) + ${Label$1} {
    top: -12px;
    right: 16px;
    background: white;
    padding-right: 8px;
    padding-left: 8px;
    font-size: 16px;
  }
`,ErrorContainer=styled.p`
  margin-top: 8px;
  text-align: right;
  font-size: 12px;
  color: red;
`;function PriceInput({onChange:tt,value:et,text:nt,name:rt,errors:it}){return jsxRuntimeExports.jsxs(InputContainer,{children:[jsxRuntimeExports.jsx(Input$3,{name:rt,type:"number",value:et,className:"invalid",onChange:st=>tt(ot=>({...ot,[st.target.name]:st.target.value}))}),jsxRuntimeExports.jsx(Label$1,{children:nt}),jsxRuntimeExports.jsx(ErrorContainer,{children:it==null?void 0:it[rt]})]})}const ContainerSpecification=styled.div`
  width: 100%;
  height: 40px;
  display: flex;
  border-radius: 5px;
`,TitleSpecification=styled.div`
  width: 120px;
  background: white;
  text-align: right;
  display: flex;
  align-items: center;
  justify-content: end;
  border: 1px solid #c2c2c2;
  border-left: none;
  padding-right: 5px;
  border-radius: 5px;
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
`,ValueSpecification=styled.div`
  width: 70%;
  background-color: #e9e9e9;
  text-align: left !important;
  display: flex;
  padding-left: 8px;
  align-items: center;
  border-radius: 5px;
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
  border: 1px solid #c2c2c2;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
`;function Specification({title:tt,value:et,style:nt}){return jsxRuntimeExports.jsxs(ContainerSpecification,{style:{...nt},children:[jsxRuntimeExports.jsx(ValueSpecification,{children:et}),jsxRuntimeExports.jsx(TitleSpecification,{children:tt})]})}const TextOffer=styled.textarea`
  border: 1px solid #c2c2c2;
  resize: none;
  height: 50px;
  width: 65%;
  text-align: right;
  margin-top: 8px;
  border-radius: 8px !important;
  font-size: 1rem !important;
  padding: 1px;
  color: #707070 !important;
  border: 1px solid #c2c2c2;
  font-family: iransans;
  direction: rtl;
  text-align: right;
`;function PriceDetermination$1(){var dt,ht,mt,xt,_t,At,gt,vt;const[tt]=reactExports.useContext(FeatureContext),{Request:et,HTTP_METHOD:nt}=useRequest(),rt=useNavigate(),it=((dt=tt==null?void 0:tt.properties)==null?void 0:dt.density)*((ht=tt==null?void 0:tt.properties)==null?void 0:ht.area),st=it*FeaturePrice((mt=tt==null?void 0:tt.properties)==null?void 0:mt.rgb)*(((xt=tt==null?void 0:tt.properties)==null?void 0:xt.minimum_price_percentage)/100),[ot,at]=reactExports.useState({price_irr:it*FeaturePrice((_t=tt==null?void 0:tt.properties)==null?void 0:_t.rgb)*(((At=tt==null?void 0:tt.properties)==null?void 0:At.minimum_price_percentage)/100)/2,price_psc:it*FeaturePrice((gt=tt==null?void 0:tt.properties)==null?void 0:gt.rgb)*(((vt=tt==null?void 0:tt.properties)==null?void 0:vt.minimum_price_percentage)/100)/2/900,note:""}),[lt,ut]=reactExports.useState({price_irr:"",price_psc:""}),ft=()=>{var Et;ot.price_irr+ot.price_psc*900>=st?et(`buy-requests/store/${tt==null?void 0:tt.id}`,nt.POST).then(()=>{ToastSuccess("پیشنهاد شما با موفقیت ارسال گردید.")}).catch(yt=>{if(yt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),rt("/metaverse/confirmation");ToastError(yt.response.data.message)}):ut({...lt,price_irr:`حداقل ارزش معامله ${(Et=tt==null?void 0:tt.properties)==null?void 0:Et.minimum_price_percentage}% قیمت اولیه میباشد`})};return jsxRuntimeExports.jsxs(Container$l,{style:{marginTop:30},children:[jsxRuntimeExports.jsx(Text$4,{children:"شما در این قسمت میتوانید قیمت پیشنهادی خود را بری خرید این ملک ثبت کنید"}),jsxRuntimeExports.jsxs(Form,{onSubmit:ft,children:[jsxRuntimeExports.jsx(Title$2,{children:"قیمت فروش (ریال)"}),jsxRuntimeExports.jsx(PriceInput,{onChange:at,text:"ریال",value:ot.price_irr,name:"price_irr",errors:lt}),jsxRuntimeExports.jsx(Title$2,{children:"قیمت فروش (PSC)"}),jsxRuntimeExports.jsx(PriceInput,{onChange:at,text:"PSC",value:ot.price_psc,name:"price_psc",errors:lt}),jsxRuntimeExports.jsx(Title$2,{children:"متن پشنهاد"}),jsxRuntimeExports.jsx(TextOffer,{rows:10,cols:4,name:"note",onChange:Et=>at({...ot,[Et.target.name]:Et.target.value}),value:ot.note}),jsxRuntimeExports.jsxs(Container$l,{style:{flexDirection:"row",gap:"10px",width:"50%",marginTop:20},children:[jsxRuntimeExports.jsx(Specification,{title:"کارمزد",value:"5%"}),jsxRuntimeExports.jsx(Specification,{title:"مانده",value:st-ot.price_irr-ot.price_psc*900}),jsxRuntimeExports.jsx(Specification,{title:"قیمت نهایی",value:`${calculateFee(ot.price_irr?ot.price_irr:0,5)} IRR / ${calculateFee(ot.price_irr?ot.price_irr:0,5)} PSC`})]}),jsxRuntimeExports.jsx(Submit$1,{text:"ثبت قیمت",type:"primary",options:{style:{width:"20%",marginTop:16}}})]})]})}const ContainerPrice=styled.div`
  width:65%;
  background-color: #e9e9e9;
  border: 1px solid #c2c2c2;
  border-radius: 5px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-weight: 700;
`,IconPrice=styled.img`
  width: 35px;
`,TextValue=styled.p`
  font-size: 12px;
  color: #a7a5a5;
  padding-top: 7px;
  padding-left: 4px;
`;function BuyUser(){var ot,at;const[tt]=reactExports.useContext(FeatureContext),et=useNavigate(),[nt]=reactExports.useState({price_irr:(ot=tt==null?void 0:tt.properties)==null?void 0:ot.price_irr,price_psc:(at=tt==null?void 0:tt.properties)==null?void 0:at.price_psc}),{Request:rt,HTTP_METHOD:it}=useRequest(),st=()=>{rt(`features/buy/${tt==null?void 0:tt.id}`,it.POST).then(lt=>{var ut;et(FeatureSvg((ut=tt==null?void 0:tt.properties)==null?void 0:ut.rgb))}).catch(lt=>{if(lt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),et("/metaverse/confirmation");ToastError(lt.response.data.message)})};return jsxRuntimeExports.jsxs(Container$l,{style:{gap:"50px"},children:[jsxRuntimeExports.jsx(Text$4,{style:{fontWeight:"700"},children:"این VOD توسط فروشنده قیمت گذاری شده است شما میتوانید این ملک را به دو قیمت فروشنده صورت ریال و PSC خریداری نمایید"}),jsxRuntimeExports.jsxs(Container$l,{style:{gap:"20px"},children:[jsxRuntimeExports.jsxs(ContainerPrice,{children:[jsxRuntimeExports.jsx(IconPrice,{src:IRRImage}),"   ",nt.price_irr,jsxRuntimeExports.jsx(TextValue,{children:"IRR"})]}),jsxRuntimeExports.jsxs(ContainerPrice,{children:[jsxRuntimeExports.jsx(IconPrice,{src:PSCImage}),"   ",nt.price_psc,jsxRuntimeExports.jsx(TextValue,{children:"PSC"})]}),jsxRuntimeExports.jsxs(Container$l,{style:{flexDirection:"row",gap:"10px",width:"50%"},children:[jsxRuntimeExports.jsx(Specification,{title:"کارمزد",value:"5%"}),jsxRuntimeExports.jsx(Specification,{title:"قیمت نهایی",value:`${calculateFee(nt.price_irr,5)} IRR / ${calculateFee(nt.price_psc,5)} PSC`})]})]}),jsxRuntimeExports.jsx(Form,{onSubmit:st,children:jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"خرید",options:{style:{width:150}}})})]})}function BuyFromUser(){const[tt]=reactExports.useContext(FeatureContext),et=[{name:"قیمت فروشنده",component:jsxRuntimeExports.jsx(BuyUser,{})},{name:"قیمت پیشنهادی",component:jsxRuntimeExports.jsx(PriceDetermination$1,{Percentage:tt.properties.minimum_price_percentage,priceIrr:tt.properties.price_irr,pricePsc:tt.properties.price_psc})}],nt=[{name:"قیمت پیشنهادی",component:jsxRuntimeExports.jsx(PriceDetermination$1,{Percentage:tt.properties.minimum_price_percentage,priceIrr:tt.properties.price_irr,pricePsc:tt.properties.price_psc})}],rt=useActivity(et,{justifyContent:"center"}),it=useActivity(nt,{justifyContent:"center"});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:parseInt(tt.properties.price_irr)===0&&parseInt(tt.properties.price_psc)===0?it:rt})}const Container$k=styled.div`
  width: 100%;
  height: 98%;
  display: flex;
`,PropertyContainer=styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  width: 50%;
  gap: 15px;
  padding: 0 20px;
  height: 100%;
  overflow-y: scroll;
`,ContainerGallery=styled.div`
  width: 50%;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  align-content: flex-start;
  gap: 8px;
  flex-wrap: wrap;
  height: 100%;
  padding: 10px;
  overflow-y: auto;
`,ImgProperty=styled.img`
  width: 140px;
  aspect-ratio: 1/1;
`,UploadContainer$1=styled.div`
  cursor: pointer;
  width: 140px;
  height: 140px;
  border: 3px dashed #666;
  display: flex;
  justify-content: center;
  align-items: center;

  & p {
    font-size: 56px;
  }
`,Input$2=styled.input`
  display: none;
`;function Property$1(){var lt,ut,ft,dt,ht,mt,xt,_t,At;const[tt]=reactExports.useContext(UserContext),[et,nt]=reactExports.useContext(FeatureContext),rt=useNavigate(),it=reactExports.useRef(),{Request:st,HTTP_METHOD:ot}=useRequest(),at=gt=>{const vt=gt.target.files[0];vt.size<1e6?new Compressor(vt,{quality:.6,width:512,height:512,success(Et){const yt=new FormData;yt.append("file",Et,Et.name),st(`my-features/${tt==null?void 0:tt.id}/add-image/${et==null?void 0:et.id}`,ot.POST,{"images[]":[yt.get("file")]},{"Content-Type":"multipart/form-data"}).then(wt=>{nt({...et,images:[...wt.data.data]}),ToastSuccess("آپلود عکس با موفقیت انجام شد.")}).catch(wt=>{if(wt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),rt("/metaverse/confirmation");ToastError(wt.response.data.message)})}}):ToastError("باید حجم فایل انتخابی کمتر از 1024 کیلوبایت باشد.")};return jsxRuntimeExports.jsxs(Container$k,{children:[jsxRuntimeExports.jsxs(ContainerGallery,{children:[(lt=et==null?void 0:et.images)==null?void 0:lt.map(gt=>jsxRuntimeExports.jsx(ImgProperty,{src:gt.url},shortid$1.generate())),parseInt(et.owner_id)===parseInt(tt.id)&&jsxRuntimeExports.jsxs(UploadContainer$1,{onClick:()=>it.current.click(),children:[jsxRuntimeExports.jsx("p",{children:"+"}),jsxRuntimeExports.jsx(Input$2,{type:"file",ref:it,onChange:at,accept:"image/jpeg",multiple:!1})]})]}),jsxRuntimeExports.jsxs(PropertyContainer,{children:[jsxRuntimeExports.jsx(Specification,{title:"صاحب ملک ",value:((ut=et==null?void 0:et.properties)==null?void 0:ut.owner)==="rgb"?"سیستم":(ft=et==null?void 0:et.properties)==null?void 0:ft.owner}),jsxRuntimeExports.jsx(Specification,{title:"آدرس",value:(dt=et==null?void 0:et.properties)==null?void 0:dt.address}),jsxRuntimeExports.jsx(Specification,{title:"وضعیت",value:COMBINE_FEATURE[(ht=et==null?void 0:et.properties)==null?void 0:ht.rgb]}),jsxRuntimeExports.jsx(Specification,{title:"متراژ | مترمربع",value:(mt=et==null?void 0:et.properties)==null?void 0:mt.area}),jsxRuntimeExports.jsx(Specification,{title:"تراکم | طبقه",value:(xt=et==null?void 0:et.properties)==null?void 0:xt.density}),jsxRuntimeExports.jsx(Specification,{title:"سود ساعت شمار",value:String(((_t=et==null?void 0:et.properties)==null?void 0:_t.area)*((At=et==null?void 0:et.properties)==null?void 0:At.density)/100)}),jsxRuntimeExports.jsx(Specification,{title:"پکیج ساخت",value:10}),jsxRuntimeExports.jsx(Specification,{title:"مجوز ساخت",value:"آزاد"})]})]})}function PriceDetermination(){const[tt]=reactExports.useContext(FeatureContext),[et]=reactExports.useContext(UserContext),[nt,rt]=reactExports.useState({});reactExports.useEffect(()=>{ut("sell-requests").then(mt=>{var xt,_t;for(let At=0;At<((xt=mt==null?void 0:mt.data)==null?void 0:xt.data.length);At++){const gt=(_t=mt==null?void 0:mt.data)==null?void 0:_t.data[At];gt.feature_id===tt.id&&rt(gt)}})},[tt.id]);const[it,st]=reactExports.useState({price_irr:calculateFee(tt.properties.price_irr,80),price_psc:calculateFee(tt.properties.price_psc,80)}),[ot,at]=reactExports.useState({price_irr:"",price_psc:""}),lt=useNavigate(),{Request:ut,HTTP_METHOD:ft}=useRequest(),dt=()=>{if(TimeAgo(et==null?void 0:et.birthdate)>=18){if(it.price_irr<calculateFee(tt.properties.price_irr,80))return at({...ot,price_irr:"حداقل ارزش معامله 80% قیمت اولیه میباشد "});if(it.price_psc<calculateFee(tt.properties.price_psc,80))return at({...ot,price_psc:"حداقل ارزش معامله 80% قیمت اولیه میباشد "})}else{if(it.price_irr<calculateFee(tt.properties.price_irr,110))return at({...ot,price_irr:"حداقل ارزش معامله 110% قیمت اولیه میباشد "});if(it.price_psc<calculateFee(tt.properties.price_psc,100))return at({...ot,price_psc:"حداقل ارزش معامله 110% قیمت اولیه میباشد "})}at({price_irr:"",price_psc:""}),ut(`sell-requests/store/${tt==null?void 0:tt.id}`,ft.POST,it).then(()=>{ToastSuccess("VOD با موفقیت قیمت گذاری شد.")}).catch(mt=>{if(mt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),lt("/metaverse/confirmation");ToastError(mt.response.data.message)})},ht=()=>{nt.id&&ut(`sell-requests/${nt.id}`,ft.DELETE).then(mt=>{rt(null)}).catch(mt=>{if(mt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),lt("/metaverse/confirmation");ToastError(mt.response.data.message)})};return jsxRuntimeExports.jsx(Container$l,{children:nt!=null&&nt.id?jsxRuntimeExports.jsx(Form,{onSubmit:ht,children:jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"حذف قیمت گذاری"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text$4,{children:"شما میتوانید ملک خود را به دو صورت ریال و PSC قیمت گذاری نمایید"}),jsxRuntimeExports.jsxs(Form,{onSubmit:dt,children:[jsxRuntimeExports.jsx(Title$2,{children:"قیمت فروش (ریال)"}),jsxRuntimeExports.jsx(PriceInput,{onChange:st,text:"ریال",value:it.price_irr,name:"price_irr",errors:ot}),jsxRuntimeExports.jsx(Title$2,{children:"قیمت فروش (PSC)"}),jsxRuntimeExports.jsx(PriceInput,{onChange:st,text:"PSC",value:it.price_psc,name:"price_psc",errors:ot}),jsxRuntimeExports.jsxs(Container$l,{style:{flexDirection:"row",gap:"10px",width:"50%",marginTop:20},children:[jsxRuntimeExports.jsx(Specification,{title:"کارمزد",value:"5%"}),jsxRuntimeExports.jsx(Specification,{title:"قیمت نهایی",value:`
                ${calculateFee(it.price_irr?it.price_irr:0)} IRR / ${calculateFee(it.price_psc?it.price_psc:0)} PSC
              `})]}),jsxRuntimeExports.jsx(Submit$1,{text:"ثبت قیمت",type:"primary",options:{style:{width:"20%",marginTop:16}}})]})]})})}const Input$1=styled.input`
  width: 70px;
  text-align: center;
  padding: 0;
  margin-top: 16px;
  margin-bottom: 32px;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &[type="number"] {
    -moz-appearance: textfield;
  }
`;function PriceFloor(){var ut;const[tt]=reactExports.useContext(UserContext),[et,nt]=reactExports.useContext(FeatureContext),rt=useNavigate(),[it,st]=reactExports.useState({minimum_price_percentage:(ut=et==null?void 0:et.properties)==null?void 0:ut.minimum_price_percentage}),{Request:ot,HTTP_METHOD:at}=useRequest(),lt=()=>{if(TimeAgo(tt==null?void 0:tt.birthdate)>=18){if(it.minimum_price_percentage<80)return ToastError("برای افراد بالای 18 سال باید درصد وارد شده بیشتر از 80 باشد.")}else if(it.minimum_price_percentage<110)return ToastError("برای افراد زیر 18 سال باید درصد وارد شده بیشتر از 110 باشد.");ot(`my-features/${tt.id}/features/${et==null?void 0:et.id}`,at.POST,it).then(()=>{nt(ft=>({...ft,properties:{...ft.properties,minimum_price_percentage:it.minimum_price_percentage}})),ToastSuccess("حداقل قیمت پیشهادی شما با موفقیت ثبت شد.")}).catch(ft=>{if(ft.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),rt("/metaverse/confirmation");ToastError(ft.response.data.message)})};return jsxRuntimeExports.jsxs(Container$l,{children:[jsxRuntimeExports.jsxs(Text$4,{children:["در این قسمت شما میتوانید حداقل قیمت پیشنهادی ملک خود را نسبت به قیمت اولیه متارنگ به صورت درصدی تعیین نمایید.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"در این صورت پیشنهاد های کمتر از این محدوده برای شما ارسال نخواهد شد."]}),jsxRuntimeExports.jsx(Title$2,{children:"قیمت پیشنهادی"}),jsxRuntimeExports.jsxs(Form,{onSubmit:lt,children:[jsxRuntimeExports.jsxs("label",{form:"price-floor",children:[jsxRuntimeExports.jsx(Input$1,{className:"me-1",id:"price-floor",type:"number",placeholder:"80",name:"minimum_price_percentage",value:it.minimum_price_percentage,onChange:ft=>st(dt=>({...dt,[ft.target.name]:ft.target.value}))}),"%"]}),jsxRuntimeExports.jsx(Submit$1,{type:"primary",text:"ثبت قیمت"})]})]})}function Sell(){return useActivity([{name:"کف قیمت",component:jsxRuntimeExports.jsx(PriceFloor,{})},{name:"تعیین قیمت",component:jsxRuntimeExports.jsx(PriceDetermination,{})}],{justifyContent:"center"})}function ConditionalPage(){var xt;const{getUser:tt}=useAuth(),[et,nt]=reactExports.useState(null),[rt]=reactExports.useContext(FeatureContext),st=useTabs([{title:"خصوصیات",content:jsxRuntimeExports.jsx(Property$1,{})},{title:"قیمت گذاری",content:jsxRuntimeExports.jsx(Sell,{})}]),at=useTabs([{title:"خصوصیات",content:jsxRuntimeExports.jsx(Property$1,{})},{title:"خرید",content:jsxRuntimeExports.jsx(BuyFromSystem,{})}]),ut=useTabs([{title:"خصوصیات",content:jsxRuntimeExports.jsx(Property$1,{})},{title:"خرید",content:jsxRuntimeExports.jsx(BuyFromUser,{})}]),dt=useTabs([{title:"خصوصیات",content:jsxRuntimeExports.jsx(Property$1,{})}]),mt=useTabs([{title:"خصوصیات",content:jsxRuntimeExports.jsx(Property$1,{})},{title:"ورود به ملک",content:jsxRuntimeExports.jsx(UnitiTab,{})}]);if(reactExports.useEffect(()=>{const _t=tt();_t!=null&&_t.id&&nt(parseInt(_t==null?void 0:_t.id))},[tt]),et&&FeatureColor((xt=rt==null?void 0:rt.properties)==null?void 0:xt.rgb)){if(rt.id==6220)return mt;if(rt.id==6221)return mt;if((rt==null?void 0:rt.owner_id)===1)return at;if((rt==null?void 0:rt.owner_id)!==1&&(rt==null?void 0:rt.owner_id)!==et)return ut;if((rt==null?void 0:rt.owner_id)===et)return st}else return dt}function Feature(){const{id:tt}=useParams();return jsxRuntimeExports.jsx(FeatureProvider,{id:tt,children:jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"اطلاعات VOD",children:jsxRuntimeExports.jsx(ConditionalPage,{})})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(tt,et){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,rt){nt.__proto__=rt}||function(nt,rt){for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(nt[it]=rt[it])},extendStatics(tt,et)};function __extends(tt,et){extendStatics(tt,et);function nt(){this.constructor=tt}tt.prototype=et===null?Object.create(et):(nt.prototype=et.prototype,new nt)}var __assign=function(){return __assign=Object.assign||function(et){for(var nt,rt=1,it=arguments.length;rt<it;rt++){nt=arguments[rt];for(var st in nt)Object.prototype.hasOwnProperty.call(nt,st)&&(et[st]=nt[st])}return et},__assign.apply(this,arguments)},_populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var tt=navigator.userAgent,et=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(tt),nt=/(Mac OS X)|(Windows)|(Linux)/.exec(tt);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(tt),_ipad=/\b(iP[ao]d)/.exec(tt),_android=/Android/i.exec(tt),_native=/FBAN\/\w+;/i.exec(tt),_mobile=/Mobile/i.exec(tt),_win64=!!/Win64/.exec(tt),et){_ie=et[1]?parseFloat(et[1]):et[5]?parseFloat(et[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var rt=/(?:Trident\/(\d+.\d+))/.exec(tt);_ie_real_version=rt?parseFloat(rt[1])+4:_ie,_firefox=et[2]?parseFloat(et[2]):NaN,_opera=et[3]?parseFloat(et[3]):NaN,_webkit=et[4]?parseFloat(et[4]):NaN,_webkit?(et=/(?:Chrome\/(\d+\.\d+))/.exec(tt),_chrome=et&&et[1]?parseFloat(et[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(nt){if(nt[1]){var it=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(tt);_osx=it?parseFloat(it[1].replace("_",".")):!0}else _osx=!1;_windows=!!nt[2],_linux=!!nt[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM,canUseWorkers:typeof Worker<"u",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(tt,et){if(!ExecutionEnvironment.canUseDOM||et&&!("addEventListener"in document))return!1;var nt="on"+tt,rt=nt in document;if(!rt){var it=document.createElement("div");it.setAttribute(nt,"return;"),rt=typeof it[nt]=="function"}return!rt&&useHasFeature&&tt==="wheel"&&(rt=document.implementation.hasFeature("Events.wheel","3.0")),rt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(tt){var et=0,nt=0,rt=0,it=0;return"detail"in tt&&(nt=tt.detail),"wheelDelta"in tt&&(nt=-tt.wheelDelta/120),"wheelDeltaY"in tt&&(nt=-tt.wheelDeltaY/120),"wheelDeltaX"in tt&&(et=-tt.wheelDeltaX/120),"axis"in tt&&tt.axis===tt.HORIZONTAL_AXIS&&(et=nt,nt=0),rt=et*PIXEL_STEP,it=nt*PIXEL_STEP,"deltaY"in tt&&(it=tt.deltaY),"deltaX"in tt&&(rt=tt.deltaX),(rt||it)&&tt.deltaMode&&(tt.deltaMode==1?(rt*=LINE_HEIGHT,it*=LINE_HEIGHT):(rt*=PAGE_HEIGHT,it*=PAGE_HEIGHT)),rt&&!et&&(et=rt<1?-1:1),it&&!nt&&(nt=it<1?-1:1),{spinX:et,spinY:nt,pixelX:rt,pixelY:it}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs(normalizeWheel);function getCropSize(tt,et,nt,rt,it,st){st===void 0&&(st=0);var ot=rotateSize$1(tt,et,st),at=ot.width,lt=ot.height,ut=Math.min(at,nt),ft=Math.min(lt,rt);return ut>ft*it?{width:ft*it,height:ft}:{width:ut,height:ut/it}}function getMediaZoom(tt){return tt.width>tt.height?tt.width/tt.naturalWidth:tt.height/tt.naturalHeight}function restrictPosition(tt,et,nt,rt,it){it===void 0&&(it=0);var st=rotateSize$1(et.width,et.height,it),ot=st.width,at=st.height;return{x:restrictPositionCoord(tt.x,ot,nt.width,rt),y:restrictPositionCoord(tt.y,at,nt.height,rt)}}function restrictPositionCoord(tt,et,nt,rt){var it=et*rt/2-nt/2;return clamp(tt,-it,it)}function getDistanceBetweenPoints(tt,et){return Math.sqrt(Math.pow(tt.y-et.y,2)+Math.pow(tt.x-et.x,2))}function getRotationBetweenPoints(tt,et){return Math.atan2(et.y-tt.y,et.x-tt.x)*180/Math.PI}function computeCroppedArea(tt,et,nt,rt,it,st,ot){st===void 0&&(st=0),ot===void 0&&(ot=!0);var at=ot?limitArea:noOp,lt=rotateSize$1(et.width,et.height,st),ut=rotateSize$1(et.naturalWidth,et.naturalHeight,st),ft={x:at(100,((lt.width-nt.width/it)/2-tt.x/it)/lt.width*100),y:at(100,((lt.height-nt.height/it)/2-tt.y/it)/lt.height*100),width:at(100,nt.width/lt.width*100/it),height:at(100,nt.height/lt.height*100/it)},dt=Math.round(at(ut.width,ft.width*ut.width/100)),ht=Math.round(at(ut.height,ft.height*ut.height/100)),mt=ut.width>=ut.height*rt,xt=mt?{width:Math.round(ht*rt),height:ht}:{width:dt,height:Math.round(dt/rt)},_t=__assign(__assign({},xt),{x:Math.round(at(ut.width-xt.width,ft.x*ut.width/100)),y:Math.round(at(ut.height-xt.height,ft.y*ut.height/100))});return{croppedAreaPercentages:ft,croppedAreaPixels:_t}}function limitArea(tt,et){return Math.min(tt,Math.max(0,et))}function noOp(tt,et){return et}function getInitialCropFromCroppedAreaPercentages(tt,et,nt,rt,it,st){var ot=rotateSize$1(et.width,et.height,nt),at=clamp(rt.width/ot.width*(100/tt.width),it,st),lt={x:at*ot.width/2-rt.width/2-ot.width*at*(tt.x/100),y:at*ot.height/2-rt.height/2-ot.height*at*(tt.y/100)};return{crop:lt,zoom:at}}function getZoomFromCroppedAreaPixels(tt,et,nt){var rt=getMediaZoom(et);return nt.height>nt.width?nt.height/(tt.height*rt):nt.width/(tt.width*rt)}function getInitialCropFromCroppedAreaPixels(tt,et,nt,rt,it,st){nt===void 0&&(nt=0);var ot=rotateSize$1(et.naturalWidth,et.naturalHeight,nt),at=clamp(getZoomFromCroppedAreaPixels(tt,et,rt),it,st),lt=rt.height>rt.width?rt.height/tt.height:rt.width/tt.width,ut={x:((ot.width-tt.width)/2-tt.x)*lt,y:((ot.height-tt.height)/2-tt.y)*lt};return{crop:ut,zoom:at}}function getCenter(tt,et){return{x:(et.x+tt.x)/2,y:(et.y+tt.y)/2}}function getRadianAngle$1(tt){return tt*Math.PI/180}function rotateSize$1(tt,et,nt){var rt=getRadianAngle$1(nt);return{width:Math.abs(Math.cos(rt)*tt)+Math.abs(Math.sin(rt)*et),height:Math.abs(Math.sin(rt)*tt)+Math.abs(Math.cos(rt)*et)}}function clamp(tt,et,nt){return Math.min(Math.max(tt,et),nt)}function classNames(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];return tt.filter(function(nt){return typeof nt=="string"&&nt.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,Cropper=function(tt){__extends(et,tt);function et(){var nt=tt!==null&&tt.apply(this,arguments)||this;return nt.imageRef=React$1.createRef(),nt.videoRef=React$1.createRef(),nt.containerRef=null,nt.styleRef=null,nt.containerRect=null,nt.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},nt.dragStartPosition={x:0,y:0},nt.dragStartCrop={x:0,y:0},nt.gestureZoomStart=0,nt.gestureRotationStart=0,nt.isTouching=!1,nt.lastPinchDistance=0,nt.lastPinchRotation=0,nt.rafDragTimeout=null,nt.rafPinchTimeout=null,nt.wheelTimer=null,nt.currentDoc=typeof document<"u"?document:null,nt.currentWindow=typeof window<"u"?window:null,nt.resizeObserver=null,nt.state={cropSize:null,hasWheelJustStarted:!1},nt.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!nt.containerRef)){var rt=!0;nt.resizeObserver=new window.ResizeObserver(function(it){if(rt){rt=!1;return}nt.computeSizes()}),nt.resizeObserver.observe(nt.containerRef)}},nt.preventZoomSafari=function(rt){return rt.preventDefault()},nt.cleanEvents=function(){nt.currentDoc&&(nt.currentDoc.removeEventListener("mousemove",nt.onMouseMove),nt.currentDoc.removeEventListener("mouseup",nt.onDragStopped),nt.currentDoc.removeEventListener("touchmove",nt.onTouchMove),nt.currentDoc.removeEventListener("touchend",nt.onDragStopped),nt.currentDoc.removeEventListener("gesturemove",nt.onGestureMove),nt.currentDoc.removeEventListener("gestureend",nt.onGestureEnd))},nt.clearScrollEvent=function(){nt.containerRef&&nt.containerRef.removeEventListener("wheel",nt.onWheel),nt.wheelTimer&&clearTimeout(nt.wheelTimer)},nt.onMediaLoad=function(){var rt=nt.computeSizes();rt&&(nt.emitCropData(),nt.setInitialCrop(rt)),nt.props.onMediaLoaded&&nt.props.onMediaLoaded(nt.mediaSize)},nt.setInitialCrop=function(rt){if(nt.props.initialCroppedAreaPercentages){var it=getInitialCropFromCroppedAreaPercentages(nt.props.initialCroppedAreaPercentages,nt.mediaSize,nt.props.rotation,rt,nt.props.minZoom,nt.props.maxZoom),st=it.crop,ot=it.zoom;nt.props.onCropChange(st),nt.props.onZoomChange&&nt.props.onZoomChange(ot)}else if(nt.props.initialCroppedAreaPixels){var at=getInitialCropFromCroppedAreaPixels(nt.props.initialCroppedAreaPixels,nt.mediaSize,nt.props.rotation,rt,nt.props.minZoom,nt.props.maxZoom),st=at.crop,ot=at.zoom;nt.props.onCropChange(st),nt.props.onZoomChange&&nt.props.onZoomChange(ot)}},nt.computeSizes=function(){var rt,it,st,ot,at,lt,ut=nt.imageRef.current||nt.videoRef.current;if(ut&&nt.containerRef){nt.containerRect=nt.containerRef.getBoundingClientRect();var ft=nt.containerRect.width/nt.containerRect.height,dt=((rt=nt.imageRef.current)===null||rt===void 0?void 0:rt.naturalWidth)||((it=nt.videoRef.current)===null||it===void 0?void 0:it.videoWidth)||0,ht=((st=nt.imageRef.current)===null||st===void 0?void 0:st.naturalHeight)||((ot=nt.videoRef.current)===null||ot===void 0?void 0:ot.videoHeight)||0,mt=ut.offsetWidth<dt||ut.offsetHeight<ht,xt=dt/ht,_t=void 0;if(mt)switch(nt.props.objectFit){default:case"contain":_t=ft>xt?{width:nt.containerRect.height*xt,height:nt.containerRect.height}:{width:nt.containerRect.width,height:nt.containerRect.width/xt};break;case"horizontal-cover":_t={width:nt.containerRect.width,height:nt.containerRect.width/xt};break;case"vertical-cover":_t={width:nt.containerRect.height*xt,height:nt.containerRect.height};break;case"auto-cover":_t=dt>ht?{width:nt.containerRect.width,height:nt.containerRect.width/xt}:{width:nt.containerRect.height*xt,height:nt.containerRect.height};break}else _t={width:ut.offsetWidth,height:ut.offsetHeight};nt.mediaSize=__assign(__assign({},_t),{naturalWidth:dt,naturalHeight:ht}),nt.props.setMediaSize&&nt.props.setMediaSize(nt.mediaSize);var At=nt.props.cropSize?nt.props.cropSize:getCropSize(nt.mediaSize.width,nt.mediaSize.height,nt.containerRect.width,nt.containerRect.height,nt.props.aspect,nt.props.rotation);return(((at=nt.state.cropSize)===null||at===void 0?void 0:at.height)!==At.height||((lt=nt.state.cropSize)===null||lt===void 0?void 0:lt.width)!==At.width)&&nt.props.onCropSizeChange&&nt.props.onCropSizeChange(At),nt.setState({cropSize:At},nt.recomputeCropPosition),nt.props.setCropSize&&nt.props.setCropSize(At),At}},nt.onMouseDown=function(rt){nt.currentDoc&&(rt.preventDefault(),nt.currentDoc.addEventListener("mousemove",nt.onMouseMove),nt.currentDoc.addEventListener("mouseup",nt.onDragStopped),nt.onDragStart(et.getMousePoint(rt)))},nt.onMouseMove=function(rt){return nt.onDrag(et.getMousePoint(rt))},nt.onTouchStart=function(rt){nt.currentDoc&&(nt.isTouching=!0,!(nt.props.onTouchRequest&&!nt.props.onTouchRequest(rt))&&(nt.currentDoc.addEventListener("touchmove",nt.onTouchMove,{passive:!1}),nt.currentDoc.addEventListener("touchend",nt.onDragStopped),rt.touches.length===2?nt.onPinchStart(rt):rt.touches.length===1&&nt.onDragStart(et.getTouchPoint(rt.touches[0]))))},nt.onTouchMove=function(rt){rt.preventDefault(),rt.touches.length===2?nt.onPinchMove(rt):rt.touches.length===1&&nt.onDrag(et.getTouchPoint(rt.touches[0]))},nt.onGestureStart=function(rt){nt.currentDoc&&(rt.preventDefault(),nt.currentDoc.addEventListener("gesturechange",nt.onGestureMove),nt.currentDoc.addEventListener("gestureend",nt.onGestureEnd),nt.gestureZoomStart=nt.props.zoom,nt.gestureRotationStart=nt.props.rotation)},nt.onGestureMove=function(rt){if(rt.preventDefault(),!nt.isTouching){var it=et.getMousePoint(rt),st=nt.gestureZoomStart-1+rt.scale;if(nt.setNewZoom(st,it,{shouldUpdatePosition:!0}),nt.props.onRotationChange){var ot=nt.gestureRotationStart+rt.rotation;nt.props.onRotationChange(ot)}}},nt.onGestureEnd=function(rt){nt.cleanEvents()},nt.onDragStart=function(rt){var it,st,ot=rt.x,at=rt.y;nt.dragStartPosition={x:ot,y:at},nt.dragStartCrop=__assign({},nt.props.crop),(st=(it=nt.props).onInteractionStart)===null||st===void 0||st.call(it)},nt.onDrag=function(rt){var it=rt.x,st=rt.y;nt.currentWindow&&(nt.rafDragTimeout&&nt.currentWindow.cancelAnimationFrame(nt.rafDragTimeout),nt.rafDragTimeout=nt.currentWindow.requestAnimationFrame(function(){if(nt.state.cropSize&&!(it===void 0||st===void 0)){var ot=it-nt.dragStartPosition.x,at=st-nt.dragStartPosition.y,lt={x:nt.dragStartCrop.x+ot,y:nt.dragStartCrop.y+at},ut=nt.props.restrictPosition?restrictPosition(lt,nt.mediaSize,nt.state.cropSize,nt.props.zoom,nt.props.rotation):lt;nt.props.onCropChange(ut)}}))},nt.onDragStopped=function(){var rt,it;nt.isTouching=!1,nt.cleanEvents(),nt.emitCropData(),(it=(rt=nt.props).onInteractionEnd)===null||it===void 0||it.call(rt)},nt.onWheel=function(rt){if(nt.currentWindow&&!(nt.props.onWheelRequest&&!nt.props.onWheelRequest(rt))){rt.preventDefault();var it=et.getMousePoint(rt),st=normalizeWheel$1(rt).pixelY,ot=nt.props.zoom-st*nt.props.zoomSpeed/200;nt.setNewZoom(ot,it,{shouldUpdatePosition:!0}),nt.state.hasWheelJustStarted||nt.setState({hasWheelJustStarted:!0},function(){var at,lt;return(lt=(at=nt.props).onInteractionStart)===null||lt===void 0?void 0:lt.call(at)}),nt.wheelTimer&&clearTimeout(nt.wheelTimer),nt.wheelTimer=nt.currentWindow.setTimeout(function(){return nt.setState({hasWheelJustStarted:!1},function(){var at,lt;return(lt=(at=nt.props).onInteractionEnd)===null||lt===void 0?void 0:lt.call(at)})},250)}},nt.getPointOnContainer=function(rt){var it=rt.x,st=rt.y;if(!nt.containerRect)throw new Error("The Cropper is not mounted");return{x:nt.containerRect.width/2-(it-nt.containerRect.left),y:nt.containerRect.height/2-(st-nt.containerRect.top)}},nt.getPointOnMedia=function(rt){var it=rt.x,st=rt.y,ot=nt.props,at=ot.crop,lt=ot.zoom;return{x:(it+at.x)/lt,y:(st+at.y)/lt}},nt.setNewZoom=function(rt,it,st){var ot=st===void 0?{}:st,at=ot.shouldUpdatePosition,lt=at===void 0?!0:at;if(!(!nt.state.cropSize||!nt.props.onZoomChange)){var ut=clamp(rt,nt.props.minZoom,nt.props.maxZoom);if(lt){var ft=nt.getPointOnContainer(it),dt=nt.getPointOnMedia(ft),ht={x:dt.x*ut-ft.x,y:dt.y*ut-ft.y},mt=nt.props.restrictPosition?restrictPosition(ht,nt.mediaSize,nt.state.cropSize,ut,nt.props.rotation):ht;nt.props.onCropChange(mt)}nt.props.onZoomChange(ut)}},nt.getCropData=function(){if(!nt.state.cropSize)return null;var rt=nt.props.restrictPosition?restrictPosition(nt.props.crop,nt.mediaSize,nt.state.cropSize,nt.props.zoom,nt.props.rotation):nt.props.crop;return computeCroppedArea(rt,nt.mediaSize,nt.state.cropSize,nt.getAspect(),nt.props.zoom,nt.props.rotation,nt.props.restrictPosition)},nt.emitCropData=function(){var rt=nt.getCropData();if(rt){var it=rt.croppedAreaPercentages,st=rt.croppedAreaPixels;nt.props.onCropComplete&&nt.props.onCropComplete(it,st),nt.props.onCropAreaChange&&nt.props.onCropAreaChange(it,st)}},nt.emitCropAreaChange=function(){var rt=nt.getCropData();if(rt){var it=rt.croppedAreaPercentages,st=rt.croppedAreaPixels;nt.props.onCropAreaChange&&nt.props.onCropAreaChange(it,st)}},nt.recomputeCropPosition=function(){if(nt.state.cropSize){var rt=nt.props.restrictPosition?restrictPosition(nt.props.crop,nt.mediaSize,nt.state.cropSize,nt.props.zoom,nt.props.rotation):nt.props.crop;nt.props.onCropChange(rt),nt.emitCropData()}},nt}return et.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},et.prototype.componentWillUnmount=function(){var nt,rt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(nt=this.resizeObserver)===null||nt===void 0||nt.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((rt=this.styleRef.parentNode)===null||rt===void 0||rt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},et.prototype.componentDidUpdate=function(nt){var rt,it,st,ot,at,lt,ut,ft,dt;nt.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):nt.aspect!==this.props.aspect?this.computeSizes():nt.zoom!==this.props.zoom?this.recomputeCropPosition():((rt=nt.cropSize)===null||rt===void 0?void 0:rt.height)!==((it=this.props.cropSize)===null||it===void 0?void 0:it.height)||((st=nt.cropSize)===null||st===void 0?void 0:st.width)!==((ot=this.props.cropSize)===null||ot===void 0?void 0:ot.width)?this.computeSizes():(((at=nt.crop)===null||at===void 0?void 0:at.x)!==((lt=this.props.crop)===null||lt===void 0?void 0:lt.x)||((ut=nt.crop)===null||ut===void 0?void 0:ut.y)!==((ft=this.props.crop)===null||ft===void 0?void 0:ft.y))&&this.emitCropAreaChange(),nt.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),nt.video!==this.props.video&&((dt=this.videoRef.current)===null||dt===void 0||dt.load())},et.prototype.getAspect=function(){var nt=this.props,rt=nt.cropSize,it=nt.aspect;return rt?rt.width/rt.height:it},et.prototype.onPinchStart=function(nt){var rt=et.getTouchPoint(nt.touches[0]),it=et.getTouchPoint(nt.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(rt,it),this.lastPinchRotation=getRotationBetweenPoints(rt,it),this.onDragStart(getCenter(rt,it))},et.prototype.onPinchMove=function(nt){var rt=this;if(!(!this.currentDoc||!this.currentWindow)){var it=et.getTouchPoint(nt.touches[0]),st=et.getTouchPoint(nt.touches[1]),ot=getCenter(it,st);this.onDrag(ot),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var at=getDistanceBetweenPoints(it,st),lt=rt.props.zoom*(at/rt.lastPinchDistance);rt.setNewZoom(lt,ot,{shouldUpdatePosition:!1}),rt.lastPinchDistance=at;var ut=getRotationBetweenPoints(it,st),ft=rt.props.rotation+(ut-rt.lastPinchRotation);rt.props.onRotationChange&&rt.props.onRotationChange(ft),rt.lastPinchRotation=ut})}},et.prototype.render=function(){var nt=this,rt=this.props,it=rt.image,st=rt.video,ot=rt.mediaProps,at=rt.transform,lt=rt.crop,ut=lt.x,ft=lt.y,dt=rt.rotation,ht=rt.zoom,mt=rt.cropShape,xt=rt.showGrid,_t=rt.style,At=_t.containerStyle,gt=_t.cropAreaStyle,vt=_t.mediaStyle,Et=rt.classes,yt=Et.containerClassName,wt=Et.cropAreaClassName,Ct=Et.mediaClassName,Rt=rt.objectFit;return React$1.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($t){return nt.containerRef=$t},"data-testid":"container",style:At,className:classNames("reactEasyCrop_Container",yt)},it?React$1.createElement("img",__assign({alt:"",className:classNames("reactEasyCrop_Image",Rt==="contain"&&"reactEasyCrop_Contain",Rt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Rt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Rt==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ct)},ot,{src:it,ref:this.imageRef,style:__assign(__assign({},vt),{transform:at||"translate(".concat(ut,"px, ").concat(ft,"px) rotate(").concat(dt,"deg) scale(").concat(ht,")")}),onLoad:this.onMediaLoad})):st&&React$1.createElement("video",__assign({autoPlay:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Rt==="contain"&&"reactEasyCrop_Contain",Rt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Rt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Rt==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ct)},ot,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},vt),{transform:at||"translate(".concat(ut,"px, ").concat(ft,"px) rotate(").concat(dt,"deg) scale(").concat(ht,")")}),controls:!1}),(Array.isArray(st)?st:[{src:st}]).map(function(It){return React$1.createElement("source",__assign({key:It.src},It))})),this.state.cropSize&&React$1.createElement("div",{style:__assign(__assign({},gt),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",mt==="round"&&"reactEasyCrop_CropAreaRound",xt&&"reactEasyCrop_CropAreaGrid",wt)}))},et.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},et.getMousePoint=function(nt){return{x:Number(nt.clientX),y:Number(nt.clientY)}},et.getTouchPoint=function(nt){return{x:Number(nt.clientX),y:Number(nt.clientY)}},et}(React$1.Component);const createImage=tt=>new Promise((et,nt)=>{const rt=new Image;rt.addEventListener("load",()=>et(rt)),rt.addEventListener("error",it=>nt(it)),rt.setAttribute("crossOrigin","anonymous"),rt.src=tt});function getRadianAngle(tt){return tt*Math.PI/180}function rotateSize(tt,et,nt){const rt=getRadianAngle(nt);return{width:Math.abs(Math.cos(rt)*tt)+Math.abs(Math.sin(rt)*et),height:Math.abs(Math.sin(rt)*tt)+Math.abs(Math.cos(rt)*et)}}async function getCroppedImg(tt,et,nt=0,rt={horizontal:!1,vertical:!1}){const it=await createImage(tt),st=document.createElement("canvas"),ot=st.getContext("2d");if(!ot)return null;const at=getRadianAngle(nt),{width:lt,height:ut}=rotateSize(it.width,it.height,nt);st.width=lt,st.height=ut,ot.translate(lt/2,ut/2),ot.rotate(at),ot.scale(rt.horizontal?-1:1,rt.vertical?-1:1),ot.translate(-it.width/2,-it.height/2),ot.drawImage(it,0,0);const ft=ot.getImageData(et.x,et.y,et.width,et.height);return st.width=et.width,st.height=et.height,ot.putImageData(ft,0,0),new Promise((dt,ht)=>{st.toBlob(mt=>{dt(URL.createObjectURL(mt))},"image/jpeg")})}const Container$j=styled.div`
  width: 100% !important;
  height: 600px !important;
`,CropperContainer=styled.div`
  height: 50%;
  width: 100%;
  position: relative;
`,AvatarPreview=styled.img`
  position: relative;
  border-radius: 100px;
  margin-right: 16px;
`,PreviewContainer=styled.div`
  margin-bottom: 24px;
  margin-top: 16px;

  & h3 {
    margin-bottom: 16px;
    text-align: right;
    direction: rtl;
  }
`,Input=styled.input`
  display: none;
`,UploadContainer=styled.div`
  cursor: pointer;
  width: 99%;
  height: 90%;
  border: 4px dashed #666;
  margin: auto;
  margin-top: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  
  & p {
    font-size: 80px;
    display: flex;
  }
`;function UploadAvatar(){const[tt,et]=reactExports.useState({x:0,y:0}),[nt,rt]=reactExports.useState(0),[it,st]=reactExports.useState(1),ot=reactExports.useRef(),[at,lt]=reactExports.useState(null),[ut,ft]=reactExports.useState(null),[dt,ht]=reactExports.useState(null),[mt,xt]=reactExports.useState([]),{Request:_t,HTTP_METHOD:At}=useRequest(),gt=reactExports.useCallback(async(wt,Ct)=>{try{const Rt=await getCroppedImg(at,Ct);ht(Rt),fetch(Rt).then(It=>It.blob()).then(It=>{const $t=new FormData,Ft=new File([It],`${shortid$1.generate()}.jpeg`);$t.append("avatar",Ft),ft($t.get("avatar"))})}catch{}},[at]),vt=useNavigate(),Et=wt=>{if(wt.target.files[0].size<=1e6){const Ct=URL.createObjectURL(wt.target.files[0]);lt(Ct),xt([])}else xt(["باید حجم فایل انتخابی کمتر از 1024 کیلوبایت باشد."])},yt=()=>{ut?_t("profilePhotos",At.POST,{image:ut},{"Content-Type":"multipart/form-data"}).then(wt=>{ToastSuccess("آواتار با موفقیت آپلود شد."),vt("/metaverse/profile")}):ToastError("برای آپلود آواتار ابتدا باید عکس خود را انتخاب کنید.")};return jsxRuntimeExports.jsx(Modal$1,{title:"بارگذاری اواتار",disabled:!0,children:jsxRuntimeExports.jsxs(Container$j,{children:[jsxRuntimeExports.jsx(CropperContainer,{children:at?jsxRuntimeExports.jsx(Cropper,{image:at,crop:tt,rotation:nt,zoom:it,aspect:1/1,onCropChange:et,onRotationChange:rt,onCropComplete:gt,onZoomChange:st}):jsxRuntimeExports.jsx(UploadContainer,{onClick:()=>ot.current.click(),children:jsxRuntimeExports.jsx("p",{children:"+"})})}),jsxRuntimeExports.jsxs(PreviewContainer,{children:[jsxRuntimeExports.jsx("h3",{children:"شما می توانید در پایین پیش نمایش عکس خود را مشاهده کنید."}),jsxRuntimeExports.jsx(AvatarPreview,{src:dt||AnonymousImage,height:100,width:100}),jsxRuntimeExports.jsx(AvatarPreview,{src:dt||AnonymousImage,height:80,width:80}),jsxRuntimeExports.jsx(AvatarPreview,{src:dt||AnonymousImage,height:50,width:50})]}),jsxRuntimeExports.jsx(Input,{type:"file",accept:"image/*",multiple:!1,ref:ot,onChange:Et}),at&&jsxRuntimeExports.jsx(Submit$1,{text:"حدف تصویر انتخاب شده",type:"primary",options:{style:{width:"100%",marginBottom:"16px"},onClick:()=>{lt(null),ht(null)}}}),jsxRuntimeExports.jsx(ErrorMessage,{errors:mt,maxList:1,style:{marginBottom:"24px"}}),jsxRuntimeExports.jsx(Form,{onSubmit:yt,children:jsxRuntimeExports.jsx(Submit$1,{text:"آپلود تصویر",type:"primary",options:{style:{width:"100%"}}})})]})})}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(tt,et){module.exports=et()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(et){_useWebWorker=!!et},getWebWorker=function(){return _useWebWorker},setLocationHref=function(et){locationHref=et},getLocationHref=function(){return locationHref};function createTag(tt){return document.createElement(tt)}function extendPrototype(tt,et){var nt,rt=tt.length,it;for(nt=0;nt<rt;nt+=1){it=tt[nt].prototype;for(var st in it)Object.prototype.hasOwnProperty.call(it,st)&&(et.prototype[st]=it[st])}}function getDescriptor(tt,et){return Object.getOwnPropertyDescriptor(tt,et)}function createProxyFunction(tt){function et(){}return et.prototype=tt,et}var audioControllerFactory=function(){function tt(et){this.audios=[],this.audioFactory=et,this._volume=1,this._isMuted=!1}return tt.prototype={addAudio:function(nt){this.audios.push(nt)},pause:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].pause()},resume:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].resume()},setRate:function(nt){var rt,it=this.audios.length;for(rt=0;rt<it;rt+=1)this.audios[rt].setRate(nt)},createAudio:function(nt){return this.audioFactory?this.audioFactory(nt):window.Howl?new window.Howl({src:[nt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(nt){this.audioFactory=nt},setVolume:function(nt){this._volume=nt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].volume(this._volume*(this._isMuted?0:1))}},function(){return new tt}}(),createTypedArray=function(){function tt(nt,rt){var it=0,st=[],ot;switch(nt){case"int16":case"uint8c":ot=1;break;default:ot=1.1;break}for(it=0;it<rt;it+=1)st.push(ot);return st}function et(nt,rt){return nt==="float32"?new Float32Array(rt):nt==="int16"?new Int16Array(rt):nt==="uint8c"?new Uint8ClampedArray(rt):tt(nt,rt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?et:tt}();function createSizedArray(tt){return Array.apply(null,{length:tt})}function _typeof$6(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(nt){return typeof nt}:_typeof$6=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$6(tt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var tt=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],et,nt=tt.length;for(et=0;et<nt;et+=1)BMMath[tt[et]]=Math[tt[et]]})(),BMMath.random=Math.random,BMMath.abs=function(tt){var et=_typeof$6(tt);if(et==="object"&&tt.length){var nt=createSizedArray(tt.length),rt,it=tt.length;for(rt=0;rt<it;rt+=1)nt[rt]=Math.abs(tt[rt]);return nt}return Math.abs(tt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(tt){tt.style.position="absolute",tt.style.top=0,tt.style.left=0,tt.style.display="block",tt.style.transformOrigin="0 0",tt.style.webkitTransformOrigin="0 0",tt.style.backfaceVisibility="visible",tt.style.webkitBackfaceVisibility="visible",tt.style.transformStyle="preserve-3d",tt.style.webkitTransformStyle="preserve-3d",tt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(tt,et,nt,rt){this.type=tt,this.currentTime=et,this.totalTime=nt,this.direction=rt<0?-1:1}function BMCompleteEvent(tt,et){this.type=tt,this.direction=et<0?-1:1}function BMCompleteLoopEvent(tt,et,nt,rt){this.type=tt,this.currentLoop=nt,this.totalLoops=et,this.direction=rt<0?-1:1}function BMSegmentStartEvent(tt,et,nt){this.type=tt,this.firstFrame=et,this.totalFrames=nt}function BMDestroyEvent(tt,et){this.type=tt,this.target=et}function BMRenderFrameErrorEvent(tt,et){this.type="renderFrameError",this.nativeError=tt,this.currentTime=et}function BMConfigErrorEvent(tt){this.type="configError",this.nativeError=tt}var createElementID=function(){var tt=0;return function(){return tt+=1,idPrefix$1+"__lottie_element_"+tt}}();function HSVtoRGB(tt,et,nt){var rt,it,st,ot,at,lt,ut,ft;switch(ot=Math.floor(tt*6),at=tt*6-ot,lt=nt*(1-et),ut=nt*(1-at*et),ft=nt*(1-(1-at)*et),ot%6){case 0:rt=nt,it=ft,st=lt;break;case 1:rt=ut,it=nt,st=lt;break;case 2:rt=lt,it=nt,st=ft;break;case 3:rt=lt,it=ut,st=nt;break;case 4:rt=ft,it=lt,st=nt;break;case 5:rt=nt,it=lt,st=ut;break}return[rt,it,st]}function RGBtoHSV(tt,et,nt){var rt=Math.max(tt,et,nt),it=Math.min(tt,et,nt),st=rt-it,ot,at=rt===0?0:st/rt,lt=rt/255;switch(rt){case it:ot=0;break;case tt:ot=et-nt+st*(et<nt?6:0),ot/=6*st;break;case et:ot=nt-tt+st*2,ot/=6*st;break;case nt:ot=tt-et+st*4,ot/=6*st;break}return[ot,at,lt]}function addSaturationToRGB(tt,et){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[1]+=et,nt[1]>1?nt[1]=1:nt[1]<=0&&(nt[1]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addBrightnessToRGB(tt,et){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[2]+=et,nt[2]>1?nt[2]=1:nt[2]<0&&(nt[2]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addHueToRGB(tt,et){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[0]+=et/360,nt[0]>1?nt[0]-=1:nt[0]<0&&(nt[0]+=1),HSVtoRGB(nt[0],nt[1],nt[2])}var rgbToHex=function(){var tt=[],et,nt;for(et=0;et<256;et+=1)nt=et.toString(16),tt[et]=nt.length===1?"0"+nt:nt;return function(rt,it,st){return rt<0&&(rt=0),it<0&&(it=0),st<0&&(st=0),"#"+tt[rt]+tt[it]+tt[st]}}(),setSubframeEnabled=function(et){subframeEnabled=!!et},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(et){expressionsPlugin=et},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(et){expressionsInterfaces=et},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(et){defaultCurveSegments=et},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(et){idPrefix$1=et};function createNS(tt){return document.createElementNS(svgNS,tt)}function _typeof$5(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(nt){return typeof nt}:_typeof$5=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$5(tt)}var dataManager=function(){var tt=1,et=[],nt,rt,it={onmessage:function(){},postMessage:function(mt){nt({data:mt})}},st={postMessage:function(mt){it.onmessage({data:mt})}};function ot(ht){if(window.Worker&&window.Blob&&getWebWorker()){var mt=new Blob(["var _workerSelf = self; self.onmessage = ",ht.toString()],{type:"text/javascript"}),xt=URL.createObjectURL(mt);return new Worker(xt)}return nt=ht,it}function at(){rt||(rt=ot(function(mt){function xt(){function At(sn,rn){var Jt,Ut,Kt=sn.length,Qt,zt,Ht,en;for(Ut=0;Ut<Kt;Ut+=1)if(Jt=sn[Ut],"ks"in Jt&&!Jt.completed){if(Jt.completed=!0,Jt.hasMask){var an=Jt.masksProperties;for(zt=an.length,Qt=0;Qt<zt;Qt+=1)if(an[Qt].pt.k.i)wt(an[Qt].pt.k);else for(en=an[Qt].pt.k.length,Ht=0;Ht<en;Ht+=1)an[Qt].pt.k[Ht].s&&wt(an[Qt].pt.k[Ht].s[0]),an[Qt].pt.k[Ht].e&&wt(an[Qt].pt.k[Ht].e[0])}Jt.ty===0?(Jt.layers=Et(Jt.refId,rn),At(Jt.layers,rn)):Jt.ty===4?yt(Jt.shapes):Jt.ty===5&&Xt(Jt)}}function gt(sn,rn){if(sn){var Jt=0,Ut=sn.length;for(Jt=0;Jt<Ut;Jt+=1)sn[Jt].t===1&&(sn[Jt].data.layers=Et(sn[Jt].data.refId,rn),At(sn[Jt].data.layers,rn))}}function vt(sn,rn){for(var Jt=0,Ut=rn.length;Jt<Ut;){if(rn[Jt].id===sn)return rn[Jt];Jt+=1}return null}function Et(sn,rn){var Jt=vt(sn,rn);return Jt?Jt.layers.__used?JSON.parse(JSON.stringify(Jt.layers)):(Jt.layers.__used=!0,Jt.layers):null}function yt(sn){var rn,Jt=sn.length,Ut,Kt;for(rn=Jt-1;rn>=0;rn-=1)if(sn[rn].ty==="sh")if(sn[rn].ks.k.i)wt(sn[rn].ks.k);else for(Kt=sn[rn].ks.k.length,Ut=0;Ut<Kt;Ut+=1)sn[rn].ks.k[Ut].s&&wt(sn[rn].ks.k[Ut].s[0]),sn[rn].ks.k[Ut].e&&wt(sn[rn].ks.k[Ut].e[0]);else sn[rn].ty==="gr"&&yt(sn[rn].it)}function wt(sn){var rn,Jt=sn.i.length;for(rn=0;rn<Jt;rn+=1)sn.i[rn][0]+=sn.v[rn][0],sn.i[rn][1]+=sn.v[rn][1],sn.o[rn][0]+=sn.v[rn][0],sn.o[rn][1]+=sn.v[rn][1]}function Ct(sn,rn){var Jt=rn?rn.split("."):[100,100,100];return sn[0]>Jt[0]?!0:Jt[0]>sn[0]?!1:sn[1]>Jt[1]?!0:Jt[1]>sn[1]?!1:sn[2]>Jt[2]?!0:Jt[2]>sn[2]?!1:null}var Rt=function(){var sn=[4,4,14];function rn(Ut){var Kt=Ut.t.d;Ut.t.d={k:[{s:Kt,t:0}]}}function Jt(Ut){var Kt,Qt=Ut.length;for(Kt=0;Kt<Qt;Kt+=1)Ut[Kt].ty===5&&rn(Ut[Kt])}return function(Ut){if(Ct(sn,Ut.v)&&(Jt(Ut.layers),Ut.assets)){var Kt,Qt=Ut.assets.length;for(Kt=0;Kt<Qt;Kt+=1)Ut.assets[Kt].layers&&Jt(Ut.assets[Kt].layers)}}}(),It=function(){var sn=[4,7,99];return function(rn){if(rn.chars&&!Ct(sn,rn.v)){var Jt,Ut=rn.chars.length;for(Jt=0;Jt<Ut;Jt+=1){var Kt=rn.chars[Jt];Kt.data&&Kt.data.shapes&&(yt(Kt.data.shapes),Kt.data.ip=0,Kt.data.op=99999,Kt.data.st=0,Kt.data.sr=1,Kt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},rn.chars[Jt].t||(Kt.data.shapes.push({ty:"no"}),Kt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),$t=function(){var sn=[5,7,15];function rn(Ut){var Kt=Ut.t.p;typeof Kt.a=="number"&&(Kt.a={a:0,k:Kt.a}),typeof Kt.p=="number"&&(Kt.p={a:0,k:Kt.p}),typeof Kt.r=="number"&&(Kt.r={a:0,k:Kt.r})}function Jt(Ut){var Kt,Qt=Ut.length;for(Kt=0;Kt<Qt;Kt+=1)Ut[Kt].ty===5&&rn(Ut[Kt])}return function(Ut){if(Ct(sn,Ut.v)&&(Jt(Ut.layers),Ut.assets)){var Kt,Qt=Ut.assets.length;for(Kt=0;Kt<Qt;Kt+=1)Ut.assets[Kt].layers&&Jt(Ut.assets[Kt].layers)}}}(),Ft=function(){var sn=[4,1,9];function rn(Ut){var Kt,Qt=Ut.length,zt,Ht;for(Kt=0;Kt<Qt;Kt+=1)if(Ut[Kt].ty==="gr")rn(Ut[Kt].it);else if(Ut[Kt].ty==="fl"||Ut[Kt].ty==="st")if(Ut[Kt].c.k&&Ut[Kt].c.k[0].i)for(Ht=Ut[Kt].c.k.length,zt=0;zt<Ht;zt+=1)Ut[Kt].c.k[zt].s&&(Ut[Kt].c.k[zt].s[0]/=255,Ut[Kt].c.k[zt].s[1]/=255,Ut[Kt].c.k[zt].s[2]/=255,Ut[Kt].c.k[zt].s[3]/=255),Ut[Kt].c.k[zt].e&&(Ut[Kt].c.k[zt].e[0]/=255,Ut[Kt].c.k[zt].e[1]/=255,Ut[Kt].c.k[zt].e[2]/=255,Ut[Kt].c.k[zt].e[3]/=255);else Ut[Kt].c.k[0]/=255,Ut[Kt].c.k[1]/=255,Ut[Kt].c.k[2]/=255,Ut[Kt].c.k[3]/=255}function Jt(Ut){var Kt,Qt=Ut.length;for(Kt=0;Kt<Qt;Kt+=1)Ut[Kt].ty===4&&rn(Ut[Kt].shapes)}return function(Ut){if(Ct(sn,Ut.v)&&(Jt(Ut.layers),Ut.assets)){var Kt,Qt=Ut.assets.length;for(Kt=0;Kt<Qt;Kt+=1)Ut.assets[Kt].layers&&Jt(Ut.assets[Kt].layers)}}}(),Bt=function(){var sn=[4,4,18];function rn(Ut){var Kt,Qt=Ut.length,zt,Ht;for(Kt=Qt-1;Kt>=0;Kt-=1)if(Ut[Kt].ty==="sh")if(Ut[Kt].ks.k.i)Ut[Kt].ks.k.c=Ut[Kt].closed;else for(Ht=Ut[Kt].ks.k.length,zt=0;zt<Ht;zt+=1)Ut[Kt].ks.k[zt].s&&(Ut[Kt].ks.k[zt].s[0].c=Ut[Kt].closed),Ut[Kt].ks.k[zt].e&&(Ut[Kt].ks.k[zt].e[0].c=Ut[Kt].closed);else Ut[Kt].ty==="gr"&&rn(Ut[Kt].it)}function Jt(Ut){var Kt,Qt,zt=Ut.length,Ht,en,an,on;for(Qt=0;Qt<zt;Qt+=1){if(Kt=Ut[Qt],Kt.hasMask){var Wt=Kt.masksProperties;for(en=Wt.length,Ht=0;Ht<en;Ht+=1)if(Wt[Ht].pt.k.i)Wt[Ht].pt.k.c=Wt[Ht].cl;else for(on=Wt[Ht].pt.k.length,an=0;an<on;an+=1)Wt[Ht].pt.k[an].s&&(Wt[Ht].pt.k[an].s[0].c=Wt[Ht].cl),Wt[Ht].pt.k[an].e&&(Wt[Ht].pt.k[an].e[0].c=Wt[Ht].cl)}Kt.ty===4&&rn(Kt.shapes)}}return function(Ut){if(Ct(sn,Ut.v)&&(Jt(Ut.layers),Ut.assets)){var Kt,Qt=Ut.assets.length;for(Kt=0;Kt<Qt;Kt+=1)Ut.assets[Kt].layers&&Jt(Ut.assets[Kt].layers)}}}();function Nt(sn){sn.__complete||(Ft(sn),Rt(sn),It(sn),$t(sn),Bt(sn),At(sn.layers,sn.assets),gt(sn.chars,sn.assets),sn.__complete=!0)}function Xt(sn){sn.t.a.length===0&&"m"in sn.t.p}var nn={};return nn.completeData=Nt,nn.checkColors=Ft,nn.checkChars=It,nn.checkPathProperties=$t,nn.checkShapes=Bt,nn.completeLayers=At,nn}if(st.dataManager||(st.dataManager=xt()),st.assetLoader||(st.assetLoader=function(){function At(vt){var Et=vt.getResponseHeader("content-type");return Et&&vt.responseType==="json"&&Et.indexOf("json")!==-1||vt.response&&_typeof$5(vt.response)==="object"?vt.response:vt.response&&typeof vt.response=="string"?JSON.parse(vt.response):vt.responseText?JSON.parse(vt.responseText):null}function gt(vt,Et,yt,wt){var Ct,Rt=new XMLHttpRequest;try{Rt.responseType="json"}catch{}Rt.onreadystatechange=function(){if(Rt.readyState===4)if(Rt.status===200)Ct=At(Rt),yt(Ct);else try{Ct=At(Rt),yt(Ct)}catch(It){wt&&wt(It)}};try{Rt.open(["G","E","T"].join(""),vt,!0)}catch{Rt.open(["G","E","T"].join(""),Et+"/"+vt,!0)}Rt.send()}return{load:gt}}()),mt.data.type==="loadAnimation")st.assetLoader.load(mt.data.path,mt.data.fullPath,function(At){st.dataManager.completeData(At),st.postMessage({id:mt.data.id,payload:At,status:"success"})},function(){st.postMessage({id:mt.data.id,status:"error"})});else if(mt.data.type==="complete"){var _t=mt.data.animation;st.dataManager.completeData(_t),st.postMessage({id:mt.data.id,payload:_t,status:"success"})}else mt.data.type==="loadData"&&st.assetLoader.load(mt.data.path,mt.data.fullPath,function(At){st.postMessage({id:mt.data.id,payload:At,status:"success"})},function(){st.postMessage({id:mt.data.id,status:"error"})})}),rt.onmessage=function(ht){var mt=ht.data,xt=mt.id,_t=et[xt];et[xt]=null,mt.status==="success"?_t.onComplete(mt.payload):_t.onError&&_t.onError()})}function lt(ht,mt){tt+=1;var xt="processId_"+tt;return et[xt]={onComplete:ht,onError:mt},xt}function ut(ht,mt,xt){at();var _t=lt(mt,xt);rt.postMessage({type:"loadAnimation",path:ht,fullPath:window.location.origin+window.location.pathname,id:_t})}function ft(ht,mt,xt){at();var _t=lt(mt,xt);rt.postMessage({type:"loadData",path:ht,fullPath:window.location.origin+window.location.pathname,id:_t})}function dt(ht,mt,xt){at();var _t=lt(mt,xt);rt.postMessage({type:"complete",animation:ht,id:_t})}return{loadAnimation:ut,loadData:ft,completeAnimation:dt}}(),ImagePreloader=function(){var tt=function(){var gt=createTag("canvas");gt.width=1,gt.height=1;var vt=gt.getContext("2d");return vt.fillStyle="rgba(0,0,0,0)",vt.fillRect(0,0,1,1),gt}();function et(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(gt,vt,Et){var yt="";if(gt.e)yt=gt.p;else if(vt){var wt=gt.p;wt.indexOf("images/")!==-1&&(wt=wt.split("/")[1]),yt=vt+wt}else yt=Et,yt+=gt.u?gt.u:"",yt+=gt.p;return yt}function it(gt){var vt=0,Et=setInterval(function(){var yt=gt.getBBox();(yt.width||vt>500)&&(this._imageLoaded(),clearInterval(Et)),vt+=1}.bind(this),50)}function st(gt){var vt=rt(gt,this.assetsPath,this.path),Et=createNS("image");isSafari?this.testImageLoaded(Et):Et.addEventListener("load",this._imageLoaded,!1),Et.addEventListener("error",function(){yt.img=tt,this._imageLoaded()}.bind(this),!1),Et.setAttributeNS("http://www.w3.org/1999/xlink","href",vt),this._elementHelper.append?this._elementHelper.append(Et):this._elementHelper.appendChild(Et);var yt={img:Et,assetData:gt};return yt}function ot(gt){var vt=rt(gt,this.assetsPath,this.path),Et=createTag("img");Et.crossOrigin="anonymous",Et.addEventListener("load",this._imageLoaded,!1),Et.addEventListener("error",function(){yt.img=tt,this._imageLoaded()}.bind(this),!1),Et.src=vt;var yt={img:Et,assetData:gt};return yt}function at(gt){var vt={assetData:gt},Et=rt(gt,this.assetsPath,this.path);return dataManager.loadData(Et,function(yt){vt.img=yt,this._footageLoaded()}.bind(this),function(){vt.img={},this._footageLoaded()}.bind(this)),vt}function lt(gt,vt){this.imagesLoadedCb=vt;var Et,yt=gt.length;for(Et=0;Et<yt;Et+=1)gt[Et].layers||(!gt[Et].t||gt[Et].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(gt[Et]))):gt[Et].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(gt[Et]))))}function ut(gt){this.path=gt||""}function ft(gt){this.assetsPath=gt||""}function dt(gt){for(var vt=0,Et=this.images.length;vt<Et;){if(this.images[vt].assetData===gt)return this.images[vt].img;vt+=1}return null}function ht(){this.imagesLoadedCb=null,this.images.length=0}function mt(){return this.totalImages===this.loadedAssets}function xt(){return this.totalFootages===this.loadedFootagesCount}function _t(gt,vt){gt==="svg"?(this._elementHelper=vt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function At(){this._imageLoaded=et.bind(this),this._footageLoaded=nt.bind(this),this.testImageLoaded=it.bind(this),this.createFootageData=at.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return At.prototype={loadAssets:lt,setAssetsPath:ft,setPath:ut,loadedImages:mt,loadedFootages:xt,destroy:ht,getAsset:dt,createImgData:ot,createImageData:st,imageLoaded:et,footageLoaded:nt,setCacheType:_t},At}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(et,nt){if(this._cbs[et])for(var rt=this._cbs[et],it=0;it<rt.length;it+=1)rt[it](nt)},addEventListener:function(et,nt){return this._cbs[et]||(this._cbs[et]=[]),this._cbs[et].push(nt),function(){this.removeEventListener(et,nt)}.bind(this)},removeEventListener:function(et,nt){if(!nt)this._cbs[et]=null;else if(this._cbs[et]){for(var rt=0,it=this._cbs[et].length;rt<it;)this._cbs[et][rt]===nt&&(this._cbs[et].splice(rt,1),rt-=1,it-=1),rt+=1;this._cbs[et].length||(this._cbs[et]=null)}}};var markerParser=function(){function tt(et){for(var nt=et.split(`\r
`),rt={},it,st=0,ot=0;ot<nt.length;ot+=1)it=nt[ot].split(":"),it.length===2&&(rt[it[0]]=it[1].trim(),st+=1);if(st===0)throw new Error;return rt}return function(et){for(var nt=[],rt=0;rt<et.length;rt+=1){var it=et[rt],st={time:it.tm,duration:it.dr};try{st.payload=JSON.parse(et[rt].cm)}catch{try{st.payload=tt(et[rt].cm)}catch{st.payload={name:et[rt].cm}}}nt.push(st)}return nt}}(),ProjectInterface=function(){function tt(et){this.compositions.push(et)}return function(){function et(nt){for(var rt=0,it=this.compositions.length;rt<it;){if(this.compositions[rt].data&&this.compositions[rt].data.nm===nt)return this.compositions[rt].prepareFrame&&this.compositions[rt].data.xt&&this.compositions[rt].prepareFrame(this.currentFrame),this.compositions[rt].compInterface;rt+=1}return null}return et.compositions=[],et.currentFrame=0,et.registerComposition=tt,et}}(),renderers={},registerRenderer=function(et,nt){renderers[et]=nt};function getRenderer(tt){return renderers[tt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var tt in renderers)if(renderers[tt])return tt;return""}function _typeof$4(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(nt){return typeof nt}:_typeof$4=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$4(tt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(tt){(tt.wrapper||tt.container)&&(this.wrapper=tt.wrapper||tt.container);var et="svg";tt.animType?et=tt.animType:tt.renderer&&(et=tt.renderer);var nt=getRenderer(et);this.renderer=new nt(this,tt.rendererSettings),this.imagePreloader.setCacheType(et,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=et,tt.loop===""||tt.loop===null||tt.loop===void 0||tt.loop===!0?this.loop=!0:tt.loop===!1?this.loop=!1:this.loop=parseInt(tt.loop,10),this.autoplay="autoplay"in tt?tt.autoplay:!0,this.name=tt.name?tt.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(tt,"autoloadSegments")?tt.autoloadSegments:!0,this.assetsPath=tt.assetsPath,this.initialSegment=tt.initialSegment,tt.audioFactory&&this.audioController.setAudioFactory(tt.audioFactory),tt.animationData?this.setupAnimation(tt.animationData):tt.path&&(tt.path.lastIndexOf("\\")!==-1?this.path=tt.path.substr(0,tt.path.lastIndexOf("\\")+1):this.path=tt.path.substr(0,tt.path.lastIndexOf("/")+1),this.fileName=tt.path.substr(tt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(tt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(tt){dataManager.completeAnimation(tt,this.configAnimation)},AnimationItem.prototype.setData=function(tt,et){et&&_typeof$4(et)!=="object"&&(et=JSON.parse(et));var nt={wrapper:tt,animationData:et},rt=tt.attributes;nt.path=rt.getNamedItem("data-animation-path")?rt.getNamedItem("data-animation-path").value:rt.getNamedItem("data-bm-path")?rt.getNamedItem("data-bm-path").value:rt.getNamedItem("bm-path")?rt.getNamedItem("bm-path").value:"",nt.animType=rt.getNamedItem("data-anim-type")?rt.getNamedItem("data-anim-type").value:rt.getNamedItem("data-bm-type")?rt.getNamedItem("data-bm-type").value:rt.getNamedItem("bm-type")?rt.getNamedItem("bm-type").value:rt.getNamedItem("data-bm-renderer")?rt.getNamedItem("data-bm-renderer").value:rt.getNamedItem("bm-renderer")?rt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var it=rt.getNamedItem("data-anim-loop")?rt.getNamedItem("data-anim-loop").value:rt.getNamedItem("data-bm-loop")?rt.getNamedItem("data-bm-loop").value:rt.getNamedItem("bm-loop")?rt.getNamedItem("bm-loop").value:"";it==="false"?nt.loop=!1:it==="true"?nt.loop=!0:it!==""&&(nt.loop=parseInt(it,10));var st=rt.getNamedItem("data-anim-autoplay")?rt.getNamedItem("data-anim-autoplay").value:rt.getNamedItem("data-bm-autoplay")?rt.getNamedItem("data-bm-autoplay").value:rt.getNamedItem("bm-autoplay")?rt.getNamedItem("bm-autoplay").value:!0;nt.autoplay=st!=="false",nt.name=rt.getNamedItem("data-name")?rt.getNamedItem("data-name").value:rt.getNamedItem("data-bm-name")?rt.getNamedItem("data-bm-name").value:rt.getNamedItem("bm-name")?rt.getNamedItem("bm-name").value:"";var ot=rt.getNamedItem("data-anim-prerender")?rt.getNamedItem("data-anim-prerender").value:rt.getNamedItem("data-bm-prerender")?rt.getNamedItem("data-bm-prerender").value:rt.getNamedItem("bm-prerender")?rt.getNamedItem("bm-prerender").value:"";ot==="false"&&(nt.prerender=!1),nt.path?this.setParams(nt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(tt){tt.op>this.animationData.op&&(this.animationData.op=tt.op,this.totalFrames=Math.floor(tt.op-this.animationData.ip));var et=this.animationData.layers,nt,rt=et.length,it=tt.layers,st,ot=it.length;for(st=0;st<ot;st+=1)for(nt=0;nt<rt;){if(et[nt].id===it[st].id){et[nt]=it[st];break}nt+=1}if((tt.chars||tt.fonts)&&(this.renderer.globalData.fontManager.addChars(tt.chars),this.renderer.globalData.fontManager.addFonts(tt.fonts,this.renderer.globalData.defs)),tt.assets)for(rt=tt.assets.length,nt=0;nt<rt;nt+=1)this.animationData.assets.push(tt.assets[nt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(tt){this.animationData=tt;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var tt=this.animationData.segments;if(!tt||tt.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var et=tt.shift();this.timeCompleted=et.time*this.frameRate;var nt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(nt,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var tt=this.animationData.segments;tt||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(tt){if(this.renderer)try{this.animationData=tt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(tt),tt.assets||(tt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(tt.assets),this.markers=markerParser(tt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(et){this.triggerConfigError(et)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var tt=getExpressionsPlugin();tt&&tt.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(tt,et){var nt=typeof tt=="number"?tt:void 0,rt=typeof et=="number"?et:void 0;this.renderer.updateContainerSize(nt,rt)},AnimationItem.prototype.setSubframe=function(tt){this.isSubframeEnabled=!!tt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(tt){this.triggerRenderFrameError(tt)}},AnimationItem.prototype.play=function(tt){tt&&this.name!==tt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(tt){tt&&this.name!==tt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(tt){tt&&this.name!==tt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(tt){tt&&this.name!==tt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(tt){for(var et,nt=0;nt<this.markers.length;nt+=1)if(et=this.markers[nt],et.payload&&et.payload.name===tt)return et;return null},AnimationItem.prototype.goToAndStop=function(tt,et,nt){if(!(nt&&this.name!==nt)){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&this.goToAndStop(it.time,!0)}else et?this.setCurrentRawFrameValue(tt):this.setCurrentRawFrameValue(tt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(tt,et,nt){if(!(nt&&this.name!==nt)){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&(it.duration?this.playSegments([it.time,it.time+it.duration],!0):this.goToAndStop(it.time,!0))}else this.goToAndStop(rt,et,nt);this.play()}},AnimationItem.prototype.advanceTime=function(tt){if(!(this.isPaused===!0||this.isLoaded===!1)){var et=this.currentRawFrame+tt*this.frameModifier,nt=!1;et>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(et>this.totalFrames?et%this.totalFrames:0)||(nt=!0,et=this.totalFrames-1):et>=this.totalFrames?(this.playCount+=1,this.checkSegments(et%this.totalFrames)||(this.setCurrentRawFrameValue(et%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(et):et<0?this.checkSegments(et%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+et%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(nt=!0,et=0)):this.setCurrentRawFrameValue(et),nt&&(this.setCurrentRawFrameValue(et),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(tt,et){this.playCount=0,tt[1]<tt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=tt[0]-tt[1],this.timeCompleted=this.totalFrames,this.firstFrame=tt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-et)):tt[1]>tt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=tt[1]-tt[0],this.timeCompleted=this.totalFrames,this.firstFrame=tt[0],this.setCurrentRawFrameValue(.001+et)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(tt,et){var nt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<tt?nt=tt:this.currentRawFrame+this.firstFrame>et&&(nt=et-tt)),this.firstFrame=tt,this.totalFrames=et-tt,this.timeCompleted=this.totalFrames,nt!==-1&&this.goToAndStop(nt,!0)},AnimationItem.prototype.playSegments=function(tt,et){if(et&&(this.segments.length=0),_typeof$4(tt[0])==="object"){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)this.segments.push(tt[nt])}else this.segments.push(tt);this.segments.length&&et&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(tt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),tt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(tt){return this.segments.length?(this.adjustSegment(this.segments.shift(),tt),!0):!1},AnimationItem.prototype.destroy=function(tt){tt&&this.name!==tt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(tt){this.currentRawFrame=tt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(tt){this.playSpeed=tt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(tt){this.playDirection=tt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(tt){this.loop=tt},AnimationItem.prototype.setVolume=function(tt,et){et&&this.name!==et||this.audioController.setVolume(tt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(tt){tt&&this.name!==tt||this.audioController.mute()},AnimationItem.prototype.unmute=function(tt){tt&&this.name!==tt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(tt){var et="";if(tt.e)et=tt.p;else if(this.assetsPath){var nt=tt.p;nt.indexOf("images/")!==-1&&(nt=nt.split("/")[1]),et=this.assetsPath+nt}else et=this.path,et+=tt.u?tt.u:"",et+=tt.p;return et},AnimationItem.prototype.getAssetData=function(tt){for(var et=0,nt=this.assets.length;et<nt;){if(tt===this.assets[et].id)return this.assets[et];et+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(tt){return tt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(tt,et,nt){try{var rt=this.renderer.getElementByPath(tt);rt.updateDocumentData(et,nt)}catch{}},AnimationItem.prototype.trigger=function(tt){if(this._cbs&&this._cbs[tt])switch(tt){case"enterFrame":this.triggerEvent(tt,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(tt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(tt,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(tt,new BMCompleteEvent(tt,this.frameMult));break;case"segmentStart":this.triggerEvent(tt,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(tt,new BMDestroyEvent(tt,this));break;default:this.triggerEvent(tt)}tt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameMult)),tt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult)),tt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(tt,this.frameMult)),tt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames)),tt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(tt,this))},AnimationItem.prototype.triggerRenderFrameError=function(tt){var et=new BMRenderFrameErrorEvent(tt,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)},AnimationItem.prototype.triggerConfigError=function(tt){var et=new BMConfigErrorEvent(tt,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)};var animationManager=function(){var tt={},et=[],nt=0,rt=0,it=0,st=!0,ot=!1;function at(rn){for(var Jt=0,Ut=rn.target;Jt<rt;)et[Jt].animation===Ut&&(et.splice(Jt,1),Jt-=1,rt-=1,Ut.isPaused||dt()),Jt+=1}function lt(rn,Jt){if(!rn)return null;for(var Ut=0;Ut<rt;){if(et[Ut].elem===rn&&et[Ut].elem!==null)return et[Ut].animation;Ut+=1}var Kt=new AnimationItem;return ht(Kt,rn),Kt.setData(rn,Jt),Kt}function ut(){var rn,Jt=et.length,Ut=[];for(rn=0;rn<Jt;rn+=1)Ut.push(et[rn].animation);return Ut}function ft(){it+=1,Ft()}function dt(){it-=1}function ht(rn,Jt){rn.addEventListener("destroy",at),rn.addEventListener("_active",ft),rn.addEventListener("_idle",dt),et.push({elem:Jt,animation:rn}),rt+=1}function mt(rn){var Jt=new AnimationItem;return ht(Jt,null),Jt.setParams(rn),Jt}function xt(rn,Jt){var Ut;for(Ut=0;Ut<rt;Ut+=1)et[Ut].animation.setSpeed(rn,Jt)}function _t(rn,Jt){var Ut;for(Ut=0;Ut<rt;Ut+=1)et[Ut].animation.setDirection(rn,Jt)}function At(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.play(rn)}function gt(rn){var Jt=rn-nt,Ut;for(Ut=0;Ut<rt;Ut+=1)et[Ut].animation.advanceTime(Jt);nt=rn,it&&!ot?window.requestAnimationFrame(gt):st=!0}function vt(rn){nt=rn,window.requestAnimationFrame(gt)}function Et(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.pause(rn)}function yt(rn,Jt,Ut){var Kt;for(Kt=0;Kt<rt;Kt+=1)et[Kt].animation.goToAndStop(rn,Jt,Ut)}function wt(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.stop(rn)}function Ct(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.togglePause(rn)}function Rt(rn){var Jt;for(Jt=rt-1;Jt>=0;Jt-=1)et[Jt].animation.destroy(rn)}function It(rn,Jt,Ut){var Kt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Qt,zt=Kt.length;for(Qt=0;Qt<zt;Qt+=1)Ut&&Kt[Qt].setAttribute("data-bm-type",Ut),lt(Kt[Qt],rn);if(Jt&&zt===0){Ut||(Ut="svg");var Ht=document.getElementsByTagName("body")[0];Ht.innerText="";var en=createTag("div");en.style.width="100%",en.style.height="100%",en.setAttribute("data-bm-type",Ut),Ht.appendChild(en),lt(en,rn)}}function $t(){var rn;for(rn=0;rn<rt;rn+=1)et[rn].animation.resize()}function Ft(){!ot&&it&&st&&(window.requestAnimationFrame(vt),st=!1)}function Bt(){ot=!0}function Nt(){ot=!1,Ft()}function Xt(rn,Jt){var Ut;for(Ut=0;Ut<rt;Ut+=1)et[Ut].animation.setVolume(rn,Jt)}function nn(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.mute(rn)}function sn(rn){var Jt;for(Jt=0;Jt<rt;Jt+=1)et[Jt].animation.unmute(rn)}return tt.registerAnimation=lt,tt.loadAnimation=mt,tt.setSpeed=xt,tt.setDirection=_t,tt.play=At,tt.pause=Et,tt.stop=wt,tt.togglePause=Ct,tt.searchAnimations=It,tt.resize=$t,tt.goToAndStop=yt,tt.destroy=Rt,tt.freeze=Bt,tt.unfreeze=Nt,tt.setVolume=Xt,tt.mute=nn,tt.unmute=sn,tt.getRegisteredAnimations=ut,tt}(),BezierFactory=function(){var tt={};tt.getBezierEasing=nt;var et={};function nt(vt,Et,yt,wt,Ct){var Rt=Ct||("bez_"+vt+"_"+Et+"_"+yt+"_"+wt).replace(/\./g,"p");if(et[Rt])return et[Rt];var It=new gt([vt,Et,yt,wt]);return et[Rt]=It,It}var rt=4,it=.001,st=1e-7,ot=10,at=11,lt=1/(at-1),ut=typeof Float32Array=="function";function ft(vt,Et){return 1-3*Et+3*vt}function dt(vt,Et){return 3*Et-6*vt}function ht(vt){return 3*vt}function mt(vt,Et,yt){return((ft(Et,yt)*vt+dt(Et,yt))*vt+ht(Et))*vt}function xt(vt,Et,yt){return 3*ft(Et,yt)*vt*vt+2*dt(Et,yt)*vt+ht(Et)}function _t(vt,Et,yt,wt,Ct){var Rt,It,$t=0;do It=Et+(yt-Et)/2,Rt=mt(It,wt,Ct)-vt,Rt>0?yt=It:Et=It;while(Math.abs(Rt)>st&&++$t<ot);return It}function At(vt,Et,yt,wt){for(var Ct=0;Ct<rt;++Ct){var Rt=xt(Et,yt,wt);if(Rt===0)return Et;var It=mt(Et,yt,wt)-vt;Et-=It/Rt}return Et}function gt(vt){this._p=vt,this._mSampleValues=ut?new Float32Array(at):new Array(at),this._precomputed=!1,this.get=this.get.bind(this)}return gt.prototype={get:function(Et){var yt=this._p[0],wt=this._p[1],Ct=this._p[2],Rt=this._p[3];return this._precomputed||this._precompute(),yt===wt&&Ct===Rt?Et:Et===0?0:Et===1?1:mt(this._getTForX(Et),wt,Rt)},_precompute:function(){var Et=this._p[0],yt=this._p[1],wt=this._p[2],Ct=this._p[3];this._precomputed=!0,(Et!==yt||wt!==Ct)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Et=this._p[0],yt=this._p[2],wt=0;wt<at;++wt)this._mSampleValues[wt]=mt(wt*lt,Et,yt)},_getTForX:function(Et){for(var yt=this._p[0],wt=this._p[2],Ct=this._mSampleValues,Rt=0,It=1,$t=at-1;It!==$t&&Ct[It]<=Et;++It)Rt+=lt;--It;var Ft=(Et-Ct[It])/(Ct[It+1]-Ct[It]),Bt=Rt+Ft*lt,Nt=xt(Bt,yt,wt);return Nt>=it?At(Et,Bt,yt,wt):Nt===0?Bt:_t(Et,Rt,Rt+lt,yt,wt)}},tt}(),pooling=function(){function tt(et){return et.concat(createSizedArray(et.length))}return{double:tt}}(),poolFactory=function(){return function(tt,et,nt){var rt=0,it=tt,st=createSizedArray(it),ot={newElement:at,release:lt};function at(){var ut;return rt?(rt-=1,ut=st[rt]):ut=et(),ut}function lt(ut){rt===it&&(st=pooling.double(st),it*=2),nt&&nt(ut),st[rt]=ut,rt+=1}return ot}}(),bezierLengthPool=function(){function tt(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,tt)}(),segmentsLengthPool=function(){function tt(){return{lengths:[],totalLength:0}}function et(nt){var rt,it=nt.lengths.length;for(rt=0;rt<it;rt+=1)bezierLengthPool.release(nt.lengths[rt]);nt.lengths.length=0}return poolFactory(8,tt,et)}();function bezFunction(){var tt=Math;function et(ht,mt,xt,_t,At,gt){var vt=ht*_t+mt*At+xt*gt-At*_t-gt*ht-xt*mt;return vt>-.001&&vt<.001}function nt(ht,mt,xt,_t,At,gt,vt,Et,yt){if(xt===0&&gt===0&&yt===0)return et(ht,mt,_t,At,vt,Et);var wt=tt.sqrt(tt.pow(_t-ht,2)+tt.pow(At-mt,2)+tt.pow(gt-xt,2)),Ct=tt.sqrt(tt.pow(vt-ht,2)+tt.pow(Et-mt,2)+tt.pow(yt-xt,2)),Rt=tt.sqrt(tt.pow(vt-_t,2)+tt.pow(Et-At,2)+tt.pow(yt-gt,2)),It;return wt>Ct?wt>Rt?It=wt-Ct-Rt:It=Rt-Ct-wt:Rt>Ct?It=Rt-Ct-wt:It=Ct-wt-Rt,It>-1e-4&&It<1e-4}var rt=function(){return function(ht,mt,xt,_t){var At=getDefaultCurveSegments(),gt,vt,Et,yt,wt,Ct=0,Rt,It=[],$t=[],Ft=bezierLengthPool.newElement();for(Et=xt.length,gt=0;gt<At;gt+=1){for(wt=gt/(At-1),Rt=0,vt=0;vt<Et;vt+=1)yt=bmPow(1-wt,3)*ht[vt]+3*bmPow(1-wt,2)*wt*xt[vt]+3*(1-wt)*bmPow(wt,2)*_t[vt]+bmPow(wt,3)*mt[vt],It[vt]=yt,$t[vt]!==null&&(Rt+=bmPow(It[vt]-$t[vt],2)),$t[vt]=It[vt];Rt&&(Rt=bmSqrt(Rt),Ct+=Rt),Ft.percents[gt]=wt,Ft.lengths[gt]=Ct}return Ft.addedLength=Ct,Ft}}();function it(ht){var mt=segmentsLengthPool.newElement(),xt=ht.c,_t=ht.v,At=ht.o,gt=ht.i,vt,Et=ht._length,yt=mt.lengths,wt=0;for(vt=0;vt<Et-1;vt+=1)yt[vt]=rt(_t[vt],_t[vt+1],At[vt],gt[vt+1]),wt+=yt[vt].addedLength;return xt&&Et&&(yt[vt]=rt(_t[vt],_t[0],At[vt],gt[0]),wt+=yt[vt].addedLength),mt.totalLength=wt,mt}function st(ht){this.segmentLength=0,this.points=new Array(ht)}function ot(ht,mt){this.partialLength=ht,this.point=mt}var at=function(){var ht={};return function(mt,xt,_t,At){var gt=(mt[0]+"_"+mt[1]+"_"+xt[0]+"_"+xt[1]+"_"+_t[0]+"_"+_t[1]+"_"+At[0]+"_"+At[1]).replace(/\./g,"p");if(!ht[gt]){var vt=getDefaultCurveSegments(),Et,yt,wt,Ct,Rt,It=0,$t,Ft,Bt=null;mt.length===2&&(mt[0]!==xt[0]||mt[1]!==xt[1])&&et(mt[0],mt[1],xt[0],xt[1],mt[0]+_t[0],mt[1]+_t[1])&&et(mt[0],mt[1],xt[0],xt[1],xt[0]+At[0],xt[1]+At[1])&&(vt=2);var Nt=new st(vt);for(wt=_t.length,Et=0;Et<vt;Et+=1){for(Ft=createSizedArray(wt),Rt=Et/(vt-1),$t=0,yt=0;yt<wt;yt+=1)Ct=bmPow(1-Rt,3)*mt[yt]+3*bmPow(1-Rt,2)*Rt*(mt[yt]+_t[yt])+3*(1-Rt)*bmPow(Rt,2)*(xt[yt]+At[yt])+bmPow(Rt,3)*xt[yt],Ft[yt]=Ct,Bt!==null&&($t+=bmPow(Ft[yt]-Bt[yt],2));$t=bmSqrt($t),It+=$t,Nt.points[Et]=new ot($t,Ft),Bt=Ft}Nt.segmentLength=It,ht[gt]=Nt}return ht[gt]}}();function lt(ht,mt){var xt=mt.percents,_t=mt.lengths,At=xt.length,gt=bmFloor((At-1)*ht),vt=ht*mt.addedLength,Et=0;if(gt===At-1||gt===0||vt===_t[gt])return xt[gt];for(var yt=_t[gt]>vt?-1:1,wt=!0;wt;)if(_t[gt]<=vt&&_t[gt+1]>vt?(Et=(vt-_t[gt])/(_t[gt+1]-_t[gt]),wt=!1):gt+=yt,gt<0||gt>=At-1){if(gt===At-1)return xt[gt];wt=!1}return xt[gt]+(xt[gt+1]-xt[gt])*Et}function ut(ht,mt,xt,_t,At,gt){var vt=lt(At,gt),Et=1-vt,yt=tt.round((Et*Et*Et*ht[0]+(vt*Et*Et+Et*vt*Et+Et*Et*vt)*xt[0]+(vt*vt*Et+Et*vt*vt+vt*Et*vt)*_t[0]+vt*vt*vt*mt[0])*1e3)/1e3,wt=tt.round((Et*Et*Et*ht[1]+(vt*Et*Et+Et*vt*Et+Et*Et*vt)*xt[1]+(vt*vt*Et+Et*vt*vt+vt*Et*vt)*_t[1]+vt*vt*vt*mt[1])*1e3)/1e3;return[yt,wt]}var ft=createTypedArray("float32",8);function dt(ht,mt,xt,_t,At,gt,vt){At<0?At=0:At>1&&(At=1);var Et=lt(At,vt);gt=gt>1?1:gt;var yt=lt(gt,vt),wt,Ct=ht.length,Rt=1-Et,It=1-yt,$t=Rt*Rt*Rt,Ft=Et*Rt*Rt*3,Bt=Et*Et*Rt*3,Nt=Et*Et*Et,Xt=Rt*Rt*It,nn=Et*Rt*It+Rt*Et*It+Rt*Rt*yt,sn=Et*Et*It+Rt*Et*yt+Et*Rt*yt,rn=Et*Et*yt,Jt=Rt*It*It,Ut=Et*It*It+Rt*yt*It+Rt*It*yt,Kt=Et*yt*It+Rt*yt*yt+Et*It*yt,Qt=Et*yt*yt,zt=It*It*It,Ht=yt*It*It+It*yt*It+It*It*yt,en=yt*yt*It+It*yt*yt+yt*It*yt,an=yt*yt*yt;for(wt=0;wt<Ct;wt+=1)ft[wt*4]=tt.round(($t*ht[wt]+Ft*xt[wt]+Bt*_t[wt]+Nt*mt[wt])*1e3)/1e3,ft[wt*4+1]=tt.round((Xt*ht[wt]+nn*xt[wt]+sn*_t[wt]+rn*mt[wt])*1e3)/1e3,ft[wt*4+2]=tt.round((Jt*ht[wt]+Ut*xt[wt]+Kt*_t[wt]+Qt*mt[wt])*1e3)/1e3,ft[wt*4+3]=tt.round((zt*ht[wt]+Ht*xt[wt]+en*_t[wt]+an*mt[wt])*1e3)/1e3;return ft}return{getSegmentsLength:it,getNewSegment:dt,getPointInSegment:ut,buildBezierData:at,pointOnLine2D:et,pointOnLine3D:nt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(tt,et){var nt=this.offsetTime,rt;this.propType==="multidimensional"&&(rt=createTypedArray("float32",this.pv.length));for(var it=et.lastIndex,st=it,ot=this.keyframes.length-1,at=!0,lt,ut,ft;at;){if(lt=this.keyframes[st],ut=this.keyframes[st+1],st===ot-1&&tt>=ut.t-nt){lt.h&&(lt=ut),it=0;break}if(ut.t-nt>tt){it=st;break}st<ot-1?st+=1:(it=0,at=!1)}ft=this.keyframesMetadata[st]||{};var dt,ht,mt,xt,_t,At,gt=ut.t-nt,vt=lt.t-nt,Et;if(lt.to){ft.bezierData||(ft.bezierData=bez.buildBezierData(lt.s,ut.s||lt.e,lt.to,lt.ti));var yt=ft.bezierData;if(tt>=gt||tt<vt){var wt=tt>=gt?yt.points.length-1:0;for(ht=yt.points[wt].point.length,dt=0;dt<ht;dt+=1)rt[dt]=yt.points[wt].point[dt]}else{ft.__fnct?At=ft.__fnct:(At=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y,lt.n).get,ft.__fnct=At),mt=At((tt-vt)/(gt-vt));var Ct=yt.segmentLength*mt,Rt,It=et.lastFrame<tt&&et._lastKeyframeIndex===st?et._lastAddedLength:0;for(_t=et.lastFrame<tt&&et._lastKeyframeIndex===st?et._lastPoint:0,at=!0,xt=yt.points.length;at;){if(It+=yt.points[_t].partialLength,Ct===0||mt===0||_t===yt.points.length-1){for(ht=yt.points[_t].point.length,dt=0;dt<ht;dt+=1)rt[dt]=yt.points[_t].point[dt];break}else if(Ct>=It&&Ct<It+yt.points[_t+1].partialLength){for(Rt=(Ct-It)/yt.points[_t+1].partialLength,ht=yt.points[_t].point.length,dt=0;dt<ht;dt+=1)rt[dt]=yt.points[_t].point[dt]+(yt.points[_t+1].point[dt]-yt.points[_t].point[dt])*Rt;break}_t<xt-1?_t+=1:at=!1}et._lastPoint=_t,et._lastAddedLength=It-yt.points[_t].partialLength,et._lastKeyframeIndex=st}}else{var $t,Ft,Bt,Nt,Xt;if(ot=lt.s.length,Et=ut.s||lt.e,this.sh&&lt.h!==1)if(tt>=gt)rt[0]=Et[0],rt[1]=Et[1],rt[2]=Et[2];else if(tt<=vt)rt[0]=lt.s[0],rt[1]=lt.s[1],rt[2]=lt.s[2];else{var nn=createQuaternion(lt.s),sn=createQuaternion(Et),rn=(tt-vt)/(gt-vt);quaternionToEuler(rt,slerp(nn,sn,rn))}else for(st=0;st<ot;st+=1)lt.h!==1&&(tt>=gt?mt=1:tt<vt?mt=0:(lt.o.x.constructor===Array?(ft.__fnct||(ft.__fnct=[]),ft.__fnct[st]?At=ft.__fnct[st]:($t=lt.o.x[st]===void 0?lt.o.x[0]:lt.o.x[st],Ft=lt.o.y[st]===void 0?lt.o.y[0]:lt.o.y[st],Bt=lt.i.x[st]===void 0?lt.i.x[0]:lt.i.x[st],Nt=lt.i.y[st]===void 0?lt.i.y[0]:lt.i.y[st],At=BezierFactory.getBezierEasing($t,Ft,Bt,Nt).get,ft.__fnct[st]=At)):ft.__fnct?At=ft.__fnct:($t=lt.o.x,Ft=lt.o.y,Bt=lt.i.x,Nt=lt.i.y,At=BezierFactory.getBezierEasing($t,Ft,Bt,Nt).get,lt.keyframeMetadata=At),mt=At((tt-vt)/(gt-vt)))),Et=ut.s||lt.e,Xt=lt.h===1?lt.s[st]:lt.s[st]+(Et[st]-lt.s[st])*mt,this.propType==="multidimensional"?rt[st]=Xt:rt=Xt}return et.lastIndex=it,rt}function slerp(tt,et,nt){var rt=[],it=tt[0],st=tt[1],ot=tt[2],at=tt[3],lt=et[0],ut=et[1],ft=et[2],dt=et[3],ht,mt,xt,_t,At;return mt=it*lt+st*ut+ot*ft+at*dt,mt<0&&(mt=-mt,lt=-lt,ut=-ut,ft=-ft,dt=-dt),1-mt>1e-6?(ht=Math.acos(mt),xt=Math.sin(ht),_t=Math.sin((1-nt)*ht)/xt,At=Math.sin(nt*ht)/xt):(_t=1-nt,At=nt),rt[0]=_t*it+At*lt,rt[1]=_t*st+At*ut,rt[2]=_t*ot+At*ft,rt[3]=_t*at+At*dt,rt}function quaternionToEuler(tt,et){var nt=et[0],rt=et[1],it=et[2],st=et[3],ot=Math.atan2(2*rt*st-2*nt*it,1-2*rt*rt-2*it*it),at=Math.asin(2*nt*rt+2*it*st),lt=Math.atan2(2*nt*st-2*rt*it,1-2*nt*nt-2*it*it);tt[0]=ot/degToRads,tt[1]=at/degToRads,tt[2]=lt/degToRads}function createQuaternion(tt){var et=tt[0]*degToRads,nt=tt[1]*degToRads,rt=tt[2]*degToRads,it=Math.cos(et/2),st=Math.cos(nt/2),ot=Math.cos(rt/2),at=Math.sin(et/2),lt=Math.sin(nt/2),ut=Math.sin(rt/2),ft=it*st*ot-at*lt*ut,dt=at*lt*ot+it*st*ut,ht=at*st*ot+it*lt*ut,mt=it*lt*ot-at*st*ut;return[dt,ht,mt,ft]}function getValueAtCurrentTime(){var tt=this.comp.renderedFrame-this.offsetTime,et=this.keyframes[0].t-this.offsetTime,nt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(tt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=nt&&tt>=nt||this._caching.lastFrame<et&&tt<et))){this._caching.lastFrame>=tt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rt=this.interpolateValue(tt,this._caching);this.pv=rt}return this._caching.lastFrame=tt,this.pv}function setVValue(tt){var et;if(this.propType==="unidimensional")et=tt*this.mult,mathAbs(this.v-et)>1e-5&&(this.v=et,this._mdf=!0);else for(var nt=0,rt=this.v.length;nt<rt;)et=tt[nt]*this.mult,mathAbs(this.v[nt]-et)>1e-5&&(this.v[nt]=et,this._mdf=!0),nt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var tt,et=this.effectsSequence.length,nt=this.kf?this.pv:this.data.k;for(tt=0;tt<et;tt+=1)nt=this.effectsSequence[tt](nt);this.setVValue(nt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(tt){this.effectsSequence.push(tt),this.container.addDynamicProperty(this)}function ValueProperty(tt,et,nt,rt){this.propType="unidimensional",this.mult=nt||1,this.data=et,this.v=nt?et.k*nt:et.k,this.pv=et.k,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(tt,et,nt,rt){this.propType="multidimensional",this.mult=nt||1,this.data=et,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var it,st=et.k.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),this.vel=createTypedArray("float32",st),it=0;it<st;it+=1)this.v[it]=et.k[it]*this.mult,this.pv[it]=et.k[it];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(tt,et,nt,rt){this.propType="unidimensional",this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=et,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(tt,et,nt,rt){this.propType="multidimensional";var it,st=et.k.length,ot,at,lt,ut;for(it=0;it<st-1;it+=1)et.k[it].to&&et.k[it].s&&et.k[it+1]&&et.k[it+1].s&&(ot=et.k[it].s,at=et.k[it+1].s,lt=et.k[it].to,ut=et.k[it].ti,(ot.length===2&&!(ot[0]===at[0]&&ot[1]===at[1])&&bez.pointOnLine2D(ot[0],ot[1],at[0],at[1],ot[0]+lt[0],ot[1]+lt[1])&&bez.pointOnLine2D(ot[0],ot[1],at[0],at[1],at[0]+ut[0],at[1]+ut[1])||ot.length===3&&!(ot[0]===at[0]&&ot[1]===at[1]&&ot[2]===at[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],at[0],at[1],at[2],ot[0]+lt[0],ot[1]+lt[1],ot[2]+lt[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],at[0],at[1],at[2],at[0]+ut[0],at[1]+ut[1],at[2]+ut[2]))&&(et.k[it].to=null,et.k[it].ti=null),ot[0]===at[0]&&ot[1]===at[1]&&lt[0]===0&&lt[1]===0&&ut[0]===0&&ut[1]===0&&(ot.length===2||ot[2]===at[2]&&lt[2]===0&&ut[2]===0)&&(et.k[it].to=null,et.k[it].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=et,this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ft=et.k[0].s.length;for(this.v=createTypedArray("float32",ft),this.pv=createTypedArray("float32",ft),it=0;it<ft;it+=1)this.v[it]=initFrame,this.pv[it]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ft)},this.addEffect=addEffect}var PropertyFactory=function(){function tt(nt,rt,it,st,ot){rt.sid&&(rt=nt.globalData.slotManager.getProp(rt));var at;if(!rt.k.length)at=new ValueProperty(nt,rt,st,ot);else if(typeof rt.k[0]=="number")at=new MultiDimensionalProperty(nt,rt,st,ot);else switch(it){case 0:at=new KeyframedValueProperty(nt,rt,st,ot);break;case 1:at=new KeyframedMultidimensionalProperty(nt,rt,st,ot);break}return at.effectsSequence.length&&ot.addDynamicProperty(at),at}var et={getProp:tt};return et}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&(this.dynamicProperties.push(et),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var et,nt=this.dynamicProperties.length;for(et=0;et<nt;et+=1)this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(et){this.container=et,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function tt(){return createTypedArray("float32",2)}return poolFactory(8,tt)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(tt,et){this.c=tt,this.setLength(et);for(var nt=0;nt<et;)this.v[nt]=pointPool.newElement(),this.o[nt]=pointPool.newElement(),this.i[nt]=pointPool.newElement(),nt+=1},ShapePath.prototype.setLength=function(tt){for(;this._maxLength<tt;)this.doubleArrayLength();this._length=tt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(tt,et,nt,rt,it){var st;switch(this._length=Math.max(this._length,rt+1),this._length>=this._maxLength&&this.doubleArrayLength(),nt){case"v":st=this.v;break;case"i":st=this.i;break;case"o":st=this.o;break;default:st=[];break}(!st[rt]||st[rt]&&!it)&&(st[rt]=pointPool.newElement()),st[rt][0]=tt,st[rt][1]=et},ShapePath.prototype.setTripleAt=function(tt,et,nt,rt,it,st,ot,at){this.setXYAt(tt,et,"v",ot,at),this.setXYAt(nt,rt,"o",ot,at),this.setXYAt(it,st,"i",ot,at)},ShapePath.prototype.reverse=function(){var tt=new ShapePath;tt.setPathData(this.c,this._length);var et=this.v,nt=this.o,rt=this.i,it=0;this.c&&(tt.setTripleAt(et[0][0],et[0][1],rt[0][0],rt[0][1],nt[0][0],nt[0][1],0,!1),it=1);var st=this._length-1,ot=this._length,at;for(at=it;at<ot;at+=1)tt.setTripleAt(et[st][0],et[st][1],rt[st][0],rt[st][1],nt[st][0],nt[st][1],at,!1),st-=1;return tt},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function tt(){return new ShapePath}function et(it){var st=it._length,ot;for(ot=0;ot<st;ot+=1)pointPool.release(it.v[ot]),pointPool.release(it.i[ot]),pointPool.release(it.o[ot]),it.v[ot]=null,it.i[ot]=null,it.o[ot]=null;it._length=0,it.c=!1}function nt(it){var st=rt.newElement(),ot,at=it._length===void 0?it.v.length:it._length;for(st.setLength(at),st.c=it.c,ot=0;ot<at;ot+=1)st.setTripleAt(it.v[ot][0],it.v[ot][1],it.o[ot][0],it.o[ot][1],it.i[ot][0],it.i[ot][1],ot);return st}var rt=poolFactory(4,tt,et);return rt.clone=nt,rt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(tt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=tt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var tt;for(tt=0;tt<this._length;tt+=1)shapePool.release(this.shapes[tt]);this._length=0};var shapeCollectionPool=function(){var tt={newShapeCollection:it,release:st},et=0,nt=4,rt=createSizedArray(nt);function it(){var ot;return et?(et-=1,ot=rt[et]):ot=new ShapeCollection,ot}function st(ot){var at,lt=ot._length;for(at=0;at<lt;at+=1)shapePool.release(ot.shapes[at]);ot._length=0,et===nt&&(rt=pooling.double(rt),nt*=2),rt[et]=ot,et+=1}return tt}(),ShapePropertyFactory=function(){var tt=-999999;function et(gt,vt,Et){var yt=Et.lastIndex,wt,Ct,Rt,It,$t,Ft,Bt,Nt,Xt,nn=this.keyframes;if(gt<nn[0].t-this.offsetTime)wt=nn[0].s[0],Rt=!0,yt=0;else if(gt>=nn[nn.length-1].t-this.offsetTime)wt=nn[nn.length-1].s?nn[nn.length-1].s[0]:nn[nn.length-2].e[0],Rt=!0;else{for(var sn=yt,rn=nn.length-1,Jt=!0,Ut,Kt,Qt;Jt&&(Ut=nn[sn],Kt=nn[sn+1],!(Kt.t-this.offsetTime>gt));)sn<rn-1?sn+=1:Jt=!1;if(Qt=this.keyframesMetadata[sn]||{},Rt=Ut.h===1,yt=sn,!Rt){if(gt>=Kt.t-this.offsetTime)Nt=1;else if(gt<Ut.t-this.offsetTime)Nt=0;else{var zt;Qt.__fnct?zt=Qt.__fnct:(zt=BezierFactory.getBezierEasing(Ut.o.x,Ut.o.y,Ut.i.x,Ut.i.y).get,Qt.__fnct=zt),Nt=zt((gt-(Ut.t-this.offsetTime))/(Kt.t-this.offsetTime-(Ut.t-this.offsetTime)))}Ct=Kt.s?Kt.s[0]:Ut.e[0]}wt=Ut.s[0]}for(Ft=vt._length,Bt=wt.i[0].length,Et.lastIndex=yt,It=0;It<Ft;It+=1)for($t=0;$t<Bt;$t+=1)Xt=Rt?wt.i[It][$t]:wt.i[It][$t]+(Ct.i[It][$t]-wt.i[It][$t])*Nt,vt.i[It][$t]=Xt,Xt=Rt?wt.o[It][$t]:wt.o[It][$t]+(Ct.o[It][$t]-wt.o[It][$t])*Nt,vt.o[It][$t]=Xt,Xt=Rt?wt.v[It][$t]:wt.v[It][$t]+(Ct.v[It][$t]-wt.v[It][$t])*Nt,vt.v[It][$t]=Xt}function nt(){var gt=this.comp.renderedFrame-this.offsetTime,vt=this.keyframes[0].t-this.offsetTime,Et=this.keyframes[this.keyframes.length-1].t-this.offsetTime,yt=this._caching.lastFrame;return yt!==tt&&(yt<vt&&gt<vt||yt>Et&&gt>Et)||(this._caching.lastIndex=yt<gt?this._caching.lastIndex:0,this.interpolateShape(gt,this.pv,this._caching)),this._caching.lastFrame=gt,this.pv}function rt(){this.paths=this.localShapeCollection}function it(gt,vt){if(gt._length!==vt._length||gt.c!==vt.c)return!1;var Et,yt=gt._length;for(Et=0;Et<yt;Et+=1)if(gt.v[Et][0]!==vt.v[Et][0]||gt.v[Et][1]!==vt.v[Et][1]||gt.o[Et][0]!==vt.o[Et][0]||gt.o[Et][1]!==vt.o[Et][1]||gt.i[Et][0]!==vt.i[Et][0]||gt.i[Et][1]!==vt.i[Et][1])return!1;return!0}function st(gt){it(this.v,gt)||(this.v=shapePool.clone(gt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ot(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var gt;this.kf?gt=this.pv:this.data.ks?gt=this.data.ks.k:gt=this.data.pt.k;var vt,Et=this.effectsSequence.length;for(vt=0;vt<Et;vt+=1)gt=this.effectsSequence[vt](gt);this.setVValue(gt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function at(gt,vt,Et){this.propType="shape",this.comp=gt.comp,this.container=gt,this.elem=gt,this.data=vt,this.k=!1,this.kf=!1,this._mdf=!1;var yt=Et===3?vt.pt.k:vt.ks.k;this.v=shapePool.clone(yt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rt,this.effectsSequence=[]}function lt(gt){this.effectsSequence.push(gt),this.container.addDynamicProperty(this)}at.prototype.interpolateShape=et,at.prototype.getValue=ot,at.prototype.setVValue=st,at.prototype.addEffect=lt;function ut(gt,vt,Et){this.propType="shape",this.comp=gt.comp,this.elem=gt,this.container=gt,this.offsetTime=gt.data.st,this.keyframes=Et===3?vt.pt.k:vt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var yt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,yt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=tt,this.reset=rt,this._caching={lastFrame:tt,lastIndex:0},this.effectsSequence=[nt.bind(this)]}ut.prototype.getValue=ot,ut.prototype.interpolateShape=et,ut.prototype.setVValue=st,ut.prototype.addEffect=lt;var ft=function(){var gt=roundCorner;function vt(Et,yt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=yt.d,this.elem=Et,this.comp=Et.comp,this.frameId=-1,this.initDynamicPropertyContainer(Et),this.p=PropertyFactory.getProp(Et,yt.p,1,0,this),this.s=PropertyFactory.getProp(Et,yt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return vt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var yt=this.p.v[0],wt=this.p.v[1],Ct=this.s.v[0]/2,Rt=this.s.v[1]/2,It=this.d!==3,$t=this.v;$t.v[0][0]=yt,$t.v[0][1]=wt-Rt,$t.v[1][0]=It?yt+Ct:yt-Ct,$t.v[1][1]=wt,$t.v[2][0]=yt,$t.v[2][1]=wt+Rt,$t.v[3][0]=It?yt-Ct:yt+Ct,$t.v[3][1]=wt,$t.i[0][0]=It?yt-Ct*gt:yt+Ct*gt,$t.i[0][1]=wt-Rt,$t.i[1][0]=It?yt+Ct:yt-Ct,$t.i[1][1]=wt-Rt*gt,$t.i[2][0]=It?yt+Ct*gt:yt-Ct*gt,$t.i[2][1]=wt+Rt,$t.i[3][0]=It?yt-Ct:yt+Ct,$t.i[3][1]=wt+Rt*gt,$t.o[0][0]=It?yt+Ct*gt:yt-Ct*gt,$t.o[0][1]=wt-Rt,$t.o[1][0]=It?yt+Ct:yt-Ct,$t.o[1][1]=wt+Rt*gt,$t.o[2][0]=It?yt-Ct*gt:yt+Ct*gt,$t.o[2][1]=wt+Rt,$t.o[3][0]=It?yt-Ct:yt+Ct,$t.o[3][1]=wt-Rt*gt}},extendPrototype([DynamicPropertyContainer],vt),vt}(),dt=function(){function gt(vt,Et){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=vt,this.comp=vt.comp,this.data=Et,this.frameId=-1,this.d=Et.d,this.initDynamicPropertyContainer(vt),Et.sy===1?(this.ir=PropertyFactory.getProp(vt,Et.ir,0,0,this),this.is=PropertyFactory.getProp(vt,Et.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(vt,Et.pt,0,0,this),this.p=PropertyFactory.getProp(vt,Et.p,1,0,this),this.r=PropertyFactory.getProp(vt,Et.r,0,degToRads,this),this.or=PropertyFactory.getProp(vt,Et.or,0,0,this),this.os=PropertyFactory.getProp(vt,Et.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return gt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Et=Math.floor(this.pt.v)*2,yt=Math.PI*2/Et,wt=!0,Ct=this.or.v,Rt=this.ir.v,It=this.os.v,$t=this.is.v,Ft=2*Math.PI*Ct/(Et*2),Bt=2*Math.PI*Rt/(Et*2),Nt,Xt,nn,sn,rn=-Math.PI/2;rn+=this.r.v;var Jt=this.data.d===3?-1:1;for(this.v._length=0,Nt=0;Nt<Et;Nt+=1){Xt=wt?Ct:Rt,nn=wt?It:$t,sn=wt?Ft:Bt;var Ut=Xt*Math.cos(rn),Kt=Xt*Math.sin(rn),Qt=Ut===0&&Kt===0?0:Kt/Math.sqrt(Ut*Ut+Kt*Kt),zt=Ut===0&&Kt===0?0:-Ut/Math.sqrt(Ut*Ut+Kt*Kt);Ut+=+this.p.v[0],Kt+=+this.p.v[1],this.v.setTripleAt(Ut,Kt,Ut-Qt*sn*nn*Jt,Kt-zt*sn*nn*Jt,Ut+Qt*sn*nn*Jt,Kt+zt*sn*nn*Jt,Nt,!0),wt=!wt,rn+=yt*Jt}},convertPolygonToPath:function(){var Et=Math.floor(this.pt.v),yt=Math.PI*2/Et,wt=this.or.v,Ct=this.os.v,Rt=2*Math.PI*wt/(Et*4),It,$t=-Math.PI*.5,Ft=this.data.d===3?-1:1;for($t+=this.r.v,this.v._length=0,It=0;It<Et;It+=1){var Bt=wt*Math.cos($t),Nt=wt*Math.sin($t),Xt=Bt===0&&Nt===0?0:Nt/Math.sqrt(Bt*Bt+Nt*Nt),nn=Bt===0&&Nt===0?0:-Bt/Math.sqrt(Bt*Bt+Nt*Nt);Bt+=+this.p.v[0],Nt+=+this.p.v[1],this.v.setTripleAt(Bt,Nt,Bt-Xt*Rt*Ct*Ft,Nt-nn*Rt*Ct*Ft,Bt+Xt*Rt*Ct*Ft,Nt+nn*Rt*Ct*Ft,It,!0),$t+=yt*Ft}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],gt),gt}(),ht=function(){function gt(vt,Et){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=vt,this.comp=vt.comp,this.frameId=-1,this.d=Et.d,this.initDynamicPropertyContainer(vt),this.p=PropertyFactory.getProp(vt,Et.p,1,0,this),this.s=PropertyFactory.getProp(vt,Et.s,1,0,this),this.r=PropertyFactory.getProp(vt,Et.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return gt.prototype={convertRectToPath:function(){var Et=this.p.v[0],yt=this.p.v[1],wt=this.s.v[0]/2,Ct=this.s.v[1]/2,Rt=bmMin(wt,Ct,this.r.v),It=Rt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Et+wt,yt-Ct+Rt,Et+wt,yt-Ct+Rt,Et+wt,yt-Ct+It,0,!0),this.v.setTripleAt(Et+wt,yt+Ct-Rt,Et+wt,yt+Ct-It,Et+wt,yt+Ct-Rt,1,!0),Rt!==0?(this.v.setTripleAt(Et+wt-Rt,yt+Ct,Et+wt-Rt,yt+Ct,Et+wt-It,yt+Ct,2,!0),this.v.setTripleAt(Et-wt+Rt,yt+Ct,Et-wt+It,yt+Ct,Et-wt+Rt,yt+Ct,3,!0),this.v.setTripleAt(Et-wt,yt+Ct-Rt,Et-wt,yt+Ct-Rt,Et-wt,yt+Ct-It,4,!0),this.v.setTripleAt(Et-wt,yt-Ct+Rt,Et-wt,yt-Ct+It,Et-wt,yt-Ct+Rt,5,!0),this.v.setTripleAt(Et-wt+Rt,yt-Ct,Et-wt+Rt,yt-Ct,Et-wt+It,yt-Ct,6,!0),this.v.setTripleAt(Et+wt-Rt,yt-Ct,Et+wt-It,yt-Ct,Et+wt-Rt,yt-Ct,7,!0)):(this.v.setTripleAt(Et-wt,yt+Ct,Et-wt+It,yt+Ct,Et-wt,yt+Ct,2),this.v.setTripleAt(Et-wt,yt-Ct,Et-wt,yt-Ct+It,Et-wt,yt-Ct,3))):(this.v.setTripleAt(Et+wt,yt-Ct+Rt,Et+wt,yt-Ct+It,Et+wt,yt-Ct+Rt,0,!0),Rt!==0?(this.v.setTripleAt(Et+wt-Rt,yt-Ct,Et+wt-Rt,yt-Ct,Et+wt-It,yt-Ct,1,!0),this.v.setTripleAt(Et-wt+Rt,yt-Ct,Et-wt+It,yt-Ct,Et-wt+Rt,yt-Ct,2,!0),this.v.setTripleAt(Et-wt,yt-Ct+Rt,Et-wt,yt-Ct+Rt,Et-wt,yt-Ct+It,3,!0),this.v.setTripleAt(Et-wt,yt+Ct-Rt,Et-wt,yt+Ct-It,Et-wt,yt+Ct-Rt,4,!0),this.v.setTripleAt(Et-wt+Rt,yt+Ct,Et-wt+Rt,yt+Ct,Et-wt+It,yt+Ct,5,!0),this.v.setTripleAt(Et+wt-Rt,yt+Ct,Et+wt-It,yt+Ct,Et+wt-Rt,yt+Ct,6,!0),this.v.setTripleAt(Et+wt,yt+Ct-Rt,Et+wt,yt+Ct-Rt,Et+wt,yt+Ct-It,7,!0)):(this.v.setTripleAt(Et-wt,yt-Ct,Et-wt+It,yt-Ct,Et-wt,yt-Ct,1,!0),this.v.setTripleAt(Et-wt,yt+Ct,Et-wt,yt+Ct-It,Et-wt,yt+Ct,2,!0),this.v.setTripleAt(Et+wt,yt+Ct,Et+wt-It,yt+Ct,Et+wt,yt+Ct,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rt},extendPrototype([DynamicPropertyContainer],gt),gt}();function mt(gt,vt,Et){var yt;if(Et===3||Et===4){var wt=Et===3?vt.pt:vt.ks,Ct=wt.k;Ct.length?yt=new ut(gt,vt,Et):yt=new at(gt,vt,Et)}else Et===5?yt=new ht(gt,vt):Et===6?yt=new ft(gt,vt):Et===7&&(yt=new dt(gt,vt));return yt.k&&gt.addDynamicProperty(yt),yt}function xt(){return at}function _t(){return ut}var At={};return At.getShapeProp=mt,At.getConstructorFunction=xt,At.getKeyframedConstructorFunction=_t,At}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var tt=Math.cos,et=Math.sin,nt=Math.tan,rt=Math.round;function it(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function st(Jt){if(Jt===0)return this;var Ut=tt(Jt),Kt=et(Jt);return this._t(Ut,-Kt,0,0,Kt,Ut,0,0,0,0,1,0,0,0,0,1)}function ot(Jt){if(Jt===0)return this;var Ut=tt(Jt),Kt=et(Jt);return this._t(1,0,0,0,0,Ut,-Kt,0,0,Kt,Ut,0,0,0,0,1)}function at(Jt){if(Jt===0)return this;var Ut=tt(Jt),Kt=et(Jt);return this._t(Ut,0,Kt,0,0,1,0,0,-Kt,0,Ut,0,0,0,0,1)}function lt(Jt){if(Jt===0)return this;var Ut=tt(Jt),Kt=et(Jt);return this._t(Ut,-Kt,0,0,Kt,Ut,0,0,0,0,1,0,0,0,0,1)}function ut(Jt,Ut){return this._t(1,Ut,Jt,1,0,0)}function ft(Jt,Ut){return this.shear(nt(Jt),nt(Ut))}function dt(Jt,Ut){var Kt=tt(Ut),Qt=et(Ut);return this._t(Kt,Qt,0,0,-Qt,Kt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,nt(Jt),1,0,0,0,0,1,0,0,0,0,1)._t(Kt,-Qt,0,0,Qt,Kt,0,0,0,0,1,0,0,0,0,1)}function ht(Jt,Ut,Kt){return!Kt&&Kt!==0&&(Kt=1),Jt===1&&Ut===1&&Kt===1?this:this._t(Jt,0,0,0,0,Ut,0,0,0,0,Kt,0,0,0,0,1)}function mt(Jt,Ut,Kt,Qt,zt,Ht,en,an,on,Wt,mn,vn,En,Cn,$n,Fn){return this.props[0]=Jt,this.props[1]=Ut,this.props[2]=Kt,this.props[3]=Qt,this.props[4]=zt,this.props[5]=Ht,this.props[6]=en,this.props[7]=an,this.props[8]=on,this.props[9]=Wt,this.props[10]=mn,this.props[11]=vn,this.props[12]=En,this.props[13]=Cn,this.props[14]=$n,this.props[15]=Fn,this}function xt(Jt,Ut,Kt){return Kt=Kt||0,Jt!==0||Ut!==0||Kt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Jt,Ut,Kt,1):this}function _t(Jt,Ut,Kt,Qt,zt,Ht,en,an,on,Wt,mn,vn,En,Cn,$n,Fn){var Ln=this.props;if(Jt===1&&Ut===0&&Kt===0&&Qt===0&&zt===0&&Ht===1&&en===0&&an===0&&on===0&&Wt===0&&mn===1&&vn===0)return Ln[12]=Ln[12]*Jt+Ln[15]*En,Ln[13]=Ln[13]*Ht+Ln[15]*Cn,Ln[14]=Ln[14]*mn+Ln[15]*$n,Ln[15]*=Fn,this._identityCalculated=!1,this;var Mn=Ln[0],Gn=Ln[1],er=Ln[2],un=Ln[3],dn=Ln[4],yn=Ln[5],bn=Ln[6],Tn=Ln[7],Pn=Ln[8],Yn=Ln[9],Un=Ln[10],Nn=Ln[11],rr=Ln[12],Kn=Ln[13],Vn=Ln[14],ir=Ln[15];return Ln[0]=Mn*Jt+Gn*zt+er*on+un*En,Ln[1]=Mn*Ut+Gn*Ht+er*Wt+un*Cn,Ln[2]=Mn*Kt+Gn*en+er*mn+un*$n,Ln[3]=Mn*Qt+Gn*an+er*vn+un*Fn,Ln[4]=dn*Jt+yn*zt+bn*on+Tn*En,Ln[5]=dn*Ut+yn*Ht+bn*Wt+Tn*Cn,Ln[6]=dn*Kt+yn*en+bn*mn+Tn*$n,Ln[7]=dn*Qt+yn*an+bn*vn+Tn*Fn,Ln[8]=Pn*Jt+Yn*zt+Un*on+Nn*En,Ln[9]=Pn*Ut+Yn*Ht+Un*Wt+Nn*Cn,Ln[10]=Pn*Kt+Yn*en+Un*mn+Nn*$n,Ln[11]=Pn*Qt+Yn*an+Un*vn+Nn*Fn,Ln[12]=rr*Jt+Kn*zt+Vn*on+ir*En,Ln[13]=rr*Ut+Kn*Ht+Vn*Wt+ir*Cn,Ln[14]=rr*Kt+Kn*en+Vn*mn+ir*$n,Ln[15]=rr*Qt+Kn*an+Vn*vn+ir*Fn,this._identityCalculated=!1,this}function At(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function gt(Jt){for(var Ut=0;Ut<16;){if(Jt.props[Ut]!==this.props[Ut])return!1;Ut+=1}return!0}function vt(Jt){var Ut;for(Ut=0;Ut<16;Ut+=1)Jt.props[Ut]=this.props[Ut];return Jt}function Et(Jt){var Ut;for(Ut=0;Ut<16;Ut+=1)this.props[Ut]=Jt[Ut]}function yt(Jt,Ut,Kt){return{x:Jt*this.props[0]+Ut*this.props[4]+Kt*this.props[8]+this.props[12],y:Jt*this.props[1]+Ut*this.props[5]+Kt*this.props[9]+this.props[13],z:Jt*this.props[2]+Ut*this.props[6]+Kt*this.props[10]+this.props[14]}}function wt(Jt,Ut,Kt){return Jt*this.props[0]+Ut*this.props[4]+Kt*this.props[8]+this.props[12]}function Ct(Jt,Ut,Kt){return Jt*this.props[1]+Ut*this.props[5]+Kt*this.props[9]+this.props[13]}function Rt(Jt,Ut,Kt){return Jt*this.props[2]+Ut*this.props[6]+Kt*this.props[10]+this.props[14]}function It(){var Jt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ut=this.props[5]/Jt,Kt=-this.props[1]/Jt,Qt=-this.props[4]/Jt,zt=this.props[0]/Jt,Ht=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Jt,en=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Jt,an=new Matrix;return an.props[0]=Ut,an.props[1]=Kt,an.props[4]=Qt,an.props[5]=zt,an.props[12]=Ht,an.props[13]=en,an}function $t(Jt){var Ut=this.getInverseMatrix();return Ut.applyToPointArray(Jt[0],Jt[1],Jt[2]||0)}function Ft(Jt){var Ut,Kt=Jt.length,Qt=[];for(Ut=0;Ut<Kt;Ut+=1)Qt[Ut]=$t(Jt[Ut]);return Qt}function Bt(Jt,Ut,Kt){var Qt=createTypedArray("float32",6);if(this.isIdentity())Qt[0]=Jt[0],Qt[1]=Jt[1],Qt[2]=Ut[0],Qt[3]=Ut[1],Qt[4]=Kt[0],Qt[5]=Kt[1];else{var zt=this.props[0],Ht=this.props[1],en=this.props[4],an=this.props[5],on=this.props[12],Wt=this.props[13];Qt[0]=Jt[0]*zt+Jt[1]*en+on,Qt[1]=Jt[0]*Ht+Jt[1]*an+Wt,Qt[2]=Ut[0]*zt+Ut[1]*en+on,Qt[3]=Ut[0]*Ht+Ut[1]*an+Wt,Qt[4]=Kt[0]*zt+Kt[1]*en+on,Qt[5]=Kt[0]*Ht+Kt[1]*an+Wt}return Qt}function Nt(Jt,Ut,Kt){var Qt;return this.isIdentity()?Qt=[Jt,Ut,Kt]:Qt=[Jt*this.props[0]+Ut*this.props[4]+Kt*this.props[8]+this.props[12],Jt*this.props[1]+Ut*this.props[5]+Kt*this.props[9]+this.props[13],Jt*this.props[2]+Ut*this.props[6]+Kt*this.props[10]+this.props[14]],Qt}function Xt(Jt,Ut){if(this.isIdentity())return Jt+","+Ut;var Kt=this.props;return Math.round((Jt*Kt[0]+Ut*Kt[4]+Kt[12])*100)/100+","+Math.round((Jt*Kt[1]+Ut*Kt[5]+Kt[13])*100)/100}function nn(){for(var Jt=0,Ut=this.props,Kt="matrix3d(",Qt=1e4;Jt<16;)Kt+=rt(Ut[Jt]*Qt)/Qt,Kt+=Jt===15?")":",",Jt+=1;return Kt}function sn(Jt){var Ut=1e4;return Jt<1e-6&&Jt>0||Jt>-1e-6&&Jt<0?rt(Jt*Ut)/Ut:Jt}function rn(){var Jt=this.props,Ut=sn(Jt[0]),Kt=sn(Jt[1]),Qt=sn(Jt[4]),zt=sn(Jt[5]),Ht=sn(Jt[12]),en=sn(Jt[13]);return"matrix("+Ut+","+Kt+","+Qt+","+zt+","+Ht+","+en+")"}return function(){this.reset=it,this.rotate=st,this.rotateX=ot,this.rotateY=at,this.rotateZ=lt,this.skew=ft,this.skewFromAxis=dt,this.shear=ut,this.scale=ht,this.setTransform=mt,this.translate=xt,this.transform=_t,this.applyToPoint=yt,this.applyToX=wt,this.applyToY=Ct,this.applyToZ=Rt,this.applyToPointArray=Nt,this.applyToTriplePoints=Bt,this.applyToPointStringified=Xt,this.toCSS=nn,this.to2dCSS=rn,this.clone=vt,this.cloneFromProps=Et,this.equals=gt,this.inversePoints=Ft,this.inversePoint=$t,this.getInverseMatrix=It,this._t=this.transform,this.isIdentity=At,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(nt){return typeof nt}:_typeof$3=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$3(tt)}var lottie={};function setLocation(tt){setLocationHref(tt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(tt){setSubframeEnabled(tt)}function setPrefix(tt){setIdPrefix(tt)}function loadAnimation(tt){return animationManager.loadAnimation(tt)}function setQuality(tt){if(typeof tt=="string")switch(tt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(tt)&&tt>1&&setDefaultCurveSegments(tt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(tt,et){tt==="expressions"&&setExpressionsPlugin(et)}function getFactory(tt){switch(tt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(tt){for(var et=queryString.split("&"),nt=0;nt<et.length;nt+=1){var rt=et[nt].split("=");if(decodeURIComponent(rt[0])==tt)return decodeURIComponent(rt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(tt){}var ShapeModifiers=function(){var tt={},et={};tt.registerModifier=nt,tt.getModifier=rt;function nt(it,st){et[it]||(et[it]=st)}function rt(it,st,ot){return new et[it](st,ot)}return tt}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(tt){if(!this.closed){tt.sh.container.addDynamicProperty(tt.sh);var et={shape:tt.sh,data:tt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(et),this.addShapeToModifier(et),this._isAnimated&&tt.setAsAnimated()}},ShapeModifier.prototype.init=function(tt,et){this.shapes=[],this.elem=tt,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,et),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(tt,et){this.s=PropertyFactory.getProp(tt,et.s,0,.01,this),this.e=PropertyFactory.getProp(tt,et.e,0,.01,this),this.o=PropertyFactory.getProp(tt,et.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=et.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(tt){tt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(tt,et,nt,rt,it){var st=[];et<=1?st.push({s:tt,e:et}):tt>=1?st.push({s:tt-1,e:et-1}):(st.push({s:tt,e:1}),st.push({s:0,e:et-1}));var ot=[],at,lt=st.length,ut;for(at=0;at<lt;at+=1)if(ut=st[at],!(ut.e*it<rt||ut.s*it>rt+nt)){var ft,dt;ut.s*it<=rt?ft=0:ft=(ut.s*it-rt)/nt,ut.e*it>=rt+nt?dt=1:dt=(ut.e*it-rt)/nt,ot.push([ft,dt])}return ot.length||ot.push([0,0]),ot},TrimModifier.prototype.releasePathsData=function(tt){var et,nt=tt.length;for(et=0;et<nt;et+=1)segmentsLengthPool.release(tt[et]);return tt.length=0,tt},TrimModifier.prototype.processShapes=function(tt){var et,nt;if(this._mdf||tt){var rt=this.o.v%360/360;if(rt<0&&(rt+=1),this.s.v>1?et=1+rt:this.s.v<0?et=0+rt:et=this.s.v+rt,this.e.v>1?nt=1+rt:this.e.v<0?nt=0+rt:nt=this.e.v+rt,et>nt){var it=et;et=nt,nt=it}et=Math.round(et*1e4)*1e-4,nt=Math.round(nt*1e4)*1e-4,this.sValue=et,this.eValue=nt}else et=this.sValue,nt=this.eValue;var st,ot,at=this.shapes.length,lt,ut,ft,dt,ht,mt=0;if(nt===et)for(ot=0;ot<at;ot+=1)this.shapes[ot].localShapeCollection.releaseShapes(),this.shapes[ot].shape._mdf=!0,this.shapes[ot].shape.paths=this.shapes[ot].localShapeCollection,this._mdf&&(this.shapes[ot].pathsData.length=0);else if(nt===1&&et===0||nt===0&&et===1){if(this._mdf)for(ot=0;ot<at;ot+=1)this.shapes[ot].pathsData.length=0,this.shapes[ot].shape._mdf=!0}else{var xt=[],_t,At;for(ot=0;ot<at;ot+=1)if(_t=this.shapes[ot],!_t.shape._mdf&&!this._mdf&&!tt&&this.m!==2)_t.shape.paths=_t.localShapeCollection;else{if(st=_t.shape.paths,ut=st._length,ht=0,!_t.shape._mdf&&_t.pathsData.length)ht=_t.totalShapeLength;else{for(ft=this.releasePathsData(_t.pathsData),lt=0;lt<ut;lt+=1)dt=bez.getSegmentsLength(st.shapes[lt]),ft.push(dt),ht+=dt.totalLength;_t.totalShapeLength=ht,_t.pathsData=ft}mt+=ht,_t.shape._mdf=!0}var gt=et,vt=nt,Et=0,yt;for(ot=at-1;ot>=0;ot-=1)if(_t=this.shapes[ot],_t.shape._mdf){for(At=_t.localShapeCollection,At.releaseShapes(),this.m===2&&at>1?(yt=this.calculateShapeEdges(et,nt,_t.totalShapeLength,Et,mt),Et+=_t.totalShapeLength):yt=[[gt,vt]],ut=yt.length,lt=0;lt<ut;lt+=1){gt=yt[lt][0],vt=yt[lt][1],xt.length=0,vt<=1?xt.push({s:_t.totalShapeLength*gt,e:_t.totalShapeLength*vt}):gt>=1?xt.push({s:_t.totalShapeLength*(gt-1),e:_t.totalShapeLength*(vt-1)}):(xt.push({s:_t.totalShapeLength*gt,e:_t.totalShapeLength}),xt.push({s:0,e:_t.totalShapeLength*(vt-1)}));var wt=this.addShapes(_t,xt[0]);if(xt[0].s!==xt[0].e){if(xt.length>1){var Ct=_t.shape.paths.shapes[_t.shape.paths._length-1];if(Ct.c){var Rt=wt.pop();this.addPaths(wt,At),wt=this.addShapes(_t,xt[1],Rt)}else this.addPaths(wt,At),wt=this.addShapes(_t,xt[1])}this.addPaths(wt,At)}}_t.shape.paths=At}}},TrimModifier.prototype.addPaths=function(tt,et){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)et.addShape(tt[nt])},TrimModifier.prototype.addSegment=function(tt,et,nt,rt,it,st,ot){it.setXYAt(et[0],et[1],"o",st),it.setXYAt(nt[0],nt[1],"i",st+1),ot&&it.setXYAt(tt[0],tt[1],"v",st),it.setXYAt(rt[0],rt[1],"v",st+1)},TrimModifier.prototype.addSegmentFromArray=function(tt,et,nt,rt){et.setXYAt(tt[1],tt[5],"o",nt),et.setXYAt(tt[2],tt[6],"i",nt+1),rt&&et.setXYAt(tt[0],tt[4],"v",nt),et.setXYAt(tt[3],tt[7],"v",nt+1)},TrimModifier.prototype.addShapes=function(tt,et,nt){var rt=tt.pathsData,it=tt.shape.paths.shapes,st,ot=tt.shape.paths._length,at,lt,ut=0,ft,dt,ht,mt,xt=[],_t,At=!0;for(nt?(dt=nt._length,_t=nt._length):(nt=shapePool.newElement(),dt=0,_t=0),xt.push(nt),st=0;st<ot;st+=1){for(ht=rt[st].lengths,nt.c=it[st].c,lt=it[st].c?ht.length:ht.length+1,at=1;at<lt;at+=1)if(ft=ht[at-1],ut+ft.addedLength<et.s)ut+=ft.addedLength,nt.c=!1;else if(ut>et.e){nt.c=!1;break}else et.s<=ut&&et.e>=ut+ft.addedLength?(this.addSegment(it[st].v[at-1],it[st].o[at-1],it[st].i[at],it[st].v[at],nt,dt,At),At=!1):(mt=bez.getNewSegment(it[st].v[at-1],it[st].v[at],it[st].o[at-1],it[st].i[at],(et.s-ut)/ft.addedLength,(et.e-ut)/ft.addedLength,ht[at-1]),this.addSegmentFromArray(mt,nt,dt,At),At=!1,nt.c=!1),ut+=ft.addedLength,dt+=1;if(it[st].c&&ht.length){if(ft=ht[at-1],ut<=et.e){var gt=ht[at-1].addedLength;et.s<=ut&&et.e>=ut+gt?(this.addSegment(it[st].v[at-1],it[st].o[at-1],it[st].i[0],it[st].v[0],nt,dt,At),At=!1):(mt=bez.getNewSegment(it[st].v[at-1],it[st].v[0],it[st].o[at-1],it[st].i[0],(et.s-ut)/gt,(et.e-ut)/gt,ht[at-1]),this.addSegmentFromArray(mt,nt,dt,At),At=!1,nt.c=!1)}else nt.c=!1;ut+=ft.addedLength,dt+=1}if(nt._length&&(nt.setXYAt(nt.v[_t][0],nt.v[_t][1],"i",_t),nt.setXYAt(nt.v[nt._length-1][0],nt.v[nt._length-1][1],"o",nt._length-1)),ut>et.e)break;st<ot-1&&(nt=shapePool.newElement(),At=!0,xt.push(nt),dt=0)}return xt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(tt,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,et.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(tt,et){var nt=et/100,rt=[0,0],it=tt._length,st=0;for(st=0;st<it;st+=1)rt[0]+=tt.v[st][0],rt[1]+=tt.v[st][1];rt[0]/=it,rt[1]/=it;var ot=shapePool.newElement();ot.c=tt.c;var at,lt,ut,ft,dt,ht;for(st=0;st<it;st+=1)at=tt.v[st][0]+(rt[0]-tt.v[st][0])*nt,lt=tt.v[st][1]+(rt[1]-tt.v[st][1])*nt,ut=tt.o[st][0]+(rt[0]-tt.o[st][0])*-nt,ft=tt.o[st][1]+(rt[1]-tt.o[st][1])*-nt,dt=tt.i[st][0]+(rt[0]-tt.i[st][0])*-nt,ht=tt.i[st][1]+(rt[1]-tt.i[st][1])*-nt,ot.setTripleAt(at,lt,ut,ft,dt,ht,st);return ot},PuckerAndBloatModifier.prototype.processShapes=function(tt){var et,nt,rt=this.shapes.length,it,st,ot=this.amount.v;if(ot!==0){var at,lt;for(nt=0;nt<rt;nt+=1){if(at=this.shapes[nt],lt=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!tt))for(lt.releaseShapes(),at.shape._mdf=!0,et=at.shape.paths.shapes,st=at.shape.paths._length,it=0;it<st;it+=1)lt.addShape(this.processPath(et[it],ot));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var tt=[0,0];function et(lt){var ut=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ut,this.a&&lt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&lt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&lt.skewFromAxis(-this.sk.v,this.sa.v),this.r?lt.rotate(-this.r.v):lt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?lt.translate(this.px.v,this.py.v,-this.pz.v):lt.translate(this.px.v,this.py.v,0):lt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function nt(lt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||lt){var ut;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ft,dt;if(ut=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ft=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ut,0),dt=this.p.getValueAtTime(this.p.keyframes[0].t/ut,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ft=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ut,0),dt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ut,0)):(ft=this.p.pv,dt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ut,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ft=[],dt=[];var ht=this.px,mt=this.py;ht._caching.lastFrame+ht.offsetTime<=ht.keyframes[0].t?(ft[0]=ht.getValueAtTime((ht.keyframes[0].t+.01)/ut,0),ft[1]=mt.getValueAtTime((mt.keyframes[0].t+.01)/ut,0),dt[0]=ht.getValueAtTime(ht.keyframes[0].t/ut,0),dt[1]=mt.getValueAtTime(mt.keyframes[0].t/ut,0)):ht._caching.lastFrame+ht.offsetTime>=ht.keyframes[ht.keyframes.length-1].t?(ft[0]=ht.getValueAtTime(ht.keyframes[ht.keyframes.length-1].t/ut,0),ft[1]=mt.getValueAtTime(mt.keyframes[mt.keyframes.length-1].t/ut,0),dt[0]=ht.getValueAtTime((ht.keyframes[ht.keyframes.length-1].t-.01)/ut,0),dt[1]=mt.getValueAtTime((mt.keyframes[mt.keyframes.length-1].t-.01)/ut,0)):(ft=[ht.pv,mt.pv],dt[0]=ht.getValueAtTime((ht._caching.lastFrame+ht.offsetTime-.01)/ut,ht.offsetTime),dt[1]=mt.getValueAtTime((mt._caching.lastFrame+mt.offsetTime-.01)/ut,mt.offsetTime))}else dt=tt,ft=dt;this.v.rotate(-Math.atan2(ft[1]-dt[1],ft[0]-dt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rt(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function it(){}function st(lt){this._addDynamicProperty(lt),this.elem.addDynamicProperty(lt),this._isDirty=!0}function ot(lt,ut,ft){if(this.elem=lt,this.frameId=-1,this.propType="transform",this.data=ut,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ft||lt),ut.p&&ut.p.s?(this.px=PropertyFactory.getProp(lt,ut.p.x,0,0,this),this.py=PropertyFactory.getProp(lt,ut.p.y,0,0,this),ut.p.z&&(this.pz=PropertyFactory.getProp(lt,ut.p.z,0,0,this))):this.p=PropertyFactory.getProp(lt,ut.p||{k:[0,0,0]},1,0,this),ut.rx){if(this.rx=PropertyFactory.getProp(lt,ut.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(lt,ut.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(lt,ut.rz,0,degToRads,this),ut.or.k[0].ti){var dt,ht=ut.or.k.length;for(dt=0;dt<ht;dt+=1)ut.or.k[dt].to=null,ut.or.k[dt].ti=null}this.or=PropertyFactory.getProp(lt,ut.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(lt,ut.r||{k:0},0,degToRads,this);ut.sk&&(this.sk=PropertyFactory.getProp(lt,ut.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(lt,ut.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(lt,ut.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(lt,ut.s||{k:[100,100,100]},1,.01,this),ut.o?this.o=PropertyFactory.getProp(lt,ut.o,0,.01,lt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ot.prototype={applyToMatrix:et,getValue:nt,precalculateMatrix:rt,autoOrient:it},extendPrototype([DynamicPropertyContainer],ot),ot.prototype.addDynamicProperty=st,ot.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function at(lt,ut,ft){return new ot(lt,ut,ft)}return{getTransformProperty:at}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(tt,et){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(tt,et.c,0,null,this),this.o=PropertyFactory.getProp(tt,et.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(tt,et.tr,this),this.so=PropertyFactory.getProp(tt,et.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(tt,et.tr.eo,0,.01,this),this.data=et,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(tt,et,nt,rt,it,st){var ot=st?-1:1,at=rt.s.v[0]+(1-rt.s.v[0])*(1-it),lt=rt.s.v[1]+(1-rt.s.v[1])*(1-it);tt.translate(rt.p.v[0]*ot*it,rt.p.v[1]*ot*it,rt.p.v[2]),et.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),et.rotate(-rt.r.v*ot*it),et.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2]),nt.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),nt.scale(st?1/at:at,st?1/lt:lt),nt.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])},RepeaterModifier.prototype.init=function(tt,et,nt,rt){for(this.elem=tt,this.arr=et,this.pos=nt,this.elemsData=rt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,et[nt]);nt>0;)nt-=1,this._elements.unshift(et[nt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(tt){var et,nt=tt.length;for(et=0;et<nt;et+=1)tt[et]._processed=!1,tt[et].ty==="gr"&&this.resetElements(tt[et].it)},RepeaterModifier.prototype.cloneElements=function(tt){var et=JSON.parse(JSON.stringify(tt));return this.resetElements(et),et},RepeaterModifier.prototype.changeGroupRender=function(tt,et){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]._render=et,tt[nt].ty==="gr"&&this.changeGroupRender(tt[nt].it,et)},RepeaterModifier.prototype.processShapes=function(tt){var et,nt,rt,it,st,ot=!1;if(this._mdf||tt){var at=Math.ceil(this.c.v);if(this._groups.length<at){for(;this._groups.length<at;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),ot=!0}st=0;var ut;for(rt=0;rt<=this._groups.length-1;rt+=1){if(ut=st<at,this._groups[rt]._render=ut,this.changeGroupRender(this._groups[rt].it,ut),!ut){var ft=this.elemsData[rt].it,dt=ft[ft.length-1];dt.transform.op.v!==0?(dt.transform.op._mdf=!0,dt.transform.op.v=0):dt.transform.op._mdf=!1}st+=1}this._currentCopies=at;var ht=this.o.v,mt=ht%1,xt=ht>0?Math.floor(ht):Math.ceil(ht),_t=this.pMatrix.props,At=this.rMatrix.props,gt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var vt=0;if(ht>0){for(;vt<xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),vt+=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,mt,!1),vt+=mt)}else if(ht<0){for(;vt>xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),vt-=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-mt,!0),vt-=mt)}rt=this.data.m===1?0:this._currentCopies-1,it=this.data.m===1?1:-1,st=this._currentCopies;for(var Et,yt;st;){if(et=this.elemsData[rt].it,nt=et[et.length-1].transform.mProps.v.props,yt=nt.length,et[et.length-1].transform.mProps._mdf=!0,et[et.length-1].transform.op._mdf=!0,et[et.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rt/(this._currentCopies-1)),vt!==0){for((rt!==0&&it===1||rt!==this._currentCopies-1&&it===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(At[0],At[1],At[2],At[3],At[4],At[5],At[6],At[7],At[8],At[9],At[10],At[11],At[12],At[13],At[14],At[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),this.matrix.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6],_t[7],_t[8],_t[9],_t[10],_t[11],_t[12],_t[13],_t[14],_t[15]),Et=0;Et<yt;Et+=1)nt[Et]=this.matrix.props[Et];this.matrix.reset()}else for(this.matrix.reset(),Et=0;Et<yt;Et+=1)nt[Et]=this.matrix.props[Et];vt+=1,st-=1,rt+=it}}else for(st=this._currentCopies,rt=0,it=1;st;)et=this.elemsData[rt].it,nt=et[et.length-1].transform.mProps.v.props,et[et.length-1].transform.mProps._mdf=!1,et[et.length-1].transform.op._mdf=!1,st-=1,rt+=it;return ot},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(tt,et){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(tt,et.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(tt,et){var nt=shapePool.newElement();nt.c=tt.c;var rt,it=tt._length,st,ot,at,lt,ut,ft,dt=0,ht,mt,xt,_t,At,gt;for(rt=0;rt<it;rt+=1)st=tt.v[rt],at=tt.o[rt],ot=tt.i[rt],st[0]===at[0]&&st[1]===at[1]&&st[0]===ot[0]&&st[1]===ot[1]?(rt===0||rt===it-1)&&!tt.c?(nt.setTripleAt(st[0],st[1],at[0],at[1],ot[0],ot[1],dt),dt+=1):(rt===0?lt=tt.v[it-1]:lt=tt.v[rt-1],ut=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),ft=ut?Math.min(ut/2,et)/ut:0,At=st[0]+(lt[0]-st[0])*ft,ht=At,gt=st[1]-(st[1]-lt[1])*ft,mt=gt,xt=ht-(ht-st[0])*roundCorner,_t=mt-(mt-st[1])*roundCorner,nt.setTripleAt(ht,mt,xt,_t,At,gt,dt),dt+=1,rt===it-1?lt=tt.v[0]:lt=tt.v[rt+1],ut=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),ft=ut?Math.min(ut/2,et)/ut:0,xt=st[0]+(lt[0]-st[0])*ft,ht=xt,_t=st[1]+(lt[1]-st[1])*ft,mt=_t,At=ht-(ht-st[0])*roundCorner,gt=mt-(mt-st[1])*roundCorner,nt.setTripleAt(ht,mt,xt,_t,At,gt,dt),dt+=1):(nt.setTripleAt(tt.v[rt][0],tt.v[rt][1],tt.o[rt][0],tt.o[rt][1],tt.i[rt][0],tt.i[rt][1],dt),dt+=1);return nt},RoundCornersModifier.prototype.processShapes=function(tt){var et,nt,rt=this.shapes.length,it,st,ot=this.rd.v;if(ot!==0){var at,lt;for(nt=0;nt<rt;nt+=1){if(at=this.shapes[nt],lt=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!tt))for(lt.releaseShapes(),at.shape._mdf=!0,et=at.shape.paths.shapes,st=at.shape.paths._length,it=0;it<st;it+=1)lt.addShape(this.processPath(et[it],ot));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(tt,et){return Math.abs(tt-et)*1e5<=Math.min(Math.abs(tt),Math.abs(et))}function floatZero(tt){return Math.abs(tt)<=1e-5}function lerp(tt,et,nt){return tt*(1-nt)+et*nt}function lerpPoint(tt,et,nt){return[lerp(tt[0],et[0],nt),lerp(tt[1],et[1],nt)]}function quadRoots(tt,et,nt){if(tt===0)return[];var rt=et*et-4*tt*nt;if(rt<0)return[];var it=-et/(2*tt);if(rt===0)return[it];var st=Math.sqrt(rt)/(2*tt);return[it-st,it+st]}function polynomialCoefficients(tt,et,nt,rt){return[-tt+3*et-3*nt+rt,3*tt-6*et+3*nt,-3*tt+3*et,tt]}function singlePoint(tt){return new PolynomialBezier(tt,tt,tt,tt,!1)}function PolynomialBezier(tt,et,nt,rt,it){it&&pointEqual(tt,et)&&(et=lerpPoint(tt,rt,1/3)),it&&pointEqual(nt,rt)&&(nt=lerpPoint(tt,rt,2/3));var st=polynomialCoefficients(tt[0],et[0],nt[0],rt[0]),ot=polynomialCoefficients(tt[1],et[1],nt[1],rt[1]);this.a=[st[0],ot[0]],this.b=[st[1],ot[1]],this.c=[st[2],ot[2]],this.d=[st[3],ot[3]],this.points=[tt,et,nt,rt]}PolynomialBezier.prototype.point=function(tt){return[((this.a[0]*tt+this.b[0])*tt+this.c[0])*tt+this.d[0],((this.a[1]*tt+this.b[1])*tt+this.c[1])*tt+this.d[1]]},PolynomialBezier.prototype.derivative=function(tt){return[(3*tt*this.a[0]+2*this.b[0])*tt+this.c[0],(3*tt*this.a[1]+2*this.b[1])*tt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(tt){var et=this.derivative(tt);return Math.atan2(et[1],et[0])},PolynomialBezier.prototype.normalAngle=function(tt){var et=this.derivative(tt);return Math.atan2(et[0],et[1])},PolynomialBezier.prototype.inflectionPoints=function(){var tt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(tt))return[];var et=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/tt,nt=et*et-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/tt;if(nt<0)return[];var rt=Math.sqrt(nt);return floatZero(rt)?rt>0&&rt<1?[et]:[]:[et-rt,et+rt].filter(function(it){return it>0&&it<1})},PolynomialBezier.prototype.split=function(tt){if(tt<=0)return[singlePoint(this.points[0]),this];if(tt>=1)return[this,singlePoint(this.points[this.points.length-1])];var et=lerpPoint(this.points[0],this.points[1],tt),nt=lerpPoint(this.points[1],this.points[2],tt),rt=lerpPoint(this.points[2],this.points[3],tt),it=lerpPoint(et,nt,tt),st=lerpPoint(nt,rt,tt),ot=lerpPoint(it,st,tt);return[new PolynomialBezier(this.points[0],et,it,ot,!0),new PolynomialBezier(ot,st,rt,this.points[3],!0)]};function extrema(tt,et){var nt=tt.points[0][et],rt=tt.points[tt.points.length-1][et];if(nt>rt){var it=rt;rt=nt,nt=it}for(var st=quadRoots(3*tt.a[et],2*tt.b[et],tt.c[et]),ot=0;ot<st.length;ot+=1)if(st[ot]>0&&st[ot]<1){var at=tt.point(st[ot])[et];at<nt?nt=at:at>rt&&(rt=at)}return{min:nt,max:rt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var tt=this.bounds();return{left:tt.x.min,right:tt.x.max,top:tt.y.min,bottom:tt.y.max,width:tt.x.max-tt.x.min,height:tt.y.max-tt.y.min,cx:(tt.x.max+tt.x.min)/2,cy:(tt.y.max+tt.y.min)/2}};function intersectData(tt,et,nt){var rt=tt.boundingBox();return{cx:rt.cx,cy:rt.cy,width:rt.width,height:rt.height,bez:tt,t:(et+nt)/2,t1:et,t2:nt}}function splitData(tt){var et=tt.bez.split(.5);return[intersectData(et[0],tt.t1,tt.t),intersectData(et[1],tt.t,tt.t2)]}function boxIntersect(tt,et){return Math.abs(tt.cx-et.cx)*2<tt.width+et.width&&Math.abs(tt.cy-et.cy)*2<tt.height+et.height}function intersectsImpl(tt,et,nt,rt,it,st){if(boxIntersect(tt,et)){if(nt>=st||tt.width<=rt&&tt.height<=rt&&et.width<=rt&&et.height<=rt){it.push([tt.t,et.t]);return}var ot=splitData(tt),at=splitData(et);intersectsImpl(ot[0],at[0],nt+1,rt,it,st),intersectsImpl(ot[0],at[1],nt+1,rt,it,st),intersectsImpl(ot[1],at[0],nt+1,rt,it,st),intersectsImpl(ot[1],at[1],nt+1,rt,it,st)}}PolynomialBezier.prototype.intersections=function(tt,et,nt){et===void 0&&(et=2),nt===void 0&&(nt=7);var rt=[];return intersectsImpl(intersectData(this,0,1),intersectData(tt,0,1),0,et,rt,nt),rt},PolynomialBezier.shapeSegment=function(tt,et){var nt=(et+1)%tt.length();return new PolynomialBezier(tt.v[et],tt.o[et],tt.i[nt],tt.v[nt],!0)},PolynomialBezier.shapeSegmentInverted=function(tt,et){var nt=(et+1)%tt.length();return new PolynomialBezier(tt.v[nt],tt.i[nt],tt.o[et],tt.v[et],!0)};function crossProduct(tt,et){return[tt[1]*et[2]-tt[2]*et[1],tt[2]*et[0]-tt[0]*et[2],tt[0]*et[1]-tt[1]*et[0]]}function lineIntersection(tt,et,nt,rt){var it=[tt[0],tt[1],1],st=[et[0],et[1],1],ot=[nt[0],nt[1],1],at=[rt[0],rt[1],1],lt=crossProduct(crossProduct(it,st),crossProduct(ot,at));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(tt,et,nt){return[tt[0]+Math.cos(et)*nt,tt[1]-Math.sin(et)*nt]}function pointDistance(tt,et){return Math.hypot(tt[0]-et[0],tt[1]-et[1])}function pointEqual(tt,et){return floatEqual(tt[0],et[0])&&floatEqual(tt[1],et[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(tt,et){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(tt,et.s,0,null,this),this.frequency=PropertyFactory.getProp(tt,et.r,0,null,this),this.pointsType=PropertyFactory.getProp(tt,et.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(tt,et,nt,rt,it,st,ot){var at=nt-Math.PI/2,lt=nt+Math.PI/2,ut=et[0]+Math.cos(nt)*rt*it,ft=et[1]-Math.sin(nt)*rt*it;tt.setTripleAt(ut,ft,ut+Math.cos(at)*st,ft-Math.sin(at)*st,ut+Math.cos(lt)*ot,ft-Math.sin(lt)*ot,tt.length())}function getPerpendicularVector(tt,et){var nt=[et[0]-tt[0],et[1]-tt[1]],rt=-Math.PI*.5,it=[Math.cos(rt)*nt[0]-Math.sin(rt)*nt[1],Math.sin(rt)*nt[0]+Math.cos(rt)*nt[1]];return it}function getProjectingAngle(tt,et){var nt=et===0?tt.length()-1:et-1,rt=(et+1)%tt.length(),it=tt.v[nt],st=tt.v[rt],ot=getPerpendicularVector(it,st);return Math.atan2(0,1)-Math.atan2(ot[1],ot[0])}function zigZagCorner(tt,et,nt,rt,it,st,ot){var at=getProjectingAngle(et,nt),lt=et.v[nt%et._length],ut=et.v[nt===0?et._length-1:nt-1],ft=et.v[(nt+1)%et._length],dt=st===2?Math.sqrt(Math.pow(lt[0]-ut[0],2)+Math.pow(lt[1]-ut[1],2)):0,ht=st===2?Math.sqrt(Math.pow(lt[0]-ft[0],2)+Math.pow(lt[1]-ft[1],2)):0;setPoint(tt,et.v[nt%et._length],at,ot,rt,ht/((it+1)*2),dt/((it+1)*2))}function zigZagSegment(tt,et,nt,rt,it,st){for(var ot=0;ot<rt;ot+=1){var at=(ot+1)/(rt+1),lt=it===2?Math.sqrt(Math.pow(et.points[3][0]-et.points[0][0],2)+Math.pow(et.points[3][1]-et.points[0][1],2)):0,ut=et.normalAngle(at),ft=et.point(at);setPoint(tt,ft,ut,st,nt,lt/((rt+1)*2),lt/((rt+1)*2)),st=-st}return st}ZigZagModifier.prototype.processPath=function(tt,et,nt,rt){var it=tt._length,st=shapePool.newElement();if(st.c=tt.c,tt.c||(it-=1),it===0)return st;var ot=-1,at=PolynomialBezier.shapeSegment(tt,0);zigZagCorner(st,tt,0,et,nt,rt,ot);for(var lt=0;lt<it;lt+=1)ot=zigZagSegment(st,at,et,nt,rt,-ot),lt===it-1&&!tt.c?at=null:at=PolynomialBezier.shapeSegment(tt,(lt+1)%it),zigZagCorner(st,tt,lt+1,et,nt,rt,ot);return st},ZigZagModifier.prototype.processShapes=function(tt){var et,nt,rt=this.shapes.length,it,st,ot=this.amplitude.v,at=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(ot!==0){var ut,ft;for(nt=0;nt<rt;nt+=1){if(ut=this.shapes[nt],ft=ut.localShapeCollection,!(!ut.shape._mdf&&!this._mdf&&!tt))for(ft.releaseShapes(),ut.shape._mdf=!0,et=ut.shape.paths.shapes,st=ut.shape.paths._length,it=0;it<st;it+=1)ft.addShape(this.processPath(et[it],ot,at,lt));ut.shape.paths=ut.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(tt,et,nt){var rt=Math.atan2(et[0]-tt[0],et[1]-tt[1]);return[polarOffset(tt,rt,nt),polarOffset(et,rt,nt)]}function offsetSegment(tt,et){var nt,rt,it,st,ot,at,lt;lt=linearOffset(tt.points[0],tt.points[1],et),nt=lt[0],rt=lt[1],lt=linearOffset(tt.points[1],tt.points[2],et),it=lt[0],st=lt[1],lt=linearOffset(tt.points[2],tt.points[3],et),ot=lt[0],at=lt[1];var ut=lineIntersection(nt,rt,it,st);ut===null&&(ut=rt);var ft=lineIntersection(ot,at,it,st);return ft===null&&(ft=ot),new PolynomialBezier(nt,ut,ft,at)}function joinLines(tt,et,nt,rt,it){var st=et.points[3],ot=nt.points[0];if(rt===3||pointEqual(st,ot))return st;if(rt===2){var at=-et.tangentAngle(1),lt=-nt.tangentAngle(0)+Math.PI,ut=lineIntersection(st,polarOffset(st,at+Math.PI/2,100),ot,polarOffset(ot,at+Math.PI/2,100)),ft=ut?pointDistance(ut,st):pointDistance(st,ot)/2,dt=polarOffset(st,at,2*ft*roundCorner);return tt.setXYAt(dt[0],dt[1],"o",tt.length()-1),dt=polarOffset(ot,lt,2*ft*roundCorner),tt.setTripleAt(ot[0],ot[1],ot[0],ot[1],dt[0],dt[1],tt.length()),ot}var ht=pointEqual(st,et.points[2])?et.points[0]:et.points[2],mt=pointEqual(ot,nt.points[1])?nt.points[3]:nt.points[1],xt=lineIntersection(ht,st,ot,mt);return xt&&pointDistance(xt,st)<it?(tt.setTripleAt(xt[0],xt[1],xt[0],xt[1],xt[0],xt[1],tt.length()),xt):st}function getIntersection(tt,et){var nt=tt.intersections(et);return nt.length&&floatEqual(nt[0][0],1)&&nt.shift(),nt.length?nt[0]:null}function pruneSegmentIntersection(tt,et){var nt=tt.slice(),rt=et.slice(),it=getIntersection(tt[tt.length-1],et[0]);return it&&(nt[tt.length-1]=tt[tt.length-1].split(it[0])[0],rt[0]=et[0].split(it[1])[1]),tt.length>1&&et.length>1&&(it=getIntersection(tt[0],et[et.length-1]),it)?[[tt[0].split(it[0])[0]],[et[et.length-1].split(it[1])[1]]]:[nt,rt]}function pruneIntersections(tt){for(var et,nt=1;nt<tt.length;nt+=1)et=pruneSegmentIntersection(tt[nt-1],tt[nt]),tt[nt-1]=et[0],tt[nt]=et[1];return tt.length>1&&(et=pruneSegmentIntersection(tt[tt.length-1],tt[0]),tt[tt.length-1]=et[0],tt[0]=et[1]),tt}function offsetSegmentSplit(tt,et){var nt=tt.inflectionPoints(),rt,it,st,ot;if(nt.length===0)return[offsetSegment(tt,et)];if(nt.length===1||floatEqual(nt[1],1))return st=tt.split(nt[0]),rt=st[0],it=st[1],[offsetSegment(rt,et),offsetSegment(it,et)];st=tt.split(nt[0]),rt=st[0];var at=(nt[1]-nt[0])/(1-nt[0]);return st=st[1].split(at),ot=st[0],it=st[1],[offsetSegment(rt,et),offsetSegment(ot,et),offsetSegment(it,et)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(tt,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,et.a,0,null,this),this.miterLimit=PropertyFactory.getProp(tt,et.ml,0,null,this),this.lineJoin=et.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(tt,et,nt,rt){var it=shapePool.newElement();it.c=tt.c;var st=tt.length();tt.c||(st-=1);var ot,at,lt,ut=[];for(ot=0;ot<st;ot+=1)lt=PolynomialBezier.shapeSegment(tt,ot),ut.push(offsetSegmentSplit(lt,et));if(!tt.c)for(ot=st-1;ot>=0;ot-=1)lt=PolynomialBezier.shapeSegmentInverted(tt,ot),ut.push(offsetSegmentSplit(lt,et));ut=pruneIntersections(ut);var ft=null,dt=null;for(ot=0;ot<ut.length;ot+=1){var ht=ut[ot];for(dt&&(ft=joinLines(it,dt,ht[0],nt,rt)),dt=ht[ht.length-1],at=0;at<ht.length;at+=1)lt=ht[at],ft&&pointEqual(lt.points[0],ft)?it.setXYAt(lt.points[1][0],lt.points[1][1],"o",it.length()-1):it.setTripleAt(lt.points[0][0],lt.points[0][1],lt.points[1][0],lt.points[1][1],lt.points[0][0],lt.points[0][1],it.length()),it.setTripleAt(lt.points[3][0],lt.points[3][1],lt.points[3][0],lt.points[3][1],lt.points[2][0],lt.points[2][1],it.length()),ft=lt.points[3]}return ut.length&&joinLines(it,dt,ut[0][0],nt,rt),it},OffsetPathModifier.prototype.processShapes=function(tt){var et,nt,rt=this.shapes.length,it,st,ot=this.amount.v,at=this.miterLimit.v,lt=this.lineJoin;if(ot!==0){var ut,ft;for(nt=0;nt<rt;nt+=1){if(ut=this.shapes[nt],ft=ut.localShapeCollection,!(!ut.shape._mdf&&!this._mdf&&!tt))for(ft.releaseShapes(),ut.shape._mdf=!0,et=ut.shape.paths.shapes,st=ut.shape.paths._length,it=0;it<st;it+=1)ft.addShape(this.processPath(et[it],ot,lt,at));ut.shape.paths=ut.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(tt){for(var et=tt.fStyle?tt.fStyle.split(" "):[],nt="normal",rt="normal",it=et.length,st,ot=0;ot<it;ot+=1)switch(st=et[ot].toLowerCase(),st){case"italic":rt="italic";break;case"bold":nt="700";break;case"black":nt="900";break;case"medium":nt="500";break;case"regular":case"normal":nt="400";break;case"light":case"thin":nt="200";break}return{style:rt,weight:tt.fWeight||nt}}var FontManager=function(){var tt=5e3,et={w:0,size:0,shapes:[],data:{shapes:[]}},nt=[];nt=nt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],it=[65039,8205];function st(yt){var wt=yt.split(","),Ct,Rt=wt.length,It=[];for(Ct=0;Ct<Rt;Ct+=1)wt[Ct]!=="sans-serif"&&wt[Ct]!=="monospace"&&It.push(wt[Ct]);return It.join(",")}function ot(yt,wt){var Ct=createTag("span");Ct.setAttribute("aria-hidden",!0),Ct.style.fontFamily=wt;var Rt=createTag("span");Rt.innerText="giItT1WQy@!-/#",Ct.style.position="absolute",Ct.style.left="-10000px",Ct.style.top="-10000px",Ct.style.fontSize="300px",Ct.style.fontVariant="normal",Ct.style.fontStyle="normal",Ct.style.fontWeight="normal",Ct.style.letterSpacing="0",Ct.appendChild(Rt),document.body.appendChild(Ct);var It=Rt.offsetWidth;return Rt.style.fontFamily=st(yt)+", "+wt,{node:Rt,w:It,parent:Ct}}function at(){var yt,wt=this.fonts.length,Ct,Rt,It=wt;for(yt=0;yt<wt;yt+=1)this.fonts[yt].loaded?It-=1:this.fonts[yt].fOrigin==="n"||this.fonts[yt].origin===0?this.fonts[yt].loaded=!0:(Ct=this.fonts[yt].monoCase.node,Rt=this.fonts[yt].monoCase.w,Ct.offsetWidth!==Rt?(It-=1,this.fonts[yt].loaded=!0):(Ct=this.fonts[yt].sansCase.node,Rt=this.fonts[yt].sansCase.w,Ct.offsetWidth!==Rt&&(It-=1,this.fonts[yt].loaded=!0)),this.fonts[yt].loaded&&(this.fonts[yt].sansCase.parent.parentNode.removeChild(this.fonts[yt].sansCase.parent),this.fonts[yt].monoCase.parent.parentNode.removeChild(this.fonts[yt].monoCase.parent)));It!==0&&Date.now()-this.initTime<tt?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function lt(yt,wt){var Ct=document.body&&wt?"svg":"canvas",Rt,It=getFontProperties(yt);if(Ct==="svg"){var $t=createNS("text");$t.style.fontSize="100px",$t.setAttribute("font-family",yt.fFamily),$t.setAttribute("font-style",It.style),$t.setAttribute("font-weight",It.weight),$t.textContent="1",yt.fClass?($t.style.fontFamily="inherit",$t.setAttribute("class",yt.fClass)):$t.style.fontFamily=yt.fFamily,wt.appendChild($t),Rt=$t}else{var Ft=new OffscreenCanvas(500,500).getContext("2d");Ft.font=It.style+" "+It.weight+" 100px "+yt.fFamily,Rt=Ft}function Bt(Nt){return Ct==="svg"?(Rt.textContent=Nt,Rt.getComputedTextLength()):Rt.measureText(Nt).width}return{measureText:Bt}}function ut(yt,wt){if(!yt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=yt.list;return}if(!document.body){this.isLoaded=!0,yt.list.forEach(function(rn){rn.helper=lt(rn),rn.cache={}}),this.fonts=yt.list;return}var Ct=yt.list,Rt,It=Ct.length,$t=It;for(Rt=0;Rt<It;Rt+=1){var Ft=!0,Bt,Nt;if(Ct[Rt].loaded=!1,Ct[Rt].monoCase=ot(Ct[Rt].fFamily,"monospace"),Ct[Rt].sansCase=ot(Ct[Rt].fFamily,"sans-serif"),!Ct[Rt].fPath)Ct[Rt].loaded=!0,$t-=1;else if(Ct[Rt].fOrigin==="p"||Ct[Rt].origin===3){if(Bt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ct[Rt].fFamily+'"], style[f-origin="3"][f-family="'+Ct[Rt].fFamily+'"]'),Bt.length>0&&(Ft=!1),Ft){var Xt=createTag("style");Xt.setAttribute("f-forigin",Ct[Rt].fOrigin),Xt.setAttribute("f-origin",Ct[Rt].origin),Xt.setAttribute("f-family",Ct[Rt].fFamily),Xt.type="text/css",Xt.innerText="@font-face {font-family: "+Ct[Rt].fFamily+"; font-style: normal; src: url('"+Ct[Rt].fPath+"');}",wt.appendChild(Xt)}}else if(Ct[Rt].fOrigin==="g"||Ct[Rt].origin===1){for(Bt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Nt=0;Nt<Bt.length;Nt+=1)Bt[Nt].href.indexOf(Ct[Rt].fPath)!==-1&&(Ft=!1);if(Ft){var nn=createTag("link");nn.setAttribute("f-forigin",Ct[Rt].fOrigin),nn.setAttribute("f-origin",Ct[Rt].origin),nn.type="text/css",nn.rel="stylesheet",nn.href=Ct[Rt].fPath,document.body.appendChild(nn)}}else if(Ct[Rt].fOrigin==="t"||Ct[Rt].origin===2){for(Bt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Nt=0;Nt<Bt.length;Nt+=1)Ct[Rt].fPath===Bt[Nt].src&&(Ft=!1);if(Ft){var sn=createTag("link");sn.setAttribute("f-forigin",Ct[Rt].fOrigin),sn.setAttribute("f-origin",Ct[Rt].origin),sn.setAttribute("rel","stylesheet"),sn.setAttribute("href",Ct[Rt].fPath),wt.appendChild(sn)}}Ct[Rt].helper=lt(Ct[Rt],wt),Ct[Rt].cache={},this.fonts.push(Ct[Rt])}$t===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ft(yt){if(yt){this.chars||(this.chars=[]);var wt,Ct=yt.length,Rt,It=this.chars.length,$t;for(wt=0;wt<Ct;wt+=1){for(Rt=0,$t=!1;Rt<It;)this.chars[Rt].style===yt[wt].style&&this.chars[Rt].fFamily===yt[wt].fFamily&&this.chars[Rt].ch===yt[wt].ch&&($t=!0),Rt+=1;$t||(this.chars.push(yt[wt]),It+=1)}}}function dt(yt,wt,Ct){for(var Rt=0,It=this.chars.length;Rt<It;){if(this.chars[Rt].ch===yt&&this.chars[Rt].style===wt&&this.chars[Rt].fFamily===Ct)return this.chars[Rt];Rt+=1}return(typeof yt=="string"&&yt.charCodeAt(0)!==13||!yt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",yt,wt,Ct)),et}function ht(yt,wt,Ct){var Rt=this.getFontByName(wt),It=yt.charCodeAt(0);if(!Rt.cache[It+1]){var $t=Rt.helper;if(yt===" "){var Ft=$t.measureText("|"+yt+"|"),Bt=$t.measureText("||");Rt.cache[It+1]=(Ft-Bt)/100}else Rt.cache[It+1]=$t.measureText(yt)/100}return Rt.cache[It+1]*Ct}function mt(yt){for(var wt=0,Ct=this.fonts.length;wt<Ct;){if(this.fonts[wt].fName===yt)return this.fonts[wt];wt+=1}return this.fonts[0]}function xt(yt,wt){var Ct=yt.toString(16)+wt.toString(16);return rt.indexOf(Ct)!==-1}function _t(yt,wt){return wt?yt===it[0]&&wt===it[1]:yt===it[1]}function At(yt){return nt.indexOf(yt)!==-1}function gt(){this.isLoaded=!0}var vt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};vt.isModifier=xt,vt.isZeroWidthJoiner=_t,vt.isCombinedCharacter=At;var Et={addChars:ft,addFonts:ut,getCharData:dt,getFontByName:mt,measureText:ht,checkLoadedFonts:at,setIsLoaded:gt};return vt.prototype=Et,vt}();function SlotManager(tt){this.animationData=tt}SlotManager.prototype.getProp=function(tt){return this.animationData.slots&&this.animationData.slots[tt.sid]?Object.assign(tt,this.animationData.slots[tt.sid].p):tt};function slotFactory(tt){return new SlotManager(tt)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(et){this.renderableComponents.indexOf(et)===-1&&this.renderableComponents.push(et)},removeRenderableComponent:function(et){this.renderableComponents.indexOf(et)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(et),1)},prepareRenderableFrame:function(et){this.checkLayerLimits(et)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(et){this.data.ip-this.data.st<=et&&this.data.op-this.data.st>et?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var et,nt=this.renderableComponents.length;for(et=0;et<nt;et+=1)this.renderableComponents[et].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var tt={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(et){return tt[et]||""}}();function SliderEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,0,0,nt)}function AngleEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,0,0,nt)}function ColorEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,1,0,nt)}function PointEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,1,0,nt)}function LayerIndexEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,0,0,nt)}function MaskIndexEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,0,0,nt)}function CheckboxEffect(tt,et,nt){this.p=PropertyFactory.getProp(et,tt.v,0,0,nt)}function NoValueEffect(){this.p={}}function EffectsManager(tt,et){var nt=tt.ef||[];this.effectElements=[];var rt,it=nt.length,st;for(rt=0;rt<it;rt+=1)st=new GroupEffect(nt[rt],et),this.effectElements.push(st)}function GroupEffect(tt,et){this.init(tt,et)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(tt,et){this.data=tt,this.effectElements=[],this.initDynamicPropertyContainer(et);var nt,rt=this.data.ef.length,it,st=this.data.ef;for(nt=0;nt<rt;nt+=1){switch(it=null,st[nt].ty){case 0:it=new SliderEffect(st[nt],et,this);break;case 1:it=new AngleEffect(st[nt],et,this);break;case 2:it=new ColorEffect(st[nt],et,this);break;case 3:it=new PointEffect(st[nt],et,this);break;case 4:case 7:it=new CheckboxEffect(st[nt],et,this);break;case 10:it=new LayerIndexEffect(st[nt],et,this);break;case 11:it=new MaskIndexEffect(st[nt],et,this);break;case 5:it=new EffectsManager(st[nt],et);break;default:it=new NoValueEffect(st[nt]);break}it&&this.effectElements.push(it)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var et=0,nt=this.data.masksProperties.length;et<nt;){if(this.data.masksProperties[et].mode!=="n"&&this.data.masksProperties[et].cl!==!1)return!0;et+=1}return!1},initExpressions:function(){var et=getExpressionInterfaces();if(et){var nt=et("layer"),rt=et("effects"),it=et("shape"),st=et("text"),ot=et("comp");this.layerInterface=nt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var at=rt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(at),this.data.ty===0||this.data.xt?this.compInterface=ot(this):this.data.ty===4?(this.layerInterface.shapeInterface=it(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=st(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var et=getBlendMode(this.data.bm),nt=this.baseElement||this.layerElement;nt.style["mix-blend-mode"]=et},initBaseData:function(et,nt,rt){this.globalData=nt,this.comp=rt,this.data=et,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(et,nt){var rt,it=this.dynamicProperties.length;for(rt=0;rt<it;rt+=1)(nt||this._isParent&&this.dynamicProperties[rt].propType==="transform")&&(this.dynamicProperties[rt].getValue(),this.dynamicProperties[rt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&this.dynamicProperties.push(et)}};function FootageElement(tt,et,nt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(tt.refId),this.footageData=et.imageLoader.getAsset(this.assetData),this.initBaseData(tt,et,nt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var tt=getExpressionInterfaces();if(tt){var et=tt("footage");this.layerInterface=et(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(tt,et,nt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(tt.refId),this.initBaseData(tt,et,nt),this._isPlaying=!1,this._canPlay=!1;var rt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,et.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,tt.au&&tt.au.lv?tt.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(tt){if(this.prepareRenderableFrame(tt,!0),this.prepareProperties(tt,!0),this.tm._placeholder)this._currentTime=tt/this.data.sr;else{var et=this.tm.v;this._currentTime=et}this._volume=this.lv.v[0];var nt=this._volume*this._volumeMultiplier;this._previousVolume!==nt&&(this._previousVolume=nt,this.audio.volume(nt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(tt){this.audio.rate(tt)},AudioElement.prototype.volume=function(tt){this._volumeMultiplier=tt,this._previousVolume=tt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(tt){var et,nt=this.layers.length,rt;for(this.completeLayers=!0,et=nt-1;et>=0;et-=1)this.elements[et]||(rt=this.layers[et],rt.ip-rt.st<=tt-this.layers[et].st&&rt.op-rt.st>tt-this.layers[et].st&&this.buildItem(et)),this.completeLayers=this.elements[et]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(tt){switch(tt.ty){case 2:return this.createImage(tt);case 0:return this.createComp(tt);case 1:return this.createSolid(tt);case 3:return this.createNull(tt);case 4:return this.createShape(tt);case 5:return this.createText(tt);case 6:return this.createAudio(tt);case 13:return this.createCamera(tt);case 15:return this.createFootage(tt);default:return this.createNull(tt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(tt){return new AudioElement(tt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(tt){return new FootageElement(tt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var tt,et=this.layers.length;for(tt=0;tt<et;tt+=1)this.buildItem(tt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(tt){this.completeLayers=!1;var et,nt=tt.length,rt,it=this.layers.length;for(et=0;et<nt;et+=1)for(rt=0;rt<it;){if(this.layers[rt].id===tt[et].id){this.layers[rt]=tt[et];break}rt+=1}},BaseRenderer.prototype.setProjectInterface=function(tt){this.globalData.projectInterface=tt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(tt,et,nt){for(var rt=this.elements,it=this.layers,st=0,ot=it.length;st<ot;)it[st].ind==et&&(!rt[st]||rt[st]===!0?(this.buildItem(st),this.addPendingElement(tt)):(nt.push(rt[st]),rt[st].setAsParent(),it[st].parent!==void 0?this.buildElementParenting(tt,it[st].parent,nt):tt.setHierarchy(nt))),st+=1},BaseRenderer.prototype.addPendingElement=function(tt){this.pendingElements.push(tt)},BaseRenderer.prototype.searchExtraCompositions=function(tt){var et,nt=tt.length;for(et=0;et<nt;et+=1)if(tt[et].xt){var rt=this.createComp(tt[et]);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},BaseRenderer.prototype.getElementById=function(tt){var et,nt=this.elements.length;for(et=0;et<nt;et+=1)if(this.elements[et].data.ind===tt)return this.elements[et];return null},BaseRenderer.prototype.getElementByPath=function(tt){var et=tt.shift(),nt;if(typeof et=="number")nt=this.elements[et];else{var rt,it=this.elements.length;for(rt=0;rt<it;rt+=1)if(this.elements[rt].data.nm===et){nt=this.elements[rt];break}}return tt.length===0?nt:nt.getElementByPath(tt)},BaseRenderer.prototype.setupGlobalData=function(tt,et){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(tt),this.globalData.fontManager.addChars(tt.chars),this.globalData.fontManager.addFonts(tt.fonts,et),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=tt.fr,this.globalData.nm=tt.nm,this.globalData.compSize={w:tt.w,h:tt.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var et,nt=this.finalTransform.mat,rt=0,it=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rt<it;){if(this.hierarchy[rt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rt+=1}if(this.finalTransform._matMdf)for(et=this.finalTransform.mProp.v.props,nt.cloneFromProps(et),rt=0;rt<it;rt+=1)et=this.hierarchy[rt].finalTransform.mProp.v.props,nt.transform(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8],et[9],et[10],et[11],et[12],et[13],et[14],et[15])}},globalToLocal:function(et){var nt=[];nt.push(this.finalTransform);for(var rt=!0,it=this.comp;rt;)it.finalTransform?(it.data.hasMask&&nt.splice(0,0,it.finalTransform),it=it.comp):rt=!1;var st,ot=nt.length,at;for(st=0;st<ot;st+=1)at=nt[st].mat.applyToPointArray(0,0,0),et=[et[0]-at[0],et[1]-at[1],0];return et},mHelper:new Matrix};function MaskElement(tt,et,nt){this.data=tt,this.element=et,this.globalData=nt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rt=this.globalData.defs,it,st=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(st),this.solidPath="";var ot,at=this.masksProperties,lt=0,ut=[],ft,dt,ht=createElementID(),mt,xt,_t,At,gt="clipPath",vt="clip-path";for(it=0;it<st;it+=1)if((at[it].mode!=="a"&&at[it].mode!=="n"||at[it].inv||at[it].o.k!==100||at[it].o.x)&&(gt="mask",vt="mask"),(at[it].mode==="s"||at[it].mode==="i")&&lt===0?(mt=createNS("rect"),mt.setAttribute("fill","#ffffff"),mt.setAttribute("width",this.element.comp.data.w||0),mt.setAttribute("height",this.element.comp.data.h||0),ut.push(mt)):mt=null,ot=createNS("path"),at[it].mode==="n")this.viewData[it]={op:PropertyFactory.getProp(this.element,at[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[it],3),elem:ot,lastPath:""},rt.appendChild(ot);else{lt+=1,ot.setAttribute("fill",at[it].mode==="s"?"#000000":"#ffffff"),ot.setAttribute("clip-rule","nonzero");var Et;if(at[it].x.k!==0?(gt="mask",vt="mask",At=PropertyFactory.getProp(this.element,at[it].x,0,null,this.element),Et=createElementID(),xt=createNS("filter"),xt.setAttribute("id",Et),_t=createNS("feMorphology"),_t.setAttribute("operator","erode"),_t.setAttribute("in","SourceGraphic"),_t.setAttribute("radius","0"),xt.appendChild(_t),rt.appendChild(xt),ot.setAttribute("stroke",at[it].mode==="s"?"#000000":"#ffffff")):(_t=null,At=null),this.storedData[it]={elem:ot,x:At,expan:_t,lastPath:"",lastOperator:"",filterId:Et,lastRadius:0},at[it].mode==="i"){dt=ut.length;var yt=createNS("g");for(ft=0;ft<dt;ft+=1)yt.appendChild(ut[ft]);var wt=createNS("mask");wt.setAttribute("mask-type","alpha"),wt.setAttribute("id",ht+"_"+lt),wt.appendChild(ot),rt.appendChild(wt),yt.setAttribute("mask","url("+getLocationHref()+"#"+ht+"_"+lt+")"),ut.length=0,ut.push(yt)}else ut.push(ot);at[it].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[it]={elem:ot,lastPath:"",op:PropertyFactory.getProp(this.element,at[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[it],3),invRect:mt},this.viewData[it].prop.k||this.drawPath(at[it],this.viewData[it].prop.v,this.viewData[it])}for(this.maskElement=createNS(gt),st=ut.length,it=0;it<st;it+=1)this.maskElement.appendChild(ut[it]);lt>0&&(this.maskElement.setAttribute("id",ht),this.element.maskedElement.setAttribute(vt,"url("+getLocationHref()+"#"+ht+")"),rt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(tt){return this.viewData[tt].prop},MaskElement.prototype.renderFrame=function(tt){var et=this.element.finalTransform.mat,nt,rt=this.masksProperties.length;for(nt=0;nt<rt;nt+=1)if((this.viewData[nt].prop._mdf||tt)&&this.drawPath(this.masksProperties[nt],this.viewData[nt].prop.v,this.viewData[nt]),(this.viewData[nt].op._mdf||tt)&&this.viewData[nt].elem.setAttribute("fill-opacity",this.viewData[nt].op.v),this.masksProperties[nt].mode!=="n"&&(this.viewData[nt].invRect&&(this.element.finalTransform.mProp._mdf||tt)&&this.viewData[nt].invRect.setAttribute("transform",et.getInverseMatrix().to2dCSS()),this.storedData[nt].x&&(this.storedData[nt].x._mdf||tt))){var it=this.storedData[nt].expan;this.storedData[nt].x.v<0?(this.storedData[nt].lastOperator!=="erode"&&(this.storedData[nt].lastOperator="erode",this.storedData[nt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[nt].filterId+")")),it.setAttribute("radius",-this.storedData[nt].x.v)):(this.storedData[nt].lastOperator!=="dilate"&&(this.storedData[nt].lastOperator="dilate",this.storedData[nt].elem.setAttribute("filter",null)),this.storedData[nt].elem.setAttribute("stroke-width",this.storedData[nt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var tt="M0,0 ";return tt+=" h"+this.globalData.compSize.w,tt+=" v"+this.globalData.compSize.h,tt+=" h-"+this.globalData.compSize.w,tt+=" v-"+this.globalData.compSize.h+" ",tt},MaskElement.prototype.drawPath=function(tt,et,nt){var rt=" M"+et.v[0][0]+","+et.v[0][1],it,st;for(st=et._length,it=1;it<st;it+=1)rt+=" C"+et.o[it-1][0]+","+et.o[it-1][1]+" "+et.i[it][0]+","+et.i[it][1]+" "+et.v[it][0]+","+et.v[it][1];if(et.c&&st>1&&(rt+=" C"+et.o[it-1][0]+","+et.o[it-1][1]+" "+et.i[0][0]+","+et.i[0][1]+" "+et.v[0][0]+","+et.v[0][1]),nt.lastPath!==rt){var ot="";nt.elem&&(et.c&&(ot=tt.inv?this.solidPath+rt:rt),nt.elem.setAttribute("d",ot)),nt.lastPath=rt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var tt={};tt.createFilter=et,tt.createAlphaToLuminanceFilter=nt;function et(rt,it){var st=createNS("filter");return st.setAttribute("id",rt),it!==!0&&(st.setAttribute("filterUnits","objectBoundingBox"),st.setAttribute("x","0%"),st.setAttribute("y","0%"),st.setAttribute("width","100%"),st.setAttribute("height","100%")),st}function nt(){var rt=createNS("feColorMatrix");return rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rt}return tt}(),featureSupport=function(){var tt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(tt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(tt.svgLumaHidden=!1),tt}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(tt){var et,nt="SourceGraphic",rt=tt.data.ef?tt.data.ef.length:0,it=createElementID(),st=filtersFactory.createFilter(it,!0),ot=0;this.filters=[];var at;for(et=0;et<rt;et+=1){at=null;var lt=tt.data.ef[et].ty;if(registeredEffects[lt]){var ut=registeredEffects[lt].effect;at=new ut(st,tt.effectsManager.effectElements[et],tt,idPrefix+ot,nt),nt=idPrefix+ot,registeredEffects[lt].countsAsEffect&&(ot+=1)}at&&this.filters.push(at)}ot&&(tt.globalData.defs.appendChild(st),tt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+it+")")),this.filters.length&&tt.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(tt){var et,nt=this.filters.length;for(et=0;et<nt;et+=1)this.filters[et].renderFrame(tt)};function registerEffect(tt,et,nt){registeredEffects[tt]={effect:et,countsAsEffect:nt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var et=null;if(this.data.td){this.matteMasks={};var nt=createNS("g");nt.setAttribute("id",this.layerId),nt.appendChild(this.layerElement),et=nt,this.globalData.defs.appendChild(nt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),et=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rt=createNS("clipPath"),it=createNS("path");it.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var st=createElementID();if(rt.setAttribute("id",st),rt.appendChild(it),this.globalData.defs.appendChild(rt),this.checkMasks()){var ot=createNS("g");ot.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")"),ot.appendChild(this.layerElement),this.transformedElement=ot,et?et.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(et){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[et]){var nt=this.layerId+"_"+et,rt,it,st,ot;if(et===1||et===3){var at=createNS("mask");at.setAttribute("id",nt),at.setAttribute("mask-type",et===3?"luminance":"alpha"),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),at.appendChild(st),this.globalData.defs.appendChild(at),!featureSupport.maskType&&et===1&&(at.setAttribute("mask-type","luminance"),rt=createElementID(),it=filtersFactory.createFilter(rt),this.globalData.defs.appendChild(it),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ot.appendChild(st),at.appendChild(ot),ot.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"))}else if(et===2){var lt=createNS("mask");lt.setAttribute("id",nt),lt.setAttribute("mask-type","alpha");var ut=createNS("g");lt.appendChild(ut),rt=createElementID(),it=filtersFactory.createFilter(rt);var ft=createNS("feComponentTransfer");ft.setAttribute("in","SourceGraphic"),it.appendChild(ft);var dt=createNS("feFuncA");dt.setAttribute("type","table"),dt.setAttribute("tableValues","1.0 0.0"),ft.appendChild(dt),this.globalData.defs.appendChild(it);var ht=createNS("rect");ht.setAttribute("width",this.comp.data.w),ht.setAttribute("height",this.comp.data.h),ht.setAttribute("x","0"),ht.setAttribute("y","0"),ht.setAttribute("fill","#ffffff"),ht.setAttribute("opacity","0"),ut.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"),ut.appendChild(ht),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ut.appendChild(st),featureSupport.maskType||(lt.setAttribute("mask-type","luminance"),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ut.appendChild(ht),ot.appendChild(this.layerElement),ut.appendChild(ot)),this.globalData.defs.appendChild(lt)}this.matteMasks[et]=nt}return this.matteMasks[et]},setMatte:function(et){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+et+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(et){this.hierarchy=et},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var tt={initElement:function(nt,rt,it){this.initFrame(),this.initBaseData(nt,rt,it),this.initTransform(nt,rt,it),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var nt=this.baseElement||this.layerElement;nt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var nt=this.baseElement||this.layerElement;nt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(nt){this._mdf=!1,this.prepareRenderableFrame(nt),this.prepareProperties(nt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(tt)],RenderableDOMElement)})();function IImageElement(tt,et,nt){this.assetData=et.getAssetData(tt.refId),this.assetData&&this.assetData.sid&&(this.assetData=et.slotManager.getProp(this.assetData)),this.initElement(tt,et,nt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(tt,et){this.elem=tt,this.pos=et}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(et){var nt,rt=this.shapeModifiers.length;for(nt=0;nt<rt;nt+=1)this.shapeModifiers[nt].addShape(et)},isShapeInAnimatedModifiers:function(et){for(var nt=0,rt=this.shapeModifiers.length;nt<rt;)if(this.shapeModifiers[nt].isAnimatedWithShape(et))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var et,nt=this.shapes.length;for(et=0;et<nt;et+=1)this.shapes[et].sh.reset();nt=this.shapeModifiers.length;var rt;for(et=nt-1;et>=0&&(rt=this.shapeModifiers[et].processShapes(this._isFirstFrame),!rt);et-=1);}},searchProcessedElement:function(et){for(var nt=this.processedElements,rt=0,it=nt.length;rt<it;){if(nt[rt].elem===et)return nt[rt].pos;rt+=1}return 0},addProcessedElement:function(et,nt){for(var rt=this.processedElements,it=rt.length;it;)if(it-=1,rt[it].elem===et){rt[it].pos=nt;return}rt.push(new ProcessedElement(et,nt))},prepareFrame:function(et){this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(tt,et,nt){this.caches=[],this.styles=[],this.transformers=tt,this.lStr="",this.sh=nt,this.lvl=et,this._isAnimated=!!nt.k;for(var rt=0,it=tt.length;rt<it;){if(tt[rt].mProps.dynamicProperties.length){this._isAnimated=!0;break}rt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(tt,et){this.data=tt,this.type=tt.ty,this.d="",this.lvl=et,this._mdf=!1,this.closed=tt.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(tt,et,nt,rt){this.elem=tt,this.frameId=-1,this.dataProps=createSizedArray(et.length),this.renderer=nt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",et.length?et.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rt);var it,st=et.length||0,ot;for(it=0;it<st;it+=1)ot=PropertyFactory.getProp(tt,et[it].v,0,0,this),this.k=ot.k||this.k,this.dataProps[it]={n:et[it].n,p:ot};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(tt){if(!(this.elem.globalData.frameId===this.frameId&&!tt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||tt,this._mdf)){var et=0,nt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),et=0;et<nt;et+=1)this.dataProps[et].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[et].p.v:this.dashArray[et]=this.dataProps[et].p.v:this.dashoffset[0]=this.dataProps[et].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(tt,et,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,et.o,0,.01,this),this.w=PropertyFactory.getProp(tt,et.w,0,null,this),this.d=new DashProperty(tt,et.d||{},"svg",this),this.c=PropertyFactory.getProp(tt,et.c,1,255,this),this.style=nt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(tt,et,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,et.o,0,.01,this),this.c=PropertyFactory.getProp(tt,et.c,1,255,this),this.style=nt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(tt,et,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.style=nt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(tt,et,nt){this.data=et,this.c=createTypedArray("uint8c",et.p*4);var rt=et.k.k[0].s?et.k.k[0].s.length-et.p*4:et.k.k.length-et.p*4;this.o=createTypedArray("float32",rt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rt,this.initDynamicPropertyContainer(nt),this.prop=PropertyFactory.getProp(tt,et.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(tt,et){for(var nt=0,rt=this.o.length/2,it;nt<rt;){if(it=Math.abs(tt[nt*4]-tt[et*4+nt*2]),it>.01)return!1;nt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var tt=0,et=this.data.k.k.length;tt<et;){if(!this.comparePoints(this.data.k.k[tt].s,this.data.p))return!1;tt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(tt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||tt){var et,nt=this.data.p*4,rt,it;for(et=0;et<nt;et+=1)rt=et%4===0?100:255,it=Math.round(this.prop.v[et]*rt),this.c[et]!==it&&(this.c[et]=it,this._cmdf=!tt);if(this.o.length)for(nt=this.prop.v.length,et=this.data.p*4;et<nt;et+=1)rt=et%2===0?100:1,it=et%2===0?Math.round(this.prop.v[et]*100):this.prop.v[et],this.o[et-this.data.p*4]!==it&&(this.o[et-this.data.p*4]=it,this._omdf=!tt);this._mdf=!tt}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(tt,et,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.initGradientData(tt,et,nt)}SVGGradientFillStyleData.prototype.initGradientData=function(tt,et,nt){this.o=PropertyFactory.getProp(tt,et.o,0,.01,this),this.s=PropertyFactory.getProp(tt,et.s,1,null,this),this.e=PropertyFactory.getProp(tt,et.e,1,null,this),this.h=PropertyFactory.getProp(tt,et.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(tt,et.a||{k:0},0,degToRads,this),this.g=new GradientProperty(tt,et.g,this),this.style=nt,this.stops=[],this.setGradientData(nt.pElem,et),this.setGradientOpacity(et,nt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(tt,et){var nt=createElementID(),rt=createNS(et.t===1?"linearGradient":"radialGradient");rt.setAttribute("id",nt),rt.setAttribute("spreadMethod","pad"),rt.setAttribute("gradientUnits","userSpaceOnUse");var it=[],st,ot,at;for(at=et.g.p*4,ot=0;ot<at;ot+=4)st=createNS("stop"),rt.appendChild(st),it.push(st);tt.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nt+")"),this.gf=rt,this.cst=it},SVGGradientFillStyleData.prototype.setGradientOpacity=function(tt,et){if(this.g._hasOpacity&&!this.g._collapsable){var nt,rt,it,st=createNS("mask"),ot=createNS("path");st.appendChild(ot);var at=createElementID(),lt=createElementID();st.setAttribute("id",lt);var ut=createNS(tt.t===1?"linearGradient":"radialGradient");ut.setAttribute("id",at),ut.setAttribute("spreadMethod","pad"),ut.setAttribute("gradientUnits","userSpaceOnUse"),it=tt.g.k.k[0].s?tt.g.k.k[0].s.length:tt.g.k.k.length;var ft=this.stops;for(rt=tt.g.p*4;rt<it;rt+=2)nt=createNS("stop"),nt.setAttribute("stop-color","rgb(255,255,255)"),ut.appendChild(nt),ft.push(nt);ot.setAttribute(tt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+at+")"),tt.ty==="gs"&&(ot.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),ot.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),tt.lj===1&&ot.setAttribute("stroke-miterlimit",tt.ml)),this.of=ut,this.ms=st,this.ost=ft,this.maskId=lt,et.msElem=ot}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(tt,et,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(tt,et.w,0,null,this),this.d=new DashProperty(tt,et.d||{},"svg",this),this.initGradientData(tt,et,nt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(tt,et,nt){this.transform={mProps:tt,op:et,container:nt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(et,nt,rt,it){if(nt===0)return"";var st=et.o,ot=et.i,at=et.v,lt,ut=" M"+it.applyToPointStringified(at[0][0],at[0][1]);for(lt=1;lt<nt;lt+=1)ut+=" C"+it.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+it.applyToPointStringified(ot[lt][0],ot[lt][1])+" "+it.applyToPointStringified(at[lt][0],at[lt][1]);return rt&&nt&&(ut+=" C"+it.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+it.applyToPointStringified(ot[0][0],ot[0][1])+" "+it.applyToPointStringified(at[0][0],at[0][1]),ut+="z"),ut},SVGElementsRenderer=function(){var tt=new Matrix,et=new Matrix,nt={createRenderFunction:rt};function rt(dt){switch(dt.ty){case"fl":return at;case"gf":return ut;case"gs":return lt;case"st":return ft;case"sh":case"el":case"rc":case"sr":return ot;case"tr":return it;case"no":return st;default:return null}}function it(dt,ht,mt){(mt||ht.transform.op._mdf)&&ht.transform.container.setAttribute("opacity",ht.transform.op.v),(mt||ht.transform.mProps._mdf)&&ht.transform.container.setAttribute("transform",ht.transform.mProps.v.to2dCSS())}function st(){}function ot(dt,ht,mt){var xt,_t,At,gt,vt,Et,yt=ht.styles.length,wt=ht.lvl,Ct,Rt,It,$t,Ft;for(Et=0;Et<yt;Et+=1){if(gt=ht.sh._mdf||mt,ht.styles[Et].lvl<wt){for(Rt=et.reset(),$t=wt-ht.styles[Et].lvl,Ft=ht.transformers.length-1;!gt&&$t>0;)gt=ht.transformers[Ft].mProps._mdf||gt,$t-=1,Ft-=1;if(gt)for($t=wt-ht.styles[Et].lvl,Ft=ht.transformers.length-1;$t>0;)It=ht.transformers[Ft].mProps.v.props,Rt.transform(It[0],It[1],It[2],It[3],It[4],It[5],It[6],It[7],It[8],It[9],It[10],It[11],It[12],It[13],It[14],It[15]),$t-=1,Ft-=1}else Rt=tt;if(Ct=ht.sh.paths,_t=Ct._length,gt){for(At="",xt=0;xt<_t;xt+=1)vt=Ct.shapes[xt],vt&&vt._length&&(At+=buildShapeString(vt,vt._length,vt.c,Rt));ht.caches[Et]=At}else At=ht.caches[Et];ht.styles[Et].d+=dt.hd===!0?"":At,ht.styles[Et]._mdf=gt||ht.styles[Et]._mdf}}function at(dt,ht,mt){var xt=ht.style;(ht.c._mdf||mt)&&xt.pElem.setAttribute("fill","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||mt)&&xt.pElem.setAttribute("fill-opacity",ht.o.v)}function lt(dt,ht,mt){ut(dt,ht,mt),ft(dt,ht,mt)}function ut(dt,ht,mt){var xt=ht.gf,_t=ht.g._hasOpacity,At=ht.s.v,gt=ht.e.v;if(ht.o._mdf||mt){var vt=dt.ty==="gf"?"fill-opacity":"stroke-opacity";ht.style.pElem.setAttribute(vt,ht.o.v)}if(ht.s._mdf||mt){var Et=dt.t===1?"x1":"cx",yt=Et==="x1"?"y1":"cy";xt.setAttribute(Et,At[0]),xt.setAttribute(yt,At[1]),_t&&!ht.g._collapsable&&(ht.of.setAttribute(Et,At[0]),ht.of.setAttribute(yt,At[1]))}var wt,Ct,Rt,It;if(ht.g._cmdf||mt){wt=ht.cst;var $t=ht.g.c;for(Rt=wt.length,Ct=0;Ct<Rt;Ct+=1)It=wt[Ct],It.setAttribute("offset",$t[Ct*4]+"%"),It.setAttribute("stop-color","rgb("+$t[Ct*4+1]+","+$t[Ct*4+2]+","+$t[Ct*4+3]+")")}if(_t&&(ht.g._omdf||mt)){var Ft=ht.g.o;for(ht.g._collapsable?wt=ht.cst:wt=ht.ost,Rt=wt.length,Ct=0;Ct<Rt;Ct+=1)It=wt[Ct],ht.g._collapsable||It.setAttribute("offset",Ft[Ct*2]+"%"),It.setAttribute("stop-opacity",Ft[Ct*2+1])}if(dt.t===1)(ht.e._mdf||mt)&&(xt.setAttribute("x2",gt[0]),xt.setAttribute("y2",gt[1]),_t&&!ht.g._collapsable&&(ht.of.setAttribute("x2",gt[0]),ht.of.setAttribute("y2",gt[1])));else{var Bt;if((ht.s._mdf||ht.e._mdf||mt)&&(Bt=Math.sqrt(Math.pow(At[0]-gt[0],2)+Math.pow(At[1]-gt[1],2)),xt.setAttribute("r",Bt),_t&&!ht.g._collapsable&&ht.of.setAttribute("r",Bt)),ht.e._mdf||ht.h._mdf||ht.a._mdf||mt){Bt||(Bt=Math.sqrt(Math.pow(At[0]-gt[0],2)+Math.pow(At[1]-gt[1],2)));var Nt=Math.atan2(gt[1]-At[1],gt[0]-At[0]),Xt=ht.h.v;Xt>=1?Xt=.99:Xt<=-1&&(Xt=-.99);var nn=Bt*Xt,sn=Math.cos(Nt+ht.a.v)*nn+At[0],rn=Math.sin(Nt+ht.a.v)*nn+At[1];xt.setAttribute("fx",sn),xt.setAttribute("fy",rn),_t&&!ht.g._collapsable&&(ht.of.setAttribute("fx",sn),ht.of.setAttribute("fy",rn))}}}function ft(dt,ht,mt){var xt=ht.style,_t=ht.d;_t&&(_t._mdf||mt)&&_t.dashStr&&(xt.pElem.setAttribute("stroke-dasharray",_t.dashStr),xt.pElem.setAttribute("stroke-dashoffset",_t.dashoffset[0])),ht.c&&(ht.c._mdf||mt)&&xt.pElem.setAttribute("stroke","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||mt)&&xt.pElem.setAttribute("stroke-opacity",ht.o.v),(ht.w._mdf||mt)&&(xt.pElem.setAttribute("stroke-width",ht.w.v),xt.msElem&&xt.msElem.setAttribute("stroke-width",ht.w.v))}return nt}();function SVGShapeElement(tt,et,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(tt,et,nt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var tt,et=this.shapes.length,nt,rt,it=this.stylesList.length,st,ot=[],at=!1;for(rt=0;rt<it;rt+=1){for(st=this.stylesList[rt],at=!1,ot.length=0,tt=0;tt<et;tt+=1)nt=this.shapes[tt],nt.styles.indexOf(st)!==-1&&(ot.push(nt),at=nt._isAnimated||at);ot.length>1&&at&&this.setShapesAsAnimated(ot)}},SVGShapeElement.prototype.setShapesAsAnimated=function(tt){var et,nt=tt.length;for(et=0;et<nt;et+=1)tt[et].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(tt,et){var nt,rt=new SVGStyleData(tt,et),it=rt.pElem;if(tt.ty==="st")nt=new SVGStrokeStyleData(this,tt,rt);else if(tt.ty==="fl")nt=new SVGFillStyleData(this,tt,rt);else if(tt.ty==="gf"||tt.ty==="gs"){var st=tt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;nt=new st(this,tt,rt),this.globalData.defs.appendChild(nt.gf),nt.maskId&&(this.globalData.defs.appendChild(nt.ms),this.globalData.defs.appendChild(nt.of),it.setAttribute("mask","url("+getLocationHref()+"#"+nt.maskId+")"))}else tt.ty==="no"&&(nt=new SVGNoStyleData(this,tt,rt));return(tt.ty==="st"||tt.ty==="gs")&&(it.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),it.setAttribute("fill-opacity","0"),tt.lj===1&&it.setAttribute("stroke-miterlimit",tt.ml)),tt.r===2&&it.setAttribute("fill-rule","evenodd"),tt.ln&&it.setAttribute("id",tt.ln),tt.cl&&it.setAttribute("class",tt.cl),tt.bm&&(it.style["mix-blend-mode"]=getBlendMode(tt.bm)),this.stylesList.push(rt),this.addToAnimatedContents(tt,nt),nt},SVGShapeElement.prototype.createGroupElement=function(tt){var et=new ShapeGroupData;return tt.ln&&et.gr.setAttribute("id",tt.ln),tt.cl&&et.gr.setAttribute("class",tt.cl),tt.bm&&(et.gr.style["mix-blend-mode"]=getBlendMode(tt.bm)),et},SVGShapeElement.prototype.createTransformElement=function(tt,et){var nt=TransformPropertyFactory.getTransformProperty(this,tt,this),rt=new SVGTransformData(nt,nt.o,et);return this.addToAnimatedContents(tt,rt),rt},SVGShapeElement.prototype.createShapeElement=function(tt,et,nt){var rt=4;tt.ty==="rc"?rt=5:tt.ty==="el"?rt=6:tt.ty==="sr"&&(rt=7);var it=ShapePropertyFactory.getShapeProp(this,tt,rt,this),st=new SVGShapeData(et,nt,it);return this.shapes.push(st),this.addShapeToModifiers(st),this.addToAnimatedContents(tt,st),st},SVGShapeElement.prototype.addToAnimatedContents=function(tt,et){for(var nt=0,rt=this.animatedContents.length;nt<rt;){if(this.animatedContents[nt].element===et)return;nt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(tt),element:et,data:tt})},SVGShapeElement.prototype.setElementStyles=function(tt){var et=tt.styles,nt,rt=this.stylesList.length;for(nt=0;nt<rt;nt+=1)this.stylesList[nt].closed||et.push(this.stylesList[nt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var tt,et=this.itemsData.length;for(tt=0;tt<et;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),et=this.dynamicProperties.length,tt=0;tt<et;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(tt,et,nt,rt,it,st,ot){var at=[].concat(st),lt,ut=tt.length-1,ft,dt,ht=[],mt=[],xt,_t,At;for(lt=ut;lt>=0;lt-=1){if(At=this.searchProcessedElement(tt[lt]),At?et[lt]=nt[At-1]:tt[lt]._render=ot,tt[lt].ty==="fl"||tt[lt].ty==="st"||tt[lt].ty==="gf"||tt[lt].ty==="gs"||tt[lt].ty==="no")At?et[lt].style.closed=!1:et[lt]=this.createStyleElement(tt[lt],it),tt[lt]._render&&et[lt].style.pElem.parentNode!==rt&&rt.appendChild(et[lt].style.pElem),ht.push(et[lt].style);else if(tt[lt].ty==="gr"){if(!At)et[lt]=this.createGroupElement(tt[lt]);else for(dt=et[lt].it.length,ft=0;ft<dt;ft+=1)et[lt].prevViewData[ft]=et[lt].it[ft];this.searchShapes(tt[lt].it,et[lt].it,et[lt].prevViewData,et[lt].gr,it+1,at,ot),tt[lt]._render&&et[lt].gr.parentNode!==rt&&rt.appendChild(et[lt].gr)}else tt[lt].ty==="tr"?(At||(et[lt]=this.createTransformElement(tt[lt],rt)),xt=et[lt].transform,at.push(xt)):tt[lt].ty==="sh"||tt[lt].ty==="rc"||tt[lt].ty==="el"||tt[lt].ty==="sr"?(At||(et[lt]=this.createShapeElement(tt[lt],at,it)),this.setElementStyles(et[lt])):tt[lt].ty==="tm"||tt[lt].ty==="rd"||tt[lt].ty==="ms"||tt[lt].ty==="pb"||tt[lt].ty==="zz"||tt[lt].ty==="op"?(At?(_t=et[lt],_t.closed=!1):(_t=ShapeModifiers.getModifier(tt[lt].ty),_t.init(this,tt[lt]),et[lt]=_t,this.shapeModifiers.push(_t)),mt.push(_t)):tt[lt].ty==="rp"&&(At?(_t=et[lt],_t.closed=!0):(_t=ShapeModifiers.getModifier(tt[lt].ty),et[lt]=_t,_t.init(this,tt,lt,et),this.shapeModifiers.push(_t),ot=!1),mt.push(_t));this.addProcessedElement(tt[lt],lt+1)}for(ut=ht.length,lt=0;lt<ut;lt+=1)ht[lt].closed=!0;for(ut=mt.length,lt=0;lt<ut;lt+=1)mt[lt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var tt,et=this.stylesList.length;for(tt=0;tt<et;tt+=1)this.stylesList[tt].reset();for(this.renderShape(),tt=0;tt<et;tt+=1)(this.stylesList[tt]._mdf||this._isFirstFrame)&&(this.stylesList[tt].msElem&&(this.stylesList[tt].msElem.setAttribute("d",this.stylesList[tt].d),this.stylesList[tt].d="M0 0"+this.stylesList[tt].d),this.stylesList[tt].pElem.setAttribute("d",this.stylesList[tt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var tt,et=this.animatedContents.length,nt;for(tt=0;tt<et;tt+=1)nt=this.animatedContents[tt],(this._isFirstFrame||nt.element._isAnimated)&&nt.data!==!0&&nt.fn(nt.data,nt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(tt,et,nt,rt,it,st){this.o=tt,this.sw=et,this.sc=nt,this.fc=rt,this.m=it,this.p=st,this._mdf={o:!0,sw:!!et,sc:!!nt,fc:!!rt,m:!0,p:!0}}LetterProps.prototype.update=function(tt,et,nt,rt,it,st){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ot=!1;return this.o!==tt&&(this.o=tt,this._mdf.o=!0,ot=!0),this.sw!==et&&(this.sw=et,this._mdf.sw=!0,ot=!0),this.sc!==nt&&(this.sc=nt,this._mdf.sc=!0,ot=!0),this.fc!==rt&&(this.fc=rt,this._mdf.fc=!0,ot=!0),this.m!==it&&(this.m=it,this._mdf.m=!0,ot=!0),st.length&&(this.p[0]!==st[0]||this.p[1]!==st[1]||this.p[4]!==st[4]||this.p[5]!==st[5]||this.p[12]!==st[12]||this.p[13]!==st[13])&&(this.p=st,this._mdf.p=!0,ot=!0),ot};function TextProperty(tt,et){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,et.d&&et.d.sid&&(et.d=tt.globalData.slotManager.getProp(et.d)),this.data=et,this.elem=tt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(tt,et){for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(tt[nt]=et[nt]);return tt},TextProperty.prototype.setCurrentData=function(tt){tt.__complete||this.completeTextData(tt),this.currentData=tt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(tt){this.effectsSequence.push(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(tt){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!tt)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var et=this.currentData,nt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rt,it=this.effectsSequence.length,st=tt||this.data.d.k[this.keysIndex].s;for(rt=0;rt<it;rt+=1)nt!==this.keysIndex?st=this.effectsSequence[rt](st,st.t):st=this.effectsSequence[rt](this.currentData,st.t);et!==st&&this.setCurrentData(st),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var tt=this.data.d.k,et=this.elem.comp.renderedFrame,nt=0,rt=tt.length;nt<=rt-1&&!(nt===rt-1||tt[nt+1].t>et);)nt+=1;return this.keysIndex!==nt&&(this.keysIndex=nt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(tt){for(var et=[],nt=0,rt=tt.length,it,st,ot=!1;nt<rt;)it=tt.charCodeAt(nt),FontManager.isCombinedCharacter(it)?et[et.length-1]+=tt.charAt(nt):it>=55296&&it<=56319?(st=tt.charCodeAt(nt+1),st>=56320&&st<=57343?(ot||FontManager.isModifier(it,st)?(et[et.length-1]+=tt.substr(nt,2),ot=!1):et.push(tt.substr(nt,2)),nt+=1):et.push(tt.charAt(nt))):it>56319?(st=tt.charCodeAt(nt+1),FontManager.isZeroWidthJoiner(it,st)?(ot=!0,et[et.length-1]+=tt.substr(nt,2),nt+=1):et.push(tt.charAt(nt))):FontManager.isZeroWidthJoiner(it)?(et[et.length-1]+=tt.charAt(nt),ot=!0):et.push(tt.charAt(nt)),nt+=1;return et},TextProperty.prototype.completeTextData=function(tt){tt.__complete=!0;var et=this.elem.globalData.fontManager,nt=this.data,rt=[],it,st,ot,at=0,lt,ut=nt.m.g,ft=0,dt=0,ht=0,mt=[],xt=0,_t=0,At,gt,vt=et.getFontByName(tt.f),Et,yt=0,wt=getFontProperties(vt);tt.fWeight=wt.weight,tt.fStyle=wt.style,tt.finalSize=tt.s,tt.finalText=this.buildFinalText(tt.t),st=tt.finalText.length,tt.finalLineHeight=tt.lh;var Ct=tt.tr/1e3*tt.finalSize,Rt;if(tt.sz)for(var It=!0,$t=tt.sz[0],Ft=tt.sz[1],Bt,Nt;It;){Nt=this.buildFinalText(tt.t),Bt=0,xt=0,st=Nt.length,Ct=tt.tr/1e3*tt.finalSize;var Xt=-1;for(it=0;it<st;it+=1)Rt=Nt[it].charCodeAt(0),ot=!1,Nt[it]===" "?Xt=it:(Rt===13||Rt===3)&&(xt=0,ot=!0,Bt+=tt.finalLineHeight||tt.finalSize*1.2),et.chars?(Et=et.getCharData(Nt[it],vt.fStyle,vt.fFamily),yt=ot?0:Et.w*tt.finalSize/100):yt=et.measureText(Nt[it],tt.f,tt.finalSize),xt+yt>$t&&Nt[it]!==" "?(Xt===-1?st+=1:it=Xt,Bt+=tt.finalLineHeight||tt.finalSize*1.2,Nt.splice(it,Xt===it?1:0,"\r"),Xt=-1,xt=0):(xt+=yt,xt+=Ct);Bt+=vt.ascent*tt.finalSize/100,this.canResize&&tt.finalSize>this.minimumFontSize&&Ft<Bt?(tt.finalSize-=1,tt.finalLineHeight=tt.finalSize*tt.lh/tt.s):(tt.finalText=Nt,st=tt.finalText.length,It=!1)}xt=-Ct,yt=0;var nn=0,sn;for(it=0;it<st;it+=1)if(ot=!1,sn=tt.finalText[it],Rt=sn.charCodeAt(0),Rt===13||Rt===3?(nn=0,mt.push(xt),_t=xt>_t?xt:_t,xt=-2*Ct,lt="",ot=!0,ht+=1):lt=sn,et.chars?(Et=et.getCharData(sn,vt.fStyle,et.getFontByName(tt.f).fFamily),yt=ot?0:Et.w*tt.finalSize/100):yt=et.measureText(lt,tt.f,tt.finalSize),sn===" "?nn+=yt+Ct:(xt+=yt+Ct+nn,nn=0),rt.push({l:yt,an:yt,add:ft,n:ot,anIndexes:[],val:lt,line:ht,animatorJustifyOffset:0}),ut==2){if(ft+=yt,lt===""||lt===" "||it===st-1){for((lt===""||lt===" ")&&(ft-=yt);dt<=it;)rt[dt].an=ft,rt[dt].ind=at,rt[dt].extra=yt,dt+=1;at+=1,ft=0}}else if(ut==3){if(ft+=yt,lt===""||it===st-1){for(lt===""&&(ft-=yt);dt<=it;)rt[dt].an=ft,rt[dt].ind=at,rt[dt].extra=yt,dt+=1;ft=0,at+=1}}else rt[at].ind=at,rt[at].extra=0,at+=1;if(tt.l=rt,_t=xt>_t?xt:_t,mt.push(xt),tt.sz)tt.boxWidth=tt.sz[0],tt.justifyOffset=0;else switch(tt.boxWidth=_t,tt.j){case 1:tt.justifyOffset=-tt.boxWidth;break;case 2:tt.justifyOffset=-tt.boxWidth/2;break;default:tt.justifyOffset=0}tt.lineWidths=mt;var rn=nt.a,Jt,Ut;gt=rn.length;var Kt,Qt,zt=[];for(At=0;At<gt;At+=1){for(Jt=rn[At],Jt.a.sc&&(tt.strokeColorAnim=!0),Jt.a.sw&&(tt.strokeWidthAnim=!0),(Jt.a.fc||Jt.a.fh||Jt.a.fs||Jt.a.fb)&&(tt.fillColorAnim=!0),Qt=0,Kt=Jt.s.b,it=0;it<st;it+=1)Ut=rt[it],Ut.anIndexes[At]=Qt,(Kt==1&&Ut.val!==""||Kt==2&&Ut.val!==""&&Ut.val!==" "||Kt==3&&(Ut.n||Ut.val==" "||it==st-1)||Kt==4&&(Ut.n||it==st-1))&&(Jt.s.rn===1&&zt.push(Qt),Qt+=1);nt.a[At].s.totalChars=Qt;var Ht=-1,en;if(Jt.s.rn===1)for(it=0;it<st;it+=1)Ut=rt[it],Ht!=Ut.anIndexes[At]&&(Ht=Ut.anIndexes[At],en=zt.splice(Math.floor(Math.random()*zt.length),1)[0]),Ut.anIndexes[At]=en}tt.yOffset=tt.finalLineHeight||tt.finalSize*1.2,tt.ls=tt.ls||0,tt.ascent=vt.ascent*tt.finalSize/100},TextProperty.prototype.updateDocumentData=function(tt,et){et=et===void 0?this.keysIndex:et;var nt=this.copyData({},this.data.d.k[et].s);nt=this.copyData(nt,tt),this.data.d.k[et].s=nt,this.recalculate(et),this.setCurrentData(nt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(tt){var et=this.data.d.k[tt].s;et.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(et)},TextProperty.prototype.canResizeFont=function(tt){this.canResize=tt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(tt){this.minimumFontSize=Math.floor(tt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var tt=Math.max,et=Math.min,nt=Math.floor;function rt(st,ot){this._currentTextLength=-1,this.k=!1,this.data=ot,this.elem=st,this.comp=st.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(st),this.s=PropertyFactory.getProp(st,ot.s||{k:0},0,0,this),"e"in ot?this.e=PropertyFactory.getProp(st,ot.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(st,ot.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(st,ot.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(st,ot.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(st,ot.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(st,ot.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rt.prototype={getMult:function(ot){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var at=0,lt=0,ut=1,ft=1;this.ne.v>0?at=this.ne.v/100:lt=-this.ne.v/100,this.xe.v>0?ut=1-this.xe.v/100:ft=1+this.xe.v/100;var dt=BezierFactory.getBezierEasing(at,lt,ut,ft).get,ht=0,mt=this.finalS,xt=this.finalE,_t=this.data.sh;if(_t===2)xt===mt?ht=ot>=xt?1:0:ht=tt(0,et(.5/(xt-mt)+(ot-mt)/(xt-mt),1)),ht=dt(ht);else if(_t===3)xt===mt?ht=ot>=xt?0:1:ht=1-tt(0,et(.5/(xt-mt)+(ot-mt)/(xt-mt),1)),ht=dt(ht);else if(_t===4)xt===mt?ht=0:(ht=tt(0,et(.5/(xt-mt)+(ot-mt)/(xt-mt),1)),ht<.5?ht*=2:ht=1-2*(ht-.5)),ht=dt(ht);else if(_t===5){if(xt===mt)ht=0;else{var At=xt-mt;ot=et(tt(0,ot+.5-mt),xt-mt);var gt=-At/2+ot,vt=At/2;ht=Math.sqrt(1-gt*gt/(vt*vt))}ht=dt(ht)}else _t===6?(xt===mt?ht=0:(ot=et(tt(0,ot+.5-mt),xt-mt),ht=(1+Math.cos(Math.PI+Math.PI*2*ot/(xt-mt)))/2),ht=dt(ht)):(ot>=nt(mt)&&(ot-mt<0?ht=tt(0,et(et(xt,1)-(mt-ot),1)):ht=tt(0,et(xt-ot,1))),ht=dt(ht));if(this.sm.v!==100){var Et=this.sm.v*.01;Et===0&&(Et=1e-8);var yt=.5-Et*.5;ht<yt?ht=0:(ht=(ht-yt)/Et,ht>1&&(ht=1))}return ht*this.a.v},getValue:function(ot){this.iterateDynamicProperties(),this._mdf=ot||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ot&&this.data.r===2&&(this.e.v=this._currentTextLength);var at=this.data.r===2?1:100/this.data.totalChars,lt=this.o.v/at,ut=this.s.v/at+lt,ft=this.e.v/at+lt;if(ut>ft){var dt=ut;ut=ft,ft=dt}this.finalS=ut,this.finalE=ft}},extendPrototype([DynamicPropertyContainer],rt);function it(st,ot,at){return new rt(st,ot)}return{getTextSelectorProp:it}}();function TextAnimatorDataProperty(tt,et,nt){var rt={propType:!1},it=PropertyFactory.getProp,st=et.a;this.a={r:st.r?it(tt,st.r,0,degToRads,nt):rt,rx:st.rx?it(tt,st.rx,0,degToRads,nt):rt,ry:st.ry?it(tt,st.ry,0,degToRads,nt):rt,sk:st.sk?it(tt,st.sk,0,degToRads,nt):rt,sa:st.sa?it(tt,st.sa,0,degToRads,nt):rt,s:st.s?it(tt,st.s,1,.01,nt):rt,a:st.a?it(tt,st.a,1,0,nt):rt,o:st.o?it(tt,st.o,0,.01,nt):rt,p:st.p?it(tt,st.p,1,0,nt):rt,sw:st.sw?it(tt,st.sw,0,0,nt):rt,sc:st.sc?it(tt,st.sc,1,0,nt):rt,fc:st.fc?it(tt,st.fc,1,0,nt):rt,fh:st.fh?it(tt,st.fh,0,0,nt):rt,fs:st.fs?it(tt,st.fs,0,.01,nt):rt,fb:st.fb?it(tt,st.fb,0,.01,nt):rt,t:st.t?it(tt,st.t,0,0,nt):rt},this.s=TextSelectorProp.getTextSelectorProp(tt,et.s,nt),this.s.t=et.s.t}function TextAnimatorProperty(tt,et,nt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=tt,this._renderType=et,this._elem=nt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(nt)}TextAnimatorProperty.prototype.searchProperties=function(){var tt,et=this._textData.a.length,nt,rt=PropertyFactory.getProp;for(tt=0;tt<et;tt+=1)nt=this._textData.a[tt],this._animatorsData[tt]=new TextAnimatorDataProperty(this._elem,nt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rt(this._elem,this._textData.p.a,0,0,this),f:rt(this._elem,this._textData.p.f,0,0,this),l:rt(this._elem,this._textData.p.l,0,0,this),r:rt(this._elem,this._textData.p.r,0,0,this),p:rt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(tt,et){if(this.lettersChangedFlag=et,!(!this._mdf&&!this._isFirstFrame&&!et&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var nt=this._moreOptions.alignment.v,rt=this._animatorsData,it=this._textData,st=this.mHelper,ot=this._renderType,at=this.renderedLetters.length,lt,ut,ft,dt,ht=tt.l,mt,xt,_t,At,gt,vt,Et,yt,wt,Ct,Rt,It,$t,Ft,Bt;if(this._hasMaskedPath){if(Bt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Nt=Bt.v;this._pathData.r.v&&(Nt=Nt.reverse()),mt={tLength:0,segments:[]},dt=Nt._length-1;var Xt;for(It=0,ft=0;ft<dt;ft+=1)Xt=bez.buildBezierData(Nt.v[ft],Nt.v[ft+1],[Nt.o[ft][0]-Nt.v[ft][0],Nt.o[ft][1]-Nt.v[ft][1]],[Nt.i[ft+1][0]-Nt.v[ft+1][0],Nt.i[ft+1][1]-Nt.v[ft+1][1]]),mt.tLength+=Xt.segmentLength,mt.segments.push(Xt),It+=Xt.segmentLength;ft=dt,Bt.v.c&&(Xt=bez.buildBezierData(Nt.v[ft],Nt.v[0],[Nt.o[ft][0]-Nt.v[ft][0],Nt.o[ft][1]-Nt.v[ft][1]],[Nt.i[0][0]-Nt.v[0][0],Nt.i[0][1]-Nt.v[0][1]]),mt.tLength+=Xt.segmentLength,mt.segments.push(Xt),It+=Xt.segmentLength),this._pathData.pi=mt}if(mt=this._pathData.pi,xt=this._pathData.f.v,Et=0,vt=1,At=0,gt=!0,Ct=mt.segments,xt<0&&Bt.v.c)for(mt.tLength<Math.abs(xt)&&(xt=-Math.abs(xt)%mt.tLength),Et=Ct.length-1,wt=Ct[Et].points,vt=wt.length-1;xt<0;)xt+=wt[vt].partialLength,vt-=1,vt<0&&(Et-=1,wt=Ct[Et].points,vt=wt.length-1);wt=Ct[Et].points,yt=wt[vt-1],_t=wt[vt],Rt=_t.partialLength}dt=ht.length,lt=0,ut=0;var nn=tt.finalSize*1.2*.714,sn=!0,rn,Jt,Ut,Kt,Qt;Kt=rt.length;var zt,Ht=-1,en,an,on,Wt=xt,mn=Et,vn=vt,En=-1,Cn,$n,Fn,Ln,Mn,Gn,er,un,dn="",yn=this.defaultPropsArray,bn;if(tt.j===2||tt.j===1){var Tn=0,Pn=0,Yn=tt.j===2?-.5:-1,Un=0,Nn=!0;for(ft=0;ft<dt;ft+=1)if(ht[ft].n){for(Tn&&(Tn+=Pn);Un<ft;)ht[Un].animatorJustifyOffset=Tn,Un+=1;Tn=0,Nn=!0}else{for(Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.t.propType&&(Nn&&tt.j===2&&(Pn+=rn.t.v*Yn),Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),zt.length?Tn+=rn.t.v*zt[0]*Yn:Tn+=rn.t.v*zt*Yn);Nn=!1}for(Tn&&(Tn+=Pn);Un<ft;)ht[Un].animatorJustifyOffset=Tn,Un+=1}for(ft=0;ft<dt;ft+=1){if(st.reset(),Cn=1,ht[ft].n)lt=0,ut+=tt.yOffset,ut+=sn?1:0,xt=Wt,sn=!1,this._hasMaskedPath&&(Et=mn,vt=vn,wt=Ct[Et].points,yt=wt[vt-1],_t=wt[vt],Rt=_t.partialLength,At=0),dn="",un="",Gn="",bn="",yn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(En!==ht[ft].line){switch(tt.j){case 1:xt+=It-tt.lineWidths[ht[ft].line];break;case 2:xt+=(It-tt.lineWidths[ht[ft].line])/2;break}En=ht[ft].line}Ht!==ht[ft].ind&&(ht[Ht]&&(xt+=ht[Ht].extra),xt+=ht[ft].an/2,Ht=ht[ft].ind),xt+=nt[0]*ht[ft].an*.005;var rr=0;for(Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.p.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),zt.length?rr+=rn.p.v[0]*zt[0]:rr+=rn.p.v[0]*zt),rn.a.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),zt.length?rr+=rn.a.v[0]*zt[0]:rr+=rn.a.v[0]*zt);for(gt=!0,this._pathData.a.v&&(xt=ht[0].an*.5+(It-this._pathData.f.v-ht[0].an*.5-ht[ht.length-1].an*.5)*Ht/(dt-1),xt+=this._pathData.f.v);gt;)At+Rt>=xt+rr||!wt?($t=(xt+rr-At)/_t.partialLength,an=yt.point[0]+(_t.point[0]-yt.point[0])*$t,on=yt.point[1]+(_t.point[1]-yt.point[1])*$t,st.translate(-nt[0]*ht[ft].an*.005,-(nt[1]*nn)*.01),gt=!1):wt&&(At+=_t.partialLength,vt+=1,vt>=wt.length&&(vt=0,Et+=1,Ct[Et]?wt=Ct[Et].points:Bt.v.c?(vt=0,Et=0,wt=Ct[Et].points):(At-=_t.partialLength,wt=null)),wt&&(yt=_t,_t=wt[vt],Rt=_t.partialLength));en=ht[ft].an/2-ht[ft].add,st.translate(-en,0,0)}else en=ht[ft].an/2-ht[ft].add,st.translate(-en,0,0),st.translate(-nt[0]*ht[ft].an*.005,-nt[1]*nn*.01,0);for(Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.t.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),(lt!==0||tt.j!==0)&&(this._hasMaskedPath?zt.length?xt+=rn.t.v*zt[0]:xt+=rn.t.v*zt:zt.length?lt+=rn.t.v*zt[0]:lt+=rn.t.v*zt));for(tt.strokeWidthAnim&&(Fn=tt.sw||0),tt.strokeColorAnim&&(tt.sc?$n=[tt.sc[0],tt.sc[1],tt.sc[2]]:$n=[0,0,0]),tt.fillColorAnim&&tt.fc&&(Ln=[tt.fc[0],tt.fc[1],tt.fc[2]]),Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.a.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),zt.length?st.translate(-rn.a.v[0]*zt[0],-rn.a.v[1]*zt[1],rn.a.v[2]*zt[2]):st.translate(-rn.a.v[0]*zt,-rn.a.v[1]*zt,rn.a.v[2]*zt));for(Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.s.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),zt.length?st.scale(1+(rn.s.v[0]-1)*zt[0],1+(rn.s.v[1]-1)*zt[1],1):st.scale(1+(rn.s.v[0]-1)*zt,1+(rn.s.v[1]-1)*zt,1));for(Ut=0;Ut<Kt;Ut+=1){if(rn=rt[Ut].a,Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),rn.sk.propType&&(zt.length?st.skewFromAxis(-rn.sk.v*zt[0],rn.sa.v*zt[1]):st.skewFromAxis(-rn.sk.v*zt,rn.sa.v*zt)),rn.r.propType&&(zt.length?st.rotateZ(-rn.r.v*zt[2]):st.rotateZ(-rn.r.v*zt)),rn.ry.propType&&(zt.length?st.rotateY(rn.ry.v*zt[1]):st.rotateY(rn.ry.v*zt)),rn.rx.propType&&(zt.length?st.rotateX(rn.rx.v*zt[0]):st.rotateX(rn.rx.v*zt)),rn.o.propType&&(zt.length?Cn+=(rn.o.v*zt[0]-Cn)*zt[0]:Cn+=(rn.o.v*zt-Cn)*zt),tt.strokeWidthAnim&&rn.sw.propType&&(zt.length?Fn+=rn.sw.v*zt[0]:Fn+=rn.sw.v*zt),tt.strokeColorAnim&&rn.sc.propType)for(Mn=0;Mn<3;Mn+=1)zt.length?$n[Mn]+=(rn.sc.v[Mn]-$n[Mn])*zt[0]:$n[Mn]+=(rn.sc.v[Mn]-$n[Mn])*zt;if(tt.fillColorAnim&&tt.fc){if(rn.fc.propType)for(Mn=0;Mn<3;Mn+=1)zt.length?Ln[Mn]+=(rn.fc.v[Mn]-Ln[Mn])*zt[0]:Ln[Mn]+=(rn.fc.v[Mn]-Ln[Mn])*zt;rn.fh.propType&&(zt.length?Ln=addHueToRGB(Ln,rn.fh.v*zt[0]):Ln=addHueToRGB(Ln,rn.fh.v*zt)),rn.fs.propType&&(zt.length?Ln=addSaturationToRGB(Ln,rn.fs.v*zt[0]):Ln=addSaturationToRGB(Ln,rn.fs.v*zt)),rn.fb.propType&&(zt.length?Ln=addBrightnessToRGB(Ln,rn.fb.v*zt[0]):Ln=addBrightnessToRGB(Ln,rn.fb.v*zt))}}for(Ut=0;Ut<Kt;Ut+=1)rn=rt[Ut].a,rn.p.propType&&(Jt=rt[Ut].s,zt=Jt.getMult(ht[ft].anIndexes[Ut],it.a[Ut].s.totalChars),this._hasMaskedPath?zt.length?st.translate(0,rn.p.v[1]*zt[0],-rn.p.v[2]*zt[1]):st.translate(0,rn.p.v[1]*zt,-rn.p.v[2]*zt):zt.length?st.translate(rn.p.v[0]*zt[0],rn.p.v[1]*zt[1],-rn.p.v[2]*zt[2]):st.translate(rn.p.v[0]*zt,rn.p.v[1]*zt,-rn.p.v[2]*zt));if(tt.strokeWidthAnim&&(Gn=Fn<0?0:Fn),tt.strokeColorAnim&&(er="rgb("+Math.round($n[0]*255)+","+Math.round($n[1]*255)+","+Math.round($n[2]*255)+")"),tt.fillColorAnim&&tt.fc&&(un="rgb("+Math.round(Ln[0]*255)+","+Math.round(Ln[1]*255)+","+Math.round(Ln[2]*255)+")"),this._hasMaskedPath){if(st.translate(0,-tt.ls),st.translate(0,nt[1]*nn*.01+ut,0),this._pathData.p.v){Ft=(_t.point[1]-yt.point[1])/(_t.point[0]-yt.point[0]);var Kn=Math.atan(Ft)*180/Math.PI;_t.point[0]<yt.point[0]&&(Kn+=180),st.rotate(-Kn*Math.PI/180)}st.translate(an,on,0),xt-=nt[0]*ht[ft].an*.005,ht[ft+1]&&Ht!==ht[ft+1].ind&&(xt+=ht[ft].an/2,xt+=tt.tr*.001*tt.finalSize)}else{switch(st.translate(lt,ut,0),tt.ps&&st.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),tt.j){case 1:st.translate(ht[ft].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[ht[ft].line]),0,0);break;case 2:st.translate(ht[ft].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[ht[ft].line])/2,0,0);break}st.translate(0,-tt.ls),st.translate(en,0,0),st.translate(nt[0]*ht[ft].an*.005,nt[1]*nn*.01,0),lt+=ht[ft].l+tt.tr*.001*tt.finalSize}ot==="html"?dn=st.toCSS():ot==="svg"?dn=st.to2dCSS():yn=[st.props[0],st.props[1],st.props[2],st.props[3],st.props[4],st.props[5],st.props[6],st.props[7],st.props[8],st.props[9],st.props[10],st.props[11],st.props[12],st.props[13],st.props[14],st.props[15]],bn=Cn}at<=ft?(Qt=new LetterProps(bn,Gn,er,un,dn,yn),this.renderedLetters.push(Qt),at+=1,this.lettersChangedFlag=!0):(Qt=this.renderedLetters[ft],this.lettersChangedFlag=Qt.update(bn,Gn,er,un,dn,yn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(tt,et,nt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(tt,et,nt),this.textProperty=new TextProperty(this,tt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(tt.t,this.renderType,this),this.initTransform(tt,et,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(tt,et){var nt,rt=et.length,it,st="";for(nt=0;nt<rt;nt+=1)et[nt].ty==="sh"&&(it=et[nt].ks.k,st+=buildShapeString(it,it.i.length,!0,tt));return st},ITextElement.prototype.updateDocumentData=function(tt,et){this.textProperty.updateDocumentData(tt,et)},ITextElement.prototype.canResizeFont=function(tt){this.textProperty.canResizeFont(tt)},ITextElement.prototype.setMinimumFontSize=function(tt){this.textProperty.setMinimumFontSize(tt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(tt,et,nt,rt,it){switch(tt.ps&&et.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),et.translate(0,-tt.ls,0),tt.j){case 1:et.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt]),0,0);break;case 2:et.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt])/2,0,0);break}et.translate(rt,it,0)},ITextElement.prototype.buildColor=function(tt){return"rgb("+Math.round(tt[0]*255)+","+Math.round(tt[1]*255)+","+Math.round(tt[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(tt,et,nt){this.textSpans=[],this.renderType="svg",this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(tt){for(var et=0,nt=tt.length,rt=[],it="";et<nt;)tt[et]===String.fromCharCode(13)||tt[et]===String.fromCharCode(3)?(rt.push(it),it=""):it+=tt[et],et+=1;return rt.push(it),rt},SVGTextLottieElement.prototype.buildShapeData=function(tt,et){if(tt.shapes&&tt.shapes.length){var nt=tt.shapes[0];if(nt.it){var rt=nt.it[nt.it.length-1];rt.s&&(rt.s.k[0]=et,rt.s.k[1]=et)}}return tt},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var tt,et,nt=this.textProperty.currentData;this.renderedLetters=createSizedArray(nt?nt.l.length:0),nt.fc?this.layerElement.setAttribute("fill",this.buildColor(nt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),nt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(nt.sc)),this.layerElement.setAttribute("stroke-width",nt.sw)),this.layerElement.setAttribute("font-size",nt.finalSize);var rt=this.globalData.fontManager.getFontByName(nt.f);if(rt.fClass)this.layerElement.setAttribute("class",rt.fClass);else{this.layerElement.setAttribute("font-family",rt.fFamily);var it=nt.fWeight,st=nt.fStyle;this.layerElement.setAttribute("font-style",st),this.layerElement.setAttribute("font-weight",it)}this.layerElement.setAttribute("aria-label",nt.t);var ot=nt.l||[],at=!!this.globalData.fontManager.chars;et=ot.length;var lt,ut=this.mHelper,ft="",dt=this.data.singleShape,ht=0,mt=0,xt=!0,_t=nt.tr*.001*nt.finalSize;if(dt&&!at&&!nt.sz){var At=this.textContainer,gt="start";switch(nt.j){case 1:gt="end";break;case 2:gt="middle";break;default:gt="start";break}At.setAttribute("text-anchor",gt),At.setAttribute("letter-spacing",_t);var vt=this.buildTextContents(nt.finalText);for(et=vt.length,mt=nt.ps?nt.ps[1]+nt.ascent:0,tt=0;tt<et;tt+=1)lt=this.textSpans[tt].span||createNS("tspan"),lt.textContent=vt[tt],lt.setAttribute("x",0),lt.setAttribute("y",mt),lt.style.display="inherit",At.appendChild(lt),this.textSpans[tt]||(this.textSpans[tt]={span:null,glyph:null}),this.textSpans[tt].span=lt,mt+=nt.finalLineHeight;this.layerElement.appendChild(At)}else{var Et=this.textSpans.length,yt;for(tt=0;tt<et;tt+=1){if(this.textSpans[tt]||(this.textSpans[tt]={span:null,childSpan:null,glyph:null}),!at||!dt||tt===0){if(lt=Et>tt?this.textSpans[tt].span:createNS(at?"g":"text"),Et<=tt){if(lt.setAttribute("stroke-linecap","butt"),lt.setAttribute("stroke-linejoin","round"),lt.setAttribute("stroke-miterlimit","4"),this.textSpans[tt].span=lt,at){var wt=createNS("g");lt.appendChild(wt),this.textSpans[tt].childSpan=wt}this.textSpans[tt].span=lt,this.layerElement.appendChild(lt)}lt.style.display="inherit"}if(ut.reset(),dt&&(ot[tt].n&&(ht=-_t,mt+=nt.yOffset,mt+=xt?1:0,xt=!1),this.applyTextPropertiesToMatrix(nt,ut,ot[tt].line,ht,mt),ht+=ot[tt].l||0,ht+=_t),at){yt=this.globalData.fontManager.getCharData(nt.finalText[tt],rt.fStyle,this.globalData.fontManager.getFontByName(nt.f).fFamily);var Ct;if(yt.t===1)Ct=new SVGCompElement(yt.data,this.globalData,this);else{var Rt=emptyShapeData;yt.data&&yt.data.shapes&&(Rt=this.buildShapeData(yt.data,nt.finalSize)),Ct=new SVGShapeElement(Rt,this.globalData,this)}if(this.textSpans[tt].glyph){var It=this.textSpans[tt].glyph;this.textSpans[tt].childSpan.removeChild(It.layerElement),It.destroy()}this.textSpans[tt].glyph=Ct,Ct._debug=!0,Ct.prepareFrame(0),Ct.renderFrame(),this.textSpans[tt].childSpan.appendChild(Ct.layerElement),yt.t===1&&this.textSpans[tt].childSpan.setAttribute("transform","scale("+nt.finalSize/100+","+nt.finalSize/100+")")}else dt&&lt.setAttribute("transform","translate("+ut.props[12]+","+ut.props[13]+")"),lt.textContent=ot[tt].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}dt&&lt&&lt.setAttribute("d",ft)}for(;tt<this.textSpans.length;)this.textSpans[tt].span.style.display="none",tt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var tt=this.layerElement.getBBox();this.bbox={top:tt.y,left:tt.x,width:tt.width,height:tt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var tt,et=this.textSpans.length,nt;for(this.renderedFrame=this.comp.renderedFrame,tt=0;tt<et;tt+=1)nt=this.textSpans[tt].glyph,nt&&(nt.prepareFrame(this.comp.renderedFrame-this.data.st),nt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var tt,et,nt=this.textAnimator.renderedLetters,rt=this.textProperty.currentData.l;et=rt.length;var it,st,ot;for(tt=0;tt<et;tt+=1)rt[tt].n||(it=nt[tt],st=this.textSpans[tt].span,ot=this.textSpans[tt].glyph,ot&&ot.renderFrame(),it._mdf.m&&st.setAttribute("transform",it.m),it._mdf.o&&st.setAttribute("opacity",it.o),it._mdf.sw&&st.setAttribute("stroke-width",it.sw),it._mdf.sc&&st.setAttribute("stroke",it.sc),it._mdf.fc&&st.setAttribute("fill",it.fc))}};function ISolidElement(tt,et,nt){this.initElement(tt,et,nt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var tt=createNS("rect");tt.setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(tt)};function NullElement(tt,et,nt){this.initFrame(),this.initBaseData(tt,et,nt),this.initFrame(),this.initTransform(tt,et,nt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(tt){return new NullElement(tt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(tt){return new SVGShapeElement(tt,this.globalData,this)},SVGRendererBase.prototype.createText=function(tt){return new SVGTextLottieElement(tt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(tt){return new IImageElement(tt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(tt){return new ISolidElement(tt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(tt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+tt.w+" "+tt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",tt.w),this.svgElement.setAttribute("height",tt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var et=this.globalData.defs;this.setupGlobalData(tt,et),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=tt;var nt=createNS("clipPath"),rt=createNS("rect");rt.setAttribute("width",tt.w),rt.setAttribute("height",tt.h),rt.setAttribute("x",0),rt.setAttribute("y",0);var it=createElementID();nt.setAttribute("id",it),nt.appendChild(rt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),et.appendChild(nt),this.layers=tt.layers,this.elements=createSizedArray(tt.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var tt,et=this.layers?this.layers.length:0;for(tt=0;tt<et;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(tt){var et=0,nt=this.layers.length;for(et=0;et<nt;et+=1)if(this.layers[et].ind===tt)return et;return-1},SVGRendererBase.prototype.buildItem=function(tt){var et=this.elements;if(!(et[tt]||this.layers[tt].ty===99)){et[tt]=!0;var nt=this.createItem(this.layers[tt]);if(et[tt]=nt,getExpressionsPlugin()&&(this.layers[tt].ty===0&&this.globalData.projectInterface.registerComposition(nt),nt.initExpressions()),this.appendElementInPos(nt,tt),this.layers[tt].tt){var rt="tp"in this.layers[tt]?this.findIndexByInd(this.layers[tt].tp):tt-1;if(rt===-1)return;if(!this.elements[rt]||this.elements[rt]===!0)this.buildItem(rt),this.addPendingElement(nt);else{var it=et[rt],st=it.getMatte(this.layers[tt].tt);nt.setMatte(st)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();if(tt.checkParenting(),tt.data.tt)for(var et=0,nt=this.elements.length;et<nt;){if(this.elements[et]===tt){var rt="tp"in tt.data?this.findIndexByInd(tt.data.tp):et-1,it=this.elements[rt],st=it.getMatte(this.layers[et].tt);tt.setMatte(st);break}et+=1}}},SVGRendererBase.prototype.renderFrame=function(tt){if(!(this.renderedFrame===tt||this.destroyed)){tt===null?tt=this.renderedFrame:this.renderedFrame=tt,this.globalData.frameNum=tt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=tt,this.globalData._mdf=!1;var et,nt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),et=nt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(tt-this.layers[et].st);if(this.globalData._mdf)for(et=0;et<nt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(tt,et){var nt=tt.getBaseElement();if(nt){for(var rt=0,it;rt<et;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement()&&(it=this.elements[rt].getBaseElement()),rt+=1;it?this.layerElement.insertBefore(nt,it):this.layerElement.appendChild(nt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(tt,et,nt){this.initFrame(),this.initBaseData(tt,et,nt),this.initTransform(tt,et,nt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!et.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(tt){if(this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=tt/this.data.sr;else{var et=this.tm.v;et===this.data.op&&(et=this.data.op-1),this.renderedFrame=et}var nt,rt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&(this.elements[nt].prepareFrame(this.renderedFrame-this.layers[nt].st),this.elements[nt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var tt,et=this.layers.length;for(tt=0;tt<et;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},ICompElement.prototype.setElements=function(tt){this.elements=tt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var tt,et=this.layers.length;for(tt=0;tt<et;tt+=1)this.elements[tt]&&this.elements[tt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(tt,et,nt){this.layers=tt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,et,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)};function SVGRenderer(tt,et){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var nt="";if(et&&et.title){var rt=createNS("title"),it=createElementID();rt.setAttribute("id",it),rt.textContent=et.title,this.svgElement.appendChild(rt),nt+=it}if(et&&et.description){var st=createNS("desc"),ot=createElementID();st.setAttribute("id",ot),st.textContent=et.description,this.svgElement.appendChild(st),nt+=" "+ot}nt&&this.svgElement.setAttribute("aria-labelledby",nt);var at=createNS("defs");this.svgElement.appendChild(at);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",progressiveLoad:et&&et.progressiveLoad||!1,hideOnTransparent:!(et&&et.hideOnTransparent===!1),viewBoxOnly:et&&et.viewBoxOnly||!1,viewBoxSize:et&&et.viewBoxSize||!1,className:et&&et.className||"",id:et&&et.id||"",focusable:et&&et.focusable,filterSize:{width:et&&et.filterSize&&et.filterSize.width||"100%",height:et&&et.filterSize&&et.filterSize.height||"100%",x:et&&et.filterSize&&et.filterSize.x||"0%",y:et&&et.filterSize&&et.filterSize.y||"0%"},width:et&&et.width,height:et&&et.height,runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:at,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var tt,et=15;for(this.savedOp=createTypedArray("float32",et),tt=0;tt<et;tt+=1)this.saved[tt]=createTypedArray("float32",16);this._length=et}CVContextData.prototype.duplicate=function(){var tt=this._length*2,et=this.savedOp;this.savedOp=createTypedArray("float32",tt),this.savedOp.set(et);var nt=0;for(nt=this._length;nt<tt;nt+=1)this.saved[nt]=createTypedArray("float32",16);this._length=tt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var tt=this.saved[this.cArrPos],et,nt=this.cTr.props;for(et=0;et<16;et+=1)nt[et]=tt[et];return tt},CVContextData.prototype.popOpacity=function(){var tt=this.savedOp[this.cArrPos];return this.cO=tt,tt},CVContextData.prototype.pop=function(){this.cArrPos-=1;var tt=this.popTransform(),et=this.popOpacity();return{transform:tt,opacity:et}},CVContextData.prototype.push=function(){var tt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var et,nt=this.saved[this.cArrPos];for(et=0;et<16;et+=1)nt[et]=tt[et];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(tt){this.cO=tt};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(et){var nt,rt=et.length,it="_";for(nt=0;nt<rt;nt+=1)it+=et[nt].transform.key+"_";var st=this.sequences[it];return st||(st={transforms:[].concat(et),finalTransform:new Matrix,_mdf:!1},this.sequences[it]=st,this.sequenceList.push(st)),st},processSequence:function(et,nt){for(var rt=0,it=et.transforms.length,st=nt;rt<it&&!nt;){if(et.transforms[rt].transform.mProps._mdf){st=!0;break}rt+=1}if(st){var ot;for(et.finalTransform.reset(),rt=it-1;rt>=0;rt-=1)ot=et.transforms[rt].transform.mProps.v.props,et.finalTransform.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5],ot[6],ot[7],ot[8],ot[9],ot[10],ot[11],ot[12],ot[13],ot[14],ot[15])}et._mdf=st},processSequences:function(et){var nt,rt=this.sequenceList.length;for(nt=0;nt<rt;nt+=1)this.processSequence(this.sequenceList[nt],et)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var et="__lottie_element_luma_buffer",nt=null,rt=null,it=null;function st(){var lt=createNS("svg"),ut=createNS("filter"),ft=createNS("feColorMatrix");return ut.setAttribute("id",et),ft.setAttribute("type","matrix"),ft.setAttribute("color-interpolation-filters","sRGB"),ft.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ut.appendChild(ft),lt.appendChild(ut),lt.setAttribute("id",et+"_svg"),featureSupport.svgLumaHidden&&(lt.style.display="none"),lt}function ot(){nt||(it=st(),document.body.appendChild(it),nt=createTag("canvas"),rt=nt.getContext("2d"),rt.filter="url(#"+et+")",rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1))}function at(lt){return nt||ot(),nt.width=lt.width,nt.height=lt.height,rt.filter="url(#"+et+")",nt}return{load:ot,get:at}};function createCanvas(tt,et){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(tt,et);var nt=createTag("canvas");return nt.width=tt,nt.height=et,nt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}();function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(tt,et){this.data=tt,this.element=et,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var nt,rt=this.masksProperties.length,it=!1;for(nt=0;nt<rt;nt+=1)this.masksProperties[nt].mode!=="n"&&(it=!0),this.viewData[nt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[nt],3);this.hasMasks=it,it&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var tt=this.element.finalTransform.mat,et=this.element.canvasContext,nt,rt=this.masksProperties.length,it,st,ot;for(et.beginPath(),nt=0;nt<rt;nt+=1)if(this.masksProperties[nt].mode!=="n"){this.masksProperties[nt].inv&&(et.moveTo(0,0),et.lineTo(this.element.globalData.compSize.w,0),et.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),et.lineTo(0,this.element.globalData.compSize.h),et.lineTo(0,0)),ot=this.viewData[nt].v,it=tt.applyToPointArray(ot.v[0][0],ot.v[0][1],0),et.moveTo(it[0],it[1]);var at,lt=ot._length;for(at=1;at<lt;at+=1)st=tt.applyToTriplePoints(ot.o[at-1],ot.i[at],ot.v[at]),et.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5]);st=tt.applyToTriplePoints(ot.o[at-1],ot.i[0],ot.v[0]),et.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5])}this.element.globalData.renderer.save(!0),et.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var et=this.globalData.canvasContext,nt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(nt);var rt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(rt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var et=this.globalData;if(et.blendMode!==this.data.bm){et.blendMode=this.data.bm;var nt=getBlendMode(this.data.bm);et.canvasContext.globalCompositeOperation=nt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(et){et.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var et=this.buffers[0],nt=et.getContext("2d");this.clearCanvas(nt),nt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var et=this.buffers[1],nt=et.getContext("2d");this.clearCanvas(nt),nt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var it=assetLoader.getLumaCanvas(this.canvasContext.canvas),st=it.getContext("2d");st.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(it,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(et,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(et){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!et)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var nt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(nt),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(nt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(tt,et,nt,rt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var it=4;et.ty==="rc"?it=5:et.ty==="el"?it=6:et.ty==="sr"&&(it=7),this.sh=ShapePropertyFactory.getShapeProp(tt,et,it,tt);var st,ot=nt.length,at;for(st=0;st<ot;st+=1)nt[st].closed||(at={transforms:rt.addTransformSequence(nt[st].transforms),trNodes:[]},this.styledShapes.push(at),nt[st].elements.push(at))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(tt,et,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(tt,et){var nt={data:tt,type:tt.ty,preTransforms:this.transformsManager.addTransformSequence(et),transforms:[],elements:[],closed:tt.hd===!0},rt={};if(tt.ty==="fl"||tt.ty==="st"?(rt.c=PropertyFactory.getProp(this,tt.c,1,255,this),rt.c.k||(nt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")")):(tt.ty==="gf"||tt.ty==="gs")&&(rt.s=PropertyFactory.getProp(this,tt.s,1,null,this),rt.e=PropertyFactory.getProp(this,tt.e,1,null,this),rt.h=PropertyFactory.getProp(this,tt.h||{k:0},0,.01,this),rt.a=PropertyFactory.getProp(this,tt.a||{k:0},0,degToRads,this),rt.g=new GradientProperty(this,tt.g,this)),rt.o=PropertyFactory.getProp(this,tt.o,0,.01,this),tt.ty==="st"||tt.ty==="gs"){if(nt.lc=lineCapEnum[tt.lc||2],nt.lj=lineJoinEnum[tt.lj||2],tt.lj==1&&(nt.ml=tt.ml),rt.w=PropertyFactory.getProp(this,tt.w,0,null,this),rt.w.k||(nt.wi=rt.w.v),tt.d){var it=new DashProperty(this,tt.d,"canvas",this);rt.d=it,rt.d.k||(nt.da=rt.d.dashArray,nt.do=rt.d.dashoffset[0])}}else nt.r=tt.r===2?"evenodd":"nonzero";return this.stylesList.push(nt),rt.style=nt,rt},CVShapeElement.prototype.createGroupElement=function(){var tt={it:[],prevViewData:[]};return tt},CVShapeElement.prototype.createTransformElement=function(tt){var et={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,tt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,tt,this)}};return et},CVShapeElement.prototype.createShapeElement=function(tt){var et=new CVShapeData(this,tt,this.stylesList,this.transformsManager);return this.shapes.push(et),this.addShapeToModifiers(et),et},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var tt,et=this.itemsData.length;for(tt=0;tt<et;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),et=this.dynamicProperties.length,tt=0;tt<et;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(tt){var et,nt=this.stylesList.length;for(et=0;et<nt;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.push(tt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var tt,et=this.stylesList.length;for(tt=0;tt<et;tt+=1)this.stylesList[tt].closed||this.stylesList[tt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(tt){var et,nt=tt.length;for(et=0;et<nt;et+=1)tt[et].closed=!0},CVShapeElement.prototype.searchShapes=function(tt,et,nt,rt,it){var st,ot=tt.length-1,at,lt,ut=[],ft=[],dt,ht,mt,xt=[].concat(it);for(st=ot;st>=0;st-=1){if(dt=this.searchProcessedElement(tt[st]),dt?et[st]=nt[dt-1]:tt[st]._shouldRender=rt,tt[st].ty==="fl"||tt[st].ty==="st"||tt[st].ty==="gf"||tt[st].ty==="gs")dt?et[st].style.closed=!1:et[st]=this.createStyleElement(tt[st],xt),ut.push(et[st].style);else if(tt[st].ty==="gr"){if(!dt)et[st]=this.createGroupElement(tt[st]);else for(lt=et[st].it.length,at=0;at<lt;at+=1)et[st].prevViewData[at]=et[st].it[at];this.searchShapes(tt[st].it,et[st].it,et[st].prevViewData,rt,xt)}else tt[st].ty==="tr"?(dt||(mt=this.createTransformElement(tt[st]),et[st]=mt),xt.push(et[st]),this.addTransformToStyleList(et[st])):tt[st].ty==="sh"||tt[st].ty==="rc"||tt[st].ty==="el"||tt[st].ty==="sr"?dt||(et[st]=this.createShapeElement(tt[st])):tt[st].ty==="tm"||tt[st].ty==="rd"||tt[st].ty==="pb"||tt[st].ty==="zz"||tt[st].ty==="op"?(dt?(ht=et[st],ht.closed=!1):(ht=ShapeModifiers.getModifier(tt[st].ty),ht.init(this,tt[st]),et[st]=ht,this.shapeModifiers.push(ht)),ft.push(ht)):tt[st].ty==="rp"&&(dt?(ht=et[st],ht.closed=!0):(ht=ShapeModifiers.getModifier(tt[st].ty),et[st]=ht,ht.init(this,tt,st,et),this.shapeModifiers.push(ht),rt=!1),ft.push(ht));this.addProcessedElement(tt[st],st+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ut),ot=ft.length,st=0;st<ot;st+=1)ft[st].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(tt,et){(tt._opMdf||et.op._mdf||this._isFirstFrame)&&(et.opacity=tt.opacity,et.opacity*=et.op.v,et._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var tt,et=this.stylesList.length,nt,rt,it,st,ot,at,lt=this.globalData.renderer,ut=this.globalData.canvasContext,ft,dt;for(tt=0;tt<et;tt+=1)if(dt=this.stylesList[tt],ft=dt.type,!((ft==="st"||ft==="gs")&&dt.wi===0||!dt.data._shouldRender||dt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(lt.save(),ot=dt.elements,ft==="st"||ft==="gs"?(ut.strokeStyle=ft==="st"?dt.co:dt.grd,ut.lineWidth=dt.wi,ut.lineCap=dt.lc,ut.lineJoin=dt.lj,ut.miterLimit=dt.ml||0):ut.fillStyle=ft==="fl"?dt.co:dt.grd,lt.ctxOpacity(dt.coOp),ft!=="st"&&ft!=="gs"&&ut.beginPath(),lt.ctxTransform(dt.preTransforms.finalTransform.props),rt=ot.length,nt=0;nt<rt;nt+=1){for((ft==="st"||ft==="gs")&&(ut.beginPath(),dt.da&&(ut.setLineDash(dt.da),ut.lineDashOffset=dt.do)),at=ot[nt].trNodes,st=at.length,it=0;it<st;it+=1)at[it].t==="m"?ut.moveTo(at[it].p[0],at[it].p[1]):at[it].t==="c"?ut.bezierCurveTo(at[it].pts[0],at[it].pts[1],at[it].pts[2],at[it].pts[3],at[it].pts[4],at[it].pts[5]):ut.closePath();(ft==="st"||ft==="gs")&&(ut.stroke(),dt.da&&ut.setLineDash(this.dashResetter))}ft!=="st"&&ft!=="gs"&&ut.fill(dt.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(tt,et,nt,rt){var it,st=et.length-1,ot;for(ot=tt,it=st;it>=0;it-=1)et[it].ty==="tr"?(ot=nt[it].transform,this.renderShapeTransform(tt,ot)):et[it].ty==="sh"||et[it].ty==="el"||et[it].ty==="rc"||et[it].ty==="sr"?this.renderPath(et[it],nt[it]):et[it].ty==="fl"?this.renderFill(et[it],nt[it],ot):et[it].ty==="st"?this.renderStroke(et[it],nt[it],ot):et[it].ty==="gf"||et[it].ty==="gs"?this.renderGradientFill(et[it],nt[it],ot):et[it].ty==="gr"?this.renderShape(ot,et[it].it,nt[it].it):et[it].ty;rt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(tt,et){if(this._isFirstFrame||et._mdf||tt.transforms._mdf){var nt=tt.trNodes,rt=et.paths,it,st,ot,at=rt._length;nt.length=0;var lt=tt.transforms.finalTransform;for(ot=0;ot<at;ot+=1){var ut=rt.shapes[ot];if(ut&&ut.v){for(st=ut._length,it=1;it<st;it+=1)it===1&&nt.push({t:"m",p:lt.applyToPointArray(ut.v[0][0],ut.v[0][1],0)}),nt.push({t:"c",pts:lt.applyToTriplePoints(ut.o[it-1],ut.i[it],ut.v[it])});st===1&&nt.push({t:"m",p:lt.applyToPointArray(ut.v[0][0],ut.v[0][1],0)}),ut.c&&st&&(nt.push({t:"c",pts:lt.applyToTriplePoints(ut.o[it-1],ut.i[0],ut.v[0])}),nt.push({t:"z"}))}}tt.trNodes=nt}},CVShapeElement.prototype.renderPath=function(tt,et){if(tt.hd!==!0&&tt._shouldRender){var nt,rt=et.styledShapes.length;for(nt=0;nt<rt;nt+=1)this.renderStyledShape(et.styledShapes[nt],et.sh)}},CVShapeElement.prototype.renderFill=function(tt,et,nt){var rt=et.style;(et.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=et.o.v*nt.opacity)},CVShapeElement.prototype.renderGradientFill=function(tt,et,nt){var rt=et.style,it;if(!rt.grd||et.g._mdf||et.s._mdf||et.e._mdf||tt.t!==1&&(et.h._mdf||et.a._mdf)){var st=this.globalData.canvasContext,ot=et.s.v,at=et.e.v;if(tt.t===1)it=st.createLinearGradient(ot[0],ot[1],at[0],at[1]);else{var lt=Math.sqrt(Math.pow(ot[0]-at[0],2)+Math.pow(ot[1]-at[1],2)),ut=Math.atan2(at[1]-ot[1],at[0]-ot[0]),ft=et.h.v;ft>=1?ft=.99:ft<=-1&&(ft=-.99);var dt=lt*ft,ht=Math.cos(ut+et.a.v)*dt+ot[0],mt=Math.sin(ut+et.a.v)*dt+ot[1];it=st.createRadialGradient(ht,mt,0,ot[0],ot[1],lt)}var xt,_t=tt.g.p,At=et.g.c,gt=1;for(xt=0;xt<_t;xt+=1)et.g._hasOpacity&&et.g._collapsable&&(gt=et.g.o[xt*2+1]),it.addColorStop(At[xt*4]/100,"rgba("+At[xt*4+1]+","+At[xt*4+2]+","+At[xt*4+3]+","+gt+")");rt.grd=it}rt.coOp=et.o.v*nt.opacity},CVShapeElement.prototype.renderStroke=function(tt,et,nt){var rt=et.style,it=et.d;it&&(it._mdf||this._isFirstFrame)&&(rt.da=it.dashArray,rt.do=it.dashoffset[0]),(et.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=et.o.v*nt.opacity),(et.w._mdf||this._isFirstFrame)&&(rt.wi=et.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(tt,et,nt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var et=!1;tt.fc?(et=!0,this.values.fill=this.buildColor(tt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=et;var nt=!1;tt.sc&&(nt=!0,this.values.stroke=this.buildColor(tt.sc),this.values.sWidth=tt.sw);var rt=this.globalData.fontManager.getFontByName(tt.f),it,st,ot=tt.l,at=this.mHelper;this.stroke=nt,this.values.fValue=tt.finalSize+"px "+this.globalData.fontManager.getFontByName(tt.f).fFamily,st=tt.finalText.length;var lt,ut,ft,dt,ht,mt,xt,_t,At,gt,vt=this.data.singleShape,Et=tt.tr*.001*tt.finalSize,yt=0,wt=0,Ct=!0,Rt=0;for(it=0;it<st;it+=1){lt=this.globalData.fontManager.getCharData(tt.finalText[it],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily),ut=lt&&lt.data||{},at.reset(),vt&&ot[it].n&&(yt=-Et,wt+=tt.yOffset,wt+=Ct?1:0,Ct=!1),ht=ut.shapes?ut.shapes[0].it:[],xt=ht.length,at.scale(tt.finalSize/100,tt.finalSize/100),vt&&this.applyTextPropertiesToMatrix(tt,at,ot[it].line,yt,wt),At=createSizedArray(xt-1);var It=0;for(mt=0;mt<xt;mt+=1)if(ht[mt].ty==="sh"){for(dt=ht[mt].ks.k.i.length,_t=ht[mt].ks.k,gt=[],ft=1;ft<dt;ft+=1)ft===1&&gt.push(at.applyToX(_t.v[0][0],_t.v[0][1],0),at.applyToY(_t.v[0][0],_t.v[0][1],0)),gt.push(at.applyToX(_t.o[ft-1][0],_t.o[ft-1][1],0),at.applyToY(_t.o[ft-1][0],_t.o[ft-1][1],0),at.applyToX(_t.i[ft][0],_t.i[ft][1],0),at.applyToY(_t.i[ft][0],_t.i[ft][1],0),at.applyToX(_t.v[ft][0],_t.v[ft][1],0),at.applyToY(_t.v[ft][0],_t.v[ft][1],0));gt.push(at.applyToX(_t.o[ft-1][0],_t.o[ft-1][1],0),at.applyToY(_t.o[ft-1][0],_t.o[ft-1][1],0),at.applyToX(_t.i[0][0],_t.i[0][1],0),at.applyToY(_t.i[0][0],_t.i[0][1],0),at.applyToX(_t.v[0][0],_t.v[0][1],0),at.applyToY(_t.v[0][0],_t.v[0][1],0)),At[It]=gt,It+=1}vt&&(yt+=ot[it].l,yt+=Et),this.textSpans[Rt]?this.textSpans[Rt].elem=At:this.textSpans[Rt]={elem:At},Rt+=1}},CVTextElement.prototype.renderInnerContent=function(){var tt=this.canvasContext;tt.font=this.values.fValue,tt.lineCap="butt",tt.lineJoin="miter",tt.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var et,nt,rt,it,st,ot,at=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;nt=lt.length;var ut,ft=null,dt=null,ht=null,mt,xt;for(et=0;et<nt;et+=1)if(!lt[et].n){if(ut=at[et],ut&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(ut.p),this.globalData.renderer.ctxOpacity(ut.o)),this.fill){for(ut&&ut.fc?ft!==ut.fc&&(ft=ut.fc,tt.fillStyle=ut.fc):ft!==this.values.fill&&(ft=this.values.fill,tt.fillStyle=this.values.fill),mt=this.textSpans[et].elem,it=mt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<it;rt+=1)for(xt=mt[rt],ot=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),st=2;st<ot;st+=6)this.globalData.canvasContext.bezierCurveTo(xt[st],xt[st+1],xt[st+2],xt[st+3],xt[st+4],xt[st+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(ut&&ut.sw?ht!==ut.sw&&(ht=ut.sw,tt.lineWidth=ut.sw):ht!==this.values.sWidth&&(ht=this.values.sWidth,tt.lineWidth=this.values.sWidth),ut&&ut.sc?dt!==ut.sc&&(dt=ut.sc,tt.strokeStyle=ut.sc):dt!==this.values.stroke&&(dt=this.values.stroke,tt.strokeStyle=this.values.stroke),mt=this.textSpans[et].elem,it=mt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<it;rt+=1)for(xt=mt[rt],ot=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),st=2;st<ot;st+=6)this.globalData.canvasContext.bezierCurveTo(xt[st],xt[st+1],xt[st+2],xt[st+3],xt[st+4],xt[st+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}ut&&this.globalData.renderer.restore()}};function CVImageElement(tt,et,nt){this.assetData=et.getAssetData(tt.refId),this.img=et.imageLoader.getAsset(this.assetData),this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var tt=createTag("canvas");tt.width=this.assetData.w,tt.height=this.assetData.h;var et=tt.getContext("2d"),nt=this.img.width,rt=this.img.height,it=nt/rt,st=this.assetData.w/this.assetData.h,ot,at,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;it>st&&lt==="xMidYMid slice"||it<st&&lt!=="xMidYMid slice"?(at=rt,ot=at*st):(ot=nt,at=ot/st),et.drawImage(this.img,(nt-ot)/2,(rt-at)/2,ot,at,0,0,this.assetData.w,this.assetData.h),this.img=tt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(tt,et,nt){this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var tt=this.canvasContext;tt.fillStyle=this.data.sc,tt.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(tt,et){this.animationItem=tt,this.renderConfig={clearCanvas:et&&et.clearCanvas!==void 0?et.clearCanvas:!0,context:et&&et.context||null,progressiveLoad:et&&et.progressiveLoad||!1,preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",className:et&&et.className||"",id:et&&et.id||""},this.renderConfig.dpr=et&&et.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=et&&et.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(tt){return new CVShapeElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(tt){return new CVTextElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(tt){return new CVImageElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(tt){return new CVSolidElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(tt){if(!(tt[0]===1&&tt[1]===0&&tt[4]===0&&tt[5]===1&&tt[12]===0&&tt[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13]);return}this.transformMat.cloneFromProps(tt);var et=this.contextData.getTransform(),nt=et.props;this.transformMat.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],nt[7],nt[8],nt[9],nt[10],nt[11],nt[12],nt[13],nt[14],nt[15]),et.cloneFromProps(this.transformMat.props);var rt=et.props;this.canvasContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13])}},CanvasRendererBase.prototype.ctxOpacity=function(tt){var et=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=tt<0?0:tt,this.globalData.currentGlobalAlpha=et;return}et*=tt<0?0:tt,this.contextData.setOpacity(et),this.globalData.currentGlobalAlpha!==et&&(this.canvasContext.globalAlpha=et,this.globalData.currentGlobalAlpha=et)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(tt){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}tt&&this.canvasContext.save(),this.contextData.push()},CanvasRendererBase.prototype.restore=function(tt){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}tt&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var et=this.contextData.pop(),nt=et.transform,rt=et.opacity;this.canvasContext.setTransform(nt[0],nt[1],nt[4],nt[5],nt[12],nt[13]),this.globalData.currentGlobalAlpha!==rt&&(this.canvasContext.globalAlpha=rt,this.globalData.currentGlobalAlpha=rt)},CanvasRendererBase.prototype.configAnimation=function(tt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var et=this.animationItem.container.style;et.width="100%",et.height="100%";var nt="0px 0px 0px";et.transformOrigin=nt,et.mozTransformOrigin=nt,et.webkitTransformOrigin=nt,et["-webkit-transform"]=nt,et.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=tt,this.layers=tt.layers,this.transformCanvas={w:tt.w,h:tt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(tt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(tt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(tt,et){this.reset();var nt,rt;tt?(nt=tt,rt=et,this.canvasContext.canvas.width=nt,this.canvasContext.canvas.height=rt):(this.animationItem.wrapper&&this.animationItem.container?(nt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight):(nt=this.canvasContext.canvas.width,rt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=nt*this.renderConfig.dpr,this.canvasContext.canvas.height=rt*this.renderConfig.dpr);var it,st;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ot=this.renderConfig.preserveAspectRatio.split(" "),at=ot[1]||"meet",lt=ot[0]||"xMidYMid",ut=lt.substr(0,4),ft=lt.substr(4);it=nt/rt,st=this.transformCanvas.w/this.transformCanvas.h,st>it&&at==="meet"||st<it&&at==="slice"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr)),ut==="xMid"&&(st<it&&at==="meet"||st>it&&at==="slice")?this.transformCanvas.tx=(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))/2*this.renderConfig.dpr:ut==="xMax"&&(st<it&&at==="meet"||st>it&&at==="slice")?this.transformCanvas.tx=(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ft==="YMid"&&(st>it&&at==="meet"||st<it&&at==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))/2*this.renderConfig.dpr:ft==="YMax"&&(st>it&&at==="meet"||st<it&&at==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var tt,et=this.layers?this.layers.length:0;for(tt=et-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(tt,et){if(!(this.renderedFrame===tt&&this.renderConfig.clearCanvas===!0&&!et||this.destroyed||tt===-1)){this.renderedFrame=tt,this.globalData.frameNum=tt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||et,this.globalData.projectInterface.currentFrame=tt;var nt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),nt=0;nt<rt;nt+=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].prepareFrame(tt-this.layers[nt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(tt){var et=this.elements;if(!(et[tt]||this.layers[tt].ty===99)){var nt=this.createItem(this.layers[tt],this,this.globalData);et[tt]=nt,nt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();tt.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(tt,et,nt){this.completeLayers=!1,this.layers=tt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(tt,et,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var tt=this.canvasContext;tt.beginPath(),tt.moveTo(0,0),tt.lineTo(this.data.w,0),tt.lineTo(this.data.w,this.data.h),tt.lineTo(0,this.data.h),tt.lineTo(0,0),tt.clip();var et,nt=this.layers.length;for(et=nt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},CVCompElement.prototype.destroy=function(){var tt,et=this.layers.length;for(tt=et-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)};function CanvasRenderer(tt,et){this.animationItem=tt,this.renderConfig={clearCanvas:et&&et.clearCanvas!==void 0?et.clearCanvas:!0,context:et&&et.context||null,progressiveLoad:et&&et.progressiveLoad||!1,preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",className:et&&et.className||"",id:et&&et.id||"",runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.renderConfig.dpr=et&&et.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=et&&et.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var et=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var nt=this.finalTransform.mat.toCSS();et.transform=nt,et.webkitTransform=nt}this.finalTransform._opMdf&&(et.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(tt,et,nt){this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var tt;this.data.hasMask?(tt=createNS("rect"),tt.setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(tt=createTag("div"),tt.style.width=this.data.sw+"px",tt.style.height=this.data.sh+"px",tt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(tt)};function HShapeElement(tt,et,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(tt,et,nt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var tt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),tt=this.svgElement;else{tt=createNS("svg");var et=this.comp.data?this.comp.data:this.globalData.compSize;tt.setAttribute("width",et.w),tt.setAttribute("height",et.h),tt.appendChild(this.shapesContainer),this.layerElement.appendChild(tt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=tt},HShapeElement.prototype.getTransformedPoint=function(tt,et){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)et=tt[nt].mProps.v.applyToPointArray(et[0],et[1],0);return et},HShapeElement.prototype.calculateShapeBoundingBox=function(tt,et){var nt=tt.sh.v,rt=tt.transformers,it,st=nt._length,ot,at,lt,ut;if(!(st<=1)){for(it=0;it<st-1;it+=1)ot=this.getTransformedPoint(rt,nt.v[it]),at=this.getTransformedPoint(rt,nt.o[it]),lt=this.getTransformedPoint(rt,nt.i[it+1]),ut=this.getTransformedPoint(rt,nt.v[it+1]),this.checkBounds(ot,at,lt,ut,et);nt.c&&(ot=this.getTransformedPoint(rt,nt.v[it]),at=this.getTransformedPoint(rt,nt.o[it]),lt=this.getTransformedPoint(rt,nt.i[0]),ut=this.getTransformedPoint(rt,nt.v[0]),this.checkBounds(ot,at,lt,ut,et))}},HShapeElement.prototype.checkBounds=function(tt,et,nt,rt,it){this.getBoundsOfCurve(tt,et,nt,rt);var st=this.shapeBoundingBox;it.x=bmMin(st.left,it.x),it.xMax=bmMax(st.right,it.xMax),it.y=bmMin(st.top,it.y),it.yMax=bmMax(st.bottom,it.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(tt,et,nt,rt){for(var it=[[tt[0],rt[0]],[tt[1],rt[1]]],st,ot,at,lt,ut,ft,dt,ht=0;ht<2;++ht)ot=6*tt[ht]-12*et[ht]+6*nt[ht],st=-3*tt[ht]+9*et[ht]-9*nt[ht]+3*rt[ht],at=3*et[ht]-3*tt[ht],ot|=0,st|=0,at|=0,st===0&&ot===0||(st===0?(lt=-at/ot,lt>0&&lt<1&&it[ht].push(this.calculateF(lt,tt,et,nt,rt,ht))):(ut=ot*ot-4*at*st,ut>=0&&(ft=(-ot+bmSqrt(ut))/(2*st),ft>0&&ft<1&&it[ht].push(this.calculateF(ft,tt,et,nt,rt,ht)),dt=(-ot-bmSqrt(ut))/(2*st),dt>0&&dt<1&&it[ht].push(this.calculateF(dt,tt,et,nt,rt,ht)))));this.shapeBoundingBox.left=bmMin.apply(null,it[0]),this.shapeBoundingBox.top=bmMin.apply(null,it[1]),this.shapeBoundingBox.right=bmMax.apply(null,it[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,it[1])},HShapeElement.prototype.calculateF=function(tt,et,nt,rt,it,st){return bmPow(1-tt,3)*et[st]+3*bmPow(1-tt,2)*tt*nt[st]+3*(1-tt)*bmPow(tt,2)*rt[st]+bmPow(tt,3)*it[st]},HShapeElement.prototype.calculateBoundingBox=function(tt,et){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]&&tt[nt].sh?this.calculateShapeBoundingBox(tt[nt],et):tt[nt]&&tt[nt].it?this.calculateBoundingBox(tt[nt].it,et):tt[nt]&&tt[nt].style&&tt[nt].w&&this.expandStrokeBoundingBox(tt[nt].w,et)},HShapeElement.prototype.expandStrokeBoundingBox=function(tt,et){var nt=0;if(tt.keyframes){for(var rt=0;rt<tt.keyframes.length;rt+=1){var it=tt.keyframes[rt].s;it>nt&&(nt=it)}nt*=tt.mult}else nt=tt.v*tt.mult;et.x-=nt,et.xMax+=nt,et.y-=nt,et.yMax+=nt},HShapeElement.prototype.currentBoxContains=function(tt){return this.currentBBox.x<=tt.x&&this.currentBBox.y<=tt.y&&this.currentBBox.width+this.currentBBox.x>=tt.x+tt.width&&this.currentBBox.height+this.currentBBox.y>=tt.y+tt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var tt=this.tempBoundingBox,et=999999;if(tt.x=et,tt.xMax=-et,tt.y=et,tt.yMax=-et,this.calculateBoundingBox(this.itemsData,tt),tt.width=tt.xMax<tt.x?0:tt.xMax-tt.x,tt.height=tt.yMax<tt.y?0:tt.yMax-tt.y,this.currentBoxContains(tt))return;var nt=!1;if(this.currentBBox.w!==tt.width&&(this.currentBBox.w=tt.width,this.shapeCont.setAttribute("width",tt.width),nt=!0),this.currentBBox.h!==tt.height&&(this.currentBBox.h=tt.height,this.shapeCont.setAttribute("height",tt.height),nt=!0),nt||this.currentBBox.x!==tt.x||this.currentBBox.y!==tt.y){this.currentBBox.w=tt.width,this.currentBBox.h=tt.height,this.currentBBox.x=tt.x,this.currentBBox.y=tt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rt=this.shapeCont.style,it="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rt.transform=it,rt.webkitTransform=it}}};function HTextElement(tt,et,nt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var tt=createNS("g");this.maskedElement.appendChild(tt),this.innerElem=tt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var et=this.innerElem.style,nt=tt.fc?this.buildColor(tt.fc):"rgba(0,0,0,0)";et.fill=nt,et.color=nt,tt.sc&&(et.stroke=this.buildColor(tt.sc),et.strokeWidth=tt.sw+"px");var rt=this.globalData.fontManager.getFontByName(tt.f);if(!this.globalData.fontManager.chars)if(et.fontSize=tt.finalSize+"px",et.lineHeight=tt.finalSize+"px",rt.fClass)this.innerElem.className=rt.fClass;else{et.fontFamily=rt.fFamily;var it=tt.fWeight,st=tt.fStyle;et.fontStyle=st,et.fontWeight=it}var ot,at,lt=tt.l;at=lt.length;var ut,ft,dt,ht=this.mHelper,mt,xt="",_t=0;for(ot=0;ot<at;ot+=1){if(this.globalData.fontManager.chars?(this.textPaths[_t]?ut=this.textPaths[_t]:(ut=createNS("path"),ut.setAttribute("stroke-linecap",lineCapEnum[1]),ut.setAttribute("stroke-linejoin",lineJoinEnum[2]),ut.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[_t]?(ft=this.textSpans[_t],dt=ft.children[0]):(ft=createTag("div"),ft.style.lineHeight=0,dt=createNS("svg"),dt.appendChild(ut),styleDiv(ft)))):this.isMasked?ut=this.textPaths[_t]?this.textPaths[_t]:createNS("text"):this.textSpans[_t]?(ft=this.textSpans[_t],ut=this.textPaths[_t]):(ft=createTag("span"),styleDiv(ft),ut=createTag("span"),styleDiv(ut),ft.appendChild(ut)),this.globalData.fontManager.chars){var At=this.globalData.fontManager.getCharData(tt.finalText[ot],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily),gt;if(At?gt=At.data:gt=null,ht.reset(),gt&&gt.shapes&&gt.shapes.length&&(mt=gt.shapes[0].it,ht.scale(tt.finalSize/100,tt.finalSize/100),xt=this.createPathShape(ht,mt),ut.setAttribute("d",xt)),this.isMasked)this.innerElem.appendChild(ut);else{if(this.innerElem.appendChild(ft),gt&&gt.shapes){document.body.appendChild(dt);var vt=dt.getBBox();dt.setAttribute("width",vt.width+2),dt.setAttribute("height",vt.height+2),dt.setAttribute("viewBox",vt.x-1+" "+(vt.y-1)+" "+(vt.width+2)+" "+(vt.height+2));var Et=dt.style,yt="translate("+(vt.x-1)+"px,"+(vt.y-1)+"px)";Et.transform=yt,Et.webkitTransform=yt,lt[ot].yOffset=vt.y-1}else dt.setAttribute("width",1),dt.setAttribute("height",1);ft.appendChild(dt)}}else if(ut.textContent=lt[ot].val,ut.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ut);else{this.innerElem.appendChild(ft);var wt=ut.style,Ct="translate3d(0,"+-tt.finalSize/1.2+"px,0)";wt.transform=Ct,wt.webkitTransform=Ct}this.isMasked?this.textSpans[_t]=ut:this.textSpans[_t]=ft,this.textSpans[_t].style.display="block",this.textPaths[_t]=ut,_t+=1}for(;_t<this.textSpans.length;)this.textSpans[_t].style.display="none",_t+=1},HTextElement.prototype.renderInnerContent=function(){var tt;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),tt=this.svgElement.style;var et="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";tt.transform=et,tt.webkitTransform=et}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var nt,rt,it=0,st=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;rt=ot.length;var at,lt,ut;for(nt=0;nt<rt;nt+=1)ot[nt].n?it+=1:(lt=this.textSpans[nt],ut=this.textPaths[nt],at=st[it],it+=1,at._mdf.m&&(this.isMasked?lt.setAttribute("transform",at.m):(lt.style.webkitTransform=at.m,lt.style.transform=at.m)),lt.style.opacity=at.o,at.sw&&at._mdf.sw&&ut.setAttribute("stroke-width",at.sw),at.sc&&at._mdf.sc&&ut.setAttribute("stroke",at.sc),at.fc&&at._mdf.fc&&(ut.setAttribute("fill",at.fc),ut.style.color=at.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ft=this.innerElem.getBBox();this.currentBBox.w!==ft.width&&(this.currentBBox.w=ft.width,this.svgElement.setAttribute("width",ft.width)),this.currentBBox.h!==ft.height&&(this.currentBBox.h=ft.height,this.svgElement.setAttribute("height",ft.height));var dt=1;if(this.currentBBox.w!==ft.width+dt*2||this.currentBBox.h!==ft.height+dt*2||this.currentBBox.x!==ft.x-dt||this.currentBBox.y!==ft.y-dt){this.currentBBox.w=ft.width+dt*2,this.currentBBox.h=ft.height+dt*2,this.currentBBox.x=ft.x-dt,this.currentBBox.y=ft.y-dt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),tt=this.svgElement.style;var ht="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=ht,tt.webkitTransform=ht}}}};function HCameraElement(tt,et,nt){this.initFrame(),this.initBaseData(tt,et,nt),this.initHierarchy();var rt=PropertyFactory.getProp;if(this.pe=rt(this,tt.pe,0,0,this),tt.ks.p.s?(this.px=rt(this,tt.ks.p.x,1,0,this),this.py=rt(this,tt.ks.p.y,1,0,this),this.pz=rt(this,tt.ks.p.z,1,0,this)):this.p=rt(this,tt.ks.p,1,0,this),tt.ks.a&&(this.a=rt(this,tt.ks.a,1,0,this)),tt.ks.or.k.length&&tt.ks.or.k[0].to){var it,st=tt.ks.or.k.length;for(it=0;it<st;it+=1)tt.ks.or.k[it].to=null,tt.ks.or.k[it].ti=null}this.or=rt(this,tt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rt(this,tt.ks.rx,0,degToRads,this),this.ry=rt(this,tt.ks.ry,0,degToRads,this),this.rz=rt(this,tt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var tt,et=this.comp.threeDElements.length,nt,rt,it;for(tt=0;tt<et;tt+=1)if(nt=this.comp.threeDElements[tt],nt.type==="3d"){rt=nt.perspectiveElem.style,it=nt.container.style;var st=this.pe.v+"px",ot="0px 0px 0px",at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.perspective=st,rt.webkitPerspective=st,it.transformOrigin=ot,it.mozTransformOrigin=ot,it.webkitTransformOrigin=ot,rt.transform=at,rt.webkitTransform=at}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var tt=this._isFirstFrame,et,nt;if(this.hierarchy)for(nt=this.hierarchy.length,et=0;et<nt;et+=1)tt=this.hierarchy[et].finalTransform.mProp._mdf||tt;if(tt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(nt=this.hierarchy.length-1,et=nt;et>=0;et-=1){var rt=this.hierarchy[et].finalTransform.mProp;this.mat.translate(-rt.p.v[0],-rt.p.v[1],rt.p.v[2]),this.mat.rotateX(-rt.or.v[0]).rotateY(-rt.or.v[1]).rotateZ(rt.or.v[2]),this.mat.rotateX(-rt.rx.v).rotateY(-rt.ry.v).rotateZ(rt.rz.v),this.mat.scale(1/rt.s.v[0],1/rt.s.v[1],1/rt.s.v[2]),this.mat.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var it;this.p?it=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:it=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var st=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)+Math.pow(it[2],2)),ot=[it[0]/st,it[1]/st,it[2]/st],at=Math.sqrt(ot[2]*ot[2]+ot[0]*ot[0]),lt=Math.atan2(ot[1],at),ut=Math.atan2(ot[0],-ot[2]);this.mat.rotateY(ut).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ft=!this._prevMat.equals(this.mat);if((ft||this.pe._mdf)&&this.comp.threeDElements){nt=this.comp.threeDElements.length;var dt,ht,mt;for(et=0;et<nt;et+=1)if(dt=this.comp.threeDElements[et],dt.type==="3d"){if(ft){var xt=this.mat.toCSS();mt=dt.container.style,mt.transform=xt,mt.webkitTransform=xt}this.pe._mdf&&(ht=dt.perspectiveElem.style,ht.perspective=this.pe.v+"px",ht.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(tt,et,nt){this.assetData=et.getAssetData(tt.refId),this.initElement(tt,et,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData),et=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(et),et.crossOrigin="anonymous",et.src=tt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(tt,et){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();tt.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(tt,et){var nt=tt.getBaseElement();if(nt){var rt=this.layers[et];if(!rt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(nt,et);else{for(var it=0,st,ot,at;it<et;)this.elements[it]&&this.elements[it]!==!0&&this.elements[it].getBaseElement&&(ot=this.elements[it],at=this.layers[it].ddd?this.getThreeDContainerByPos(it):ot.getBaseElement(),st=at||st),it+=1;st?(!rt.ddd||!this.supports3d)&&this.layerElement.insertBefore(nt,st):(!rt.ddd||!this.supports3d)&&this.layerElement.appendChild(nt)}else this.addTo3dContainer(nt,et)}},HybridRendererBase.prototype.createShape=function(tt){return this.supports3d?new HShapeElement(tt,this.globalData,this):new SVGShapeElement(tt,this.globalData,this)},HybridRendererBase.prototype.createText=function(tt){return this.supports3d?new HTextElement(tt,this.globalData,this):new SVGTextLottieElement(tt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(tt){return this.camera=new HCameraElement(tt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(tt){return this.supports3d?new HImageElement(tt,this.globalData,this):new IImageElement(tt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(tt){return this.supports3d?new HSolidElement(tt,this.globalData,this):new ISolidElement(tt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(tt){for(var et=0,nt=this.threeDElements.length;et<nt;){if(this.threeDElements[et].startPos<=tt&&this.threeDElements[et].endPos>=tt)return this.threeDElements[et].perspectiveElem;et+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(tt,et){var nt=createTag("div"),rt,it;styleDiv(nt);var st=createTag("div");if(styleDiv(st),et==="3d"){rt=nt.style,rt.width=this.globalData.compSize.w+"px",rt.height=this.globalData.compSize.h+"px";var ot="50% 50%";rt.webkitTransformOrigin=ot,rt.mozTransformOrigin=ot,rt.transformOrigin=ot,it=st.style;var at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";it.transform=at,it.webkitTransform=at}nt.appendChild(st);var lt={container:st,perspectiveElem:nt,startPos:tt,endPos:tt,type:et};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var tt,et=this.layers.length,nt,rt="";for(tt=0;tt<et;tt+=1)this.layers[tt].ddd&&this.layers[tt].ty!==3?(rt!=="3d"&&(rt="3d",nt=this.createThreeDContainer(tt,"3d")),nt.endPos=Math.max(nt.endPos,tt)):(rt!=="2d"&&(rt="2d",nt=this.createThreeDContainer(tt,"2d")),nt.endPos=Math.max(nt.endPos,tt));for(et=this.threeDElements.length,tt=et-1;tt>=0;tt-=1)this.resizerElem.appendChild(this.threeDElements[tt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(tt,et){for(var nt=0,rt=this.threeDElements.length;nt<rt;){if(et<=this.threeDElements[nt].endPos){for(var it=this.threeDElements[nt].startPos,st;it<et;)this.elements[it]&&this.elements[it].getBaseElement&&(st=this.elements[it].getBaseElement()),it+=1;st?this.threeDElements[nt].container.insertBefore(tt,st):this.threeDElements[nt].container.appendChild(tt);break}nt+=1}},HybridRendererBase.prototype.configAnimation=function(tt){var et=createTag("div"),nt=this.animationItem.wrapper,rt=et.style;rt.width=tt.w+"px",rt.height=tt.h+"px",this.resizerElem=et,styleDiv(et),rt.transformStyle="flat",rt.mozTransformStyle="flat",rt.webkitTransformStyle="flat",this.renderConfig.className&&et.setAttribute("class",this.renderConfig.className),nt.appendChild(et),rt.overflow="hidden";var it=createNS("svg");it.setAttribute("width","1"),it.setAttribute("height","1"),styleDiv(it),this.resizerElem.appendChild(it);var st=createNS("defs");it.appendChild(st),this.data=tt,this.setupGlobalData(tt,it),this.globalData.defs=st,this.layers=tt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var tt,et=this.layers?this.layers.length:0;for(tt=0;tt<et;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var tt=this.animationItem.wrapper.offsetWidth,et=this.animationItem.wrapper.offsetHeight,nt=tt/et,rt=this.globalData.compSize.w/this.globalData.compSize.h,it,st,ot,at;rt>nt?(it=tt/this.globalData.compSize.w,st=tt/this.globalData.compSize.w,ot=0,at=(et-this.globalData.compSize.h*(tt/this.globalData.compSize.w))/2):(it=et/this.globalData.compSize.h,st=et/this.globalData.compSize.h,ot=(tt-this.globalData.compSize.w*(et/this.globalData.compSize.h))/2,at=0);var lt=this.resizerElem.style;lt.webkitTransform="matrix3d("+it+",0,0,0,0,"+st+",0,0,0,0,1,0,"+ot+","+at+",0,1)",lt.transform=lt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var tt=this.globalData.compSize.w,et=this.globalData.compSize.h,nt,rt=this.threeDElements.length;for(nt=0;nt<rt;nt+=1){var it=this.threeDElements[nt].perspectiveElem.style;it.webkitPerspective=Math.sqrt(Math.pow(tt,2)+Math.pow(et,2))+"px",it.perspective=it.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(tt){var et,nt=tt.length,rt=createTag("div");for(et=0;et<nt;et+=1)if(tt[et].xt){var it=this.createComp(tt[et],rt,this.globalData.comp,null);it.initExpressions(),this.globalData.projectInterface.registerComposition(it)}};function HCompElement(tt,et,nt){this.layers=tt.layers,this.supports3d=!tt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,et,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(tt,et){for(var nt=0,rt;nt<et;)this.elements[nt]&&this.elements[nt].getBaseElement&&(rt=this.elements[nt].getBaseElement()),nt+=1;rt?this.layerElement.insertBefore(tt,rt):this.layerElement.appendChild(tt)},HCompElement.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)};function HybridRenderer(tt,et){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"},runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)};var CompExpressionInterface=function(){return function(tt){function et(nt){for(var rt=0,it=tt.layers.length;rt<it;){if(tt.layers[rt].nm===nt||tt.layers[rt].ind===nt)return tt.elements[rt].layerInterface;rt+=1}return null}return Object.defineProperty(et,"_name",{value:tt.data.nm}),et.layer=et,et.pixelAspect=1,et.height=tt.data.h||tt.globalData.compSize.h,et.width=tt.data.w||tt.globalData.compSize.w,et.pixelAspect=1,et.frameDuration=1/tt.globalData.frameRate,et.displayStartTime=0,et.numLayers=tt.layers.length,et}}(),Expressions=function(){var tt={};tt.initExpressions=et;function et(nt){var rt=0,it=[];function st(){rt+=1}function ot(){rt-=1,rt===0&&lt()}function at(ut){it.indexOf(ut)===-1&&it.push(ut)}function lt(){var ut,ft=it.length;for(ut=0;ut<ft;ut+=1)it[ut].release();it.length=0}nt.renderer.compInterface=CompExpressionInterface(nt.renderer),nt.renderer.globalData.projectInterface.registerComposition(nt.renderer),nt.renderer.globalData.pushExpression=st,nt.renderer.globalData.popExpression=ot,nt.renderer.globalData.registerExpressionProperty=at}return tt}(),MaskManagerInterface=function(){function tt(nt,rt){this._mask=nt,this._data=rt}Object.defineProperty(tt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(tt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var et=function(rt){var it=createSizedArray(rt.viewData.length),st,ot=rt.viewData.length;for(st=0;st<ot;st+=1)it[st]=new tt(rt.viewData[st],rt.masksProperties[st]);var at=function(ut){for(st=0;st<ot;){if(rt.masksProperties[st].nm===ut)return it[st];st+=1}return null};return at};return et}(),ExpressionPropertyInterface=function(){var tt={pv:0,v:0,mult:1},et={pv:[0,0,0],v:[0,0,0],mult:1};function nt(ot,at,lt){Object.defineProperty(ot,"velocity",{get:function(){return at.getVelocityAtTime(at.comp.currentFrame)}}),ot.numKeys=at.keyframes?at.keyframes.length:0,ot.key=function(ut){if(!ot.numKeys)return 0;var ft="";"s"in at.keyframes[ut-1]?ft=at.keyframes[ut-1].s:"e"in at.keyframes[ut-2]?ft=at.keyframes[ut-2].e:ft=at.keyframes[ut-2].s;var dt=lt==="unidimensional"?new Number(ft):Object.assign({},ft);return dt.time=at.keyframes[ut-1].t/at.elem.comp.globalData.frameRate,dt.value=lt==="unidimensional"?ft[0]:ft,dt},ot.valueAtTime=at.getValueAtTime,ot.speedAtTime=at.getSpeedAtTime,ot.velocityAtTime=at.getVelocityAtTime,ot.propertyGroup=at.propertyGroup}function rt(ot){(!ot||!("pv"in ot))&&(ot=tt);var at=1/ot.mult,lt=ot.pv*at,ut=new Number(lt);return ut.value=lt,nt(ut,ot,"unidimensional"),function(){return ot.k&&ot.getValue(),lt=ot.v*at,ut.value!==lt&&(ut=new Number(lt),ut.value=lt,nt(ut,ot,"unidimensional")),ut}}function it(ot){(!ot||!("pv"in ot))&&(ot=et);var at=1/ot.mult,lt=ot.data&&ot.data.l||ot.pv.length,ut=createTypedArray("float32",lt),ft=createTypedArray("float32",lt);return ut.value=ft,nt(ut,ot,"multidimensional"),function(){ot.k&&ot.getValue();for(var dt=0;dt<lt;dt+=1)ft[dt]=ot.v[dt]*at,ut[dt]=ft[dt];return ut}}function st(){return tt}return function(ot){return ot?ot.propType==="unidimensional"?rt(ot):it(ot):st}}(),TransformExpressionInterface=function(){return function(tt){function et(ot){switch(ot){case"scale":case"Scale":case"ADBE Scale":case 6:return et.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return et.rotation;case"ADBE Rotate X":return et.xRotation;case"ADBE Rotate Y":return et.yRotation;case"position":case"Position":case"ADBE Position":case 2:return et.position;case"ADBE Position_0":return et.xPosition;case"ADBE Position_1":return et.yPosition;case"ADBE Position_2":return et.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return et.anchorPoint;case"opacity":case"Opacity":case 11:return et.opacity;default:return null}}Object.defineProperty(et,"rotation",{get:ExpressionPropertyInterface(tt.r||tt.rz)}),Object.defineProperty(et,"zRotation",{get:ExpressionPropertyInterface(tt.rz||tt.r)}),Object.defineProperty(et,"xRotation",{get:ExpressionPropertyInterface(tt.rx)}),Object.defineProperty(et,"yRotation",{get:ExpressionPropertyInterface(tt.ry)}),Object.defineProperty(et,"scale",{get:ExpressionPropertyInterface(tt.s)});var nt,rt,it,st;return tt.p?st=ExpressionPropertyInterface(tt.p):(nt=ExpressionPropertyInterface(tt.px),rt=ExpressionPropertyInterface(tt.py),tt.pz&&(it=ExpressionPropertyInterface(tt.pz))),Object.defineProperty(et,"position",{get:function(){return tt.p?st():[nt(),rt(),it?it():0]}}),Object.defineProperty(et,"xPosition",{get:ExpressionPropertyInterface(tt.px)}),Object.defineProperty(et,"yPosition",{get:ExpressionPropertyInterface(tt.py)}),Object.defineProperty(et,"zPosition",{get:ExpressionPropertyInterface(tt.pz)}),Object.defineProperty(et,"anchorPoint",{get:ExpressionPropertyInterface(tt.a)}),Object.defineProperty(et,"opacity",{get:ExpressionPropertyInterface(tt.o)}),Object.defineProperty(et,"skew",{get:ExpressionPropertyInterface(tt.sk)}),Object.defineProperty(et,"skewAxis",{get:ExpressionPropertyInterface(tt.sa)}),Object.defineProperty(et,"orientation",{get:ExpressionPropertyInterface(tt.or)}),et}}(),LayerExpressionInterface=function(){function tt(ut){var ft=new Matrix;if(ut!==void 0){var dt=this._elem.finalTransform.mProp.getValueAtTime(ut);dt.clone(ft)}else{var ht=this._elem.finalTransform.mProp;ht.applyToMatrix(ft)}return ft}function et(ut,ft){var dt=this.getMatrix(ft);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.applyPoint(dt,ut)}function nt(ut,ft){var dt=this.getMatrix(ft);return this.applyPoint(dt,ut)}function rt(ut,ft){var dt=this.getMatrix(ft);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.invertPoint(dt,ut)}function it(ut,ft){var dt=this.getMatrix(ft);return this.invertPoint(dt,ut)}function st(ut,ft){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ut)}return ut.applyToPointArray(ft[0],ft[1],ft[2]||0)}function ot(ut,ft){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ut)}return ut.inversePoint(ft)}function at(ut){var ft=new Matrix;if(ft.reset(),this._elem.finalTransform.mProp.applyToMatrix(ft),this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ft);return ft.inversePoint(ut)}return ft.inversePoint(ut)}function lt(){return[1,1,1,1]}return function(ut){var ft;function dt(_t){mt.mask=new MaskManagerInterface(_t,ut)}function ht(_t){mt.effect=_t}function mt(_t){switch(_t){case"ADBE Root Vectors Group":case"Contents":case 2:return mt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ft;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return mt.effect;case"ADBE Text Properties":return mt.textInterface;default:return null}}mt.getMatrix=tt,mt.invertPoint=ot,mt.applyPoint=st,mt.toWorld=nt,mt.toWorldVec=et,mt.fromWorld=it,mt.fromWorldVec=rt,mt.toComp=nt,mt.fromComp=at,mt.sampleImage=lt,mt.sourceRectAtTime=ut.sourceRectAtTime.bind(ut),mt._elem=ut,ft=TransformExpressionInterface(ut.finalTransform.mProp);var xt=getDescriptor(ft,"anchorPoint");return Object.defineProperties(mt,{hasParent:{get:function(){return ut.hierarchy.length}},parent:{get:function(){return ut.hierarchy[0].layerInterface}},rotation:getDescriptor(ft,"rotation"),scale:getDescriptor(ft,"scale"),position:getDescriptor(ft,"position"),opacity:getDescriptor(ft,"opacity"),anchorPoint:xt,anchor_point:xt,transform:{get:function(){return ft}},active:{get:function(){return ut.isInRange}}}),mt.startTime=ut.data.st,mt.index=ut.data.ind,mt.source=ut.data.refId,mt.height=ut.data.ty===0?ut.data.h:100,mt.width=ut.data.ty===0?ut.data.w:100,mt.inPoint=ut.data.ip/ut.comp.globalData.frameRate,mt.outPoint=ut.data.op/ut.comp.globalData.frameRate,mt._name=ut.data.nm,mt.registerMaskInterface=dt,mt.registerEffectsInterface=ht,mt}}(),propertyGroupFactory=function(){return function(tt,et){return function(nt){return nt=nt===void 0?1:nt,nt<=0?tt:et(nt-1)}}}(),PropertyInterface=function(){return function(tt,et){var nt={_name:tt};function rt(it){return it=it===void 0?1:it,it<=0?nt:et(it-1)}return rt}}(),EffectsExpressionInterface=function(){var tt={createEffectsInterface:et};function et(it,st){if(it.effectsManager){var ot=[],at=it.data.ef,lt,ut=it.effectsManager.effectElements.length;for(lt=0;lt<ut;lt+=1)ot.push(nt(at[lt],it.effectsManager.effectElements[lt],st,it));var ft=it.data.ef||[],dt=function(mt){for(lt=0,ut=ft.length;lt<ut;){if(mt===ft[lt].nm||mt===ft[lt].mn||mt===ft[lt].ix)return ot[lt];lt+=1}return null};return Object.defineProperty(dt,"numProperties",{get:function(){return ft.length}}),dt}return null}function nt(it,st,ot,at){function lt(mt){for(var xt=it.ef,_t=0,At=xt.length;_t<At;){if(mt===xt[_t].nm||mt===xt[_t].mn||mt===xt[_t].ix)return xt[_t].ty===5?ft[_t]:ft[_t]();_t+=1}throw new Error}var ut=propertyGroupFactory(lt,ot),ft=[],dt,ht=it.ef.length;for(dt=0;dt<ht;dt+=1)it.ef[dt].ty===5?ft.push(nt(it.ef[dt],st.effectElements[dt],st.effectElements[dt].propertyGroup,at)):ft.push(rt(st.effectElements[dt],it.ef[dt].ty,at,ut));return it.mn==="ADBE Color Control"&&Object.defineProperty(lt,"color",{get:function(){return ft[0]()}}),Object.defineProperties(lt,{numProperties:{get:function(){return it.np}},_name:{value:it.nm},propertyGroup:{value:ut}}),lt.enabled=it.en!==0,lt.active=lt.enabled,lt}function rt(it,st,ot,at){var lt=ExpressionPropertyInterface(it.p);function ut(){return st===10?ot.comp.compInterface(it.p.v):lt()}return it.p.setGroupProperty&&it.p.setGroupProperty(PropertyInterface("",at)),ut}return tt}(),ShapePathInterface=function(){return function(et,nt,rt){var it=nt.sh;function st(at){return at==="Shape"||at==="shape"||at==="Path"||at==="path"||at==="ADBE Vector Shape"||at===2?st.path:null}var ot=propertyGroupFactory(st,rt);return it.setGroupProperty(PropertyInterface("Path",ot)),Object.defineProperties(st,{path:{get:function(){return it.k&&it.getValue(),it}},shape:{get:function(){return it.k&&it.getValue(),it}},_name:{value:et.nm},ix:{value:et.ix},propertyIndex:{value:et.ix},mn:{value:et.mn},propertyGroup:{value:rt}}),st}}(),ShapeExpressionInterface=function(){function tt(xt,_t,At){var gt=[],vt,Et=xt?xt.length:0;for(vt=0;vt<Et;vt+=1)xt[vt].ty==="gr"?gt.push(nt(xt[vt],_t[vt],At)):xt[vt].ty==="fl"?gt.push(rt(xt[vt],_t[vt],At)):xt[vt].ty==="st"?gt.push(ot(xt[vt],_t[vt],At)):xt[vt].ty==="tm"?gt.push(at(xt[vt],_t[vt],At)):xt[vt].ty==="tr"||(xt[vt].ty==="el"?gt.push(ut(xt[vt],_t[vt],At)):xt[vt].ty==="sr"?gt.push(ft(xt[vt],_t[vt],At)):xt[vt].ty==="sh"?gt.push(ShapePathInterface(xt[vt],_t[vt],At)):xt[vt].ty==="rc"?gt.push(dt(xt[vt],_t[vt],At)):xt[vt].ty==="rd"?gt.push(ht(xt[vt],_t[vt],At)):xt[vt].ty==="rp"?gt.push(mt(xt[vt],_t[vt],At)):xt[vt].ty==="gf"?gt.push(it(xt[vt],_t[vt],At)):gt.push(st(xt[vt],_t[vt])));return gt}function et(xt,_t,At){var gt,vt=function(wt){for(var Ct=0,Rt=gt.length;Ct<Rt;){if(gt[Ct]._name===wt||gt[Ct].mn===wt||gt[Ct].propertyIndex===wt||gt[Ct].ix===wt||gt[Ct].ind===wt)return gt[Ct];Ct+=1}return typeof wt=="number"?gt[wt-1]:null};vt.propertyGroup=propertyGroupFactory(vt,At),gt=tt(xt.it,_t.it,vt.propertyGroup),vt.numProperties=gt.length;var Et=lt(xt.it[xt.it.length-1],_t.it[_t.it.length-1],vt.propertyGroup);return vt.transform=Et,vt.propertyIndex=xt.cix,vt._name=xt.nm,vt}function nt(xt,_t,At){var gt=function(wt){switch(wt){case"ADBE Vectors Group":case"Contents":case 2:return gt.content;default:return gt.transform}};gt.propertyGroup=propertyGroupFactory(gt,At);var vt=et(xt,_t,gt.propertyGroup),Et=lt(xt.it[xt.it.length-1],_t.it[_t.it.length-1],gt.propertyGroup);return gt.content=vt,gt.transform=Et,Object.defineProperty(gt,"_name",{get:function(){return xt.nm}}),gt.numProperties=xt.np,gt.propertyIndex=xt.ix,gt.nm=xt.nm,gt.mn=xt.mn,gt}function rt(xt,_t,At){function gt(vt){return vt==="Color"||vt==="color"?gt.color:vt==="Opacity"||vt==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{color:{get:ExpressionPropertyInterface(_t.c)},opacity:{get:ExpressionPropertyInterface(_t.o)},_name:{value:xt.nm},mn:{value:xt.mn}}),_t.c.setGroupProperty(PropertyInterface("Color",At)),_t.o.setGroupProperty(PropertyInterface("Opacity",At)),gt}function it(xt,_t,At){function gt(vt){return vt==="Start Point"||vt==="start point"?gt.startPoint:vt==="End Point"||vt==="end point"?gt.endPoint:vt==="Opacity"||vt==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{startPoint:{get:ExpressionPropertyInterface(_t.s)},endPoint:{get:ExpressionPropertyInterface(_t.e)},opacity:{get:ExpressionPropertyInterface(_t.o)},type:{get:function(){return"a"}},_name:{value:xt.nm},mn:{value:xt.mn}}),_t.s.setGroupProperty(PropertyInterface("Start Point",At)),_t.e.setGroupProperty(PropertyInterface("End Point",At)),_t.o.setGroupProperty(PropertyInterface("Opacity",At)),gt}function st(){function xt(){return null}return xt}function ot(xt,_t,At){var gt=propertyGroupFactory(Rt,At),vt=propertyGroupFactory(Ct,gt);function Et(It){Object.defineProperty(Ct,xt.d[It].nm,{get:ExpressionPropertyInterface(_t.d.dataProps[It].p)})}var yt,wt=xt.d?xt.d.length:0,Ct={};for(yt=0;yt<wt;yt+=1)Et(yt),_t.d.dataProps[yt].p.setGroupProperty(vt);function Rt(It){return It==="Color"||It==="color"?Rt.color:It==="Opacity"||It==="opacity"?Rt.opacity:It==="Stroke Width"||It==="stroke width"?Rt.strokeWidth:null}return Object.defineProperties(Rt,{color:{get:ExpressionPropertyInterface(_t.c)},opacity:{get:ExpressionPropertyInterface(_t.o)},strokeWidth:{get:ExpressionPropertyInterface(_t.w)},dash:{get:function(){return Ct}},_name:{value:xt.nm},mn:{value:xt.mn}}),_t.c.setGroupProperty(PropertyInterface("Color",gt)),_t.o.setGroupProperty(PropertyInterface("Opacity",gt)),_t.w.setGroupProperty(PropertyInterface("Stroke Width",gt)),Rt}function at(xt,_t,At){function gt(Et){return Et===xt.e.ix||Et==="End"||Et==="end"?gt.end:Et===xt.s.ix?gt.start:Et===xt.o.ix?gt.offset:null}var vt=propertyGroupFactory(gt,At);return gt.propertyIndex=xt.ix,_t.s.setGroupProperty(PropertyInterface("Start",vt)),_t.e.setGroupProperty(PropertyInterface("End",vt)),_t.o.setGroupProperty(PropertyInterface("Offset",vt)),gt.propertyIndex=xt.ix,gt.propertyGroup=At,Object.defineProperties(gt,{start:{get:ExpressionPropertyInterface(_t.s)},end:{get:ExpressionPropertyInterface(_t.e)},offset:{get:ExpressionPropertyInterface(_t.o)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function lt(xt,_t,At){function gt(Et){return xt.a.ix===Et||Et==="Anchor Point"?gt.anchorPoint:xt.o.ix===Et||Et==="Opacity"?gt.opacity:xt.p.ix===Et||Et==="Position"?gt.position:xt.r.ix===Et||Et==="Rotation"||Et==="ADBE Vector Rotation"?gt.rotation:xt.s.ix===Et||Et==="Scale"?gt.scale:xt.sk&&xt.sk.ix===Et||Et==="Skew"?gt.skew:xt.sa&&xt.sa.ix===Et||Et==="Skew Axis"?gt.skewAxis:null}var vt=propertyGroupFactory(gt,At);return _t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",vt)),_t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",vt)),_t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",vt)),_t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",vt)),_t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",vt)),_t.transform.mProps.sk&&(_t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",vt)),_t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",vt))),_t.transform.op.setGroupProperty(PropertyInterface("Opacity",vt)),Object.defineProperties(gt,{opacity:{get:ExpressionPropertyInterface(_t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(_t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(_t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(_t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(_t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(_t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(_t.transform.mProps.sa)},_name:{value:xt.nm}}),gt.ty="tr",gt.mn=xt.mn,gt.propertyGroup=At,gt}function ut(xt,_t,At){function gt(yt){return xt.p.ix===yt?gt.position:xt.s.ix===yt?gt.size:null}var vt=propertyGroupFactory(gt,At);gt.propertyIndex=xt.ix;var Et=_t.sh.ty==="tm"?_t.sh.prop:_t.sh;return Et.s.setGroupProperty(PropertyInterface("Size",vt)),Et.p.setGroupProperty(PropertyInterface("Position",vt)),Object.defineProperties(gt,{size:{get:ExpressionPropertyInterface(Et.s)},position:{get:ExpressionPropertyInterface(Et.p)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function ft(xt,_t,At){function gt(yt){return xt.p.ix===yt?gt.position:xt.r.ix===yt?gt.rotation:xt.pt.ix===yt?gt.points:xt.or.ix===yt||yt==="ADBE Vector Star Outer Radius"?gt.outerRadius:xt.os.ix===yt?gt.outerRoundness:xt.ir&&(xt.ir.ix===yt||yt==="ADBE Vector Star Inner Radius")?gt.innerRadius:xt.is&&xt.is.ix===yt?gt.innerRoundness:null}var vt=propertyGroupFactory(gt,At),Et=_t.sh.ty==="tm"?_t.sh.prop:_t.sh;return gt.propertyIndex=xt.ix,Et.or.setGroupProperty(PropertyInterface("Outer Radius",vt)),Et.os.setGroupProperty(PropertyInterface("Outer Roundness",vt)),Et.pt.setGroupProperty(PropertyInterface("Points",vt)),Et.p.setGroupProperty(PropertyInterface("Position",vt)),Et.r.setGroupProperty(PropertyInterface("Rotation",vt)),xt.ir&&(Et.ir.setGroupProperty(PropertyInterface("Inner Radius",vt)),Et.is.setGroupProperty(PropertyInterface("Inner Roundness",vt))),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(Et.p)},rotation:{get:ExpressionPropertyInterface(Et.r)},points:{get:ExpressionPropertyInterface(Et.pt)},outerRadius:{get:ExpressionPropertyInterface(Et.or)},outerRoundness:{get:ExpressionPropertyInterface(Et.os)},innerRadius:{get:ExpressionPropertyInterface(Et.ir)},innerRoundness:{get:ExpressionPropertyInterface(Et.is)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function dt(xt,_t,At){function gt(yt){return xt.p.ix===yt?gt.position:xt.r.ix===yt?gt.roundness:xt.s.ix===yt||yt==="Size"||yt==="ADBE Vector Rect Size"?gt.size:null}var vt=propertyGroupFactory(gt,At),Et=_t.sh.ty==="tm"?_t.sh.prop:_t.sh;return gt.propertyIndex=xt.ix,Et.p.setGroupProperty(PropertyInterface("Position",vt)),Et.s.setGroupProperty(PropertyInterface("Size",vt)),Et.r.setGroupProperty(PropertyInterface("Rotation",vt)),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(Et.p)},roundness:{get:ExpressionPropertyInterface(Et.r)},size:{get:ExpressionPropertyInterface(Et.s)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function ht(xt,_t,At){function gt(yt){return xt.r.ix===yt||yt==="Round Corners 1"?gt.radius:null}var vt=propertyGroupFactory(gt,At),Et=_t;return gt.propertyIndex=xt.ix,Et.rd.setGroupProperty(PropertyInterface("Radius",vt)),Object.defineProperties(gt,{radius:{get:ExpressionPropertyInterface(Et.rd)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function mt(xt,_t,At){function gt(yt){return xt.c.ix===yt||yt==="Copies"?gt.copies:xt.o.ix===yt||yt==="Offset"?gt.offset:null}var vt=propertyGroupFactory(gt,At),Et=_t;return gt.propertyIndex=xt.ix,Et.c.setGroupProperty(PropertyInterface("Copies",vt)),Et.o.setGroupProperty(PropertyInterface("Offset",vt)),Object.defineProperties(gt,{copies:{get:ExpressionPropertyInterface(Et.c)},offset:{get:ExpressionPropertyInterface(Et.o)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}return function(xt,_t,At){var gt;function vt(yt){if(typeof yt=="number")return yt=yt===void 0?1:yt,yt===0?At:gt[yt-1];for(var wt=0,Ct=gt.length;wt<Ct;){if(gt[wt]._name===yt)return gt[wt];wt+=1}return null}function Et(){return At}return vt.propertyGroup=propertyGroupFactory(vt,Et),gt=tt(xt,_t,vt.propertyGroup),vt.numProperties=gt.length,vt._name="Contents",vt}}(),TextExpressionInterface=function(){return function(tt){var et;function nt(rt){switch(rt){case"ADBE Text Document":return nt.sourceText;default:return null}}return Object.defineProperty(nt,"sourceText",{get:function(){tt.textProperty.getValue();var it=tt.textProperty.currentData.t;return(!et||it!==et.value)&&(et=new String(it),et.value=it||new String(it),Object.defineProperty(et,"style",{get:function(){return{fillColor:tt.textProperty.currentData.fc}}})),et}}),nt}}();function _typeof$2(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(nt){return typeof nt}:_typeof$2=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$2(tt)}var FootageInterface=function(){var tt=function(rt){var it="",st=rt.getFootageData();function ot(){return it="",st=rt.getFootageData(),at}function at(lt){if(st[lt])return it=lt,st=st[lt],_typeof$2(st)==="object"?at:st;var ut=lt.indexOf(it);if(ut!==-1){var ft=parseInt(lt.substr(ut+it.length),10);return st=st[ft],_typeof$2(st)==="object"?at:st}return""}return ot},et=function(rt){function it(st){return st==="Outline"?it.outlineInterface():null}return it._name="Outline",it.outlineInterface=tt(rt),it};return function(nt){function rt(it){return it==="Data"?rt.dataInterface:null}return rt._name="Data",rt.dataInterface=et(nt),rt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(tt){return interfaces[tt]||null}function _typeof$1(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(nt){return typeof nt}:_typeof$1=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$1(tt)}function seedRandom(tt,et){var nt=this,rt=256,it=6,st=52,ot="random",at=et.pow(rt,it),lt=et.pow(2,st),ut=lt*2,ft=rt-1,dt;function ht(Et,yt,wt){var Ct=[];yt=yt===!0?{entropy:!0}:yt||{};var Rt=At(_t(yt.entropy?[Et,vt(tt)]:Et===null?gt():Et,3),Ct),It=new mt(Ct),$t=function(){for(var Bt=It.g(it),Nt=at,Xt=0;Bt<lt;)Bt=(Bt+Xt)*rt,Nt*=rt,Xt=It.g(1);for(;Bt>=ut;)Bt/=2,Nt/=2,Xt>>>=1;return(Bt+Xt)/Nt};return $t.int32=function(){return It.g(4)|0},$t.quick=function(){return It.g(4)/4294967296},$t.double=$t,At(vt(It.S),tt),(yt.pass||wt||function(Ft,Bt,Nt,Xt){return Xt&&(Xt.S&&xt(Xt,It),Ft.state=function(){return xt(It,{})}),Nt?(et[ot]=Ft,Bt):Ft})($t,Rt,"global"in yt?yt.global:this==et,yt.state)}et["seed"+ot]=ht;function mt(Et){var yt,wt=Et.length,Ct=this,Rt=0,It=Ct.i=Ct.j=0,$t=Ct.S=[];for(wt||(Et=[wt++]);Rt<rt;)$t[Rt]=Rt++;for(Rt=0;Rt<rt;Rt++)$t[Rt]=$t[It=ft&It+Et[Rt%wt]+(yt=$t[Rt])],$t[It]=yt;Ct.g=function(Ft){for(var Bt,Nt=0,Xt=Ct.i,nn=Ct.j,sn=Ct.S;Ft--;)Bt=sn[Xt=ft&Xt+1],Nt=Nt*rt+sn[ft&(sn[Xt]=sn[nn=ft&nn+Bt])+(sn[nn]=Bt)];return Ct.i=Xt,Ct.j=nn,Nt}}function xt(Et,yt){return yt.i=Et.i,yt.j=Et.j,yt.S=Et.S.slice(),yt}function _t(Et,yt){var wt=[],Ct=_typeof$1(Et),Rt;if(yt&&Ct=="object")for(Rt in Et)try{wt.push(_t(Et[Rt],yt-1))}catch{}return wt.length?wt:Ct=="string"?Et:Et+"\0"}function At(Et,yt){for(var wt=Et+"",Ct,Rt=0;Rt<wt.length;)yt[ft&Rt]=ft&(Ct^=yt[ft&Rt]*19)+wt.charCodeAt(Rt++);return vt(yt)}function gt(){try{var Et=new Uint8Array(rt);return(nt.crypto||nt.msCrypto).getRandomValues(Et),vt(Et)}catch{var yt=nt.navigator,wt=yt&&yt.plugins;return[+new Date,nt,wt,nt.screen,vt(tt)]}}function vt(Et){return String.fromCharCode.apply(0,Et)}At(et.random(),tt)}function initialize$2(tt){seedRandom([],tt)}var propTypes={SHAPE:"shape"};function _typeof(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(nt){return typeof nt}:_typeof=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof(tt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(tt){return tt.constructor===Array||tt.constructor===Float32Array}function isNumerable(tt,et){return tt==="number"||tt==="boolean"||tt==="string"||et instanceof Number}function $bm_neg(tt){var et=_typeof(tt);if(et==="number"||et==="boolean"||tt instanceof Number)return-tt;if($bm_isInstanceOfArray(tt)){var nt,rt=tt.length,it=[];for(nt=0;nt<rt;nt+=1)it[nt]=-tt[nt];return it}return tt.propType?tt.v:-tt}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(tt,et){var nt=_typeof(tt),rt=_typeof(et);if(nt==="string"||rt==="string"||isNumerable(nt,tt)&&isNumerable(rt,et))return tt+et;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,et))return tt=tt.slice(0),tt[0]+=et,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=tt+et[0],et;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(et)){for(var it=0,st=tt.length,ot=et.length,at=[];it<st||it<ot;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof et[it]=="number"||et[it]instanceof Number)?at[it]=tt[it]+et[it]:at[it]=et[it]===void 0?tt[it]:tt[it]||et[it],it+=1;return at}return 0}var add=sum;function sub(tt,et){var nt=_typeof(tt),rt=_typeof(et);if(isNumerable(nt,tt)&&isNumerable(rt,et))return nt==="string"&&(tt=parseInt(tt,10)),rt==="string"&&(et=parseInt(et,10)),tt-et;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,et))return tt=tt.slice(0),tt[0]-=et,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=tt-et[0],et;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(et)){for(var it=0,st=tt.length,ot=et.length,at=[];it<st||it<ot;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof et[it]=="number"||et[it]instanceof Number)?at[it]=tt[it]-et[it]:at[it]=et[it]===void 0?tt[it]:tt[it]||et[it],it+=1;return at}return 0}function mul(tt,et){var nt=_typeof(tt),rt=_typeof(et),it;if(isNumerable(nt,tt)&&isNumerable(rt,et))return tt*et;var st,ot;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,et)){for(ot=tt.length,it=createTypedArray("float32",ot),st=0;st<ot;st+=1)it[st]=tt[st]*et;return it}if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(et)){for(ot=et.length,it=createTypedArray("float32",ot),st=0;st<ot;st+=1)it[st]=tt*et[st];return it}return 0}function div(tt,et){var nt=_typeof(tt),rt=_typeof(et),it;if(isNumerable(nt,tt)&&isNumerable(rt,et))return tt/et;var st,ot;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,et)){for(ot=tt.length,it=createTypedArray("float32",ot),st=0;st<ot;st+=1)it[st]=tt[st]/et;return it}if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(et)){for(ot=et.length,it=createTypedArray("float32",ot),st=0;st<ot;st+=1)it[st]=tt/et[st];return it}return 0}function mod(tt,et){return typeof tt=="string"&&(tt=parseInt(tt,10)),typeof et=="string"&&(et=parseInt(et,10)),tt%et}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(tt,et,nt){if(et>nt){var rt=nt;nt=et,et=rt}return Math.min(Math.max(tt,et),nt)}function radiansToDegrees(tt){return tt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(tt){return tt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(tt,et){if(typeof tt=="number"||tt instanceof Number)return et=et||0,Math.abs(tt-et);et||(et=helperLengthArray);var nt,rt=Math.min(tt.length,et.length),it=0;for(nt=0;nt<rt;nt+=1)it+=Math.pow(et[nt]-tt[nt],2);return Math.sqrt(it)}function normalize(tt){return div(tt,length(tt))}function rgbToHsl(tt){var et=tt[0],nt=tt[1],rt=tt[2],it=Math.max(et,nt,rt),st=Math.min(et,nt,rt),ot,at,lt=(it+st)/2;if(it===st)ot=0,at=0;else{var ut=it-st;switch(at=lt>.5?ut/(2-it-st):ut/(it+st),it){case et:ot=(nt-rt)/ut+(nt<rt?6:0);break;case nt:ot=(rt-et)/ut+2;break;case rt:ot=(et-nt)/ut+4;break}ot/=6}return[ot,at,lt,tt[3]]}function hue2rgb(tt,et,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(et-tt)*6*nt:nt<1/2?et:nt<2/3?tt+(et-tt)*(2/3-nt)*6:tt}function hslToRgb(tt){var et=tt[0],nt=tt[1],rt=tt[2],it,st,ot;if(nt===0)it=rt,ot=rt,st=rt;else{var at=rt<.5?rt*(1+nt):rt+nt-rt*nt,lt=2*rt-at;it=hue2rgb(lt,at,et+1/3),st=hue2rgb(lt,at,et),ot=hue2rgb(lt,at,et-1/3)}return[it,st,ot,tt[3]]}function linear(tt,et,nt,rt,it){if((rt===void 0||it===void 0)&&(rt=et,it=nt,et=0,nt=1),nt<et){var st=nt;nt=et,et=st}if(tt<=et)return rt;if(tt>=nt)return it;var ot=nt===et?0:(tt-et)/(nt-et);if(!rt.length)return rt+(it-rt)*ot;var at,lt=rt.length,ut=createTypedArray("float32",lt);for(at=0;at<lt;at+=1)ut[at]=rt[at]+(it[at]-rt[at])*ot;return ut}function random(tt,et){if(et===void 0&&(tt===void 0?(tt=0,et=1):(et=tt,tt=void 0)),et.length){var nt,rt=et.length;tt||(tt=createTypedArray("float32",rt));var it=createTypedArray("float32",rt),st=BMMath.random();for(nt=0;nt<rt;nt+=1)it[nt]=tt[nt]+st*(et[nt]-tt[nt]);return it}tt===void 0&&(tt=0);var ot=BMMath.random();return tt+ot*(et-tt)}function createPath(tt,et,nt,rt){var it,st=tt.length,ot=shapePool.newElement();ot.setPathData(!!rt,st);var at=[0,0],lt,ut;for(it=0;it<st;it+=1)lt=et&&et[it]?et[it]:at,ut=nt&&nt[it]?nt[it]:at,ot.setTripleAt(tt[it][0],tt[it][1],ut[0]+tt[it][0],ut[1]+tt[it][1],lt[0]+tt[it][0],lt[1]+tt[it][1],it,!0);return ot}function initiateExpression(elem,data,property){function noOp(tt){return tt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function tt(et,nt){var rt,it,st=this.pv.length?this.pv.length:1,ot=createTypedArray("float32",st);et=5;var at=Math.floor(time*et);for(rt=0,it=0;rt<at;){for(it=0;it<st;it+=1)ot[it]+=-nt+nt*2*BMMath.random();rt+=1}var lt=time*et,ut=lt-Math.floor(lt),ft=createTypedArray("float32",st);if(st>1){for(it=0;it<st;it+=1)ft[it]=this.pv[it]+ot[it]+(-nt+nt*2*BMMath.random())*ut;return ft}return this.pv+ot[0]+(-nt+nt*2*BMMath.random())*ut}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(tt,et){return loopIn(tt,et,!0)}function loopOutDuration(tt,et){return loopOut(tt,et,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(tt,et){var nt=[et[0]-tt[0],et[1]-tt[1],et[2]-tt[2]],rt=Math.atan2(nt[0],Math.sqrt(nt[1]*nt[1]+nt[2]*nt[2]))/degToRads,it=-Math.atan2(nt[1],nt[2])/degToRads;return[it,rt,0]}function easeOut(tt,et,nt,rt,it){return applyEase(easeOutBez,tt,et,nt,rt,it)}function easeIn(tt,et,nt,rt,it){return applyEase(easeInBez,tt,et,nt,rt,it)}function ease(tt,et,nt,rt,it){return applyEase(easeInOutBez,tt,et,nt,rt,it)}function applyEase(tt,et,nt,rt,it,st){it===void 0?(it=nt,st=rt):et=(et-nt)/(rt-nt),et>1?et=1:et<0&&(et=0);var ot=tt(et);if($bm_isInstanceOfArray(it)){var at,lt=it.length,ut=createTypedArray("float32",lt);for(at=0;at<lt;at+=1)ut[at]=(st[at]-it[at])*ot+it[at];return ut}return(st-it)*ot+it}function nearestKey(tt){var et,nt=data.k.length,rt,it;if(!data.k.length||typeof data.k[0]=="number")rt=0,it=0;else if(rt=-1,tt*=elem.comp.globalData.frameRate,tt<data.k[0].t)rt=1,it=data.k[0].t;else{for(et=0;et<nt-1;et+=1)if(tt===data.k[et].t){rt=et+1,it=data.k[et].t;break}else if(tt>data.k[et].t&&tt<data.k[et+1].t){tt-data.k[et].t>data.k[et+1].t-tt?(rt=et+2,it=data.k[et+1].t):(rt=et+1,it=data.k[et].t);break}rt===-1&&(rt=et+1,it=data.k[et].t)}var st={};return st.index=rt,st.time=it/elem.comp.globalData.frameRate,st}function key(tt){var et,nt,rt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+tt);tt-=1,et={time:data.k[tt].t/elem.comp.globalData.frameRate,value:[]};var it=Object.prototype.hasOwnProperty.call(data.k[tt],"s")?data.k[tt].s:data.k[tt-1].e;for(rt=it.length,nt=0;nt<rt;nt+=1)et[nt]=it[nt],et.value[nt]=it[nt];return et}function framesToTime(tt,et){return et||(et=elem.comp.globalData.frameRate),tt/et}function timeToFrames(tt,et){return!tt&&tt!==0&&(tt=time),et||(et=elem.comp.globalData.frameRate),tt*et}function seedRandom(tt){BMMath.seedrandom(randSeed+tt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(tt,et){return typeof value=="string"?et===void 0?value.substring(tt):value.substring(tt,et):""}function substr(tt,et){return typeof value=="string"?et===void 0?value.substr(tt):value.substr(tt,et):""}function posterizeTime(tt){time=tt===0?0:Math.floor(time*tt)/tt,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(tt){return value=tt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function tt(ot,at,lt){at.x&&(lt.k=!0,lt.x=!0,lt.initiateExpression=ExpressionManager.initiateExpression,lt.effectsSequence.push(lt.initiateExpression(ot,at,lt).bind(lt)))}function et(ot){return ot*=this.elem.globalData.frameRate,ot-=this.offsetTime,ot!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ot?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ot,this._cachingAtTime),this._cachingAtTime.lastFrame=ot),this._cachingAtTime.value}function nt(ot){var at=-.01,lt=this.getValueAtTime(ot),ut=this.getValueAtTime(ot+at),ft=0;if(lt.length){var dt;for(dt=0;dt<lt.length;dt+=1)ft+=Math.pow(ut[dt]-lt[dt],2);ft=Math.sqrt(ft)*100}else ft=0;return ft}function rt(ot){if(this.vel!==void 0)return this.vel;var at=-.001,lt=this.getValueAtTime(ot),ut=this.getValueAtTime(ot+at),ft;if(lt.length){ft=createTypedArray("float32",lt.length);var dt;for(dt=0;dt<lt.length;dt+=1)ft[dt]=(ut[dt]-lt[dt])/at}else ft=(ut-lt)/at;return ft}function it(){return this.pv}function st(ot){this.propertyGroup=ot}return{searchExpressions:tt,getSpeedAtTime:nt,getVelocityAtTime:rt,getValueAtTime:et,getStaticValueAtTime:it,setGroupProperty:st}}();function addPropertyDecorator(){function tt(ht,mt,xt){if(!this.k||!this.keyframes)return this.pv;ht=ht?ht.toLowerCase():"";var _t=this.comp.renderedFrame,At=this.keyframes,gt=At[At.length-1].t;if(_t<=gt)return this.pv;var vt,Et;xt?(mt?vt=Math.abs(gt-this.elem.comp.globalData.frameRate*mt):vt=Math.max(0,gt-this.elem.data.ip),Et=gt-vt):((!mt||mt>At.length-1)&&(mt=At.length-1),Et=At[At.length-1-mt].t,vt=gt-Et);var yt,wt,Ct;if(ht==="pingpong"){var Rt=Math.floor((_t-Et)/vt);if(Rt%2!==0)return this.getValueAtTime((vt-(_t-Et)%vt+Et)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var It=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),$t=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime(((_t-Et)%vt+Et)/this.comp.globalData.frameRate,0),Bt=Math.floor((_t-Et)/vt);if(this.pv.length){for(Ct=new Array(It.length),wt=Ct.length,yt=0;yt<wt;yt+=1)Ct[yt]=($t[yt]-It[yt])*Bt+Ft[yt];return Ct}return($t-It)*Bt+Ft}else if(ht==="continue"){var Nt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Xt=this.getValueAtTime((gt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array(Nt.length),wt=Ct.length,yt=0;yt<wt;yt+=1)Ct[yt]=Nt[yt]+(Nt[yt]-Xt[yt])*((_t-gt)/this.comp.globalData.frameRate)/5e-4;return Ct}return Nt+(Nt-Xt)*((_t-gt)/.001)}return this.getValueAtTime(((_t-Et)%vt+Et)/this.comp.globalData.frameRate,0)}function et(ht,mt,xt){if(!this.k)return this.pv;ht=ht?ht.toLowerCase():"";var _t=this.comp.renderedFrame,At=this.keyframes,gt=At[0].t;if(_t>=gt)return this.pv;var vt,Et;xt?(mt?vt=Math.abs(this.elem.comp.globalData.frameRate*mt):vt=Math.max(0,this.elem.data.op-gt),Et=gt+vt):((!mt||mt>At.length-1)&&(mt=At.length-1),Et=At[mt].t,vt=Et-gt);var yt,wt,Ct;if(ht==="pingpong"){var Rt=Math.floor((gt-_t)/vt);if(Rt%2===0)return this.getValueAtTime(((gt-_t)%vt+gt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var It=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),$t=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime((vt-(gt-_t)%vt+gt)/this.comp.globalData.frameRate,0),Bt=Math.floor((gt-_t)/vt)+1;if(this.pv.length){for(Ct=new Array(It.length),wt=Ct.length,yt=0;yt<wt;yt+=1)Ct[yt]=Ft[yt]-($t[yt]-It[yt])*Bt;return Ct}return Ft-($t-It)*Bt}else if(ht==="continue"){var Nt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Xt=this.getValueAtTime((gt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array(Nt.length),wt=Ct.length,yt=0;yt<wt;yt+=1)Ct[yt]=Nt[yt]+(Nt[yt]-Xt[yt])*(gt-_t)/.001;return Ct}return Nt+(Nt-Xt)*(gt-_t)/.001}return this.getValueAtTime((vt-((gt-_t)%vt+gt))/this.comp.globalData.frameRate,0)}function nt(ht,mt){if(!this.k)return this.pv;if(ht=(ht||.4)*.5,mt=Math.floor(mt||5),mt<=1)return this.pv;var xt=this.comp.renderedFrame/this.comp.globalData.frameRate,_t=xt-ht,At=xt+ht,gt=mt>1?(At-_t)/(mt-1):1,vt=0,Et=0,yt;this.pv.length?yt=createTypedArray("float32",this.pv.length):yt=0;for(var wt;vt<mt;){if(wt=this.getValueAtTime(_t+vt*gt),this.pv.length)for(Et=0;Et<this.pv.length;Et+=1)yt[Et]+=wt[Et];else yt+=wt;vt+=1}if(this.pv.length)for(Et=0;Et<this.pv.length;Et+=1)yt[Et]/=mt;else yt/=mt;return yt}function rt(ht){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var mt=this._transformCachingAtTime.v;if(mt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var xt=this.a.getValueAtTime(ht);mt.translate(-xt[0]*this.a.mult,-xt[1]*this.a.mult,xt[2]*this.a.mult)}if(this.appliedTransformations<2){var _t=this.s.getValueAtTime(ht);mt.scale(_t[0]*this.s.mult,_t[1]*this.s.mult,_t[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var At=this.sk.getValueAtTime(ht),gt=this.sa.getValueAtTime(ht);mt.skewFromAxis(-At*this.sk.mult,gt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var vt=this.r.getValueAtTime(ht);mt.rotate(-vt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Et=this.rz.getValueAtTime(ht),yt=this.ry.getValueAtTime(ht),wt=this.rx.getValueAtTime(ht),Ct=this.or.getValueAtTime(ht);mt.rotateZ(-Et*this.rz.mult).rotateY(yt*this.ry.mult).rotateX(wt*this.rx.mult).rotateZ(-Ct[2]*this.or.mult).rotateY(Ct[1]*this.or.mult).rotateX(Ct[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Rt=this.px.getValueAtTime(ht),It=this.py.getValueAtTime(ht);if(this.data.p.z){var $t=this.pz.getValueAtTime(ht);mt.translate(Rt*this.px.mult,It*this.py.mult,-$t*this.pz.mult)}else mt.translate(Rt*this.px.mult,It*this.py.mult,0)}else{var Ft=this.p.getValueAtTime(ht);mt.translate(Ft[0]*this.p.mult,Ft[1]*this.p.mult,-Ft[2]*this.p.mult)}return mt}function it(){return this.v.clone(new Matrix)}var st=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ht,mt,xt){var _t=st(ht,mt,xt);return _t.dynamicProperties.length?_t.getValueAtTime=rt.bind(_t):_t.getValueAtTime=it.bind(_t),_t.setGroupProperty=expressionHelpers.setGroupProperty,_t};var ot=PropertyFactory.getProp;PropertyFactory.getProp=function(ht,mt,xt,_t,At){var gt=ot(ht,mt,xt,_t,At);gt.kf?gt.getValueAtTime=expressionHelpers.getValueAtTime.bind(gt):gt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(gt),gt.setGroupProperty=expressionHelpers.setGroupProperty,gt.loopOut=tt,gt.loopIn=et,gt.smooth=nt,gt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(gt),gt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(gt),gt.numKeys=mt.a===1?mt.k.length:0,gt.propertyIndex=mt.ix;var vt=0;return xt!==0&&(vt=createTypedArray("float32",mt.a===1?mt.k[0].s.length:mt.k.length)),gt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:vt},expressionHelpers.searchExpressions(ht,mt,gt),gt.k&&At.addDynamicProperty(gt),gt};function at(ht){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ht?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ht,this.interpolateShape(ht,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var lt=ShapePropertyFactory.getConstructorFunction(),ut=ShapePropertyFactory.getKeyframedConstructorFunction();function ft(){}ft.prototype={vertices:function(mt,xt){this.k&&this.getValue();var _t=this.v;xt!==void 0&&(_t=this.getValueAtTime(xt,0));var At,gt=_t._length,vt=_t[mt],Et=_t.v,yt=createSizedArray(gt);for(At=0;At<gt;At+=1)mt==="i"||mt==="o"?yt[At]=[vt[At][0]-Et[At][0],vt[At][1]-Et[At][1]]:yt[At]=[vt[At][0],vt[At][1]];return yt},points:function(mt){return this.vertices("v",mt)},inTangents:function(mt){return this.vertices("i",mt)},outTangents:function(mt){return this.vertices("o",mt)},isClosed:function(){return this.v.c},pointOnPath:function(mt,xt){var _t=this.v;xt!==void 0&&(_t=this.getValueAtTime(xt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(_t));for(var At=this._segmentsLength,gt=At.lengths,vt=At.totalLength*mt,Et=0,yt=gt.length,wt=0,Ct;Et<yt;){if(wt+gt[Et].addedLength>vt){var Rt=Et,It=_t.c&&Et===yt-1?0:Et+1,$t=(vt-wt)/gt[Et].addedLength;Ct=bez.getPointInSegment(_t.v[Rt],_t.v[It],_t.o[Rt],_t.i[It],$t,gt[Et]);break}else wt+=gt[Et].addedLength;Et+=1}return Ct||(Ct=_t.c?[_t.v[0][0],_t.v[0][1]]:[_t.v[_t._length-1][0],_t.v[_t._length-1][1]]),Ct},vectorOnPath:function(mt,xt,_t){mt==1?mt=this.v.c:mt==0&&(mt=.999);var At=this.pointOnPath(mt,xt),gt=this.pointOnPath(mt+.001,xt),vt=gt[0]-At[0],Et=gt[1]-At[1],yt=Math.sqrt(Math.pow(vt,2)+Math.pow(Et,2));if(yt===0)return[0,0];var wt=_t==="tangent"?[vt/yt,Et/yt]:[-Et/yt,vt/yt];return wt},tangentOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"tangent")},normalOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ft],lt),extendPrototype([ft],ut),ut.prototype.getValueAtTime=at,ut.prototype.initiateExpression=ExpressionManager.initiateExpression;var dt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ht,mt,xt,_t,At){var gt=dt(ht,mt,xt,_t,At);return gt.propertyIndex=mt.ix,gt.lock=!1,xt===3?expressionHelpers.searchExpressions(ht,mt.pt,gt):xt===4&&expressionHelpers.searchExpressions(ht,mt.ks,gt),gt.k&&ht.addDynamicProperty(gt),gt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function tt(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(et,nt){var rt=this.calculateExpression(nt);if(et.t!==rt){var it={};return this.copyData(it,et),it.t=rt.toString(),it.__complete=!1,it}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),nt=this.searchExpressions();return this.kf=et||nt,this.kf},TextProperty.prototype.searchExpressions=tt}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function tt(et,nt){var rt=createNS("feMerge");rt.setAttribute("result",et);var it,st;for(st=0;st<nt.length;st+=1)it=createNS("feMergeNode"),it.setAttribute("in",nt[st]),rt.appendChild(it),rt.appendChild(it);return rt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(tt,et,nt,rt,it){this.filterManager=et;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=st,st.setAttribute("result",rt+"_tint_1"),tt.appendChild(st),st=createNS("feColorMatrix"),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",rt+"_tint_2"),tt.appendChild(st),this.matrixFilter=st;var ot=this.createMergeNode(rt,[it,rt+"_tint_1",rt+"_tint_2"]);tt.appendChild(ot)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rt+" 0"),this.matrixFilter.setAttribute("values",nt[0]-et[0]+" 0 0 0 "+et[0]+" "+(nt[1]-et[1])+" 0 0 0 "+et[1]+" "+(nt[2]-et[2])+" 0 0 0 "+et[2]+" 0 0 0 1 0")}};function SVGFillFilter(tt,et,nt,rt){this.filterManager=et;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",rt),tt.appendChild(it),this.matrixFilter=it}SVGFillFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var et=this.filterManager.effectElements[2].p.v,nt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+et[0]+" 0 0 0 0 "+et[1]+" 0 0 0 0 "+et[2]+" 0 0 0 "+nt+" 0")}};function SVGStrokeEffect(tt,et,nt){this.initialized=!1,this.filterManager=et,this.elem=nt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var tt=this.elem.layerElement.children||this.elem.layerElement.childNodes,et,nt,rt,it;for(this.filterManager.effectElements[1].p.v===1?(it=this.elem.maskManager.masksProperties.length,rt=0):(rt=this.filterManager.effectElements[0].p.v-1,it=rt+1),nt=createNS("g"),nt.setAttribute("fill","none"),nt.setAttribute("stroke-linecap","round"),nt.setAttribute("stroke-dashoffset",1),rt;rt<it;rt+=1)et=createNS("path"),nt.appendChild(et),this.paths.push({p:et,m:rt});if(this.filterManager.effectElements[10].p.v===3){var st=createNS("mask"),ot=createElementID();st.setAttribute("id",ot),st.setAttribute("mask-type","alpha"),st.appendChild(nt),this.elem.globalData.defs.appendChild(st);var at=createNS("g");for(at.setAttribute("mask","url("+getLocationHref()+"#"+ot+")");tt[0];)at.appendChild(tt[0]);this.elem.layerElement.appendChild(at),this.masker=st,nt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(tt=this.elem.layerElement.children||this.elem.layerElement.childNodes;tt.length;)this.elem.layerElement.removeChild(tt[0]);this.elem.layerElement.appendChild(nt),this.elem.layerElement.removeAttribute("mask"),nt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=nt},SVGStrokeEffect.prototype.renderFrame=function(tt){this.initialized||this.initialize();var et,nt=this.paths.length,rt,it;for(et=0;et<nt;et+=1)if(this.paths[et].m!==-1&&(rt=this.elem.maskManager.viewData[this.paths[et].m],it=this.paths[et].p,(tt||this.filterManager._mdf||rt.prop._mdf)&&it.setAttribute("d",rt.lastPath),tt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rt.prop._mdf)){var st;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ot=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,at=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,lt=it.getTotalLength();st="0 0 0 "+lt*ot+" ";var ut=lt*(at-ot),ft=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,dt=Math.floor(ut/ft),ht;for(ht=0;ht<dt;ht+=1)st+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";st+="0 "+lt*10+" 0 0"}else st="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;it.setAttribute("stroke-dasharray",st)}if((tt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(tt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(tt||this.filterManager.effectElements[3].p._mdf)){var mt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(mt[0]*255)+","+bmFloor(mt[1]*255)+","+bmFloor(mt[2]*255)+")")}};function SVGTritoneFilter(tt,et,nt,rt){this.filterManager=et;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),tt.appendChild(it);var st=createNS("feComponentTransfer");st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),this.matrixFilter=st;var ot=createNS("feFuncR");ot.setAttribute("type","table"),st.appendChild(ot),this.feFuncR=ot;var at=createNS("feFuncG");at.setAttribute("type","table"),st.appendChild(at),this.feFuncG=at;var lt=createNS("feFuncB");lt.setAttribute("type","table"),st.appendChild(lt),this.feFuncB=lt,tt.appendChild(st)}SVGTritoneFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v,it=rt[0]+" "+nt[0]+" "+et[0],st=rt[1]+" "+nt[1]+" "+et[1],ot=rt[2]+" "+nt[2]+" "+et[2];this.feFuncR.setAttribute("tableValues",it),this.feFuncG.setAttribute("tableValues",st),this.feFuncB.setAttribute("tableValues",ot)}};function SVGProLevelsFilter(tt,et,nt,rt){this.filterManager=et;var it=this.filterManager.effectElements,st=createNS("feComponentTransfer");(it[10].p.k||it[10].p.v!==0||it[11].p.k||it[11].p.v!==1||it[12].p.k||it[12].p.v!==1||it[13].p.k||it[13].p.v!==0||it[14].p.k||it[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",st)),(it[17].p.k||it[17].p.v!==0||it[18].p.k||it[18].p.v!==1||it[19].p.k||it[19].p.v!==1||it[20].p.k||it[20].p.v!==0||it[21].p.k||it[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",st)),(it[24].p.k||it[24].p.v!==0||it[25].p.k||it[25].p.v!==1||it[26].p.k||it[26].p.v!==1||it[27].p.k||it[27].p.v!==0||it[28].p.k||it[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",st)),(it[31].p.k||it[31].p.v!==0||it[32].p.k||it[32].p.v!==1||it[33].p.k||it[33].p.v!==1||it[34].p.k||it[34].p.v!==0||it[35].p.k||it[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",st)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(st.setAttribute("color-interpolation-filters","sRGB"),tt.appendChild(st)),(it[3].p.k||it[3].p.v!==0||it[4].p.k||it[4].p.v!==1||it[5].p.k||it[5].p.v!==1||it[6].p.k||it[6].p.v!==0||it[7].p.k||it[7].p.v!==1)&&(st=createNS("feComponentTransfer"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),tt.appendChild(st),this.feFuncRComposed=this.createFeFunc("feFuncR",st),this.feFuncGComposed=this.createFeFunc("feFuncG",st),this.feFuncBComposed=this.createFeFunc("feFuncB",st))}SVGProLevelsFilter.prototype.createFeFunc=function(tt,et){var nt=createNS(tt);return nt.setAttribute("type","table"),et.appendChild(nt),nt},SVGProLevelsFilter.prototype.getTableValue=function(tt,et,nt,rt,it){for(var st=0,ot=256,at,lt=Math.min(tt,et),ut=Math.max(tt,et),ft=Array.call(null,{length:ot}),dt,ht=0,mt=it-rt,xt=et-tt;st<=256;)at=st/256,at<=lt?dt=xt<0?it:rt:at>=ut?dt=xt<0?rt:it:dt=rt+mt*Math.pow((at-tt)/xt,1/nt),ft[ht]=dt,ht+=1,st+=256/(ot-1);return ft.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var et,nt=this.filterManager.effectElements;this.feFuncRComposed&&(tt||nt[3].p._mdf||nt[4].p._mdf||nt[5].p._mdf||nt[6].p._mdf||nt[7].p._mdf)&&(et=this.getTableValue(nt[3].p.v,nt[4].p.v,nt[5].p.v,nt[6].p.v,nt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",et),this.feFuncGComposed.setAttribute("tableValues",et),this.feFuncBComposed.setAttribute("tableValues",et)),this.feFuncR&&(tt||nt[10].p._mdf||nt[11].p._mdf||nt[12].p._mdf||nt[13].p._mdf||nt[14].p._mdf)&&(et=this.getTableValue(nt[10].p.v,nt[11].p.v,nt[12].p.v,nt[13].p.v,nt[14].p.v),this.feFuncR.setAttribute("tableValues",et)),this.feFuncG&&(tt||nt[17].p._mdf||nt[18].p._mdf||nt[19].p._mdf||nt[20].p._mdf||nt[21].p._mdf)&&(et=this.getTableValue(nt[17].p.v,nt[18].p.v,nt[19].p.v,nt[20].p.v,nt[21].p.v),this.feFuncG.setAttribute("tableValues",et)),this.feFuncB&&(tt||nt[24].p._mdf||nt[25].p._mdf||nt[26].p._mdf||nt[27].p._mdf||nt[28].p._mdf)&&(et=this.getTableValue(nt[24].p.v,nt[25].p.v,nt[26].p.v,nt[27].p.v,nt[28].p.v),this.feFuncB.setAttribute("tableValues",et)),this.feFuncA&&(tt||nt[31].p._mdf||nt[32].p._mdf||nt[33].p._mdf||nt[34].p._mdf||nt[35].p._mdf)&&(et=this.getTableValue(nt[31].p.v,nt[32].p.v,nt[33].p.v,nt[34].p.v,nt[35].p.v),this.feFuncA.setAttribute("tableValues",et))}};function SVGDropShadowEffect(tt,et,nt,rt,it){var st=et.container.globalData.renderConfig.filterSize,ot=et.data.fs||st;tt.setAttribute("x",ot.x||st.x),tt.setAttribute("y",ot.y||st.y),tt.setAttribute("width",ot.width||st.width),tt.setAttribute("height",ot.height||st.height),this.filterManager=et;var at=createNS("feGaussianBlur");at.setAttribute("in","SourceAlpha"),at.setAttribute("result",rt+"_drop_shadow_1"),at.setAttribute("stdDeviation","0"),this.feGaussianBlur=at,tt.appendChild(at);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",rt+"_drop_shadow_1"),lt.setAttribute("result",rt+"_drop_shadow_2"),this.feOffset=lt,tt.appendChild(lt);var ut=createNS("feFlood");ut.setAttribute("flood-color","#00ff00"),ut.setAttribute("flood-opacity","1"),ut.setAttribute("result",rt+"_drop_shadow_3"),this.feFlood=ut,tt.appendChild(ut);var ft=createNS("feComposite");ft.setAttribute("in",rt+"_drop_shadow_3"),ft.setAttribute("in2",rt+"_drop_shadow_2"),ft.setAttribute("operator","in"),ft.setAttribute("result",rt+"_drop_shadow_4"),tt.appendChild(ft);var dt=this.createMergeNode(rt,[rt+"_drop_shadow_4",it]);tt.appendChild(dt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){if((tt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),tt||this.filterManager.effectElements[0].p._mdf){var et=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(et[0]*255),Math.round(et[1]*255),Math.round(et[2]*255)))}if((tt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),tt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var nt=this.filterManager.effectElements[3].p.v,rt=(this.filterManager.effectElements[2].p.v-90)*degToRads,it=nt*Math.cos(rt),st=nt*Math.sin(rt);this.feOffset.setAttribute("dx",it),this.feOffset.setAttribute("dy",st)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(tt,et,nt){this.initialized=!1,this.filterManager=et,this.filterElem=tt,this.elem=nt,nt.matteElement=createNS("g"),nt.matteElement.appendChild(nt.layerElement),nt.matteElement.appendChild(nt.transformedElement),nt.baseElement=nt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(tt){for(var et=0,nt=_svgMatteSymbols.length;et<nt;){if(_svgMatteSymbols[et]===tt)return _svgMatteSymbols[et];et+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(tt,et){var nt=tt.layerElement.parentNode;if(nt){for(var rt=nt.children,it=0,st=rt.length;it<st&&rt[it]!==tt.layerElement;)it+=1;var ot;it<=st-2&&(ot=rt[it+1]);var at=createNS("use");at.setAttribute("href","#"+et),ot?nt.insertBefore(at,ot):nt.appendChild(at)}},SVGMatte3Effect.prototype.setElementAsMask=function(tt,et){if(!this.findSymbol(et)){var nt=createElementID(),rt=createNS("mask");rt.setAttribute("id",et.layerId),rt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(et);var it=tt.globalData.defs;it.appendChild(rt);var st=createNS("symbol");st.setAttribute("id",nt),this.replaceInParent(et,nt),st.appendChild(et.layerElement),it.appendChild(st);var ot=createNS("use");ot.setAttribute("href","#"+nt),rt.appendChild(ot),et.data.hd=!1,et.show()}tt.setMatte(et.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var tt=this.filterManager.effectElements[0].p.v,et=this.elem.comp.elements,nt=0,rt=et.length;nt<rt;)et[nt]&&et[nt].data.ind===tt&&this.setElementAsMask(this.elem,et[nt]),nt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(tt,et,nt,rt){tt.setAttribute("x","-100%"),tt.setAttribute("y","-100%"),tt.setAttribute("width","300%"),tt.setAttribute("height","300%"),this.filterManager=et;var it=createNS("feGaussianBlur");it.setAttribute("result",rt),tt.appendChild(it),this.feGaussianBlur=it}return SVGGaussianBlurEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var et=.3,nt=this.filterManager.effectElements[0].p.v*et,rt=this.filterManager.effectElements[1].p.v,it=rt==3?0:nt,st=rt==2?0:nt;this.feGaussianBlur.setAttribute("stdDeviation",it+" "+st);var ot=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ot)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(tt,et){var nt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(nt!=null){var rt,it,st,ot,at=[],lt=!0,ut=!1;try{if(st=(nt=nt.call(tt)).next,et===0){if(Object(nt)!==nt)return;lt=!1}else for(;!(lt=(rt=st.call(nt)).done)&&(at.push(rt.value),at.length!==et);lt=!0);}catch(ft){ut=!0,it=ft}finally{try{if(!lt&&nt.return!=null&&(ot=nt.return(),Object(ot)!==ot))return}finally{if(ut)throw it}}return at}}function ownKeys(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(nt),!0).forEach(function(rt){_defineProperty(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _defineProperty(tt,et,nt){return et=_toPropertyKey(et),et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function _objectWithoutPropertiesLoose(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,st;for(st=0;st<rt.length;st++)it=rt[st],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}function _objectWithoutProperties(tt,et){if(tt==null)return{};var nt=_objectWithoutPropertiesLoose(tt,et),rt,it;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(tt);for(it=0;it<st.length;it++)rt=st[it],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(tt,rt)&&(nt[rt]=tt[rt])}return nt}function _slicedToArray(tt,et){return _arrayWithHoles(tt)||_iterableToArrayLimit(tt,et)||_unsupportedIterableToArray(tt,et)||_nonIterableRest()}function _arrayWithHoles(tt){if(Array.isArray(tt))return tt}function _unsupportedIterableToArray(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray(tt,et)}}function _arrayLikeToArray(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(tt,et){if(typeof tt!="object"||tt===null)return tt;var nt=tt[Symbol.toPrimitive];if(nt!==void 0){var rt=nt.call(tt,et||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(tt)}function _toPropertyKey(tt){var et=_toPrimitive(tt,"string");return typeof et=="symbol"?et:String(et)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function tt(et,nt){var rt=et.animationData,it=et.loop,st=et.autoplay,ot=et.initialSegment,at=et.onComplete,lt=et.onLoopComplete,ut=et.onEnterFrame,ft=et.onSegmentStart,dt=et.onConfigReady,ht=et.onDataReady,mt=et.onDataFailed,xt=et.onLoadedImages,_t=et.onDOMLoaded,At=et.onDestroy;et.lottieRef,et.renderer,et.name,et.assetsPath,et.rendererSettings;var gt=_objectWithoutProperties(et,_excluded$1),vt=reactExports.useState(!1),Et=_slicedToArray(vt,2),yt=Et[0],wt=Et[1],Ct=reactExports.useRef(),Rt=reactExports.useRef(null),It=function(){var Ht;(Ht=Ct.current)===null||Ht===void 0||Ht.play()},$t=function(){var Ht;(Ht=Ct.current)===null||Ht===void 0||Ht.stop()},Ft=function(){var Ht;(Ht=Ct.current)===null||Ht===void 0||Ht.pause()},Bt=function(Ht){var en;(en=Ct.current)===null||en===void 0||en.setSpeed(Ht)},Nt=function(Ht,en){var an;(an=Ct.current)===null||an===void 0||an.goToAndPlay(Ht,en)},Xt=function(Ht,en){var an;(an=Ct.current)===null||an===void 0||an.goToAndStop(Ht,en)},nn=function(Ht){var en;(en=Ct.current)===null||en===void 0||en.setDirection(Ht)},sn=function(Ht,en){var an;(an=Ct.current)===null||an===void 0||an.playSegments(Ht,en)},rn=function(Ht){var en;(en=Ct.current)===null||en===void 0||en.setSubframe(Ht)},Jt=function(Ht){var en;return(en=Ct.current)===null||en===void 0?void 0:en.getDuration(Ht)},Ut=function(){var Ht;(Ht=Ct.current)===null||Ht===void 0||Ht.destroy(),Ct.current=void 0},Kt=function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},en;if(Rt.current){(en=Ct.current)===null||en===void 0||en.destroy();var an=_objectSpread2(_objectSpread2(_objectSpread2({},et),Ht),{},{container:Rt.current});return Ct.current=lottie.loadAnimation(an),wt(!!Ct.current),function(){var on;(on=Ct.current)===null||on===void 0||on.destroy(),Ct.current=void 0}}};reactExports.useEffect(function(){var zt=Kt();return function(){return zt==null?void 0:zt()}},[rt,it]),reactExports.useEffect(function(){Ct.current&&(Ct.current.autoplay=!!st)},[st]),reactExports.useEffect(function(){if(Ct.current){if(!ot){Ct.current.resetSegments(!0);return}!Array.isArray(ot)||!ot.length||((Ct.current.currentRawFrame<ot[0]||Ct.current.currentRawFrame>ot[1])&&(Ct.current.currentRawFrame=ot[0]),Ct.current.setSegment(ot[0],ot[1]))}},[ot]),reactExports.useEffect(function(){var zt=[{name:"complete",handler:at},{name:"loopComplete",handler:lt},{name:"enterFrame",handler:ut},{name:"segmentStart",handler:ft},{name:"config_ready",handler:dt},{name:"data_ready",handler:ht},{name:"data_failed",handler:mt},{name:"loaded_images",handler:xt},{name:"DOMLoaded",handler:_t},{name:"destroy",handler:At}],Ht=zt.filter(function(an){return an.handler!=null});if(Ht.length){var en=Ht.map(function(an){var on;return(on=Ct.current)===null||on===void 0||on.addEventListener(an.name,an.handler),function(){var Wt;(Wt=Ct.current)===null||Wt===void 0||Wt.removeEventListener(an.name,an.handler)}});return function(){en.forEach(function(an){return an()})}}},[at,lt,ut,ft,dt,ht,mt,xt,_t,At]);var Qt=React$1.createElement("div",_objectSpread2({style:nt,ref:Rt},gt));return{View:Qt,play:It,stop:$t,pause:Ft,setSpeed:Bt,goToAndStop:Xt,goToAndPlay:Nt,setDirection:nn,playSegments:sn,setSubframe:rn,getDuration:Jt,destroy:Ut,animationContainerRef:Rt,animationLoaded:yt,animationItem:Ct.current}};function getContainerVisibility(tt){var et=tt.getBoundingClientRect(),nt=et.top,rt=et.height,it=window.innerHeight-nt,st=window.innerHeight+rt;return it/st}function getContainerCursorPosition(tt,et,nt){var rt=tt.getBoundingClientRect(),it=rt.top,st=rt.left,ot=rt.width,at=rt.height,lt=(et-st)/ot,ut=(nt-it)/at;return{x:lt,y:ut}}var useInitInteractivity=function tt(et){var nt=et.wrapperRef,rt=et.animationItem,it=et.mode,st=et.actions;reactExports.useEffect(function(){var ot=nt.current;if(!(!ot||!rt||!st.length)){rt.stop();var at=function(){var ft=null,dt=function(){var mt=getContainerVisibility(ot),xt=st.find(function(At){var gt=At.visibility;return gt&&mt>=gt[0]&&mt<=gt[1]});if(xt){if(xt.type==="seek"&&xt.visibility&&xt.frames.length===2){var _t=xt.frames[0]+Math.ceil((mt-xt.visibility[0])/(xt.visibility[1]-xt.visibility[0])*xt.frames[1]);//! goToAndStop must be relative to the start of the current segment
rt.goToAndStop(_t-rt.firstFrame-1,!0)}xt.type==="loop"&&(ft===null||ft!==xt.frames||rt.isPaused)&&(rt.playSegments(xt.frames,!0),ft=xt.frames),xt.type==="play"&&rt.isPaused&&(rt.resetSegments(!0),rt.play()),xt.type==="stop"&&rt.goToAndStop(xt.frames[0]-rt.firstFrame-1,!0)}};return document.addEventListener("scroll",dt),function(){document.removeEventListener("scroll",dt)}},lt=function(){var ft=function(xt,_t){var At=xt,gt=_t;if(At!==-1&&gt!==-1){var vt=getContainerCursorPosition(ot,At,gt);At=vt.x,gt=vt.y}var Et=st.find(function(Ct){var Rt=Ct.position;return Rt&&Array.isArray(Rt.x)&&Array.isArray(Rt.y)?At>=Rt.x[0]&&At<=Rt.x[1]&&gt>=Rt.y[0]&&gt<=Rt.y[1]:Rt&&!Number.isNaN(Rt.x)&&!Number.isNaN(Rt.y)?At===Rt.x&&gt===Rt.y:!1});if(Et){if(Et.type==="seek"&&Et.position&&Array.isArray(Et.position.x)&&Array.isArray(Et.position.y)&&Et.frames.length===2){var yt=(At-Et.position.x[0])/(Et.position.x[1]-Et.position.x[0]),wt=(gt-Et.position.y[0])/(Et.position.y[1]-Et.position.y[0]);rt.playSegments(Et.frames,!0),rt.goToAndStop(Math.ceil((yt+wt)/2*(Et.frames[1]-Et.frames[0])),!0)}Et.type==="loop"&&rt.playSegments(Et.frames,!0),Et.type==="play"&&(rt.isPaused&&rt.resetSegments(!1),rt.playSegments(Et.frames)),Et.type==="stop"&&rt.goToAndStop(Et.frames[0],!0)}},dt=function(xt){ft(xt.clientX,xt.clientY)},ht=function(){ft(-1,-1)};return ot.addEventListener("mousemove",dt),ot.addEventListener("mouseout",ht),function(){ot.removeEventListener("mousemove",dt),ot.removeEventListener("mouseout",ht)}};switch(it){case"scroll":return at();case"cursor":return lt()}}},[it,rt])},useLottieInteractivity=function tt(et){var nt=et.actions,rt=et.mode,it=et.lottieObj,st=it.animationItem,ot=it.View,at=it.animationContainerRef;return useInitInteractivity({actions:nt,animationItem:st,mode:rt,wrapperRef:at}),ot},_excluded=["style","interactivity"],Lottie=function tt(et){var nt,rt,it,st=et.style,ot=et.interactivity,at=_objectWithoutProperties(et,_excluded),lt=useLottie(at,st),ut=lt.View,ft=lt.play,dt=lt.stop,ht=lt.pause,mt=lt.setSpeed,xt=lt.goToAndStop,_t=lt.goToAndPlay,At=lt.setDirection,gt=lt.playSegments,vt=lt.setSubframe,Et=lt.getDuration,yt=lt.destroy,wt=lt.animationContainerRef,Ct=lt.animationLoaded,Rt=lt.animationItem;return reactExports.useEffect(function(){et.lottieRef&&(et.lottieRef.current={play:ft,stop:dt,pause:ht,setSpeed:mt,goToAndPlay:_t,goToAndStop:xt,setDirection:At,playSegments:gt,setSubframe:vt,getDuration:Et,destroy:yt,animationContainerRef:wt,animationLoaded:Ct,animationItem:Rt})},[(nt=et.lottieRef)===null||nt===void 0?void 0:nt.current]),useLottieInteractivity({lottieObj:{View:ut,play:ft,stop:dt,pause:ht,setSpeed:mt,goToAndStop:xt,goToAndPlay:_t,setDirection:At,playSegments:gt,setSubframe:vt,getDuration:Et,destroy:yt,animationContainerRef:wt,animationLoaded:Ct,animationItem:Rt},actions:(rt=ot==null?void 0:ot.actions)!==null&&rt!==void 0?rt:[],mode:(it=ot==null?void 0:ot.mode)!==null&&it!==void 0?it:"scroll"})};const v="5.8.1",fr=60,ip=0,op=300,w=512,h=512,nm="flare",ddd=0,assets=[{id:"comp_0",nm:"particles",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"circle 4",sr:1.73684210526316,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16.998,s:[272.747,248.406,0],to:[36.385,-11.615,0],ti:[0,0,0]},{t:48.9008626429723,s:[491.057,178.718,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:16.998,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:33.5,s:[60,60,100]},{t:48.9008626429723,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.247,0],[0,0],[0,13.247],[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0]],o:[[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0],[13.247,0],[0,0],[0,13.247]],v:[[0,23.987],[0,23.987],[-23.987,0],[-23.987,0],[0,-23.987],[0,-23.987],[23.987,0],[23.987,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9844,.9763,.4956,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:17,op:50,st:-52.4736842105263,bm:0},{ddd:0,ind:2,ty:4,nm:"circle 5",sr:1.73684210526316,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:2.998,s:[258.747,259.406,0],to:[1.218,36.385,0],ti:[0,0,0]},{t:34.9008626429723,s:[266.057,477.718,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:2.998,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:19.5,s:[60,60,100]},{t:34.9008626429723,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.247,0],[0,0],[0,13.247],[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0]],o:[[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0],[13.247,0],[0,0],[0,13.247]],v:[[0,23.987],[0,23.987],[-23.987,0],[-23.987,0],[0,-23.987],[0,-23.987],[23.987,0],[23.987,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9844,.9763,.4956,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:3,op:36,st:-66.4736842105263,bm:0},{ddd:0,ind:3,ty:4,nm:"circle 2",sr:1.73684210526316,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10.998,s:[260.747,247.406,0],to:[1.218,-33.448,0],ti:[0,0,0]},{t:42.9008626429723,s:[268.057,46.718,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:10.998,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:27.5,s:[60,60,100]},{t:42.9008626429723,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.247,0],[0,0],[0,13.247],[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0]],o:[[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0],[13.247,0],[0,0],[0,13.247]],v:[[0,23.987],[0,23.987],[-23.987,0],[-23.987,0],[0,-23.987],[0,-23.987],[23.987,0],[23.987,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9748,.9616,.1852,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:11,op:44,st:-58.4736842105263,bm:0},{ddd:0,ind:4,ty:4,nm:"circle 3",sr:1.73684210526316,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11.998,s:[281.747,274.406,0],to:[15.718,24.719,0],ti:[0,0,0]},{t:43.9008626429723,s:[376.057,422.718,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:11.998,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:28.5,s:[60,60,100]},{t:43.9008626429723,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.247,0],[0,0],[0,13.247],[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0]],o:[[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0],[13.247,0],[0,0],[0,13.247]],v:[[0,23.987],[0,23.987],[-23.987,0],[-23.987,0],[0,-23.987],[0,-23.987],[23.987,0],[23.987,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.9877,.26,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:12,op:45,st:-57.4736842105263,bm:0},{ddd:0,ind:5,ty:4,nm:"circle",sr:1.73684210526316,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:5.998,s:[251.747,262.406,0],to:[-34.282,-12.448,0],ti:[0,0,0]},{t:37.9008626429723,s:[46.057,187.718,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:5.998,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:22.5,s:[60,60,100]},{t:37.9008626429723,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.247,0],[0,0],[0,13.247],[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0]],o:[[0,0],[-13.247,0],[0,0],[0,-13.247],[0,0],[13.247,0],[0,0],[0,13.247]],v:[[0,23.987],[0,23.987],[-23.987,0],[-23.987,0],[0,-23.987],[0,-23.987],[23.987,0],[23.987,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.989,.34,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:6,op:39,st:-63.4736842105263,bm:0},{ddd:0,ind:6,ty:4,nm:"line 4",sr:1.57894736842105,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:160,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:6.001,s:[245.395,277.025,0],to:[-15.318,26.439,0],ti:[15.318,-26.439,0]},{t:34.8875265165284,s:[153.485,435.662,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[27.954,-22.778],[-27.954,22.778]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.9877,.26,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6.001,s:[0]},{t:24.8894253983583,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:17.112,s:[0]},{t:34.8875265165284,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:6,op:36,st:-57.1578947368421,bm:0},{ddd:0,ind:7,ty:4,nm:"line 5",sr:1.57894736842105,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:201,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:.001,s:[242.395,259.025,0],to:[-28.985,10.773,0],ti:[28.985,-10.773,0]},{t:28.8875265165284,s:[68.485,323.662,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[27.954,-22.778],[-27.954,22.778]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.9748,.9616,.1852,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:.001,s:[0]},{t:18.8894253983583,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11.112,s:[0]},{t:28.8875265165284,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:30,st:-63.1578947368421,bm:0},{ddd:0,ind:8,ty:4,nm:"line 2",sr:1.57894736842105,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:66,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:.001,s:[268.395,262.025,0],to:[29.015,14.939,0],ti:[-29.015,-14.939,0]},{t:28.8875265165284,s:[442.485,351.662,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[27.954,-22.778],[-27.954,22.778]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.9748,.9616,.1852,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:.001,s:[0]},{t:18.8894253983583,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11.112,s:[0]},{t:28.8875265165284,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:30,st:-63.1578947368421,bm:0},{ddd:0,ind:9,ty:4,nm:"line 3",sr:1.57894736842105,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-78,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16.001,s:[252.395,253.025,0],to:[-20.652,-41.394,0],ti:[21.652,40.727,0]},{t:44.8875265165284,s:[149.485,52.662,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[27.954,-22.778],[-27.954,22.778]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.9844,.9763,.4956,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:16.001,s:[0]},{t:34.8894253983583,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:27.112,s:[0]},{t:44.8875265165284,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:16,op:46,st:-47.1578947368421,bm:0},{ddd:0,ind:10,ty:4,nm:"line",sr:1.57894736842105,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-13,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10.001,s:[287.395,228.025,0],to:[21.348,-28.061,0],ti:[-21.348,28.061,0]},{t:38.8875265165284,s:[415.485,59.662,0]}],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[27.954,-22.778],[-27.954,22.778]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.9893,.36,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10.001,s:[0]},{t:28.8894253983583,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:21.112,s:[0]},{t:38.8875265165284,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:10,op:40,st:-53.1578947368421,bm:0}]},{id:"comp_1",nm:"multi light",fr:60,layers:[{ddd:0,ind:1,ty:0,nm:"blue",refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:315,ix:10},p:{a:0,k:[253,252,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:2,ty:0,nm:"pink",refId:"comp_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:270,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:3,ty:0,nm:"yellow",refId:"comp_4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:225,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:4,ty:0,nm:"tint",refId:"comp_5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:5,ty:0,nm:"blue",refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:135,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:6,ty:0,nm:"yellow",refId:"comp_4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:90,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:7,ty:0,nm:"pink",refId:"comp_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0},{ddd:0,ind:8,ty:0,nm:"tint",refId:"comp_5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,254,0],ix:2,l:2},a:{a:0,k:[64,247,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:128,h:248,ip:0,op:270,st:0,bm:0}]},{id:"comp_2",nm:"blue",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"z2",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[64,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4,119.373],[-4,119.373],[-32.617,-119.373],[32.617,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:80,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.985,.9755,.415,.5,.985,.9755,.415,1,.985,.9755,.415,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,112.979],ix:5},e:{a:0,k:[.667,-112.242],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"z2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"z1",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[63.617,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[110,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4.383,119.373],[-3.617,119.373],[-55,-119.373],[55,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:70,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.985,.9755,.415,.5,.9925,.9878,.7075,1,1,1,1,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,79.199],ix:5},e:{a:0,k:[2.213,-117.837],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"z1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}]},{id:"comp_3",nm:"pink",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"c2",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[64,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4,119.373],[-4,119.373],[-32.617,-119.373],[32.617,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:80,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.9892,.9776,.2908,.5,.9892,.9776,.2908,1,.9892,.9776,.2908,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,112.979],ix:5},e:{a:0,k:[.667,-112.242],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"c2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"c1",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[63.617,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[110,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4.383,119.373],[-3.617,119.373],[-55,-119.373],[55,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:70,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.9892,.9776,.2908,.5,.9946,.9888,.6454,1,1,1,1,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,79.199],ix:5},e:{a:0,k:[2.213,-117.837],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"c1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}]},{id:"comp_4",nm:"yellow",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"b2",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[64,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4,119.373],[-4,119.373],[-32.617,-119.373],[32.617,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:80,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,1,.99,.4,.5,1,.9843,0,1,1,.99,.4,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,112.979],ix:5},e:{a:0,k:[.667,-112.242],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"b2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"b1",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[63.617,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[110,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4.383,119.373],[-3.617,119.373],[-55,-119.373],[55,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:70,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,1,.99,.4,.5,1,.995,.7,1,1,1,1,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,79.199],ix:5},e:{a:0,k:[2.213,-117.837],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"b1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}]},{id:"comp_5",nm:"tint",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"v2",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[64,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4,119.373],[-4,119.373],[-32.617,-119.373],[32.617,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:80,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.9748,.9616,.1852,.5,.9874,.9808,.5926,1,1,1,1,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,112.979],ix:5},e:{a:0,k:[.667,-112.242],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"v2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"v1",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[63.617,128.627,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[110,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[4.383,119.373],[-3.617,119.373],[-55,-119.373],[55,-119.373]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:70,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.9748,.9616,.1852,.5,.9874,.9808,.5926,1,1,1,1,0,1,.5,.5,1,0],ix:9}},s:{a:0,k:[0,79.199],ix:5},e:{a:0,k:[2.213,-117.837],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"v1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}]}],layers=[{ddd:0,ind:1,ty:0,nm:"particles",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:230,op:280,st:230,bm:0},{ddd:0,ind:2,ty:0,nm:"particles",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:155,op:205,st:155,bm:0},{ddd:0,ind:3,ty:0,nm:"particles",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:75,op:125,st:75,bm:0},{ddd:0,ind:4,ty:0,nm:"particles",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:0,op:50,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"centre",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[261,258.359,0],ix:2,l:2},a:{a:0,k:[49.945,-1.055,0],ix:1,l:2},s:{a:0,k:[81.223,81.223,100],ix:6,l:2}},ao:0,ef:[{ty:29,nm:"Gaussian Blur",np:5,mn:"ADBE Gaussian Blur 2",ix:1,en:1,ef:[{ty:0,nm:"Blurriness",mn:"ADBE Gaussian Blur 2-0001",ix:1,v:{a:0,k:80,ix:1}},{ty:7,nm:"Blur Dimensions",mn:"ADBE Gaussian Blur 2-0002",ix:2,v:{a:0,k:1,ix:2}},{ty:7,nm:"Repeat Edge Pixels",mn:"ADBE Gaussian Blur 2-0003",ix:3,v:{a:0,k:0,ix:3}}]}],shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[289.89,289.89],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[1,.9877,.26,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11,s:[.9696,.9579,.2704,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:22,s:[.943,.9322,.297,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:78,s:[.985,.9755,.415,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:102,s:[.885,.8805,.615,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:120,s:[.8115,.8081,.6085,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:137,s:[.9217,.9153,.5383,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:146,s:[1,.9917,.5,1]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:223,s:[1,.9917,.5,1]},{t:299,s:[1,.9877,.26,1]}],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[49.945,-1.055],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[56.401,56.401],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"a1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:6,ty:0,nm:"multi light",refId:"comp_1",sr:1.25,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:90,s:[123.361]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:200,s:[225.803]},{t:299,s:[360]}],ix:10},p:{a:0,k:[256,261.505,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:0,op:300,st:0,bm:0}],markers=[],SvgAni={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},TextContainer$1=styled.div`
  z-index: 1200;
  position: absolute;
  display: flex;
  flex-direction: column;
  margin-right: 30px;
  align-items: center;
  justify-content: center;
`,LottieTitle$1=styled.span`
  color: white;
  font-size: 2rem;
`,LottieDescription$1=styled.span`
  color: white;
  font-size: 1.2rem;
`;function LottieMessage({title:tt}){return jsxRuntimeExports.jsxs(TextContainer$1,{children:[jsxRuntimeExports.jsx(LottieTitle$1,{children:tt}),jsxRuntimeExports.jsx(LottieDescription$1,{children:"به جهان موازی خوش امدید"})]})}const Container$i=styled.div`
  width: 100%;
  top: 0;
  position: absolute;
  z-index: 100000000;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  fill-opacity: 1;
  background-color: #7777779e;
`;function Commercial(){const tt=useNavigate();return reactExports.useLayoutEffect(()=>{const et=setTimeout(()=>{tt("/metaverse")},5e3);return()=>clearTimeout(et)},[tt]),jsxRuntimeExports.jsxs(Container$i,{children:[jsxRuntimeExports.jsx(Lottie,{animationData:SvgAni,style:{position:"absolute"}}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"804.402",height:"489.704",viewBox:"0 0 804.402 489.704",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient",x1:"0.5",x2:"0.492",y1:"0.011",y2:"1",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#ff3593"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#b70000"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_643",width:"804.402",height:"489.704",x:"0",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_643-2",width:"804.402",height:"489.704",x:"0",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-2",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-2",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639",width:"78.09",height:"54.613",x:"500.563",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-3",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-3",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638",width:"117.075",height:"54.328",x:"544.954",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-4",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-4",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640",width:"55.041",height:"98.008",x:"466.273",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-5",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-5",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639-2",width:"78.09",height:"54.613",x:"223.391",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-6",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-6",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638-2",width:"117.075",height:"54.328",x:"140.015",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-7",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-7",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640-2",width:"55.041",height:"98.008",x:"280.729",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-8",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-8",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsx("linearGradient",{id:"linear-gradient-3",x2:"0.5",y1:"1",y2:"0",xlinkHref:"#linear-gradient"}),jsxRuntimeExports.jsxs("filter",{id:"Path_644",width:"191.998",height:"146",x:"305.77",y:"5.211",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-9",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-9",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_644-2",width:"191.998",height:"146",x:"305.77",y:"5.211",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-10",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color-2"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-10",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color-2",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_648",width:"40.139",height:"40.809",x:"455.379",y:"107.793",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-11",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-11",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_657",width:"40.139",height:"40.809",x:"308.379",y:"107.793",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-12",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-12",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_651",width:"228.12",height:"92.566",x:"284.708",y:"333.023",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-13",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-13",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_652",width:"34.538",height:"35.055",x:"474.435",y:"385.973",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-14",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-14",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_653",width:"34.538",height:"35.055",x:"474.435",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-15",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-15",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_654",width:"34.538",height:"35.055",x:"290.127",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-16",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-16",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_655",width:"34.538",height:"35.055",x:"290.127",y:"385.592",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-17",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-17",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_649",width:"67.466",height:"65.365",x:"27.434",y:"26.449",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-18",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-18",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_650",width:"65.801",height:"63.621",x:"710.868",y:"26.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-19",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-19",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1065",transform:"translate(-555.231 -276.713)",children:[jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_643)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Path 643",transform:"translate(1150.95 16769.58)",children:[jsxRuntimeExports.jsx("path",{d:"M-754.674-16305.598l-371.275-146.246v-263.69l33.817-28.478 690.488-.56 30.097 28.672v263.98l-383.127 146.322z"}),jsxRuntimeExports.jsx("path",{fill:"#b70000",d:"M-754.618-16316.323l373.071-142.484v-252.808l-24.094-22.955-682.838.556-27.47 23.133v252.229l361.33 142.329m-.111 21.45l-381.22-150.162v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z"})]})}),jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Path 643",transform:"translate(1706.181 17046.289)",children:[jsxRuntimeExports.jsx("path",{d:"M-754.674-16305.598l-371.275-146.246v-263.69l33.817-28.478 690.488-.56 30.097 28.672v263.98l-383.127 146.322z"}),jsxRuntimeExports.jsx("path",{d:"M-754.618-16316.323l373.071-142.484v-252.808l-24.094-22.955-682.838.556-27.47 23.133v252.229l361.33 142.329m-.111 21.45l-381.22-150.162v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z"})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_643-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"#fff","data-name":"Path 643",children:[jsxRuntimeExports.jsx("path",{d:"M-754.674-16305.598l-371.275-146.246v-263.69l33.817-28.478 690.488-.56 30.097 28.672v263.98l-383.127 146.322z",transform:"translate(1150.95 16769.58)"}),jsxRuntimeExports.jsx("path",{d:"M-754.618-16316.323l373.071-142.484v-252.808l-24.094-22.955-682.838.556-27.47 23.133v252.229l361.33 142.329m-.111 21.45l-381.22-150.162v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1150.95 16769.58)"})]})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 643",children:[jsxRuntimeExports.jsx("path",{d:"M-754.674-16305.598l-371.275-146.246v-263.69l33.817-28.478 690.488-.56 30.097 28.672v263.98l-383.127 146.322z",transform:"translate(1706.181 17046.289)"}),jsxRuntimeExports.jsx("path",{fill:"#b70000",d:"M-754.618-16316.323l373.071-142.484v-252.808l-24.094-22.955-682.838.556-27.47 23.133v252.229l361.33 142.329m-.111 21.45l-381.22-150.162v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1706.181 17046.289)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1034",transform:"translate(1036.505 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1219.545-16755.564v24.613h27.887l5.691-6.262h4.837l9.675-18.352z","data-name":"Path 639",transform:"translate(1735.11 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",transform:"translate(78.68)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638)",transform:"translate(-559.95 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1288.977-16755.564l-13.943 24.328h37.562l5.122-8.537h33.862l10.529-15.791z","data-name":"Path 638",transform:"translate(1862.87 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(17.243 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1137.166-16755.564v22.479l-12.521 11.953v22.2l-12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1643.48 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(5.923 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1038",transform:"translate(710.247 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1171.455-16755.564v24.613h-27.887l-5.691-6.262h-4.837l-9.675-18.352z","data-name":"Path 639",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1229.789-16755.564l13.943 24.328h-37.562l-5.122-8.537h-33.862l-10.529-15.791z","data-name":"Path 638",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(56.832 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",transform:"translate(140.714)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640-2)",transform:"translate(-295.73 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1162.207-16755.564v22.479l12.521 11.953v22.2l12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(6.118 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1041",children:[jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_644)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"url(#linear-gradient-3)",d:"M-1135.949-16754.576v103.113l13.306 12.887h134.721l13.971-12.887v-103.113z","data-name":"Path 644",transform:"translate(1456.72 16774.79)"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_644-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#fff",d:"M-1135.949-16754.576v103.113l13.306 12.887h134.721l13.971-12.887v-103.113z","data-name":"Path 644",transform:"translate(1456.72 16774.79)"})})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_648)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M487.765 115.538h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z","data-name":"Path 648"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_657)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M316.126 115.538h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z","data-name":"Path 657"})})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1042",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_649)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M35.189 82.302l11.487.402.678-19.44L66.826 45.64l19.95.697.362-10.37-25.127-.878-25.995 23.507z","data-name":"Path 649"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_650)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M768.924 81.911H757.43V62.46l-18.845-18.293h-19.962V33.79h25.143l25.158 24.4z","data-name":"Path 650"})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 656",children:[jsxRuntimeExports.jsx("path",{d:"M-1135.949-16445.035v-275.15l40.164-33.822 698.139-.568 36.1 34.391v275.15l-393.183 150.163z",transform:"translate(1706.181 17046.289)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-754.674-16305.598l383.127-146.322v-263.98l-30.097-28.672-690.488.56-33.817 28.479v263.69l371.275 146.245m-.056 10.726l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1706.181 17046.289)"})]})]})]})]}),jsxRuntimeExports.jsx(LottieMessage,{title:"خرید VOD تجاری با موفقیت انجام شد"})]})}const Container$h=styled.div`
  width: 100%;
  top: 0;
  position: absolute;
  z-index: 100000000;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: #7777779e;
`;function Residential(){const tt=useNavigate();return reactExports.useLayoutEffect(()=>{const et=setTimeout(()=>{tt("/metaverse")},5e3);return()=>clearTimeout(et)},[tt]),jsxRuntimeExports.jsxs(Container$h,{children:[jsxRuntimeExports.jsx(Lottie,{animationData:SvgAni,style:{position:"absolute"}}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"804.402",height:"489.704",viewBox:"0 0 804.402 489.704",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient",x1:"0.492",x2:"0.492",y1:"0.014",y2:"0.988",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#ae8625"}),jsxRuntimeExports.jsx("stop",{offset:"0.246",stopColor:"#f7ef8a"}),jsxRuntimeExports.jsx("stop",{offset:"0.904",stopColor:"#d2ac47"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#edc967"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_643",width:"804.402",height:"489.704",x:"0",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639",width:"78.09",height:"54.613",x:"500.563",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-2",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-2",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638",width:"117.075",height:"54.328",x:"544.954",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-3",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-3",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640",width:"55.041",height:"98.008",x:"466.273",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-4",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-4",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639-2",width:"78.09",height:"54.613",x:"223.391",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-5",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-5",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638-2",width:"117.075",height:"54.328",x:"140.015",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-6",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-6",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640-2",width:"55.041",height:"98.008",x:"280.729",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-7",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-7",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient-2",x1:"0.492",x2:"0.492",y1:"0.014",y2:"0.988",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#ae8625"}),jsxRuntimeExports.jsx("stop",{offset:"0.277",stopColor:"#f7ef8a"}),jsxRuntimeExports.jsx("stop",{offset:"0.904",stopColor:"#d2ac47"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#edc967"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_644",width:"191.998",height:"146",x:"305.77",y:"5.211",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-8",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-8",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_648",width:"40.139",height:"40.809",x:"455.379",y:"107.793",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-9",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-9",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_657",width:"40.139",height:"40.809",x:"308.379",y:"107.793",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-10",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-10",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient-3",x1:"0.492",x2:"0.492",y1:"0.014",y2:"1",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#ae8625"}),jsxRuntimeExports.jsx("stop",{offset:"0.151",stopColor:"#f7ef8a"}),jsxRuntimeExports.jsx("stop",{offset:"0.632",stopColor:"#d2ac47"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#edc967"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_651",width:"228.12",height:"92.566",x:"284.769",y:"333.287",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-11",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-11",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_652",width:"34.538",height:"35.055",x:"474.435",y:"385.973",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-12",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-12",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_653",width:"34.538",height:"35.055",x:"474.435",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-13",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-13",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_654",width:"34.538",height:"35.055",x:"290.127",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-14",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-14",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_655",width:"34.538",height:"35.055",x:"290.127",y:"385.592",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-15",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-15",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_649",width:"67.466",height:"65.365",x:"27.434",y:"26.449",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-16",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-16",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_650",width:"65.801",height:"63.621",x:"710.868",y:"26.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-17",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-17",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1064",transform:"translate(-555.231 -276.713)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_643)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Path 643",transform:"translate(1150.95 16769.58)",children:[jsxRuntimeExports.jsx("path",{d:"M-754.688-16302.916l-373.761-147.227v-266.554l35.403-29.813 692.401-.564 31.598 30.101v266.774l-385.641 147.283z"}),jsxRuntimeExports.jsx("path",{fill:"#edc967",d:"M-754.646-16310.96l378.1-144.403v-258.395l-27.097-25.812-686.662.558-30.644 25.805v257.959l366.303 144.287m-.084 16.089l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z"})]})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1034",transform:"translate(1036.505 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1219.545-16755.564v24.613h27.887l5.691-6.262h4.837l9.675-18.352z","data-name":"Path 639",transform:"translate(1735.11 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",transform:"translate(78.68)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638)",transform:"translate(-559.95 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1288.977-16755.564l-13.943 24.328h37.562l5.122-8.537h33.862l10.529-15.791z","data-name":"Path 638",transform:"translate(1862.87 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(17.243 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1137.166-16755.564v22.479l-12.521 11.953v22.2l-12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1643.48 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(5.923 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1038",transform:"translate(710.247 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1171.455-16755.564v24.613h-27.887l-5.691-6.262h-4.837l-9.675-18.352z","data-name":"Path 639",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1229.789-16755.564l13.943 24.328h-37.562l-5.122-8.537h-33.862l-10.529-15.791z","data-name":"Path 638",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(56.832 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",transform:"translate(140.714)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640-2)",transform:"translate(-295.73 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1162.207-16755.564v22.479l12.521 11.953v22.2l12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(6.118 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1041",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_644)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"url(#linear-gradient-2)",d:"M-1135.949-16754.576v103.113l13.306 12.887h134.721l13.971-12.887v-103.113z","data-name":"Path 644",transform:"translate(1456.72 16774.79)"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_648)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M487.765 115.538h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z","data-name":"Path 648"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_657)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M316.126 115.538h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z","data-name":"Path 657"})})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_649)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M35.189 82.302l11.487.402.678-19.44L66.826 45.64l19.95.697.362-10.37-25.127-.878-25.995 23.507z","data-name":"Path 649"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_650)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M768.924 81.911H757.43V62.46l-18.845-18.293h-19.962V33.79h25.143l25.158 24.4z","data-name":"Path 650"})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 656",children:[jsxRuntimeExports.jsx("path",{d:"M-1135.949-16445.035v-275.15l40.164-33.822 698.139-.568 36.1 34.391v275.15l-393.183 150.163z",transform:"translate(1706.181 17046.289)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-754.674-16305.598l383.127-146.322v-263.98l-30.097-28.672-690.488.56-33.817 28.479v263.69l371.275 146.245m-.056 10.726l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1706.181 17046.289)"})]})]})]}),jsxRuntimeExports.jsx(LottieMessage,{title:"خرید VOD مسکونی با موفقیت انجام شد"})]})}const Container$g=styled.div`
  width: 100%;
  top: 0;
  position: absolute;
  z-index: 100000000;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  fill-opacity: 1;
  background-color: #7777779e;
`;function Educational(){const tt=useNavigate();return reactExports.useLayoutEffect(()=>{const et=setTimeout(()=>{tt("/metaverse")},5e3);return()=>clearTimeout(et)},[tt]),jsxRuntimeExports.jsxs(Container$g,{children:[jsxRuntimeExports.jsx(Lottie,{animationData:SvgAni,style:{position:"absolute"}}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"804.402",height:"489.704",viewBox:"0 0 804.402 489.704",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient",x1:"0.5",x2:"0.5",y2:"1",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#b5d2ff"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#07009c"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_643",width:"804.402",height:"489.704",x:"0",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_643-2",width:"804.402",height:"489.704",x:"0",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-2",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-2",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639",width:"78.09",height:"54.613",x:"500.563",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-3",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-3",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638",width:"117.075",height:"54.328",x:"544.954",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-4",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-4",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640",width:"55.041",height:"98.008",x:"466.273",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-5",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-5",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_639-2",width:"78.09",height:"54.613",x:"223.391",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-6",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-6",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_638-2",width:"117.075",height:"54.328",x:"140.015",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-7",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-7",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_640-2",width:"55.041",height:"98.008",x:"280.729",y:"9.389",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-8",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.702"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-8",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsx("linearGradient",{id:"linear-gradient-3",y1:"1",y2:"-0.408",xlinkHref:"#linear-gradient"}),jsxRuntimeExports.jsxs("filter",{id:"Path_644",width:"191.998",height:"146",x:"305.77",y:"5.211",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-9",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-9",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_644-2",width:"191.998",height:"146",x:"305.77",y:"5.211",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-10",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color-2"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-10",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color-2",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsx("linearGradient",{id:"linear-gradient-4",y1:"1",y2:"-0.103",xlinkHref:"#linear-gradient"}),jsxRuntimeExports.jsxs("filter",{id:"Path_648",width:"54.639",height:"55.309",x:"448.129",y:"100.543",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-11",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-11",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_648-2",width:"54.639",height:"55.309",x:"448.129",y:"100.543",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-12",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color-3"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-12",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color-3",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_657",width:"54.639",height:"55.309",x:"301.129",y:"100.543",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-13",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-13",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_657-2",width:"54.639",height:"55.309",x:"301.129",y:"100.543",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{dy:"3"}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-14",stdDeviation:"1.5"}),jsxRuntimeExports.jsx("feFlood",{result:"color-4"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic",in2:"blur-14",operator:"out"}),jsxRuntimeExports.jsx("feComposite",{in:"color-4",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceGraphic",operator:"in"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_651",width:"228.12",height:"92.566",x:"284.708",y:"333.023",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-15",stdDeviation:"5"}),jsxRuntimeExports.jsx("feFlood",{}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-15",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_652",width:"34.538",height:"35.055",x:"474.435",y:"385.973",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-16",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-16",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_653",width:"34.538",height:"35.055",x:"474.435",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-17",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-17",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_654",width:"34.538",height:"35.055",x:"290.127",y:"337.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-18",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-18",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_655",width:"34.538",height:"35.055",x:"290.127",y:"385.592",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-19",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-19",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_649",width:"67.466",height:"65.365",x:"27.434",y:"26.449",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-20",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-20",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_650",width:"65.801",height:"63.621",x:"710.868",y:"26.037",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-21",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-21",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1066",transform:"translate(-555.231 -276.713)",children:[jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_643)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Path 643",transform:"translate(1150.95 16769.58)",children:[jsxRuntimeExports.jsx("path",{d:"M-754.688-16302.916l-373.761-147.227v-266.554l35.403-29.813 692.401-.564 31.598 30.101v266.774l-385.641 147.283z"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-754.646-16310.96l378.1-144.403v-258.395l-27.097-25.812-686.662.558-30.644 25.805v257.959l366.303 144.287m-.084 16.089l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z"})]})}),jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Path 643",transform:"translate(1706.181 17046.289)",children:[jsxRuntimeExports.jsx("path",{d:"M-754.688-16302.916l-373.761-147.227v-266.554l35.403-29.813 692.401-.564 31.598 30.101v266.774l-385.641 147.283z"}),jsxRuntimeExports.jsx("path",{d:"M-754.646-16310.96l378.1-144.403v-258.395l-27.097-25.812-686.662.558-30.644 25.805v257.959l366.303 144.287m-.084 16.089l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z"})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_643-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"#fff","data-name":"Path 643",children:[jsxRuntimeExports.jsx("path",{d:"M-754.688-16302.916l-373.761-147.227v-266.554l35.403-29.813 692.401-.564 31.598 30.101v266.774l-385.641 147.283z",transform:"translate(1150.95 16769.58)"}),jsxRuntimeExports.jsx("path",{d:"M-754.646-16310.96l378.1-144.403v-258.395l-27.097-25.812-686.662.558-30.644 25.805v257.959l366.303 144.287m-.084 16.089l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1150.95 16769.58)"})]})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 643",children:[jsxRuntimeExports.jsx("path",{d:"M-754.688-16302.916l-373.761-147.227v-266.554l35.403-29.813 692.401-.564 31.598 30.101v266.774l-385.641 147.283z",transform:"translate(1706.181 17046.289)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-754.646-16310.96l378.1-144.403v-258.395l-27.097-25.812-686.662.558-30.644 25.805v257.959l366.303 144.287m-.084 16.089l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1706.181 17046.289)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1034",transform:"translate(1036.505 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1219.545-16755.564v24.613h27.887l5.691-6.262h4.837l9.675-18.352z","data-name":"Path 639",transform:"translate(1735.11 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",transform:"translate(78.68)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638)",transform:"translate(-559.95 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1288.977-16755.564l-13.943 24.328h37.562l5.122-8.537h33.862l10.529-15.791z","data-name":"Path 638",transform:"translate(1862.87 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(17.243 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640)",transform:"translate(-481.27 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1137.166-16755.564v22.479l-12.521 11.953v22.2l-12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1643.48 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(5.923 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1038",transform:"translate(710.247 301.102)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_639-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1171.455-16755.564v24.613h-27.887l-5.691-6.262h-4.837l-9.675-18.352z","data-name":"Path 639",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1032",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_638-2)",transform:"translate(-155.02 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1229.789-16755.564l13.943 24.328h-37.562l-5.122-8.537h-33.862l-10.529-15.791z","data-name":"Path 638",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 176",transform:"translate(56.832 5.564)"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1033",transform:"translate(140.714)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_640-2)",transform:"translate(-295.73 -24.39)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",d:"M-1162.207-16755.564v22.479l12.521 11.953v22.2l12.521 11.381v-68.008z","data-name":"Path 640",transform:"translate(1457.94 16779.95)"})}),jsxRuntimeExports.jsx("circle",{cx:"6.5",cy:"6.5",r:"6.5",fill:"#707070","data-name":"Ellipse 177",transform:"translate(6.118 5.564)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1041",children:[jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_644)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"url(#linear-gradient-3)",d:"M-1135.949-16754.576v103.113l13.306 12.887h134.721l13.971-12.887v-103.113z","data-name":"Path 644",transform:"translate(1456.72 16774.79)"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_644-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#fff",d:"M-1135.949-16754.576v103.113l13.306 12.887h134.721l13.971-12.887v-103.113z","data-name":"Path 644",transform:"translate(1456.72 16774.79)"})})]}),jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_648)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient-4)","data-name":"Path 648",transform:"translate(1594.31 16758.39)",children:[jsxRuntimeExports.jsx("path",{d:"M-1106.545-16642.852h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-1115.105-16642.852h8.56v13.977l-9.752 11.332h-14.887v-8.336h10.05l6.029-6.516v-10.457z"})]})}),jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient-4)","data-name":"Path 648",transform:"translate(2149.545 17035.107)",children:[jsxRuntimeExports.jsx("path",{d:"M-1106.545-16642.852h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z"}),jsxRuntimeExports.jsx("path",{d:"M-1115.105-16642.852h8.56v13.977l-9.752 11.332h-14.887v-8.336h10.05l6.029-6.516v-10.457z"})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_648-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"#fff","data-name":"Path 648",children:[jsxRuntimeExports.jsx("path",{d:"M-1106.545-16642.852h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z",transform:"translate(1594.31 16758.39)"}),jsxRuntimeExports.jsx("path",{d:"M-1115.105-16642.852h8.56v13.977l-9.752 11.332h-14.887v-8.336h10.05l6.029-6.516v-10.457z",transform:"translate(1594.31 16758.39)"})]})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 648",children:[jsxRuntimeExports.jsx("path",{d:"M-1106.545-16642.852h-8.56v10.457l-6.029 6.516h-10.05v8.336h14.888l9.751-11.332z",transform:"translate(2149.545 17035.107)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-1115.105-16642.852h8.56v13.977l-9.752 11.332h-14.887v-8.336h10.05l6.029-6.516v-10.457z",transform:"translate(2149.545 17035.107)"})]})]}),jsxRuntimeExports.jsxs("g",{"data-type":"innerShadowGroup",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_657)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient-4)","data-name":"Path 657",transform:"translate(1447.31 16758.39)",children:[jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332v-13.977z"})]})}),jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient-4)","data-name":"Path 657",transform:"translate(2002.545 17035.107)",children:[jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z"}),jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332v-13.977z"})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_657-2)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsxs("g",{fill:"#fff","data-name":"Path 657",children:[jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z",transform:"translate(1447.31 16758.39)"}),jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332v-13.977z",transform:"translate(1447.31 16758.39)"})]})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 657",children:[jsxRuntimeExports.jsx("path",{d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332z",transform:"translate(2002.545 17035.107)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-1131.184-16642.852h8.56v10.457l6.029 6.516h10.05v8.336h-14.888l-9.751-11.332v-13.977z",transform:"translate(2002.545 17035.107)"})]})]})]}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_649)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M35.189 82.302l11.487.402.678-19.44L66.826 45.64l19.95.697.362-10.37-25.127-.878-25.995 23.507z","data-name":"Path 649"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_650)",transform:"translate(555.23 276.71)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M768.924 81.911H757.43V62.46l-18.845-18.293h-19.962V33.79h25.143l25.158 24.4z","data-name":"Path 650"})}),jsxRuntimeExports.jsxs("g",{fill:"none","data-name":"Path 656",children:[jsxRuntimeExports.jsx("path",{d:"M-1135.949-16445.035v-275.15l40.164-33.822 698.139-.568 36.1 34.391v275.15l-393.183 150.163z",transform:"translate(1706.181 17046.289)"}),jsxRuntimeExports.jsx("path",{fill:"#ecdeea",d:"M-754.674-16305.598l383.127-146.322v-263.98l-30.097-28.672-690.488.56-33.817 28.479v263.69l371.275 146.245m-.056 10.726l-381.22-150.163v-275.15l40.165-33.823 698.138-.568 36.1 34.39v275.15l-393.183 150.164z",transform:"translate(1706.181 17046.289)"})]})]})]}),jsxRuntimeExports.jsx(LottieMessage,{title:"خرید VOD آموزشی با موفقیت انجام شد"})]})}const Container$f=styled.div`
  width: 100%;
  top: 0;
  position: absolute;
  z-index: 100000000;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  fill-opacity: 1;
  background-color: #7777779e;
`,TextContainer=styled.div`
  z-index: 1200;
  position: absolute;
  display: flex;
  flex-direction: column;
  margin-right: 30px;
  align-items: center;
  justify-content: center;
`,LottieTitle=styled.span`
  color: white;
  font-size: 2rem;
`,LottieDescription=styled.span`
  color: white;
  font-size: 1.2rem;
  direction: rtl;
`;function SignupLottie(){const tt=useNavigate();return reactExports.useLayoutEffect(()=>{const et=setTimeout(()=>{tt("/metaverse/login")},5e3);return()=>clearTimeout(et)},[tt]),jsxRuntimeExports.jsxs(Container$f,{children:[jsxRuntimeExports.jsx(Lottie,{animationData:SvgAni,style:{position:"absolute"}}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"808.768",height:"411.59",viewBox:"0 0 808.768 411.59",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient",x1:"0.008",x2:"2.191",y1:"0.043",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#872592"}),jsxRuntimeExports.jsx("stop",{offset:"0.045",stopColor:"#9338b4"}),jsxRuntimeExports.jsx("stop",{offset:"0.226",stopColor:"#f6adff"}),jsxRuntimeExports.jsx("stop",{offset:"0.259",stopColor:"#ed97f5"}),jsxRuntimeExports.jsx("stop",{offset:"0.287",stopColor:"#de73e5"}),jsxRuntimeExports.jsx("stop",{offset:"0.433",stopColor:"#e655e1"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#701776"})]}),jsxRuntimeExports.jsxs("filter",{id:"Polygon_32",width:"341",height:"118",x:"197.681",y:"293.59",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodColor:"#707070"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Polygon_35",width:"118",height:"203.545",x:"690.768",y:"103.772",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-2",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodColor:"#707070"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-2",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Polygon_34",width:"341",height:"118",x:"190.767",y:"0",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-3",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodColor:"#707070"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-3",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_666",width:"82.703",height:"145.357",x:"2.01",y:"132.821",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-4",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodColor:"#707070"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-4",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"linear-gradient-5",x1:"0.008",x2:"1",y1:"0.043",y2:"0.956",gradientUnits:"objectBoundingBox",children:[jsxRuntimeExports.jsx("stop",{offset:"0",stopColor:"#872592"}),jsxRuntimeExports.jsx("stop",{offset:"0.043",stopColor:"#8635a3"}),jsxRuntimeExports.jsx("stop",{offset:"0.137",stopColor:"#e37bef"}),jsxRuntimeExports.jsx("stop",{offset:"0.241",stopColor:"#de73e5"}),jsxRuntimeExports.jsx("stop",{offset:"0.447",stopColor:"#e69ceb"}),jsxRuntimeExports.jsx("stop",{offset:"0.501",stopColor:"#d56cdd"}),jsxRuntimeExports.jsx("stop",{offset:"0.666",stopColor:"#cd61d1"}),jsxRuntimeExports.jsx("stop",{offset:"0.905",stopColor:"#ef7be3"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#701776"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_664",width:"695.174",height:"185",x:"20.595",y:"113.045",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-5",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodColor:"#707070"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-5",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_653",width:"47.954",height:"48.834",x:"675.653",y:"106.416",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-6",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-6",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]}),jsxRuntimeExports.jsxs("filter",{id:"Path_667",width:"47.954",height:"48.834",x:"674.653",y:"255.082",filterUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{result:"blur-7",stdDeviation:"2.5"}),jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0.8"}),jsxRuntimeExports.jsx("feComposite",{in2:"blur-7",operator:"in"}),jsxRuntimeExports.jsx("feComposite",{in:"SourceGraphic"})]})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1060",transform:"translate(-573.596 -334.5)",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Polygon_32)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Polygon 32",transform:"rotate(-180 265.59 202.045)",children:[jsxRuntimeExports.jsx("path",{d:"M298.364 99H27.636c-2.79 0-3.646-2.21-3.842-2.888-.196-.677-.653-3.003 1.705-4.493L160.863 6.082a3.995 3.995 0 014.274 0L300.5 91.619c2.358 1.49 1.901 3.816 1.705 4.493-.196.678-1.053 2.888-3.842 2.888z"}),jsxRuntimeExports.jsx("path",{fill:"#cdcdcd",d:"M163 1.463v8L27.636 95h270.728L163 9.463v-8m0 0c1.484 0 2.968.413 4.273 1.237l135.364 85.537c6.777 4.283 3.744 14.763-4.273 14.763H27.636c-8.017 0-11.05-10.48-4.273-14.763L158.727 2.7A7.993 7.993 0 01163 1.463z"})]})}),jsxRuntimeExports.jsx("g",{filter:"url(#Polygon_35)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Polygon 35",transform:"rotate(90 345 456.27)",children:[jsxRuntimeExports.jsx("path",{d:"M170.378 99H18.168c-.849 0-1.608-.225-2.256-.67a4.053 4.053 0 01-1.406-1.718 4.053 4.053 0 01-.317-2.197c.109-.778.455-1.49 1.027-2.116L91.322 9.15a3.956 3.956 0 012.95-1.3c1.136 0 2.184.461 2.951 1.3l76.105 83.15c.573.626.919 1.338 1.028 2.116a4.053 4.053 0 01-.317 2.197c-.311.706-.797 1.3-1.406 1.718-.649.445-1.407.67-2.255.67z"}),jsxRuntimeExports.jsx("path",{fill:"#cdcdcd",d:"M94.272 11.849L18.167 95h152.21L94.284 11.85l-.01-.001m0-8a7.97 7.97 0 015.9 2.599l76.106 83.15c4.698 5.133 1.057 13.402-5.901 13.402H18.168c-6.959 0-10.6-8.269-5.902-13.401L88.37 6.448a7.97 7.97 0 015.901-2.599z"})]})}),jsxRuntimeExports.jsx("g",{filter:"url(#Polygon_34)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient)","data-name":"Polygon 34",transform:"translate(198.27 7.5)",children:[jsxRuntimeExports.jsx("path",{d:"M298.364 99H27.636c-2.79 0-3.646-2.21-3.842-2.888-.196-.677-.653-3.003 1.705-4.493L160.863 6.082a3.995 3.995 0 014.274 0L300.5 91.619c2.358 1.49 1.901 3.816 1.705 4.493-.196.678-1.053 2.888-3.842 2.888z"}),jsxRuntimeExports.jsx("path",{fill:"#cdcdcd",d:"M163 1.463v8L27.636 95h270.728L163 9.463v-8m0 0c1.484 0 2.968.413 4.273 1.237l135.364 85.537c6.777 4.283 3.744 14.763-4.273 14.763H27.636c-8.017 0-11.05-10.48-4.273-14.763L158.727 2.7A7.993 7.993 0 01163 1.463z"})]})}),jsxRuntimeExports.jsxs("g",{fill:"#e1e1e1",stroke:"#707070",strokeWidth:"1","data-name":"Rectangle 1161",opacity:"0.92",transform:"translate(573.596 436.5)",children:[jsxRuntimeExports.jsx("rect",{width:"722.535",height:"207.089",stroke:"none",rx:"20"}),jsxRuntimeExports.jsx("rect",{width:"721.535",height:"206.089",x:"0.5",y:"0.5",fill:"none",rx:"19.5"})]}),jsxRuntimeExports.jsxs("g",{"data-name":"Group 1059",children:[jsxRuntimeExports.jsx("g",{filter:"url(#Path_666)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsx("path",{fill:"url(#linear-gradient)",d:"M72.567 4.854a8 8 0 0110.733 0l57.162 51.7A8 8 0 01135.1 70.49H20.771A8 8 0 0115.4 56.557z","data-name":"Path 666",transform:"rotate(90 -23.785 103.785)"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_664)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsxs("g",{fill:"url(#linear-gradient-5)","data-name":"Path 664",transform:"translate(28.27 120.54)",children:[jsxRuntimeExports.jsx("path",{d:"M668 169.5H12c-3.704 0-7.491-1.789-9.65-4.558-1.189-1.526-2.431-4.044-1.593-7.375.268-1.064 2.247-4.345 10.153-13.933 5.113-6.2 12.11-14.322 20.8-24.144 14.8-16.725 29.57-32.79 29.717-32.95l.29-.315-.267-.335c-.515-.647-51.549-64.829-58.751-73.208C.46 10.079-.2 7.725.737 5.687 2.227 2.44 7.634.5 12 .5h656c3.072 0 5.96 1.196 8.132 3.368A11.425 11.425 0 01679.5 12v146c0 3.072-1.196 5.96-3.368 8.132A11.425 11.425 0 01668 169.5z"}),jsxRuntimeExports.jsx("path",{fill:"#929292",d:"M12 1c-2.115 0-4.467.478-6.452 1.312-2.167.91-3.714 2.183-4.357 3.584-.847 1.845-.212 4.018 1.887 6.46 7.209 8.386 58.249 72.575 58.763 73.223l.533.67-.58.63c-.147.16-14.914 16.22-29.709 32.943-8.686 9.817-15.68 17.935-20.789 24.13-8.26 10.018-9.845 12.907-10.054 13.737-.789 3.135.382 5.508 1.503 6.946C4.812 167.287 8.445 169 12 169h656c2.938 0 5.7-1.144 7.778-3.222A10.928 10.928 0 00679 158V12c0-2.938-1.144-5.7-3.222-7.778A10.928 10.928 0 00668 1H12m0-1h656c6.627 0 12 5.373 12 12v146c0 6.627-5.373 12-12 12H12c-6.628 0-13.516-5.45-11.728-12.555C2.06 150.341 61.06 86.201 61.06 86.201S9.599 21.477 2.319 13.008C-4.96 4.539 5.372 0 12 0z"})]})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_653)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M715.86 147.502h-11.276v-13.773l-7.941-8.58h-13.238v-10.98h19.61l12.844 14.924z","data-name":"Path 653"})}),jsxRuntimeExports.jsx("g",{filter:"url(#Path_667)",transform:"translate(573.6 334.5)",children:jsxRuntimeExports.jsx("path",{fill:"#c3c3c3",stroke:"#707070",strokeWidth:"0.5",d:"M714.86 262.83h-11.276v13.773l-7.941 8.58h-13.238v10.98h19.61l12.844-14.924z","data-name":"Path 667"})})]})]})]}),jsxRuntimeExports.jsxs(TextContainer,{children:[jsxRuntimeExports.jsx(LottieTitle,{children:"به جهان موازی خوش امدید"}),jsxRuntimeExports.jsx(LottieDescription,{children:"جهت ادامه لطفا ایمیل خود را برسی کنید."})]})]})}const Container$e=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row-reverse;
  padding: 16px;
`,Info=styled.div`
  display: flex;
  justify-content: space-between;
  flex-direction: row-reverse;
  align-items: center;
  margin-bottom: 24px;

  p {
    font-weight: bold;
  }
`,InfoImage=styled.div`
  display: flex;
  justify-content: space-between;
  flex-direction: row-reverse;
  align-items: center;

  img {
    margin-left: 16px;
  }
`,InfoSection=styled.div`
  width: 100%;
  padding: 24px;
`,Progress=styled.div`
  width: 50% !important;
  height: 40px !important;
  border-radius: 100px;
  border: 8px solid #e9e9e9;
  text-align: center;
  font-size: 16px;
  font-weight: bold;
  position: relative;

  span {
    position: absolute;
    left: 45%;
    top: 0;
  }
`,Complete=styled.div`
  width: 0%;
  height: 100%;
  border-radius: 100px;
  background-color: var(--bs-orange);
`,EstateContainer=styled.div`
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin-bottom: 24px;
`,Estate=styled.div`
  display: flex;
  height: 100px;
  justify-content: space-around;
  align-items: center;
  flex-direction: column;

  p {
    font-weight: bolder;
  }
`,ProfileSection=styled.div`
  width: 16%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,ProgressLevel=({percent:tt="0%"})=>jsxRuntimeExports.jsxs(Info,{children:[jsxRuntimeExports.jsx("p",{children:"سطح"}),jsxRuntimeExports.jsxs(Progress,{children:[jsxRuntimeExports.jsx(Complete,{style:{width:tt}}),jsxRuntimeExports.jsx("span",{children:tt})]})]}),Label=({Image:tt,Name:et,Value:nt})=>jsxRuntimeExports.jsxs(Info,{children:[jsxRuntimeExports.jsxs(InfoImage,{children:[jsxRuntimeExports.jsx("img",{src:tt,alt:"",width:32}),jsxRuntimeExports.jsx("p",{children:et})]}),jsxRuntimeExports.jsx("p",{children:nt})]}),Note=styled.textarea`
  resize: none;
  width: 90%;
  height: 40px;
  text-align: right;
  direction: rtl;
  outline: none;
  border: 2px solid #707070 !important;
  border-radius: 8px;
  padding: 4px;
  font-family: iransans;
`,NoteContainer=styled.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,ProfileIcons=styled.div`
  display: flex;
  justify-content: space-around;
  align-items: center;
  background: transparent;
  position: absolute;
  bottom: 20%;
  width: 100%;
`;function General(){var ut,ft,dt,ht,mt,xt,_t,At,gt,vt,Et,yt,wt;const[tt,et]=reactExports.useContext(FollowContext),{id:nt}=useParams(),[rt,it]=reactExports.useState([]),{Request:st}=useRequest(),ot=useNavigate();reactExports.useEffect(()=>{st(`players/${nt}/profile`).then(Ct=>{it(Ct.data.data)})},[]);const at=()=>{st(`follow/${nt}`).then(()=>{st("following").then(Ct=>{et(Ct.data.data)})})},lt=()=>{st(`unfollow/${nt}`).then(()=>{st("following").then(Ct=>{et(Ct.data.data)})})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Container$e,{children:[jsxRuntimeExports.jsxs(ProfileSection,{children:[jsxRuntimeExports.jsx(Swiper,{direction:"vertical",slidesPerView:1,spaceBetween:30,mousewheel:!0,className:"mySwiper cursor-pointer ",style:{height:"37%"},children:((ut=rt==null?void 0:rt.images)==null?void 0:ut.length)>0?rt.images.reverse().map(Ct=>jsxRuntimeExports.jsx(SwiperSlide,{className:"h-fit",children:jsxRuntimeExports.jsx("img",{style:{borderRadius:"10px"},src:Ct.url,width:150,height:150,alt:""})},Ct.id)):jsxRuntimeExports.jsx("img",{style:{borderRadius:"10px"},src:AnonymousImage,width:150,alt:""})}),jsxRuntimeExports.jsxs(ProfileIcons,{children:[jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:SanadImage,alt:"",width:32,onClick:()=>ot("/metaverse/sanad",{state:{code:rt==null?void 0:rt.code,id:nt}})}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer object-disabled",src:MessageImage,alt:"",width:32}),jsxRuntimeExports.jsx("img",{className:"cursor-pointer object-disabled",src:ShareImage,alt:"",width:32}),_.findIndex(tt,function(Ct){return parseInt(Ct.id)===parseInt(nt)})>-1?jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:CrossIcon$1,alt:"",width:32,onClick:()=>lt()}):jsxRuntimeExports.jsx("img",{className:"cursor-pointer",src:FollowImage,alt:"",width:32,onClick:()=>at()})]})]}),jsxRuntimeExports.jsxs(InfoSection,{children:[jsxRuntimeExports.jsxs(Info,{children:[jsxRuntimeExports.jsx("p",{children:rt==null?void 0:rt.name}),jsxRuntimeExports.jsx("p",{className:"link",children:rt==null?void 0:rt.code})]}),jsxRuntimeExports.jsx(Label,{Image:PSCImage,Name:"PSC مجموع دارایی",Value:(ft=rt==null?void 0:rt.wallet)==null?void 0:ft.psc}),jsxRuntimeExports.jsx(Label,{Image:IRRImage,Name:"مجموع دارایی ریال",Value:(dt=rt==null?void 0:rt.wallet)==null?void 0:dt.irr}),jsxRuntimeExports.jsx(Label,{Image:BlueImage,Name:"مجموع دارایی رنگ آبی",Value:(ht=rt==null?void 0:rt.wallet)==null?void 0:ht.blue}),jsxRuntimeExports.jsx(Label,{Image:RedImage,Name:"مجموع دارایی رنگ قرمز",Value:(mt=rt==null?void 0:rt.wallet)==null?void 0:mt.red}),jsxRuntimeExports.jsx(Label,{Image:YellowImage,Name:"مجموع دارایی رنگ زرد",Value:(xt=rt==null?void 0:rt.wallet)==null?void 0:xt.yellow}),jsxRuntimeExports.jsx(Label,{Image:SatisfactionICoin,Name:"مجموع دارایی رضایت",Value:(_t=rt==null?void 0:rt.wallet)==null?void 0:_t.satisfaction})]}),jsxRuntimeExports.jsxs(InfoSection,{style:{borderRight:"1px solid #333"},children:[jsxRuntimeExports.jsxs(Info,{children:[jsxRuntimeExports.jsx("p",{children:"تاریخ ورود"}),jsxRuntimeExports.jsx("p",{children:rt==null?void 0:rt.registered_at})]}),jsxRuntimeExports.jsx(ProgressLevel,{percent:`${rt==null?void 0:rt.score_percentage_to_next_level}%`}),jsxRuntimeExports.jsxs(EstateContainer,{children:[jsxRuntimeExports.jsxs(Estate,{children:[jsxRuntimeExports.jsx("img",{src:RedHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(At=rt==null?void 0:rt.features)!=null&&At.tejari?(gt=rt==null?void 0:rt.features)==null?void 0:gt.tejari:0})]}),jsxRuntimeExports.jsxs(Estate,{children:[jsxRuntimeExports.jsx("img",{src:YellowHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(vt=rt==null?void 0:rt.features)!=null&&vt.maskoni?(Et=rt==null?void 0:rt.features)==null?void 0:Et.maskoni:0})]}),jsxRuntimeExports.jsxs(Estate,{children:[jsxRuntimeExports.jsx("img",{src:BlueHouseIcon,alt:"",width:48}),jsxRuntimeExports.jsx("p",{children:(yt=rt==null?void 0:rt.features)!=null&&yt.amoozeshi?(wt=rt==null?void 0:rt.features)==null?void 0:wt.amoozeshi:0})]})]}),jsxRuntimeExports.jsx(Label,{Image:FollowingImage,Name:"دنبال کننده",Value:rt==null?void 0:rt.followers}),jsxRuntimeExports.jsx(Label,{Image:FollowersImage,Name:"دنبال شونده",Value:rt==null?void 0:rt.following}),jsxRuntimeExports.jsxs(NoteContainer,{children:[jsxRuntimeExports.jsx("img",{src:CommentImage,alt:"",width:32,className:"cursor-pointer"}),jsxRuntimeExports.jsx(Note,{placeholder:"یاداشتی بنویسید..."})]})]})]})})}const Container$d=styled.div`
  width: 100%;
  height: 140px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #666;
`,DetailContainer=styled.div`
  width: 100%;
  display: flex;
  align-items: center;`,Title$1=styled.div`
  width: 50%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  gap: 22px;
`,Information=styled.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
`,PolygonContainer=styled.div`
  width: 40%;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
`,TextDetail=styled.p`
  font-size: 16px;
  color: #707070;
  direction: rtl;
  text-align: right;
`,Id=styled.p`
  font-size: 19px;
  color: #fd7e14;
  font-weight: 700;
  cursor: pointer;
`;function FeatureCard({IdMap:tt,Address:et,Area:nt,Psc:rt,Irr:it,Type:st}){return jsxRuntimeExports.jsxs(Container$d,{children:[jsxRuntimeExports.jsx(PolygonContainer,{children:jsxRuntimeExports.jsx(Id,{children:tt})}),jsxRuntimeExports.jsxs(DetailContainer,{children:[jsxRuntimeExports.jsxs(Information,{children:[jsxRuntimeExports.jsx(TextDetail,{children:TextShorter(et,40)}),parseInt(rt)!==0&&parseInt(it)!==0?jsxRuntimeExports.jsxs(TextDetail,{children:[parseInt(rt)," / ",parseInt(it)]}):jsxRuntimeExports.jsx(Submit$1,{text:"قیمت گذاری",type:"primary",options:{style:{width:120}}}),jsxRuntimeExports.jsxs(TextDetail,{children:[st,"  - متراژ :  ",nt]})]}),jsxRuntimeExports.jsxs(Title$1,{children:[jsxRuntimeExports.jsx(TextDetail,{children:"آدرس:"}),jsxRuntimeExports.jsx(TextDetail,{children:"قیمت:"}),jsxRuntimeExports.jsx(TextDetail,{children:"کاربری:"})]})]})]})}const ParentInput$2=styled.div`
  width: 95%;
  position: relative;
  margin-top: 5%;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch$2=styled.input`
  width: 90%;
  border: 1px solid #b8b8b8 !important;
  border-radius: 8px !important;
  color: #b8b8b8 !important;
  height: 40px;
  text-align: right;
  direction: rtl;
  font-size: 16px !important;
`,IconSearch$2=styled.img`
  width: 32px;
  height: 32px;
  left:6%;
  position: absolute;
  cursor: pointer;
`;function FeaturesSearch({data:tt,setResult:et}){const[nt,rt]=reactExports.useState(""),[,it]=reactExports.useTransition();return reactExports.useEffect(()=>{it(()=>{et(tt.filter(st=>st.properties.address.indexOf(nt)!==-1||st.properties.id.indexOf(nt)!==-1))})},[tt,nt]),jsxRuntimeExports.jsxs(ParentInput$2,{children:[jsxRuntimeExports.jsx(InputSearch$2,{type:"text",placeholder:"جستجو کنید",onChange:st=>rt(st.target.value),value:nt}),jsxRuntimeExports.jsx(IconSearch$2,{src:SearchIcon})]})}const Container$c=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  padding: 0 20px;
  margin-top: 4%;
`;function Features(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]),[rt,it]=reactExports.useState([]);return reactExports.useEffect(()=>{tt("my-features").then(st=>{nt(st.data.data)})},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FeaturesSearch,{data:et,setResult:it}),jsxRuntimeExports.jsx(Container$c,{children:rt.map(st=>jsxRuntimeExports.jsx(FeatureCard,{Address:st.properties.address,Area:st.properties.area,IdMap:st.properties.id,Irr:st.properties.price_irr,Psc:st.properties.price_psc,Type:FeatureType(st.properties.rgb)},st.properties.id))})]})}const ParentInput$1=styled.div`
  width: 95%;
  position: relative;
  margin-top: 5%;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch$1=styled.input`
  width: 90%;
  border: 1px solid #b8b8b8 !important;
  border-radius: 8px !important;
  color: #b8b8b8 !important;
  height: 40px;
  text-align: right;
  direction: rtl;
  font-size: 16px !important;
`,IconSearch$1=styled.img`
  width: 32px;
  height: 32px;
  left:6%;
  position: absolute;
  cursor: pointer;
`;function FollowsSearch({data:tt,setResult:et}){const[nt,rt]=reactExports.useState(""),[,it]=reactExports.useTransition();return reactExports.useEffect(()=>{it(()=>{et(tt.filter(st=>st.name.indexOf(nt)!==-1||st.code.indexOf(nt)!==-1))})},[tt,nt]),jsxRuntimeExports.jsxs(ParentInput$1,{children:[jsxRuntimeExports.jsx(InputSearch$1,{type:"text",placeholder:"جستجو کنید",onChange:st=>rt(st.target.value),value:nt}),jsxRuntimeExports.jsx(IconSearch$1,{src:SearchIcon})]})}const Container$b=styled.div`
  width: 100%;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,DetailPlayersCard=styled.div`
  width: 40%;
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  justify-content: space-between;
`,BorderImgPlayersCard=styled.div`
  width: 90px;
  aspect-ratio: 1/1;
  border-radius: 9999px;
  border: 1px solid #b8b8b8;
  padding: 3px;
`,ImgPlayersCard=styled.img`
  height: 100%;
  width: 100%;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
`,ContainerTextPlayer=styled.div`
  width: 60%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
`,IdPlayer=styled.p`
  font-size: 19px;
  color: #0800ff;
  white-space: nowrap;
  font-family: "Segoe UI";
  font-weight: 700;
`,NamePlayer=styled.p`
  font-size: 15px;
  color: #707070;
  font-family: "Segoe UI";
  white-space: nowrap;
`;function PlayerCard({PlayerImg:tt,TextBtn:et,Id:nt,Name:rt}){return jsxRuntimeExports.jsxs(Container$b,{children:[jsxRuntimeExports.jsx(Submit$1,{text:et,type:"primary",options:{style:{width:155}}}),jsxRuntimeExports.jsxs(DetailPlayersCard,{children:[jsxRuntimeExports.jsx(BorderImgPlayersCard,{children:jsxRuntimeExports.jsx(ImgPlayersCard,{src:tt||AnonymousImage})}),jsxRuntimeExports.jsxs(ContainerTextPlayer,{children:[jsxRuntimeExports.jsx(IdPlayer,{children:nt}),jsxRuntimeExports.jsx(NamePlayer,{children:rt})]})]})]})}const ContainerPlayerCard$1=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 30px;
  padding: 0 20px;
  margin-top: 3%;
`;function Followers(){const[tt,et]=reactExports.useState([]),{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState([]);return reactExports.useLayoutEffect(()=>{nt("followers",rt.GET).then(ot=>{et(ot.data.data)})},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FollowsSearch,{data:tt,setResult:st}),jsxRuntimeExports.jsx(ContainerPlayerCard$1,{children:it.map(ot=>jsxRuntimeExports.jsx(PlayerCard,{TextBtn:"آنفالو کردن",Id:ot.code,Name:ot.name,PlayerImg:ot.profile_photos},shortid$1.generate()))})]})}const ContainerPlayerCard=styled.div`
  width: 90%;
  height: 100%;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  gap: 30px;
  padding: 0 20px;
  margin-top: 3%;
`;function Following(){const[tt,et]=reactExports.useState([]),{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState([]);return reactExports.useLayoutEffect(()=>{nt("following",rt.GET).then(ot=>{et(ot.data.data)})},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FollowsSearch,{data:tt,setResult:st}),jsxRuntimeExports.jsx(ContainerPlayerCard,{children:it.map(ot=>jsxRuntimeExports.jsx(PlayerCard,{TextBtn:"آنفالو کردن",Id:ot.code,Name:ot.name,PlayerImg:ot.profile_photos},shortid$1.generate()))})]})}function Property(){return useActivity([{name:"املاک و مستغلات",component:jsxRuntimeExports.jsx(Features,{})},{name:"دنبال شوندگان",component:jsxRuntimeExports.jsx(Following,{})},{name:"دنبال کنندگان",component:jsxRuntimeExports.jsx(Followers,{})}])}function Player(){const et=useTabs([{title:"کلیات",content:jsxRuntimeExports.jsx(General,{})},{title:"دارایی",content:jsxRuntimeExports.jsx(Property,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"پروفایل",children:et})}const DynastySolidImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJsAAALKCAMAAACiK6BHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFdXV19vb2NCoE3AAACh5JREFUeNrs1oENxCAMA0B3/6XZoFIFooHcDfAqGFufB6CeuALANgHYJsA2AdgmwDYB2CYA2wTYJgDbBNgmANsE2CYA2wRgmwDbBGCbANsEYJsA2wRgmwBsE2CbAGwTYJsAbBNgmwBsE4BtAmwTgG0CbBOAbQJsE4BtArBNgG0CsE2AbQKwTYBtArBNALYJsE0AtgmwTQC2CbBNALYJwDYBtgnANgG2CcA2AbYJwDYB2CbANgHYJsA2AdgmwDYB2CYA2wTYJgDbBNgmANsEYJsA2wRgmwDbBGCbANsEYJsAbBNgmwBsE2CbAGwTYJsAbBOAbQJsE4BtAmwTgG0CbBOAbQKwTYBtArBNgG0CsE2AbQKwTQC2CbBNALYJsE0AtgmwTQC2CcA2AbYJwDYBtgnANgG2CcA2AdgmwDYB2CbANgHYJsA2AdgmANsE2CYA2wTYJgDbBNgmANsEYJsA2wRgmwDbBGCbANvkCgDbBGCbANsEYJvk5grwxpEbeOPIDbxxuYE3jtzAG5cbeOPIDbxx5IY3jtzAG0du4I3LDbxx5AbeuNzAG0du4I0jN7xx5AbeOHIDb1xu4I0jN+j8xgOzLIJtchR/jdw5tsl5cOfCcBTncecIwzbhzoXhKM6jDgjDNnmd7lwYjuI8uHNhOIqeuHNsk/PgzoXhKM7jzhGGbcKdC8NRnEcdEIZ3pSfuXBiO4jy4c2E4ip64c2yT8+DOheEozuPOEYZtwp0Lw1GcRx0QhqPoiTvHNjkP7lwYjqIn7hzb5Dy4c2E4ivO4c4Rhm3DnwnAU51EHhOEoeuLOsU3OgzsXhqPoiTvHNjkP7lwYjuI87hxh2CbcuTAcxXnUAWE4ip64c2yT8+DOheEozuPOqRtGTiUaWmtQAOstmn7P6Px/YgogGtHYJidQANHYJt+rALZJNLbJNimAaGyT71UA2yQaXbdNCiAa0dgmBRCSaMRhmxRANKKxTU6gAKKxTb5XAWyTaGyTbVIA0dgm36sAtkk0um6bFEA0orFNCiAk0YjDNimAaERjm5xAAURjm3yvAtgm0XhGtkkBRGObfK8C2CbR6LptUgDRiMY2KYCQRCMOz14BRCMa2+QECiAa2+R7FcA2ica32iYFEI1t8r0KYJtEo+u2SQFEIxrbpABCEo04PHsFEI1obJMTKIBobJPvVQDbJBrfapsUQDS2yfcqgG0Sja7bJlcnGo/ANikA3gQoAKIBBRANKACiAQUQDSgAogEFQDQoAKIBBUA0oACiAQVANKAAogEFQDSgAIgGFEA0oACIBhRANKAAiAYUQDSgAIgGFADRgAKIBhQA0YACiAYUANGAAogGFADRgAIgGlAA0YACIBpQANGAAiAaUADRgAIgGlAARAMKIBpQAEQDCiAaUABEAwogGlAARAMKgGhAAUQDCoBoQAFEAwqAaEABRAMKgGhAARANKIBoQAEQDSiAaEABEA0ogGhAARANKACiAQUQDSgAogEFEA0oAKIBBRANKACiAQVANKAAogEFQDSgAKIBBUA0oACIBgVANKAAiAYUQDSgAIgGFEA0oACIBhQA0aAArkA0oACIBhRANKAAiAYUQDSgAIgGFADRgAKIBhQA0YACiAYUANGAAogGFADRgAIgGlAA0YACIBpQANGAAiAaUADRgAIgGlAARAMKIBpQAEQDCiAaUABEAwogGlAARAMKgGhAAUQDCoBoQAFEAwqAaEABRAMKgGhAARANKIBoQAEQDSiAaEABEA0ogGhAARANKACiAQUQDSgAogEFEA0oAKIBBRANKACiAQVANKAAogEFQDSgAKIBBUA0oACiAQVANKAAiAYUQDSgAIgGFEA0oACIBhQA0aAAiAYUANGAAogGFADRgAKIBhQA0YACIBpQANGAAiAaUADRgAIgGlAA0YACIBpQAEQDCiAaUABEAwogGlAARAMKIBpQAEQDCoBoQAFEAwqAaEABRAMKgGhAAUQDCoBoQAEQDSiAaEABEA0ogGhAARANKIBoQAEQDSgAogEFEA0oAKIBBRANKACiAQUQDSgAogEFQDSgAKIBBUA0oACiAQVANKAAogEFQDSgAIgGFEA0oACIBhRANKAAiAYUQDSgAIgGFADRgAKIBhQA0YACiAYUANGAAiAaFADRgAIgGlAA0YACIBpQANGAAiAaUABEgwK4AtGAAiAaUADRgAIgGlAA0YACIBpQAEQDCiAaUABEAwogGlAARAMKIBpQAEQDCoBoQAFEAwqAaEABRAMKgGhAAV6PArMsgm1yFLwhbBN4Q8JwFLwhhOFd4Q0Jw1FQB4ThXeENCcNRwBsShqPgDWGbwBsShqPgDSEM7wpvSBiOgjogDO8Kb0gYjgLekDAcBW8I2wTekDAcBW8IYXhXeEPCcBTUAWE4Ct4Qtgm8IWE4Ct4Qtgm8IWE4Ct4QwvCu8IaE4SioA8JwFLwhbBN4Q8JwFLwhbBN4Q8JwFLwhhOFd4Q0Jw1FQB4ThKHhD2CbwhoThKHhDCIOPL2Cx5T/Ib2wTXsClrzWehm3CNvlg24Rt8q22yeXhBdgm24Rt8q3qZZvwAG2Tr7dN2CYfbJvwAL1W22SbsE0+2DZhm3yrbXJ5eAG2yTZhm3yretkmPEDb5OttE7bJB9smPEDfaptsE7bJB9smbJNvtU0uDy/ANtkmbJNv9cG2CQ/QNvl624Rt8sG2CQ/Qt9oml4dt8sG2CdvkW22Ty8MLsE22CdvkW32wbcIDtE2+3jZhm3ywbcID9K22yeVhm3ywbcI2+Vbb5PLwAmyTr7dN2CYfbJvwAG2Tr7dNgGkEsE2AbQKwTQC2CbBNALYJsE0AtgmwTQC2CcA2AbYJwDYBtgnANgG2CcA2AdgmwDYB2CbANgHYJsA2AdgmANsE2CYA2wTYJgDbBNgmANsEYJsA2wRgmwDbBGCbANsEYJsAbBNgmwBsE2CbAGwTYJsAbBOAbQJsE4BtAmwTgG0CbBOAbQKwTYBtArBNgG0CsE0AtgmwTQC2CbBNALYJsE0AtgnANgG2CcA2AbYJwDYBtgnANgHYJsA2AdgmwDYB2CbANgHYJgDbBNgmANsE2CYA2wTYJgDbBGCbANsEYJsA2wRgmwDbBGCbAGwTYJsAbBNgmwBsE2CbAGwTgG0CbBOAbQJsE4BtAmwTgG0CsE2AbQKwTYBtArBNgG0CsE0AtgmwTQC2CbBNALYJsE0AtgnANgG2CcA2AbYJwDYB2CbANgHYJsA2AdgmwDYB2CYA2wTYJgDbBNgmANsE2CYA2wRgmwDbBGCbANsEYJsA2wRgmwBsE2CbAGwTYJsAbBNgmwBsE4BtAmwTgG0CbBOAbQJsE4BtArBNgG0CsE2AbQKwTYBtArBNALYJsE0AtgmwTQC2CbBNALYJwDYBtgnANgG2CcA2AbYJwDYB2CbANgHYJsA2AdgmANsE2CYA2wTYJgDbBNgmgP2GAAMAh9HMZABMhN0AAAAASUVORK5CYII=",User="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABUUExURUdwTLLS/3yt/2Cf/qTH/8fg/8Xd/1qY/7PT/7/a/8/j/9Ll/2mk/9bn/26o/8nf/8Ha/4m5/7jU/67P/6TJ/5rD/5G+/3uw/12e/0+V/0KM/y+A/yFuyH8AAAAKdFJOUwC7mPRXc5sNM9v9z85sAAALt0lEQVR42tVbiXbjqhKMc2TLBiS0WcLy///nY2voZrHlZHLPeWRzJplUUb0A3ejr6/91tO1Vj+bcNOZr+99iX5vL6TYMg4QxDLfTpflPaGjsGwAzMzgMxuRwuzR/SuJ6Pg0emvMuGcDidL7+FbqbugbvasORkLc/4NBc3qIHDkxzuPxTCq2bPEXn/jPveMbBOMftn7lDgE+snQ/7A0Th/G/Ev0kMzyK0jF9l/M7Q6Dio8HvXc37v4QmifSGRAJJKYSn80hda73o8osuCABKoICGAgbz8whWuzvgGniNIrLdk1QEUbj8W4Rymzwsyy4yRTN3BU5DnX8gf4JHdEeA7Lbjz2Z+YIchPAq6EIgm59FdsYuKfmyHIz9EfJihJ8KEfpgzMp0/NAPg8+8OyiCLzoCQa6HH+GJ+FfCcz5/c8YAWkWamUH7UvnH+Mn07VbwQ6NkzzMs8DI0FaS9GcXY7iXxA+JBiZhCDn8yjU46GUEv04M/7CBrBpOcoA8Evu5XlwvggN3m+jHluvVL+YNfiNBJxfPtG/ICrI0A39/lDbuK7r6CgItU3cKlBWATQ44AdNMn9sAz+65bGb2W9b78amXymxMMCX1YX6PYPr5AiQxY5GQXffjfp62m705k0PtbKwW5VFC2gG8k1Gam8Rv2xS2S0Wvw/Y9oX+h144Bsx+ZCnZM3iTE09o/pkF7Ec3WXwB0MLP3xiiv4eTAmGAFNAM2mMOWEuvXO0KoKMGhsSmvWKW8byC90heAsvgRShc/dazlNS8EMYB0NSJBjosxsEMOVAGPgRgw9gcNwBV335rAiAKEDQACZbBUUAEfCY+YIRzhi9TKbQA2AAi8QKdE6ZpihQk9sC3RkgMwLJV0PxQaAEydCChFeiXCVEIGgAJf5i4HjZAuv4O+6PPBBBegL7XBNYJM3AUeBxd3QhpCqQLgM/BS+oBwsWAt8I29ts8z0AhSmAViDboSgnxVDBASqRbn2oTNRewBHq9QFsKIAE7KEFTNgBNBt22W4urGomxFwtiABQ4S7ygIIHJwaywBSEuAARqEmgF1H2xFCyDugSyPSwAptFtT09AURmAgieQMeAsIZBJUBOADk9AlSQQVgGh1nvQANmAc/ZSgmIIFAhoJwQTRA36EInbJtT97hlQCfhrCS6HBGB8fj56kXthXBCVuK+RgU9HlAAEAtkGTIcE0H6w71psJVISvc8Dm9r0Ps0y8EYINki9gKTD5pgA2ga990JFKPTRAiMQWGIywFuCWNG5JFn4GIHF2KCQBpwPaguMY5SgQMBxSJPRdaidQ3IvUBAHimZjQ0ELYPYElkHwgoxAYNCQdfiQAFaCPSIrsi81BwSzS6cS+Ooee2UDY4FjAlgveDhklRhB4z/sSWVMCZRNEFOBiQF2lIDeExkGlIJRQO+TH72FBxsEJyBxGCUIcfCBC2h8Pu3PR54LzfzFOI7BBtQLEXokcEYucFgAvSRYBop4oUkODzXWCTBsgtQJtAuwDwhoBuq5Iwr2WPTYBcLPTEAMAAr4QDSnoY8I6LE9NYXIQcM7+5cVyFzAM2DX4AL8uA/aDomcxVNz0CT02PdnnH4pDBnyAR69AA7LzUcELAWz2Zm3x/60w8x+HTMBimFITOArFmdvAf6BAsNgNp7Lqo/osUxQcIE8D+DyPjvBUsw4/8gJHIF5Npuf+53gr6/WAj9/OB74JdkGQXeYgQwMLAGDbyRYyfzJcpwEYVTAh8HtcwWQBGYDBBTs7NeXG5IOJQLObbnCRCH/QAGQYAoSeAYw7liALAg61OFxBExRJvb+PpcgZVDCZyQNxjzAGkgDHf9QAReKhoL3RE3C7gad/stM9kOMwvOgwPknBOzfk9Nyd2UyVxjw2AX8fCEI+BkBfhB9uG9KJ8AHGjorb+t9sehLdjgkERDdABE47AO8Y0tvsJUw5UFTFDHJyKyGhgMci2Z6NCwr0DFPYDiuQCdXtVtwLLrNRaZwqNR2n+P5PDsZdnRHwD8l0PH1YYt0Gt2mPzt7q4Mr2dqa7TJF/JILFhRgxwh0k529Sf5Odjw8E1O+GOnZPN0QRh/4zAScr1Z8N9MelSUICbM52eahSKBLosARaKdDBDjb3PTHzZ1CUH0upSDEktTJykZgsgmp+B2BTopd2RJ5QIeRc9AM7jKpk5XWIuZK12ExekGAM4+PEAsCIBEMg0SDLroA9wpc0Z70NYHN4m8eGJdlch7WG8USNIiRQFYCrYBbji+RAK8WJgA/WD4WqYEHImCjk0YCIzsSIBC3ZC+9kE/QorBFwh6VR0XREK6XNJBYiPigAPNbsmZ454WddgBh8XF9PiggEgWsBuO63YdpQPkInQy9C/hN6dsNgemRFPC9DEEBX6Rw72Z3tMWExGS4WxEU4KGtHsOgLkC/BWhBGPS+OpEbYd3WqbAohkwIUYi9sOoBVoAw5bRb4k+HEV2/jSZdo6qxZ4CDAI5m2gvBBtUQ6LdekEZNaJf0UCUUSSSspnZf3ph0HPugXw3qDIwFoEmXV8rBGhEevGDcxDjnDOK5KDQR2zdOoA++GxTl8xopkQEZwRDY5sLuNEnEJBcWXWAwLlAoUaeuQPBt+0T0S2l/DhYY2lgm9DYonQ+NDyYuUGKR+kBvFBB3ukEEBtQF3IpclaADAlUB0qzsvGCzBGjZGNmAubU4lIqHOoH5NQFcLxeYwmgKx9kpDRRgHHdNwAa1NNC/9gF4T7LxplT5nOpi4JL0rFndCXfxIwV6JcJBjUjgLHCl5fqhVijj8giBkgKGADkqRwLa3W9J07IuQaeeqn9LgCiw2V2JUH1WrPC3UfNrPaeqBLzbno83BHqUFOO2SNjmQVYvcpfD0q7VCwm6+Rnalcq/q6xUnO/L9K8UK2bcesAlb9zWvcBUh0u9qhd+aG6VmOYBrRn6q5kFAdy2pCbB+vQtaxU6BarYvowyGAOoLZbMluAE9nqavJR610OlaaDjIClPq2pCxPiiVLs3ELIggL8/U5HgbmrDgkxcidwRUPdKG8A2D9acQPWK46UqAePCMiDwZf1BAqGgeAxO4NcDV+5uK1d4qgyG3WngKITPmSfAmhiK92sSBrbEVbtF0tjfKDbQ+fx0FfqXodC/bR7Yc1L3Xb/GZt2gVJjjC2KgwvxVYg83fXPNbquVziWr3ySqG0H/twVaBBFQiULvyhRqIj6NAndGeXHd2huBl0qDbN5Ng0CpKEFuEDf9/ZGVzl0eMBeM+PfLu4QVN7BNikk8gQJ2xhiOzvr7rsZa90QTuL2+4nsqMoDS6Lq7NglwSBrYDj5p3gQL+EtW76/TFTWANkkPnRoVhQguYbo3pHlDuicO/+19++sNWo3lNskinoGDZeGHBX8S9dMsYMT9PnClcioxYKFAPi3bw7WK7HBdKwP+fGLxSQ918YdEg//+lvfZLlu1Er0phC7rpnzDKozdX3Gtdm+0AvLUfh25Zd7kDGTaKVru6+Yi3pWNx8IgBjAMDuIDA1mVwPUHYpuCNO0QetySWgW+j+KXGBAJklZRcfZjii8N/mEKV1zsTgMhNEmiAGsODs2bOP/2k6cMrrdcBKrBQo3gu2Zj2jyy3YPZ4x+3gY6WExXBVhyHjAFtmEVwCj/NzQfy03CMIqBWFe5V2W5Vio+aR4bA6arxP2cAZpC5IwKDBXdNYt/Mo8P8jfztT572aS8TuZqJNQgUMIeAHmevM2fTtu2nHhCf80IUZMbAU1hycICfp++rn//PHnhqz7jaGZ7wjBSAAx0zjJOffvv14weurpcJlXzd/QlgMHmYZS6A6xXoHuC/fvPsX3NCFCIDT2GaK2NavttfWL+oQiQxRAqYRGQz3bzxfyU/eeIUOHgm8GLCwzOYjO2/CP7vObRgCTwm94b9Qb9Ak2//6WPAbfN9i1Mn6Gbuk1l0lpNG/0Lw/8AD6FPX3yeXGyYq/uTAG4Lefn39xYPQrVZC0/AHXjP7ZblZ7Bah/xk8OFRrH39vzMPv3tQY+u/Ay4TszL8CMsAf4PA/Y3ie/GF64ssAAAAASUVORK5CYII=",BorderImg$2=styled.div`
  border-radius: 100%;
  border: 1px solid #777;
  padding: 5px;
  aspect-ratio: 1/1;
`,ContainerName$2=styled.div`
  width: 70px;
  height: 23px;
  border: solid 1px #777;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 3px;
  background: white;
`,ImgMember=styled.img`
  width: 100%;
  border-radius: 100%;
`;function Member({Top:tt,Left:et,MemberImg:nt,Name:rt,HandleClick:it}){const st=styled.div`
    width: 72px;
    aspect-ratio: 1/1;
    position: absolute;
    top: ${tt};
    left: ${et};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #f6f6f6;
  `;return jsxRuntimeExports.jsxs(st,{children:[jsxRuntimeExports.jsx(BorderImg$2,{onClick:it,children:jsxRuntimeExports.jsx(ImgMember,{src:nt||User})}),rt&&jsxRuntimeExports.jsx(ContainerName$2,{children:rt})]})}const BackIcon="/metaverse/assets/back-f069c9ca.png",CheckboxContainer=styled.label`
  display: block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 16px;
  user-select: none;
`,CheckboxInput=styled.input`
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;

  &:checked ~ Checkmark {
    background-color: #fff;
    border: 2px solid orange;

    &:after {
      display: block;
      color: orange;
    }
  }
`,Checkmark=styled.span`
  position: absolute;
  top: 0;
  left: 0;
  height: 25px;
  width: 25px;
  background-color: #fff;
  border-radius: 5px;
  border: 2px solid ${tt=>tt.borderColor?tt.borderColor:"orange"};

  &:after {
    content: "";
    position: absolute;
    display: none;
  }

  ${({checked:tt})=>tt&&`
      &:after {
        content: "";
        display: block;
        left: 7px;
        top: 4px;
        width: 5px;
        height: 10px;
        border: solid orange;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
        color: orange;
      }
  `}
`,Checkbox=({label:tt,borderColor:et,onTick:nt,isChecked:rt})=>jsxRuntimeExports.jsxs(CheckboxContainer,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:rt,onChange:nt}),jsxRuntimeExports.jsx(Checkmark,{checked:rt,borderColor:et}),tt||""]}),ContainerMessage$2=styled.div`
  width: 100%;
  height: 50%;
  display: flex;
  align-items: end;
  justify-content: center;
  flex-direction: column;
  text-align: right;
  padding: 2rem;
  line-height: 2;
`,Text$3=styled.p`
  font-weight: 500;
`,ContainerBtn=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 20px;
`,CancelButton=styled.button`
  --bs-bg-opacity: 1;
  background-color: transparent;
  border-color: var(--bs-orange) !important;
  border: 1px solid;
  border-radius: 8px;
  --bs-text-opacity: 1;
  color: var(--bs-orange) !important;
  padding: 8px 24px 8px 24px;
`,UserItem$1=styled.div`
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  cursor: pointer;
  gap: 10px;
`,ProfilePhoto$1=styled.img`
  border-radius: 100px;
  width: 100%;
  height: 100%;
`,ContainerName$1=styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: "Segoe UI";
`,BorderImg$1=styled.div`
  border-radius: 100%;
  border: 1px solid #777;
  padding: 3px;
  width: 79px;
  height: 79px;
`,Container$a=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`;function SubmitDanasty({Permission:tt,Relationship:et,RelationshipFamily:nt,UserData:rt}){const it=useNavigate(),{Request:st,HTTP_METHOD:ot}=useRequest(),[at,lt]=reactExports.useState(!1),{id:ut,age:ft}=rt,dt=async()=>{let ht={user:ut,relationship:nt};ft<=18&&(ht={...ht,permissions:tt});try{await sendRequest(st,"dynasty/add/member",ot.POST,ht),ToastSuccess("دعوت نامه با موفقیت ارسال شد"),lt(!0)}catch(mt){handleRequestError(mt,it),lt(!0)}};return at?jsxRuntimeExports.jsx(Members$1,{}):jsxRuntimeExports.jsx(Container$a,{children:jsxRuntimeExports.jsxs(ContainerMessage$2,{children:[jsxRuntimeExports.jsxs(UserItem$1,{children:[jsxRuntimeExports.jsxs(ContainerName$1,{children:[jsxRuntimeExports.jsx("p",{style:{color:"#0800FF",fontWeight:"700"},children:rt.code}),jsxRuntimeExports.jsx("p",{style:{fontWeight:"600"},children:rt.name})]}),jsxRuntimeExports.jsx(BorderImg$1,{children:jsxRuntimeExports.jsx(ProfilePhoto$1,{src:rt.image,alt:""})})]}),jsxRuntimeExports.jsxs(Text$3,{children:["نسبت ",et]}),jsxRuntimeExports.jsxs(Text$3,{children:["در صورت",jsxRuntimeExports.jsx("span",{style:{fontWeight:"600"},children:`«شهروند مورد نظر به عنوان ${et}»`}),"یک پیام تاییدیه برای شهروند ارسال می‌شود و در صورت تایید اطلاعات سلسله خانوادگی در بانک اطلاعات مرکزی متارنگ ذخیره خواهد شد."]}),jsxRuntimeExports.jsx(Text$3,{children:"سلسله خانوادگی قابلیت ویرایش نخواهد داشت و فرزند شما در آینده نمی‌تواند شما را حذف کند و همچنین شما نیز نمی‌توانید فرزند خود را حذف نمایید."}),jsxRuntimeExports.jsx(Text$3,{children:"قابلیت ویرایش تنظیمات دسترسی فرزند شما در هر زمان به صورت یک طرفه از سمت شما امکان پذیر است. فرزند شما تنها تا قبل از سن قانونی توسط شما محدود خواهد شد (سن قانونی ۱۸)."}),jsxRuntimeExports.jsx(Text$3,{style:{color:"red"},children:"جریمه هایی که در خصوص دروغ گویی توسط دادگاه متارنگ در نظر گرفته می‌شود بسیار سنگین خواهد بود."}),jsxRuntimeExports.jsxs(ContainerBtn,{children:[jsxRuntimeExports.jsx(Submit$1,{text:"تایید می‌کنم",type:"primary",options:{onClick:dt}}),jsxRuntimeExports.jsx(CancelButton,{onClick:()=>lt(!0),children:"تایید نمی‌کنم"})]})]})})}function handleRequestError(tt,et){tt.response.status===410?(ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),et("/metaverse/confirmation")):ToastError(tt.response.data.message)}async function sendRequest(tt,et,nt,rt){try{return await tt(et,nt,rt)}catch(it){throw it}}const SubmitDanasty$1=React$1.memo(SubmitDanasty),Container$9=styled.section`
  height: 100%;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: row-reverse;
`,Section=styled.div``;function GeneralPremission({generalSettings:tt,setGeneralSettings:et,onSubmit:nt}){return jsxRuntimeExports.jsxs(Form,{onSubmit:nt,options:{style:{height:"100%"}},children:[jsxRuntimeExports.jsxs(Container$9,{children:[jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت خرید از فروشگاه متارنگ",onChange:et,value:tt.BFR,name:"BFR"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت فروش املاک ومستغلات در متارنگ",onChange:et,value:tt.SF,name:"SF"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت خارج کردن سرمایه از متارنگ",onChange:et,value:tt.W,name:"W"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت ورود به اتحاد ها",onChange:et,value:tt.JU,name:"JU"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت مدیریت  سلسه ",onChange:et,value:tt.DM,name:"DM"})]}),jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت شرکت در پروژه های اتحادی",onChange:et,value:tt.PIUP,name:"PIUP"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت شرکت درچالش ه",onChange:et,value:tt.PITC,name:"PITC"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت شرکت در مسابقات ",onChange:et,value:tt.PIC,name:"PIC"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت تاسیس فروشگاه یا دفنر کار",onChange:et,value:tt.ESOO,name:"ESOO"}),jsxRuntimeExports.jsx(Toggle$1,{text:"قابلیت همکاری در ساخت بنا",onChange:et,value:tt.COTB,name:"COTB"})]})]}),jsxRuntimeExports.jsx(Submit$1,{text:"بروز رسانی",type:"primary",options:{style:{marginBottom:32,width:735}}})]})}function PremissionDynasty({User:tt}){const nt=useLocation().state,[rt,it]=reactExports.useState({BFR:0,SF:0,W:0,JU:0,DM:0,PIUP:0,PITC:0,PIC:0,ESOO:0,COTB:0}),[st,ot]=reactExports.useState(!1),[at,lt]=reactExports.useState({}),ut=()=>{const ft=Object.fromEntries(Object.entries(rt).filter(([dt])=>!dt.includes("id")));lt(ft),ot(!0)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt.Relationship==="offspring"&&tt.age<18&&!st?jsxRuntimeExports.jsx(GeneralPremission,{generalSettings:rt,setGeneralSettings:it,onSubmit:ut}):nt.Relationship==="offspring"&&tt.age<18&&st?jsxRuntimeExports.jsx(SubmitDanasty$1,{Permission:at,Relationship:nt.Name,RelationshipFamily:nt.Relationship,UserData:tt}):jsxRuntimeExports.jsx(SubmitDanasty$1,{Permission:at,Relationship:nt.Name,RelationshipFamily:nt.Relationship,UserData:tt})})}const ParentInput=styled.div`
  width: 70%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`,InputSearch=styled.input`
  width: 100%;
  text-align: right;
  direction: rtl;
  padding: 8px 16px;
  margin-bottom: 16px;
  font-size: 1.3rem !important;
  font-family: iransans;
`,IconSearch=styled.img`
  width: 32px;
  height: 32px;
  left: 8px;
  top: 8px;
  position: absolute;
  cursor: pointer;
`,UserContainer=styled.div`
  position: absolute;
  background: transparent;
  padding: 8px;
  z-index: 5002;
  width: 100%;
  top: 56px;
  border-radius: 8px;

  ${Checkbox} {
    margin-right: 10px;
  }
`,UserItem=styled.div`
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  cursor: pointer;
  gap: 10px;
`,ProfilePhoto=styled.img`
  border-radius: 100px;
  width: 100%;
  height: 100%;
`,IconBack$2=styled.img`
  width: 50px;
  rotate: 360deg;
  transform: rotateY(185deg);
  cursor: pointer;
`,Container$8=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: space-around;
  margin-top: 20px;
`,ContainerName=styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: "Segoe UI";
`,BorderImg=styled.div`
  border-radius: 100%;
  border: 1px solid #777;
  padding: 3px;
  width: 79px;
  height: 79px;
`;function UserSearch({setCurrentUser:tt,currentUser:et,setCurrentUserId:nt,handleBack:rt}){const[it,st]=reactExports.useState(""),{Request:ot,HTTP_METHOD:at}=useRequest(),[lt,ut]=reactExports.useState([]),ft=reactExports.useMemo(()=>et??it,[et,it]),dt=reactExports.useCallback(()=>{ot("dynasty/search",at.POST,{searchTerm:it}).then(vt=>{ut([vt.data])})},[it,ot,at]);reactExports.useCallback((vt,Et)=>{tt(vt),nt(Et),st(vt),ut([])},[tt,nt]);const ht=reactExports.useCallback(()=>{tt(null),nt(null),st(""),ut([]),gt(!1),xt(null)},[tt,nt]),[mt,xt]=reactExports.useState(null),_t=vt=>{if(!vt.verified){ToastError("شهروند مورد نظر احراز مرحله دو را انجام نداده است و در نتیجه شما قادر به ارسال درخواست برای این شهروند نمی باشد .شهروند دیگری را جستجو کنید");return}xt(vt),gt(!At)},[At,gt]=reactExports.useState(!1);return At===!1?jsxRuntimeExports.jsxs(Container$8,{children:[jsxRuntimeExports.jsx(IconBack$2,{src:BackIcon,onClick:rt}),jsxRuntimeExports.jsxs(ParentInput,{children:[jsxRuntimeExports.jsx(InputSearch,{disabled:et,type:"text",placeholder:"جستجو کنید",onChange:vt=>st(vt.target.value),value:ft}),lt.length>0&&jsxRuntimeExports.jsx(UserContainer,{children:lt.map(vt=>jsxRuntimeExports.jsxs(UserItem,{children:[jsxRuntimeExports.jsx(Checkbox,{isChecked:At,onTick:()=>_t(vt)}),jsxRuntimeExports.jsxs(ContainerName,{children:[jsxRuntimeExports.jsx("p",{style:{color:"#0800FF",fontWeight:"700"},children:vt.code}),jsxRuntimeExports.jsx("p",{style:{fontWeight:"600"},children:vt.name})]}),jsxRuntimeExports.jsx(BorderImg,{children:jsxRuntimeExports.jsx(ProfilePhoto,{src:vt.image,alt:""})})]},vt.id))}),jsxRuntimeExports.jsx(IconSearch,{src:et||lt.length>0?CrossIcon$1:SearchIcon,onClick:et||lt.length>0?ht:dt})]})]}):jsxRuntimeExports.jsx(PremissionDynasty,{User:mt})}const UserSearch$1=React$1.memo(UserSearch),DynastySolid=styled.div`
  width: 100%;
  height: 90%;
  background-image: url(${DynastySolidImg});
  background-repeat: no-repeat;
  background-size: 100% 117%;
`,ContainerSearchBox=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: flex-start;
`,Members=()=>{const{Request:tt}=useRequest(),et=useLocation(),[nt,rt]=reactExports.useState({}),[it,st]=reactExports.useState(null),[ot,at]=reactExports.useState(null),[lt,ut]=reactExports.useState(!1),[ft,dt]=reactExports.useState([]),[ht,mt]=reactExports.useState([]);reactExports.useEffect(()=>{const At=[{Left:"33.5%",Top:"11.5%",MemberImg:nt["profile-image"]},{Left:"5.4%",Top:"37.3%",Name:"پدر",Relationship:"father"},{Left:"21%",Top:"37.3%",Name:"مادر",Relationship:"mother"},{Left:"40.2%",Top:"37.3%",Name:"خواهر",Relationship:"sister"},{Left:"54.5%",Top:"37.3%",Name:"خواهر",Relationship:"sister"},{Left:"69.7%",Top:"37.3%",Name:"برادر",Relationship:"brother"},{Left:"86%",Top:"37.3%",Name:"برادر",Relationship:"brother"},{Left:"13.5%",Top:"71.5%",Name:"همسر",Relationship:"spouse"},{Left:"40%",Top:"77%",Name:"فرزند",Relationship:"offspring"},{Left:"54.5%",Top:"77%",Name:"فرزند",Relationship:"offspring"},{Left:"69.5%",Top:"77%",Name:"فرزند",Relationship:"offspring"},{Left:"85.5%",Top:"77%",Name:"فرزند",Relationship:"offspring"}];ft.forEach(({profile_photo:gt,relationship:vt})=>{if(vt==="offspring"){const Et=At.findIndex(yt=>yt.Relationship==="offspring"&&!yt.MemberImg);Et!==-1&&(At[Et].MemberImg=gt)}else At.some(Et=>Et.Relationship===vt)&&(At.find(Et=>Et.Relationship===vt).MemberImg=gt)}),mt(At)},[ft,nt]);const xt=reactExports.useCallback((At,gt)=>{gt>0&&!At.MemberImg&&(ut(!0),et.state=At)},[et]),_t=reactExports.useCallback(()=>{ut(!1),et.state=null},[et]);return reactExports.useEffect(()=>{(async()=>{const gt=await tt("dynasty");if(rt(gt.data.data),gt.data.data["user-has-dynasty"]){const vt=await tt(`dynasty/${gt.data.data.id}/family/${gt.data.data.family_id}`);dt(vt.data.data)}})()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lt?jsxRuntimeExports.jsx(ContainerSearchBox,{children:jsxRuntimeExports.jsx(UserSearch$1,{setCurrentUser:st,currentUser:it,setCurrentUserId:at,handleBack:_t})}):jsxRuntimeExports.jsx(DynastySolid,{children:ht.map((At,gt)=>jsxRuntimeExports.jsx(Member,{...At,HandleClick:()=>xt(At,gt)},`${At.Name}_${gt}`))})})},Members$1=reactExports.memo(Members),Plan="/metaverse/assets/floor-plan-4372a57f.png",Building="/metaverse/assets/building-358ec5b8.png",Trasfer="/metaverse/assets/transfer-eb077524.png",IncreaseICoin="/metaverse/assets/increase-ec90757b.png",Container$7=styled.div`
  width: 90%;
  height: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
`,Table$4=styled.div`
  width: 100%;
  height: 80%;
  border: solid 1px #777777;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
`,Header$2=styled.div`
  width: 100%;
  align-items: center;
  justify-content: space-between;
  display: flex;
  height: 13%;
  border-bottom: 1px solid #777777;
  padding: 10px;
`,Body=styled.div`
  width: 100%;
  height: 87%;
  display: flex;
  align-items: center;
  justify-content: space-around;
  gap: 5px;
  flex-direction: column;
  padding: 5px 0; 
`,Text$2=styled.p`
  font-size: 16px;
  color: #707070;
`,DetaileContainer$1=styled.div`
  width: 100%;
  height: 20%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding:10px;
`,Icon=styled.img`
  width: 40px;
`,Title=styled.div`
  display: flex;
  gap: 5px;
  align-items: center;
`;function TableDynasty({dynasty:tt}){var et,nt,rt,it;return jsxRuntimeExports.jsx(Container$7,{children:jsxRuntimeExports.jsxs(Table$4,{children:[jsxRuntimeExports.jsxs(Header$2,{children:[jsxRuntimeExports.jsx(Text$2,{style:{color:"#fd7e14",fontWeight:700},children:(et=tt==null?void 0:tt["dynasty-feature"])==null?void 0:et.properties_id}),jsxRuntimeExports.jsx(Text$2,{style:{fontWeight:700},children:"ملک سلسله"})]}),jsxRuntimeExports.jsxs(Body,{children:[jsxRuntimeExports.jsxs(DetaileContainer$1,{children:[jsxRuntimeExports.jsx(Text$2,{children:(nt=tt==null?void 0:tt["dynasty-feature"])==null?void 0:nt.area}),jsxRuntimeExports.jsxs(Title,{children:[jsxRuntimeExports.jsx(Text$2,{children:"متراژ"}),jsxRuntimeExports.jsx(Icon,{src:Plan})]})]}),jsxRuntimeExports.jsxs(DetaileContainer$1,{children:[jsxRuntimeExports.jsx(Text$2,{children:(rt=tt==null?void 0:tt["dynasty-feature"])==null?void 0:rt.density}),jsxRuntimeExports.jsxs(Title,{children:[jsxRuntimeExports.jsx(Text$2,{children:"تراکم"}),jsxRuntimeExports.jsx(Icon,{src:Building})]})]}),jsxRuntimeExports.jsxs(DetaileContainer$1,{children:[jsxRuntimeExports.jsx(Text$2,{children:"1%"}),jsxRuntimeExports.jsxs(Title,{children:[jsxRuntimeExports.jsx(Text$2,{children:"افزایش سود از املاک"}),jsxRuntimeExports.jsx(Icon,{src:IncreaseICoin})]})]}),jsxRuntimeExports.jsxs(DetaileContainer$1,{children:[jsxRuntimeExports.jsx(Text$2,{children:(it=tt==null?void 0:tt["dynasty-feature"])==null?void 0:it["family-members-count"]}),jsxRuntimeExports.jsxs(Title,{children:[jsxRuntimeExports.jsx(Text$2,{children:"تعداد اعضای سلسله"}),jsxRuntimeExports.jsx(Icon,{src:User})]})]}),jsxRuntimeExports.jsxs(DetaileContainer$1,{children:[jsxRuntimeExports.jsx(Countdown$1,{date:moment$1(tt.created_at,"jYYYY/jMM/jDD").add(1,"M").unix()*1e3}),jsxRuntimeExports.jsxs(Title,{children:[jsxRuntimeExports.jsx(Text$2,{children:"قابلیت انتقال"}),jsxRuntimeExports.jsx(Icon,{src:Trasfer})]})]})]})]})})}const HomeSelect="/metaverse/assets/home-check-f2f79f40.png",HomeChange="/metaverse/assets/change-house-9a23d9ab.png",Container$6=styled.div`
  width: 100%;
  border: 1px solid #777;
  border-radius: 10px;
  direction: rtl;
  height: 100%;
  table thead tr {
    display: block;
  }
  table tfoot tr {
    display: block;
  }
`,Table$3=styled.table`
  width: 100%;
  border-spacing: 0;
  direction: rtl;
  overflow-y: scroll;
  & td {
    text-align: center;
  }
`,TableBody$3=styled.tbody`
  display: block;
  overflow-y: scroll;
  width: 287%;
  height: 395px;
  border-radius: 10px;
  tr:nth-of-type(odd) {
    background: white;
  }
  tr:nth-of-type(even) {
    background: #e9e9e9;
  }
`,IconFeature=styled.img`
  width: 80px;
  cursor: pointer;
`,TableHead=styled.thead`
  & td {
    border-bottom: 1px solid #777;
    width: 33%;
  }
`,Tr$3=styled.tr`
  height: 100px !important;
  padding: 5px;
  display: block;
  & td{
    width: 40.5%;
  }
`;function TableFeature({dynasty:tt,setDynasty:et}){var at;const{Request:nt,HTTP_METHOD:rt}=useRequest(),it=useNavigate(),st=lt=>{nt(`dynasty/${tt.id}/update/${lt}`,rt.POST).then(ut=>{et({...ut.data.data}),ToastSuccess("VOD جدید با موفقیت بروز گردید.")}).catch(ut=>{if(ut.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),it("/metaverse/confirmation");ToastError(ut.response.data.message)})},ot=lt=>{nt(`dynasty/create/${lt}`,rt.POST).then(ut=>{et({...ut.data.data}),ToastSuccess("سلسله با موفقیت تاسیس شد.")}).catch(ut=>{if(ut.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),it("/metaverse/confirmation");ToastError(ut.response.data.message)})};return jsxRuntimeExports.jsx(Container$6,{children:jsxRuntimeExports.jsxs(Table$3,{children:[jsxRuntimeExports.jsxs(TableHead,{children:[jsxRuntimeExports.jsx("td",{children:"شناسه VOD"}),jsxRuntimeExports.jsx("td",{children:"متراژ"}),jsxRuntimeExports.jsx("td",{children:"انتقال"})]}),tt!=null&&tt["user-has-dynasty"]?jsxRuntimeExports.jsx(TableBody$3,{children:Object.keys(tt==null?void 0:tt.features).map(lt=>jsxRuntimeExports.jsxs(Tr$3,{children:[jsxRuntimeExports.jsx("td",{children:tt==null?void 0:tt.features[lt].properties_id}),jsxRuntimeExports.jsx("td",{children:tt==null?void 0:tt.features[lt].stability}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconFeature,{src:HomeChange,onClick:()=>st(tt==null?void 0:tt.features[lt].id)})})]}))}):jsxRuntimeExports.jsx(TableBody$3,{children:(at=tt==null?void 0:tt.features)==null?void 0:at.map(lt=>jsxRuntimeExports.jsxs(Tr$3,{children:[jsxRuntimeExports.jsx("td",{children:lt==null?void 0:lt.properties_id}),jsxRuntimeExports.jsx("td",{children:lt==null?void 0:lt.stability}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconFeature,{src:HomeSelect,onClick:()=>ot(lt.id)})})]}))})]})})}const PscCoin="/metaverse/assets/psc-2-3d265f29.png",DataBaseIcon="/metaverse/assets/database-a527a9d6.png",BankICoin="/metaverse/assets/bank-e99ea949.png",Arrow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURUdwTN28RuzYlOTIYfPoyfLmwu3crfXt1ejUnvDiu9O2eunUh7OFMbyURPDchufLWuXLbd/AS92+UcSgWMyraejQety6QNy7QNq4Oa17GJtkCbSEINOtNL+SJqZyFMmgLiQpYwUAAAAWdFJOUwD7k+QeT2MMfDiiqfPgu/PQ//DKvMLDQ3NXAAAD60lEQVR42u2aa3OrIBCGq4KIJvWWCBov//9fHhbUarRK2gbmzPB+aNNO4j7sLrAs+fhwcnJycnJycnJycnL6z0VwFGFi0X4UsLxI7CHglFecc2sIxOe8qphgCHxqAwBlwr4gkAgRsgCQSgBwgkDIQuNxoBOAcoKXYAs5WC0Q2iKh1gAUQmU2FcIVAEjE4W4wFRQAmyURTMYh9LYAFTM4JQUA2wBAHCpDcdgHkFPSTByibwDkuhT4yB6ARDAQhwOAcWnUiwOhFGNKKUKE/B2A/haF/EDpniR+FIYCRRPkBEAzDigRMxf2dfjJcy8NgmwiQeSXABrzgfiMrxdTScLyPA2ye+ILEoy+AYm856V4R2fzgQa8YjsfUw7hVV4UQZZ9JokAoU8kWgDwrOygZMPF80PWDh0d4uWS5H73RxAyh0DHCQdxiPK9h2wWltEh3Ms9L02zTCRJhJOq0gE4ng9+rvWIr91OBgZe5qnW8FXJJj5034+DFsC+XznXfrPaH3ZLZ589Bf14Wm1y5IX379et/nLpeumBP/h7b3FeeOD9AHvJ+MlNAshiZZ2MhgGgaFzHwTgAFI2LZCQWAFaVgg2AcUbaBGBMZIJPbALAfJAEAGBDMgyhRQBAGMAFFj3A2sQegCwlh9iiB4T9trcGAOOvhrqJiKVpCMPv+uZK7awD8I/20TRXbG0vaLu66UtqZykWvwYx/Mt0WDENoKLflNhGPSDzD6J/WZZl5gCgFIHh9zdqqyTjIvma61NV+tOquHoZgA+PvrnE9OVzgToAzkk0P286GGktPDB84f1yezLx2fmq/WVU1LS8bQdQ13Ut0174x+Gjo7Mh27WpKjjO26FVVruHUC015Exz64Wp39/w/uGUjzGt2Mp70m4Lw+0GZVZZ7etavL5crtey0DxZ82En+ZZ9ntW5QRrdjLYXduvR7i2OIowpIpDAOt4X5rfJN7doinbSaLSTNqfxKsuj4TjC0Lki2i0aue9A8n3foyEZePihNJmdxvyY7Ea7LbNTAFh4D7w/NYmE/YVlGHEtDN9usewHUfTDTimMXu478Um/NCym/AJPywHLHiEiv+kVs9n7p51KQv1bGYOfZWppGD4H0PT+jABtN/J3zepx5RFTP6Y2uuVy1+20vP8WgLHm0vT+3wPAwlv357n/pjujyfs3I7dW22s7Zd6E93cuLtW2o7PyvOnqdtz0xa5r7O42XN2ec6PeX9yej+cNWXGa8/76+t6C9+frni/zTWn8ayQo46reNh78GaAVNdxgIfhzRQtVHJgvLX2TCWUPUbpdytDad7loLEqo0OK32T7QUc3o5OTk5OTk5OTk5OSkoX9K68qqo58o/QAAAABJRU5ErkJggg==",Container$5=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: right;
  gap: 15px;
  flex-direction: column;
`,Text$1=styled.p`
  display: inline-block;
  width: 100%;
  text-align: right;
`,ContainerTable=styled.div`
  width: 100%;
  height: 50%;
`,Table$2=styled.table`
  width: 100%;
  background: #e9e9e9;
  border-spacing: 0;
  & td {
    text-align: center;
    padding: 5px;
  }
`,TableBody$2=styled.tbody`
  tr:nth-of-type(odd) {
    background: white;
  }
  tr:nth-of-type(even) {
    background: #e9e9e9;
  }
`,Tr$2=styled.tr`
  height: 30px !important;
  padding: 5px;
`,IconHerader=styled.img`
  width: 30px;
`,ContainerArrow=styled.div`
  width: 100%;
  height: 10%;
  display: flex;
  align-items: center;
  justify-content: space-around;
  margin-top: 30px;
`,ImgArrow=styled.img`
  width: 60px;
  rotate: 180deg;
`;function TableFeatureDynasty({dynasty:tt}){var et;return jsxRuntimeExports.jsxs(Container$5,{children:[jsxRuntimeExports.jsx(Text$1,{style:{fontWeight:700},children:"تاسیس سلسه"}),jsxRuntimeExports.jsx(Text$1,{children:"با تاسیس سلسه از پاداش وخروجی های فوق العاده بهره مند شوید"}),jsxRuntimeExports.jsx(Text$1,{children:"میزان خروجی در هر افزایش"}),jsxRuntimeExports.jsx(ContainerTable,{children:jsxRuntimeExports.jsxs(Table$2,{children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:DynastyICoin})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:PscCoin})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:DataBaseIcon})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:BankICoin})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:IncreaseICoin})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(IconHerader,{src:SatisfactionICoin})})]}),jsxRuntimeExports.jsx(TableBody$2,{children:(et=tt==null?void 0:tt.prizes)==null?void 0:et.map(nt=>jsxRuntimeExports.jsxs(Tr$2,{children:[jsxRuntimeExports.jsx("td",{children:nt==null?void 0:nt.member}),jsxRuntimeExports.jsx("td",{children:nt==null?void 0:nt.psc}),jsxRuntimeExports.jsxs("td",{children:[nt==null?void 0:nt.data_storage,"%"]}),jsxRuntimeExports.jsxs("td",{children:[nt==null?void 0:nt.accumulated_capital_reserve,"%"]}),jsxRuntimeExports.jsx("td",{children:nt==null?void 0:nt.introduction_profit_increase}),jsxRuntimeExports.jsx("td",{children:nt==null?void 0:nt.satisfaction})]}))})]})}),jsxRuntimeExports.jsxs(ContainerArrow,{children:[jsxRuntimeExports.jsx(ImgArrow,{src:Arrow}),jsxRuntimeExports.jsx(Text$1,{children:"برای تاسیس سلسله خود ملک مسکونی انتخاب کنید"})]})]})}const Container$4=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  padding: 15px;
`,ContainerTableFeature=styled.div`
  width: 50%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,ContainerTableDetail=styled.div`
  width: 50%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`;function PropertyEstablishment(){const[tt,et]=reactExports.useState({}),{Request:nt}=useRequest();return reactExports.useEffect(()=>{nt("dynasty").then(rt=>{et(rt.data.data)})},[]),jsxRuntimeExports.jsxs(Container$4,{children:[jsxRuntimeExports.jsx(ContainerTableFeature,{children:jsxRuntimeExports.jsx(TableFeature,{dynasty:tt,setDynasty:et})}),jsxRuntimeExports.jsx(ContainerTableDetail,{children:tt["user-has-dynasty"]?jsxRuntimeExports.jsx(TableDynasty,{dynasty:tt}):jsxRuntimeExports.jsx(TableFeatureDynasty,{dynasty:tt})})]})}const CrossIcon="/metaverse/assets/cross-2-3422a482.png",CheckIcon="/metaverse/assets/check-a168c70d.png",Container$3=styled.div`
  width: 100%;
  height: 100%;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
`,ContainerMessage$1=styled.div`
  width: 99%;
  height: 99%;
  padding: 10px;
  display: flex;
  align-items: end;
  justify-content: space-around;
  flex-direction: column;
  text-align: right;
  padding: 0.5rem;
  line-height: 2;
  border: 1px solid #777;
  border-radius: 7px;
`,IconBack$1=styled.img`
  width: 50px;
  rotate: 360deg;
  transform: rotateY(185deg);
  cursor: pointer;
`,Header$1=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px;
`,StatusContainer$1=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: end;
  gap: 10px;
  & img {
    width: 30px;
  }
  & p{
font-size: 16px;
  }
`;function getStatusText$1(tt){return{0:{text:"در دست بررسی",image:""},"-1":{text:"رد شده",image:CrossIcon},1:{text:"تایید شده",image:CheckIcon}}[tt]||""}function Message$1({items:tt,handleBack:et}){const{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState();reactExports.useEffect(()=>{nt(`dynasty/requests/recieved/${tt.id}`).then(lt=>{st(lt.data.data)})},[]);const ot=getStatusText$1(it==null?void 0:it.status),at=()=>{nt(`dynasty/requests/recieved/${tt.id}`,rt.POST).then(lt=>{ToastSuccess("سلسله با موفقیت تاسیس شد.")}).catch(lt=>{if(lt.response.status===410)return ToastError("جهت ادامه امنیت حساب کاربری خود را غیر فعال کنید!"),Navigate("/metaverse/confirmation");ToastError(lt.response.data.message)})};return jsxRuntimeExports.jsx(Container$3,{children:jsxRuntimeExports.jsxs(ContainerMessage$1,{children:[jsxRuntimeExports.jsxs(Header$1,{children:[jsxRuntimeExports.jsx(IconBack$1,{src:BackIcon,onClick:et}),jsxRuntimeExports.jsxs("h2",{children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"600",color:"blue",cursor:"pointer",fontFamily:"Segoe UI"},onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${it==null?void 0:it.from_user.code}`,"_blank"),children:it==null?void 0:it.from_user.code}),"درخواست دریافت شده از شهروند"]})]}),jsxRuntimeExports.jsxs(StatusContainer$1,{children:[ot.image&&jsxRuntimeExports.jsx("img",{src:ot.image,alt:"وضعیت"}),jsxRuntimeExports.jsx("p",{children:ot.text})]}),jsxRuntimeExports.jsx("p",{children:it?it.message:""}),(it==null?void 0:it.status)===0&&jsxRuntimeExports.jsx(Submit$1,{text:"تایید سلسله",type:"primary",options:{onClick:at,style:{margin:"0 auto"}}})]})})}const SeenICoin="/metaverse/assets/eye-scanner-1a03e944.png",status$1={"-1":"رد شده",1:"تایید شده",0:"تایید نشده"},Table$1=styled.table`
  width: 100%;
  padding: 10px;
  border-spacing: 0;
  direction: rtl;
  & td {
    text-align: center;
  }
`,HeaderTable$1=styled.thead`
  background: #e9e9e9;
  height: 50px;
`,Tr$1=styled.tr`
  height: 60px !important;
  padding: 5px;
`,GiftIcon$1=styled.img`
  width: 30px;
`,TdGift$1=styled.td`
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: row-reverse;
  gap: 10px;
  height: 60px;
  width: 434px;
`,TableBody$1=styled.tbody`
  tr:nth-of-type(odd) {
    background: white;
  }
  tr:nth-of-type(even) {
    background: #e9e9e9;
  }
`;function RequestReceived(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]);reactExports.useEffect(()=>{tt("dynasty/requests/recieved").then(ut=>{nt(ut.data.data)})},[]);const[rt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState({}),at=ut=>{it(!0),ot(ut)},lt=()=>{it(!1),ot(null)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rt?jsxRuntimeExports.jsx(Message$1,{items:st,handleBack:lt}):jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(HeaderTable$1,{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"دریافت از"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"تاریخ وساعت دریافت"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"نسبت خانوادگی"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"وضعیت درخواست"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"پاداش"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"}})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:et==null?void 0:et.map(ut=>{var ft;return jsxRuntimeExports.jsxs(Tr$1,{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("p",{style:{fontWeight:"600",color:"blue",cursor:"pointer"},onClick:()=>{var dt;return window.open(`https://rgb.irpsc.com/citizen/${(dt=ut==null?void 0:ut.from_user)==null?void 0:dt.code}`,"_blank")},children:(ft=ut==null?void 0:ut.from_user)==null?void 0:ft.code})}),jsxRuntimeExports.jsx("td",{children:ut.Date?ut.Date:"00:00:00 01/01/0101"}),jsxRuntimeExports.jsx("td",{children:ut.relationship}),jsxRuntimeExports.jsx("td",{children:status$1[ut.status]}),jsxRuntimeExports.jsxs(TdGift$1,{children:[jsxRuntimeExports.jsx(GiftIcon$1,{src:PscCoin}),"1000",jsxRuntimeExports.jsx(GiftIcon$1,{src:DataBaseIcon}),"26.3%",jsxRuntimeExports.jsx(GiftIcon$1,{src:BankICoin}),"32%",jsxRuntimeExports.jsx(GiftIcon$1,{src:IncreaseICoin}),"32%",jsxRuntimeExports.jsx(GiftIcon$1,{src:SatisfactionICoin}),"0.5"]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(GiftIcon$1,{src:SeenICoin,style:{cursor:"pointer"},onClick:()=>at(ut)})})]})})})]})})}const Container$2=styled.div`
  width: 100%;
  height: 100%;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
`,ContainerMessage=styled.div`
  width: 99%;
  height: 99%;
  padding: 10px;
  display: flex;
  align-items: end;
  justify-content: space-around;
  flex-direction: column;
  text-align: right;
  padding: 0.5rem;
  line-height: 2;
  border: 1px solid #777;
  border-radius: 7px;
`,IconBack=styled.img`
  width: 50px;
  rotate: 360deg;
  transform: rotateY(185deg);
  cursor: pointer;
`,Header=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px;
`,StatusContainer=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: end;
  gap: 10px;
  & img {
    width: 30px;
  }
  & p{
font-size: 16px;
  }
`;function getStatusText(tt){return{0:{text:"در دست بررسی",image:""},"-1":{text:"رد شده",image:CrossIcon},1:{text:"تایید شده",image:CheckIcon}}[tt]||""}function Message({items:tt,handleBack:et}){const{Request:nt}=useRequest(),[rt,it]=reactExports.useState();reactExports.useEffect(()=>{nt(`dynasty/requests/sent/${tt.id}`).then(ot=>{it(ot.data.data)})},[]);const st=getStatusText(rt==null?void 0:rt.status);return jsxRuntimeExports.jsx(Container$2,{children:jsxRuntimeExports.jsxs(ContainerMessage,{children:[jsxRuntimeExports.jsxs(Header,{children:[jsxRuntimeExports.jsx(IconBack,{src:BackIcon,onClick:et}),jsxRuntimeExports.jsxs("h2",{children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"600",color:"blue",cursor:"pointer",fontFamily:"Segoe UI"},onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${rt==null?void 0:rt.to_user.code}`,"_blank"),children:rt==null?void 0:rt.to_user.code}),"درخواست ارسال شده به شهروند"]})]}),jsxRuntimeExports.jsxs(StatusContainer,{children:[st.image&&jsxRuntimeExports.jsx("img",{src:st.image,alt:"وضعیت"}),jsxRuntimeExports.jsx("p",{children:st.text})]}),jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:rt?rt.message:""}})]})})}const Table=styled.table`
  width: 100%;
  padding: 10px;
  border-spacing: 0;
  direction: rtl;
  & td {
    text-align: center;
  }
`,HeaderTable=styled.thead`
  background: #e9e9e9;
  height: 50px;
`,Tr=styled.tr`
  height: 60px !important;
  padding: 5px;
`,GiftIcon=styled.img`
  width: 30px;
`,TdGift=styled.td`
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: row-reverse;
  gap: 10px;
  height: 60px;
  width: 434px;
`,TableBody=styled.tbody`
  tr:nth-of-type(odd) {
    background: white;
  }
  tr:nth-of-type(even) {
    background: #e9e9e9;
  }
`,status={"-1":"رد شده",1:"تایید شده",0:"تایید نشده"};function RequestSent(){const{Request:tt}=useRequest(),[et,nt]=reactExports.useState([]);reactExports.useEffect(()=>{tt("dynasty/requests/sent").then(ut=>{nt(ut.data.data)})},[]);const[rt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState({}),at=ut=>{it(!0),ot(ut)},lt=()=>{it(!1),ot(null)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rt?jsxRuntimeExports.jsx(Message,{items:st,handleBack:lt}):jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(HeaderTable,{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"ارسال به"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"تاریخ وساعت ارسال"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"نسبت خانوادگی"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"وضعیت درخواست"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"},children:"پاداش"}),jsxRuntimeExports.jsx("th",{style:{padding:"5px"}})]})}),jsxRuntimeExports.jsx(TableBody,{children:et==null?void 0:et.map(ut=>jsxRuntimeExports.jsxs(Tr,{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("p",{style:{fontWeight:"600",color:"blue",cursor:"pointer",fontFamily:"Segoe UI"},onClick:()=>window.open(`https://rgb.irpsc.com/citizen/${ut==null?void 0:ut.to_user.code}`,"_blank"),children:ut==null?void 0:ut.to_user.code})}),jsxRuntimeExports.jsx("td",{children:ut!=null&&ut.Date?ut==null?void 0:ut.Date:"00:00:00 01/01/0101"}),jsxRuntimeExports.jsx("td",{children:ut==null?void 0:ut.relationship}),jsxRuntimeExports.jsx("td",{children:status[ut==null?void 0:ut.status]}),jsxRuntimeExports.jsxs(TdGift,{children:[jsxRuntimeExports.jsx(GiftIcon,{src:PscCoin}),"1000",jsxRuntimeExports.jsx(GiftIcon,{src:DataBaseIcon}),"26.3%",jsxRuntimeExports.jsx(GiftIcon,{src:BankICoin}),"32%",jsxRuntimeExports.jsx(GiftIcon,{src:IncreaseICoin}),"32%",jsxRuntimeExports.jsx(GiftIcon,{src:SatisfactionICoin}),"0.5"]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(GiftIcon,{src:SeenICoin,style:{cursor:"pointer"},onClick:()=>at(ut)})})]}))})]})})}function Dynasty(){const et=useTabs([{title:"تاسیس ملک",content:jsxRuntimeExports.jsx(PropertyEstablishment,{})},{title:"اعضاء",content:jsxRuntimeExports.jsx(Members$1,{})},{title:"درخواست ارسالی",content:jsxRuntimeExports.jsx(RequestSent,{})},{title:"درخواست دریافتی",content:jsxRuntimeExports.jsx(RequestReceived,{})}]);return jsxRuntimeExports.jsx(Modal$1,{type:"modal-section-md",title:"سلسله",children:et})}const Btn$1=styled.button`
  width: 33%;
  height: 40px;
  border-radius: 12px;
  border: 1px solid ${tt=>tt.color||"black"};
  filter: drop-shadow(0 2px 2px ${tt=>tt.color||"black"});
  background-color: white;
  color: ${tt=>tt.color||"black"};
`,BtnHourProfitAll=({value:tt,color:et,onClick:nt})=>jsxRuntimeExports.jsx(Btn$1,{onClick:nt,color:et,children:tt}),FeatureContainer=styled.div`
  width: 100%;
  height: 100px;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: space-around;
  gap: 0.5rem;
`,Border=styled.div`
  width: 70%;
  height: 1px;
  background-color: black;
  margin: 0 auto;
`,DetaileContainer=styled.div`
  width: 70%;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-direction: column;
`,Btn=styled.button`
  width: 18%;
  height: 40px;
  border-radius: 12px;
  border: 1px solid ${tt=>tt.color||"black"};
  filter: drop-shadow(0 2px 2px ${tt=>tt.color||"black"});
  background-color: white;
  color: ${tt=>tt.color||"black"};
  display: flex;
  align-items: center;
  justify-content: center;
`,FeatureDetaile=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,DateFeatureDetaile=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,OrangeBoldFont=styled.span`
  font-weight: 700;
  color: orange;
  cursor: pointer;
  font-family: "Segoe UI";
`,karbariIcons={a:BlueHouseIcon,t:RedHouseIcon,m:YellowHouseIcon},karbariColor={a:"Blue",t:"red",m:"#d5d504"},Container$1=styled.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  align-items: center;
`,FeatureHourProfit=({data:tt})=>{const et=useNavigate(),{Request:nt,HTTP_METHOD:rt}=useRequest(),[it,st]=reactExports.useState(!1),ot=lt=>{nt(`hourly-profits/${lt}`,rt.POST).then(()=>{st(!0)}).catch(ut=>{console.log(ut)})},at=styled.img`
  width: 18px;
  aspect-ratio: 1/1;
`;return jsxRuntimeExports.jsx(Container$1,{children:!it&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(FeatureContainer,{children:[jsxRuntimeExports.jsx(Btn,{color:karbariColor[tt==null?void 0:tt.karbari],onClick:()=>ot(tt.id),disabled:(tt==null?void 0:tt.amount)==="0.000",children:tt==null?void 0:tt.amount}),jsxRuntimeExports.jsxs(DetaileContainer,{children:[jsxRuntimeExports.jsxs(FeatureDetaile,{children:[jsxRuntimeExports.jsxs(OrangeBoldFont,{onClick:()=>et(`/metaverse/feature/${tt==null?void 0:tt.feature_db_id}`),children:[jsxRuntimeExports.jsx(at,{src:karbariIcons[tt==null?void 0:tt.karbari]}),"  ",tt==null?void 0:tt.feature_id]}),jsxRuntimeExports.jsx("span",{children:":نوع کاربری "})]}),jsxRuntimeExports.jsxs(DateFeatureDetaile,{children:[jsxRuntimeExports.jsx("span",{children:tt==null?void 0:tt.dead_line}),jsxRuntimeExports.jsx("span",{children:":آخرین جمع آوری"})]})]})]}),jsxRuntimeExports.jsx(Border,{})]})})},BtnContainer=styled.div`
  width: 100%;
  padding: 0 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
`,Container=styled.div`
  width: 100%;
  height: 110%;
  display: flex;
  align-items: start;
  flex-direction: column;
  overflow-y: auto;
`,HourProfit=()=>{const{Request:tt,HTTP_METHOD:et}=useRequest(),[nt,rt]=reactExports.useState([]),[it,st]=reactExports.useState({m:!1,t:!1,a:!1});reactExports.useEffect(()=>{tt("hourly-profits",et.GET).then(({data:lt})=>rt(lt.data)).catch(lt=>console.error(lt))},[]);const ot=reactExports.useMemo(()=>lt=>nt.reduce((ut,ft)=>(ft.karbari===lt&&(ut+=parseFloat(ft.amount)),ut),0).toFixed(3),[nt]),at=lt=>{tt("hourly-profits",et.POST,{karbari:lt}).then(({data:ut})=>{rt(ut.data.filter(ft=>ft.karbari!==lt)),st({...it,[lt]:!0})}).catch(ut=>console.error(ut))};return jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsxs(BtnContainer,{children:[jsxRuntimeExports.jsx(BtnHourProfitAll,{color:"red",value:ot("t"),onClick:()=>{ot("t")!=="0.000"&&at("t")}}),jsxRuntimeExports.jsx(BtnHourProfitAll,{color:"blue",value:ot("a"),onClick:()=>{ot("a")!=="0.000"&&at("a")}}),jsxRuntimeExports.jsx(BtnHourProfitAll,{color:"#d5d504",value:ot("m"),onClick:()=>{ot("m")!=="0.000"&&at("m")}})]}),nt.length>0&&nt.map(lt=>!it[lt.karbari]&&jsxRuntimeExports.jsx(FeatureHourProfit,{data:lt},lt==null?void 0:lt.id))]})},HourMeterProfit=()=>{const et=useTabs([{title:"سود املاک",content:jsxRuntimeExports.jsx(HourProfit,{})}],0,!0);return jsxRuntimeExports.jsx(ModalPosition,{title:" جذب سود ساعت شمار",position:"right",children:et})};function Routers(){return jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/metaverse",element:jsxRuntimeExports.jsx(Outlet,{}),children:[jsxRuntimeExports.jsx(Route,{path:"login",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(Login,{})})}),jsxRuntimeExports.jsx(Route,{path:"signup",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(Signup,{})})}),jsxRuntimeExports.jsx(Route,{path:"sanad",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Sanad,{})})}),jsxRuntimeExports.jsx(Route,{path:"reset-password",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(ForgetPassword,{})})}),jsxRuntimeExports.jsx(Route,{path:"confirmation",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Security,{})})}),jsxRuntimeExports.jsx(Route,{path:"report",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Report,{})})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Settings,{})})}),jsxRuntimeExports.jsx(Route,{path:"profile",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Profile,{})})}),jsxRuntimeExports.jsx(Route,{path:"player/:id",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Player,{})})}),jsxRuntimeExports.jsx(Route,{path:"notifications",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Notifications,{})})}),jsxRuntimeExports.jsx(Route,{path:"verification",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Verification,{})})}),jsxRuntimeExports.jsx(Route,{path:"dynasty",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Dynasty,{})})}),jsxRuntimeExports.jsx(Route,{path:"store",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Store,{})})}),jsxRuntimeExports.jsx(Route,{path:"payment/verify",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Verification$1,{})})}),jsxRuntimeExports.jsx(Route,{path:"verification",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Verification,{})})}),jsxRuntimeExports.jsx(Route,{path:"feature/:id",element:jsxRuntimeExports.jsx(Feature,{})}),jsxRuntimeExports.jsx(Route,{path:"upload/avatar",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(UploadAvatar,{})})}),jsxRuntimeExports.jsx(Route,{path:"search",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Search,{})})}),jsxRuntimeExports.jsx(Route,{path:"hour-profit",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(HourMeterProfit,{})})}),jsxRuntimeExports.jsxs(Route,{path:"successful",element:jsxRuntimeExports.jsx(Outlet,{}),children:[jsxRuntimeExports.jsx(Route,{path:"commercial",element:jsxRuntimeExports.jsx(Commercial,{})}),jsxRuntimeExports.jsx(Route,{path:"residential",element:jsxRuntimeExports.jsx(Residential,{})}),jsxRuntimeExports.jsx(Route,{path:"educational",element:jsxRuntimeExports.jsx(Educational,{})}),jsxRuntimeExports.jsx(Route,{path:"signup",element:jsxRuntimeExports.jsx(SignupLottie,{})})]})]})})}const IconFlyTo=styled.img`
  position: absolute;
  z-index: 500;
  top: 56%;
  right: 0px;
  width: 100px;
  aspect-ratio: 1/1;
  cursor: pointer;
  @media (min-width: 1536px) {
    top: 50%;
  }
`,MapContext=reactExports.createContext(),Map$1=()=>{const tt=reactExports.useRef(),{setUserWithToken:et}=useAuth();reactExports.useEffect(()=>{et()},[]);const nt=new deck_glLeaflet_minExports.LeafletLayer({views:[new MapView({controller:!0})],layers:[new ScenegraphLayer({id:"scenegraph-layer",data:[0],pickable:!1,scenegraph:"house.gltf",getOrientation:rt=>[0,0,90],getPosition:rt=>[50.0639,36.32746],sizeScale:1,_lighting:"pbr"})]});return jsxRuntimeExports.jsxs(MapContext.Provider,{value:tt,children:[jsxRuntimeExports.jsxs(MapContainer,{center:[36.32,50.02],zoom:15,style:{width:"100%",height:"100vh"},ref:tt,layers:nt,children:[jsxRuntimeExports.jsx(TileLayer,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}}),jsxRuntimeExports.jsx(MapPolygons,{}),jsxRuntimeExports.jsx(Main,{}),jsxRuntimeExports.jsx(ContextMenu,{}),jsxRuntimeExports.jsx(AdviserIcon,{}),jsxRuntimeExports.jsx(ToolTip,{Chidren:jsxRuntimeExports.jsx(IconFlyTo,{src:flyToGif,onClick:()=>flyToPosition({latitude:26.264711,longitude:55.305572,icon:LocationPin,mapRe:tt,zoom:17})}),TitleToltip:"تنب بزرگ",ContentToltip:"برای انتقال به تنب بزرگ کلیک کنید",classNamePosstion:"tw-flyto"})]}),jsxRuntimeExports.jsx(Routers,{})]})};function _typeof(tt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(tt)}function _classCallCheck(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function _createClass(tt,et,nt){return et&&_defineProperties(tt.prototype,et),nt&&_defineProperties(tt,nt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function _extends(){return _extends=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends.apply(this,arguments)}function _inherits(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),et&&_setPrototypeOf(tt,et)}function _getPrototypeOf(tt){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf(tt)}function _setPrototypeOf(tt,et){return _setPrototypeOf=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf(tt,et)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _possibleConstructorReturn(tt,et){if(et&&(typeof et=="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(tt)}function _createSuper(tt){var et=_isNativeReflectConstruct();return function(){var rt=_getPrototypeOf(tt),it;if(et){var st=_getPrototypeOf(this).constructor;it=Reflect.construct(rt,arguments,st)}else it=rt.apply(this,arguments);return _possibleConstructorReturn(this,it)}}var Channel=function(){function tt(){_classCallCheck(this,tt)}return _createClass(tt,[{key:"listenForWhisper",value:function(nt,rt){return this.listen(".client-"+nt,rt)}},{key:"notification",value:function(nt){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",nt)}},{key:"stopListeningForWhisper",value:function(nt,rt){return this.stopListening(".client-"+nt,rt)}}]),tt}(),EventFormatter=function(){function tt(et){_classCallCheck(this,tt),this.setNamespace(et)}return _createClass(tt,[{key:"format",value:function(nt){return nt.charAt(0)==="."||nt.charAt(0)==="\\"?nt.substr(1):(this.namespace&&(nt=this.namespace+"."+nt),nt.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(nt){this.namespace=nt}}]),tt}(),PusherChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(rt,it,st){var ot;return _classCallCheck(this,nt),ot=et.call(this),ot.name=it,ot.pusher=rt,ot.options=st,ot.eventFormatter=new EventFormatter(ot.options.namespace),ot.subscribe(),ot}return _createClass(nt,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(it,st){return this.on(this.eventFormatter.format(it),st),this}},{key:"listenToAll",value:function(it){var st=this;return this.subscription.bind_global(function(ot,at){if(!ot.startsWith("pusher:")){var lt=st.options.namespace.replace(/\./g,"\\"),ut=ot.startsWith(lt)?ot.substring(lt.length+1):"."+ot;it(ut,at)}}),this}},{key:"stopListening",value:function(it,st){return st?this.subscription.unbind(this.eventFormatter.format(it),st):this.subscription.unbind(this.eventFormatter.format(it)),this}},{key:"stopListeningToAll",value:function(it){return it?this.subscription.unbind_global(it):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(it){return this.on("pusher:subscription_succeeded",function(){it()}),this}},{key:"error",value:function(it){return this.on("pusher:subscription_error",function(st){it(st)}),this}},{key:"on",value:function(it,st){return this.subscription.bind(it,st),this}}]),nt}(Channel),PusherPrivateChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"whisper",value:function(it,st){return this.pusher.channels.channels[this.name].trigger("client-".concat(it),st),this}}]),nt}(PusherChannel),PusherEncryptedPrivateChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"whisper",value:function(it,st){return this.pusher.channels.channels[this.name].trigger("client-".concat(it),st),this}}]),nt}(PusherChannel),PusherPresenceChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"here",value:function(it){return this.on("pusher:subscription_succeeded",function(st){it(Object.keys(st.members).map(function(ot){return st.members[ot]}))}),this}},{key:"joining",value:function(it){return this.on("pusher:member_added",function(st){it(st.info)}),this}},{key:"whisper",value:function(it,st){return this.pusher.channels.channels[this.name].trigger("client-".concat(it),st),this}},{key:"leaving",value:function(it){return this.on("pusher:member_removed",function(st){it(st.info)}),this}}]),nt}(PusherChannel),SocketIoChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(rt,it,st){var ot;return _classCallCheck(this,nt),ot=et.call(this),ot.events={},ot.listeners={},ot.name=it,ot.socket=rt,ot.options=st,ot.eventFormatter=new EventFormatter(ot.options.namespace),ot.subscribe(),ot}return _createClass(nt,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(it,st){return this.on(this.eventFormatter.format(it),st),this}},{key:"stopListening",value:function(it,st){return this.unbindEvent(this.eventFormatter.format(it),st),this}},{key:"subscribed",value:function(it){return this.on("connect",function(st){it(st)}),this}},{key:"error",value:function(it){return this}},{key:"on",value:function(it,st){var ot=this;return this.listeners[it]=this.listeners[it]||[],this.events[it]||(this.events[it]=function(at,lt){ot.name===at&&ot.listeners[it]&&ot.listeners[it].forEach(function(ut){return ut(lt)})},this.socket.on(it,this.events[it])),this.listeners[it].push(st),this}},{key:"unbind",value:function(){var it=this;Object.keys(this.events).forEach(function(st){it.unbindEvent(st)})}},{key:"unbindEvent",value:function(it,st){this.listeners[it]=this.listeners[it]||[],st&&(this.listeners[it]=this.listeners[it].filter(function(ot){return ot!==st})),(!st||this.listeners[it].length===0)&&(this.events[it]&&(this.socket.removeListener(it,this.events[it]),delete this.events[it]),delete this.listeners[it])}}]),nt}(Channel),SocketIoPrivateChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"whisper",value:function(it,st){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(it),data:st}),this}}]),nt}(SocketIoChannel),SocketIoPresenceChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"here",value:function(it){return this.on("presence:subscribed",function(st){it(st.map(function(ot){return ot.user_info}))}),this}},{key:"joining",value:function(it){return this.on("presence:joining",function(st){return it(st.user_info)}),this}},{key:"whisper",value:function(it,st){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(it),data:st}),this}},{key:"leaving",value:function(it){return this.on("presence:leaving",function(st){return it(st.user_info)}),this}}]),nt}(SocketIoPrivateChannel),NullChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(it,st){return this}},{key:"listenToAll",value:function(it){return this}},{key:"stopListening",value:function(it,st){return this}},{key:"subscribed",value:function(it){return this}},{key:"error",value:function(it){return this}},{key:"on",value:function(it,st){return this}}]),nt}(Channel),NullPrivateChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"whisper",value:function(it,st){return this}}]),nt}(NullChannel),NullPresenceChannel=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){return _classCallCheck(this,nt),et.apply(this,arguments)}return _createClass(nt,[{key:"here",value:function(it){return this}},{key:"joining",value:function(it){return this}},{key:"whisper",value:function(it,st){return this}},{key:"leaving",value:function(it){return this}}]),nt}(NullChannel),Connector=function(){function tt(et){_classCallCheck(this,tt),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(et),this.connect()}return _createClass(tt,[{key:"setOptions",value:function(nt){this.options=_extends(this._defaultOptions,nt);var rt=this.csrfToken();return rt&&(this.options.auth.headers["X-CSRF-TOKEN"]=rt,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=rt),rt=this.options.bearerToken,rt&&(this.options.auth.headers.Authorization="Bearer "+rt,this.options.userAuthentication.headers.Authorization="Bearer "+rt),nt}},{key:"csrfToken",value:function(){var nt;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(nt=document.querySelector('meta[name="csrf-token"]'))?nt.getAttribute("content"):null}}]),tt}(),PusherConnector=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){var rt;return _classCallCheck(this,nt),rt=et.apply(this,arguments),rt.channels={},rt}return _createClass(nt,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(it,st,ot){return this.channel(it).listen(st,ot)}},{key:"channel",value:function(it){return this.channels[it]||(this.channels[it]=new PusherChannel(this.pusher,it,this.options)),this.channels[it]}},{key:"privateChannel",value:function(it){return this.channels["private-"+it]||(this.channels["private-"+it]=new PusherPrivateChannel(this.pusher,"private-"+it,this.options)),this.channels["private-"+it]}},{key:"encryptedPrivateChannel",value:function(it){return this.channels["private-encrypted-"+it]||(this.channels["private-encrypted-"+it]=new PusherEncryptedPrivateChannel(this.pusher,"private-encrypted-"+it,this.options)),this.channels["private-encrypted-"+it]}},{key:"presenceChannel",value:function(it){return this.channels["presence-"+it]||(this.channels["presence-"+it]=new PusherPresenceChannel(this.pusher,"presence-"+it,this.options)),this.channels["presence-"+it]}},{key:"leave",value:function(it){var st=this,ot=[it,"private-"+it,"private-encrypted-"+it,"presence-"+it];ot.forEach(function(at,lt){st.leaveChannel(at)})}},{key:"leaveChannel",value:function(it){this.channels[it]&&(this.channels[it].unsubscribe(),delete this.channels[it])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),nt}(Connector),SocketIoConnector=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){var rt;return _classCallCheck(this,nt),rt=et.apply(this,arguments),rt.channels={},rt}return _createClass(nt,[{key:"connect",value:function(){var it=this,st=this.getSocketIO();return this.socket=st(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(it.channels).forEach(function(ot){ot.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(it,st,ot){return this.channel(it).listen(st,ot)}},{key:"channel",value:function(it){return this.channels[it]||(this.channels[it]=new SocketIoChannel(this.socket,it,this.options)),this.channels[it]}},{key:"privateChannel",value:function(it){return this.channels["private-"+it]||(this.channels["private-"+it]=new SocketIoPrivateChannel(this.socket,"private-"+it,this.options)),this.channels["private-"+it]}},{key:"presenceChannel",value:function(it){return this.channels["presence-"+it]||(this.channels["presence-"+it]=new SocketIoPresenceChannel(this.socket,"presence-"+it,this.options)),this.channels["presence-"+it]}},{key:"leave",value:function(it){var st=this,ot=[it,"private-"+it,"presence-"+it];ot.forEach(function(at){st.leaveChannel(at)})}},{key:"leaveChannel",value:function(it){this.channels[it]&&(this.channels[it].unsubscribe(),delete this.channels[it])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),nt}(Connector),NullConnector=function(tt){_inherits(nt,tt);var et=_createSuper(nt);function nt(){var rt;return _classCallCheck(this,nt),rt=et.apply(this,arguments),rt.channels={},rt}return _createClass(nt,[{key:"connect",value:function(){}},{key:"listen",value:function(it,st,ot){return new NullChannel}},{key:"channel",value:function(it){return new NullChannel}},{key:"privateChannel",value:function(it){return new NullPrivateChannel}},{key:"encryptedPrivateChannel",value:function(it){return new NullPrivateChannel}},{key:"presenceChannel",value:function(it){return new NullPresenceChannel}},{key:"leave",value:function(it){}},{key:"leaveChannel",value:function(it){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),nt}(Connector),Echo=function(){function tt(et){_classCallCheck(this,tt),this.options=et,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return _createClass(tt,[{key:"channel",value:function(nt){return this.connector.channel(nt)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new PusherConnector(this.options):this.options.broadcaster=="socket.io"?this.connector=new SocketIoConnector(this.options):this.options.broadcaster=="null"?this.connector=new NullConnector(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(nt){return this.connector.presenceChannel(nt)}},{key:"leave",value:function(nt){this.connector.leave(nt)}},{key:"leaveChannel",value:function(nt){this.connector.leaveChannel(nt)}},{key:"leaveAllChannels",value:function(){for(var nt in this.connector.channels)this.leaveChannel(nt)}},{key:"listen",value:function(nt,rt,it){return this.connector.listen(nt,rt,it)}},{key:"private",value:function(nt){return this.connector.privateChannel(nt)}},{key:"encryptedPrivate",value:function(nt){return this.connector.encryptedPrivateChannel(nt)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":_typeof(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var nt=this;Vue.http.interceptors.push(function(rt,it){nt.socketId()&&rt.headers.set("X-Socket-ID",nt.socketId()),it()})}},{key:"registerAxiosRequestInterceptor",value:function(){var nt=this;axios.interceptors.request.use(function(rt){return nt.socketId()&&(rt.headers["X-Socket-Id"]=nt.socketId()),rt})}},{key:"registerjQueryAjaxSetup",value:function(){var nt=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(rt,it,st){nt.socketId()&&st.setRequestHeader("X-Socket-Id",nt.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var nt=this;document.addEventListener("turbo:before-fetch-request",function(rt){rt.detail.fetchOptions.headers["X-Socket-Id"]=nt.socketId()})}}]),tt}(),pusher={exports:{}};/*!
 * Pusher JavaScript Library v8.0.2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(tt,et){(function(rt,it){tt.exports=it()})(window,function(){return function(nt){var rt={};function it(st){if(rt[st])return rt[st].exports;var ot=rt[st]={i:st,l:!1,exports:{}};return nt[st].call(ot.exports,ot,ot.exports,it),ot.l=!0,ot.exports}return it.m=nt,it.c=rt,it.d=function(st,ot,at){it.o(st,ot)||Object.defineProperty(st,ot,{enumerable:!0,get:at})},it.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},it.t=function(st,ot){if(ot&1&&(st=it(st)),ot&8||ot&4&&typeof st=="object"&&st&&st.__esModule)return st;var at=Object.create(null);if(it.r(at),Object.defineProperty(at,"default",{enumerable:!0,value:st}),ot&2&&typeof st!="string")for(var lt in st)it.d(at,lt,function(ut){return st[ut]}.bind(null,lt));return at},it.n=function(st){var ot=st&&st.__esModule?function(){return st.default}:function(){return st};return it.d(ot,"a",ot),ot},it.o=function(st,ot){return Object.prototype.hasOwnProperty.call(st,ot)},it.p="",it(it.s=2)}([function(nt,rt,it){var st=this&&this.__extends||function(){var _t=function(At,gt){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,Et){vt.__proto__=Et}||function(vt,Et){for(var yt in Et)Et.hasOwnProperty(yt)&&(vt[yt]=Et[yt])},_t(At,gt)};return function(At,gt){_t(At,gt);function vt(){this.constructor=At}At.prototype=gt===null?Object.create(gt):(vt.prototype=gt.prototype,new vt)}}();Object.defineProperty(rt,"__esModule",{value:!0});var ot=256,at=function(){function _t(At){At===void 0&&(At="="),this._paddingCharacter=At}return _t.prototype.encodedLength=function(At){return this._paddingCharacter?(At+2)/3*4|0:(At*8+5)/6|0},_t.prototype.encode=function(At){for(var gt="",vt=0;vt<At.length-2;vt+=3){var Et=At[vt]<<16|At[vt+1]<<8|At[vt+2];gt+=this._encodeByte(Et>>>3*6&63),gt+=this._encodeByte(Et>>>2*6&63),gt+=this._encodeByte(Et>>>1*6&63),gt+=this._encodeByte(Et>>>0*6&63)}var yt=At.length-vt;if(yt>0){var Et=At[vt]<<16|(yt===2?At[vt+1]<<8:0);gt+=this._encodeByte(Et>>>3*6&63),gt+=this._encodeByte(Et>>>2*6&63),yt===2?gt+=this._encodeByte(Et>>>1*6&63):gt+=this._paddingCharacter||"",gt+=this._paddingCharacter||""}return gt},_t.prototype.maxDecodedLength=function(At){return this._paddingCharacter?At/4*3|0:(At*6+7)/8|0},_t.prototype.decodedLength=function(At){return this.maxDecodedLength(At.length-this._getPaddingLength(At))},_t.prototype.decode=function(At){if(At.length===0)return new Uint8Array(0);for(var gt=this._getPaddingLength(At),vt=At.length-gt,Et=new Uint8Array(this.maxDecodedLength(vt)),yt=0,wt=0,Ct=0,Rt=0,It=0,$t=0,Ft=0;wt<vt-4;wt+=4)Rt=this._decodeChar(At.charCodeAt(wt+0)),It=this._decodeChar(At.charCodeAt(wt+1)),$t=this._decodeChar(At.charCodeAt(wt+2)),Ft=this._decodeChar(At.charCodeAt(wt+3)),Et[yt++]=Rt<<2|It>>>4,Et[yt++]=It<<4|$t>>>2,Et[yt++]=$t<<6|Ft,Ct|=Rt&ot,Ct|=It&ot,Ct|=$t&ot,Ct|=Ft&ot;if(wt<vt-1&&(Rt=this._decodeChar(At.charCodeAt(wt)),It=this._decodeChar(At.charCodeAt(wt+1)),Et[yt++]=Rt<<2|It>>>4,Ct|=Rt&ot,Ct|=It&ot),wt<vt-2&&($t=this._decodeChar(At.charCodeAt(wt+2)),Et[yt++]=It<<4|$t>>>2,Ct|=$t&ot),wt<vt-3&&(Ft=this._decodeChar(At.charCodeAt(wt+3)),Et[yt++]=$t<<6|Ft,Ct|=Ft&ot),Ct!==0)throw new Error("Base64Coder: incorrect characters for decoding");return Et},_t.prototype._encodeByte=function(At){var gt=At;return gt+=65,gt+=25-At>>>8&0-65-26+97,gt+=51-At>>>8&26-97-52+48,gt+=61-At>>>8&52-48-62+43,gt+=62-At>>>8&62-43-63+47,String.fromCharCode(gt)},_t.prototype._decodeChar=function(At){var gt=ot;return gt+=(42-At&At-44)>>>8&-ot+At-43+62,gt+=(46-At&At-48)>>>8&-ot+At-47+63,gt+=(47-At&At-58)>>>8&-ot+At-48+52,gt+=(64-At&At-91)>>>8&-ot+At-65+0,gt+=(96-At&At-123)>>>8&-ot+At-97+26,gt},_t.prototype._getPaddingLength=function(At){var gt=0;if(this._paddingCharacter){for(var vt=At.length-1;vt>=0&&At[vt]===this._paddingCharacter;vt--)gt++;if(At.length<4||gt>2)throw new Error("Base64Coder: incorrect padding")}return gt},_t}();rt.Coder=at;var lt=new at;function ut(_t){return lt.encode(_t)}rt.encode=ut;function ft(_t){return lt.decode(_t)}rt.decode=ft;var dt=function(_t){st(At,_t);function At(){return _t!==null&&_t.apply(this,arguments)||this}return At.prototype._encodeByte=function(gt){var vt=gt;return vt+=65,vt+=25-gt>>>8&0-65-26+97,vt+=51-gt>>>8&26-97-52+48,vt+=61-gt>>>8&52-48-62+45,vt+=62-gt>>>8&62-45-63+95,String.fromCharCode(vt)},At.prototype._decodeChar=function(gt){var vt=ot;return vt+=(44-gt&gt-46)>>>8&-ot+gt-45+62,vt+=(94-gt&gt-96)>>>8&-ot+gt-95+63,vt+=(47-gt&gt-58)>>>8&-ot+gt-48+52,vt+=(64-gt&gt-91)>>>8&-ot+gt-65+0,vt+=(96-gt&gt-123)>>>8&-ot+gt-97+26,vt},At}(at);rt.URLSafeCoder=dt;var ht=new dt;function mt(_t){return ht.encode(_t)}rt.encodeURLSafe=mt;function xt(_t){return ht.decode(_t)}rt.decodeURLSafe=xt,rt.encodedLength=function(_t){return lt.encodedLength(_t)},rt.maxDecodedLength=function(_t){return lt.maxDecodedLength(_t)},rt.decodedLength=function(_t){return lt.decodedLength(_t)}},function(nt,rt,it){Object.defineProperty(rt,"__esModule",{value:!0});var st="utf8: invalid string",ot="utf8: invalid source encoding";function at(ft){for(var dt=new Uint8Array(lt(ft)),ht=0,mt=0;mt<ft.length;mt++){var xt=ft.charCodeAt(mt);xt<128?dt[ht++]=xt:xt<2048?(dt[ht++]=192|xt>>6,dt[ht++]=128|xt&63):xt<55296?(dt[ht++]=224|xt>>12,dt[ht++]=128|xt>>6&63,dt[ht++]=128|xt&63):(mt++,xt=(xt&1023)<<10,xt|=ft.charCodeAt(mt)&1023,xt+=65536,dt[ht++]=240|xt>>18,dt[ht++]=128|xt>>12&63,dt[ht++]=128|xt>>6&63,dt[ht++]=128|xt&63)}return dt}rt.encode=at;function lt(ft){for(var dt=0,ht=0;ht<ft.length;ht++){var mt=ft.charCodeAt(ht);if(mt<128)dt+=1;else if(mt<2048)dt+=2;else if(mt<55296)dt+=3;else if(mt<=57343){if(ht>=ft.length-1)throw new Error(st);ht++,dt+=4}else throw new Error(st)}return dt}rt.encodedLength=lt;function ut(ft){for(var dt=[],ht=0;ht<ft.length;ht++){var mt=ft[ht];if(mt&128){var xt=void 0;if(mt<224){if(ht>=ft.length)throw new Error(ot);var _t=ft[++ht];if((_t&192)!==128)throw new Error(ot);mt=(mt&31)<<6|_t&63,xt=128}else if(mt<240){if(ht>=ft.length-1)throw new Error(ot);var _t=ft[++ht],At=ft[++ht];if((_t&192)!==128||(At&192)!==128)throw new Error(ot);mt=(mt&15)<<12|(_t&63)<<6|At&63,xt=2048}else if(mt<248){if(ht>=ft.length-2)throw new Error(ot);var _t=ft[++ht],At=ft[++ht],gt=ft[++ht];if((_t&192)!==128||(At&192)!==128||(gt&192)!==128)throw new Error(ot);mt=(mt&15)<<18|(_t&63)<<12|(At&63)<<6|gt&63,xt=65536}else throw new Error(ot);if(mt<xt||mt>=55296&&mt<=57343)throw new Error(ot);if(mt>=65536){if(mt>1114111)throw new Error(ot);mt-=65536,dt.push(String.fromCharCode(55296|mt>>10)),mt=56320|mt&1023}}dt.push(String.fromCharCode(mt))}return dt.join("")}rt.decode=ut},function(nt,rt,it){nt.exports=it(3).default},function(nt,rt,it){it.r(rt);var st=function(){function kt(Lt,Ot){this.lastId=0,this.prefix=Lt,this.name=Ot}return kt.prototype.create=function(Lt){this.lastId++;var Ot=this.lastId,Gt=this.prefix+Ot,qt=this.name+"["+Ot+"]",hn=!1,On=function(){hn||(Lt.apply(null,arguments),hn=!0)};return this[Ot]=On,{number:Ot,id:Gt,name:qt,callback:On}},kt.prototype.remove=function(Lt){delete this[Lt.number]},kt}(),ot=new st("_pusher_script_","Pusher.ScriptReceivers"),at={VERSION:"8.0.2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},lt=at,ut=function(){function kt(Lt){this.options=Lt,this.receivers=Lt.receivers||ot,this.loading={}}return kt.prototype.load=function(Lt,Ot,Gt){var qt=this;if(qt.loading[Lt]&&qt.loading[Lt].length>0)qt.loading[Lt].push(Gt);else{qt.loading[Lt]=[Gt];var hn=qr.createScriptRequest(qt.getPath(Lt,Ot)),On=qt.receivers.create(function(qn){if(qt.receivers.remove(On),qt.loading[Lt]){var vr=qt.loading[Lt];delete qt.loading[Lt];for(var Qn=function(Ys){Ys||hn.cleanup()},kr=0;kr<vr.length;kr++)vr[kr](qn,Qn)}});hn.send(On)}},kt.prototype.getRoot=function(Lt){var Ot,Gt=qr.getDocument().location.protocol;return Lt&&Lt.useTLS||Gt==="https:"?Ot=this.options.cdn_https:Ot=this.options.cdn_http,Ot.replace(/\/*$/,"")+"/"+this.options.version},kt.prototype.getPath=function(Lt,Ot){return this.getRoot(Ot)+"/"+Lt+this.options.suffix+".js"},kt}(),ft=ut,dt=new st("_pusher_dependencies","Pusher.DependenciesReceivers"),ht=new ft({cdn_http:lt.cdn_http,cdn_https:lt.cdn_https,version:lt.VERSION,suffix:lt.dependency_suffix,receivers:dt}),mt={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},xt=function(kt){var Lt="See:",Ot=mt.urls[kt];if(!Ot)return"";var Gt;return Ot.fullUrl?Gt=Ot.fullUrl:Ot.path&&(Gt=mt.baseUrl+Ot.path),Gt?Lt+" "+Gt:""},_t={buildLogSuffix:xt},At;(function(kt){kt.UserAuthentication="user-authentication",kt.ChannelAuthorization="channel-authorization"})(At||(At={}));var gt=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),vt=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),Et=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),yt=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),wt=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),Ct=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),Rt=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),It=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),$t=function(kt){gt(Lt,kt);function Lt(Ot){var Gt=this.constructor,qt=kt.call(this,Ot)||this;return Object.setPrototypeOf(qt,Gt.prototype),qt}return Lt}(Error),Ft=function(kt){gt(Lt,kt);function Lt(Ot,Gt){var qt=this.constructor,hn=kt.call(this,Gt)||this;return hn.status=Ot,Object.setPrototypeOf(hn,qt.prototype),hn}return Lt}(Error),Bt=function(kt,Lt,Ot,Gt,qt){var hn=qr.createXHR();hn.open("POST",Ot.endpoint,!0),hn.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var On in Ot.headers)hn.setRequestHeader(On,Ot.headers[On]);if(Ot.headersProvider!=null){var qn=Ot.headersProvider();for(var On in qn)hn.setRequestHeader(On,qn[On])}return hn.onreadystatechange=function(){if(hn.readyState===4)if(hn.status===200){var vr=void 0,Qn=!1;try{vr=JSON.parse(hn.responseText),Qn=!0}catch{qt(new Ft(200,"JSON returned from "+Gt.toString()+" endpoint was invalid, yet status code was 200. Data was: "+hn.responseText),null)}Qn&&qt(null,vr)}else{var kr="";switch(Gt){case At.UserAuthentication:kr=_t.buildLogSuffix("authenticationEndpoint");break;case At.ChannelAuthorization:kr="Clients must be authorized to join private or presence channels. "+_t.buildLogSuffix("authorizationEndpoint");break}qt(new Ft(hn.status,"Unable to retrieve auth string from "+Gt.toString()+" endpoint - "+("received status: "+hn.status+" from "+Ot.endpoint+". "+kr)),null)}},hn.send(Lt),hn},Nt=Bt;function Xt(kt){return Kt(Jt(kt))}var nn=String.fromCharCode,sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn=function(kt){var Lt=kt.charCodeAt(0);return Lt<128?kt:Lt<2048?nn(192|Lt>>>6)+nn(128|Lt&63):nn(224|Lt>>>12&15)+nn(128|Lt>>>6&63)+nn(128|Lt&63)},Jt=function(kt){return kt.replace(/[^\x00-\x7F]/g,rn)},Ut=function(kt){var Lt=[0,2,1][kt.length%3],Ot=kt.charCodeAt(0)<<16|(kt.length>1?kt.charCodeAt(1):0)<<8|(kt.length>2?kt.charCodeAt(2):0),Gt=[sn.charAt(Ot>>>18),sn.charAt(Ot>>>12&63),Lt>=2?"=":sn.charAt(Ot>>>6&63),Lt>=1?"=":sn.charAt(Ot&63)];return Gt.join("")},Kt=window.btoa||function(kt){return kt.replace(/[\s\S]{1,3}/g,Ut)},Qt=function(){function kt(Lt,Ot,Gt,qt){var hn=this;this.clear=Ot,this.timer=Lt(function(){hn.timer&&(hn.timer=qt(hn.timer))},Gt)}return kt.prototype.isRunning=function(){return this.timer!==null},kt.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},kt}(),zt=Qt,Ht=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}();function en(kt){window.clearTimeout(kt)}function an(kt){window.clearInterval(kt)}var on=function(kt){Ht(Lt,kt);function Lt(Ot,Gt){return kt.call(this,setTimeout,en,Ot,function(qt){return Gt(),null})||this}return Lt}(zt),Wt=function(kt){Ht(Lt,kt);function Lt(Ot,Gt){return kt.call(this,setInterval,an,Ot,function(qt){return Gt(),qt})||this}return Lt}(zt),mn={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(kt){return new on(0,kt)},method:function(kt){var Lt=Array.prototype.slice.call(arguments,1);return function(Ot){return Ot[kt].apply(Ot,Lt.concat(arguments))}}},vn=mn;function En(kt){for(var Lt=[],Ot=1;Ot<arguments.length;Ot++)Lt[Ot-1]=arguments[Ot];for(var Gt=0;Gt<Lt.length;Gt++){var qt=Lt[Gt];for(var hn in qt)qt[hn]&&qt[hn].constructor&&qt[hn].constructor===Object?kt[hn]=En(kt[hn]||{},qt[hn]):kt[hn]=qt[hn]}return kt}function Cn(){for(var kt=["Pusher"],Lt=0;Lt<arguments.length;Lt++)typeof arguments[Lt]=="string"?kt.push(arguments[Lt]):kt.push(rr(arguments[Lt]));return kt.join(" : ")}function $n(kt,Lt){var Ot=Array.prototype.indexOf;if(kt===null)return-1;if(Ot&&kt.indexOf===Ot)return kt.indexOf(Lt);for(var Gt=0,qt=kt.length;Gt<qt;Gt++)if(kt[Gt]===Lt)return Gt;return-1}function Fn(kt,Lt){for(var Ot in kt)Object.prototype.hasOwnProperty.call(kt,Ot)&&Lt(kt[Ot],Ot,kt)}function Ln(kt){var Lt=[];return Fn(kt,function(Ot,Gt){Lt.push(Gt)}),Lt}function Mn(kt){var Lt=[];return Fn(kt,function(Ot){Lt.push(Ot)}),Lt}function Gn(kt,Lt,Ot){for(var Gt=0;Gt<kt.length;Gt++)Lt.call(Ot||window,kt[Gt],Gt,kt)}function er(kt,Lt){for(var Ot=[],Gt=0;Gt<kt.length;Gt++)Ot.push(Lt(kt[Gt],Gt,kt,Ot));return Ot}function un(kt,Lt){var Ot={};return Fn(kt,function(Gt,qt){Ot[qt]=Lt(Gt)}),Ot}function dn(kt,Lt){Lt=Lt||function(qt){return!!qt};for(var Ot=[],Gt=0;Gt<kt.length;Gt++)Lt(kt[Gt],Gt,kt,Ot)&&Ot.push(kt[Gt]);return Ot}function yn(kt,Lt){var Ot={};return Fn(kt,function(Gt,qt){(Lt&&Lt(Gt,qt,kt,Ot)||Gt)&&(Ot[qt]=Gt)}),Ot}function bn(kt){var Lt=[];return Fn(kt,function(Ot,Gt){Lt.push([Gt,Ot])}),Lt}function Tn(kt,Lt){for(var Ot=0;Ot<kt.length;Ot++)if(Lt(kt[Ot],Ot,kt))return!0;return!1}function Pn(kt,Lt){for(var Ot=0;Ot<kt.length;Ot++)if(!Lt(kt[Ot],Ot,kt))return!1;return!0}function Yn(kt){return un(kt,function(Lt){return typeof Lt=="object"&&(Lt=rr(Lt)),encodeURIComponent(Xt(Lt.toString()))})}function Un(kt){var Lt=yn(kt,function(Gt){return Gt!==void 0}),Ot=er(bn(Yn(Lt)),vn.method("join","=")).join("&");return Ot}function Nn(kt){var Lt=[],Ot=[];return function Gt(qt,hn){var On,qn,vr;switch(typeof qt){case"object":if(!qt)return null;for(On=0;On<Lt.length;On+=1)if(Lt[On]===qt)return{$ref:Ot[On]};if(Lt.push(qt),Ot.push(hn),Object.prototype.toString.apply(qt)==="[object Array]")for(vr=[],On=0;On<qt.length;On+=1)vr[On]=Gt(qt[On],hn+"["+On+"]");else{vr={};for(qn in qt)Object.prototype.hasOwnProperty.call(qt,qn)&&(vr[qn]=Gt(qt[qn],hn+"["+JSON.stringify(qn)+"]"))}return vr;case"number":case"string":case"boolean":return qt}}(kt,"$")}function rr(kt){try{return JSON.stringify(kt)}catch{return JSON.stringify(Nn(kt))}}var Kn=function(){function kt(){this.globalLog=function(Lt){window.console&&window.console.log&&window.console.log(Lt)}}return kt.prototype.debug=function(){for(var Lt=[],Ot=0;Ot<arguments.length;Ot++)Lt[Ot]=arguments[Ot];this.log(this.globalLog,Lt)},kt.prototype.warn=function(){for(var Lt=[],Ot=0;Ot<arguments.length;Ot++)Lt[Ot]=arguments[Ot];this.log(this.globalLogWarn,Lt)},kt.prototype.error=function(){for(var Lt=[],Ot=0;Ot<arguments.length;Ot++)Lt[Ot]=arguments[Ot];this.log(this.globalLogError,Lt)},kt.prototype.globalLogWarn=function(Lt){window.console&&window.console.warn?window.console.warn(Lt):this.globalLog(Lt)},kt.prototype.globalLogError=function(Lt){window.console&&window.console.error?window.console.error(Lt):this.globalLogWarn(Lt)},kt.prototype.log=function(Lt){var Ot=Cn.apply(this,arguments);if(eu.log)eu.log(Ot);else if(eu.logToConsole){var Gt=Lt.bind(this);Gt(Ot)}},kt}(),Vn=new Kn,ir=function(kt,Lt,Ot,Gt,qt){(Ot.headers!==void 0||Ot.headersProvider!=null)&&Vn.warn("To send headers with the "+Gt.toString()+" request, you must use AJAX, rather than JSONP.");var hn=kt.nextAuthCallbackID.toString();kt.nextAuthCallbackID++;var On=kt.getDocument(),qn=On.createElement("script");kt.auth_callbacks[hn]=function(kr){qt(null,kr)};var vr="Pusher.auth_callbacks['"+hn+"']";qn.src=Ot.endpoint+"?callback="+encodeURIComponent(vr)+"&"+Lt;var Qn=On.getElementsByTagName("head")[0]||On.documentElement;Qn.insertBefore(qn,Qn.firstChild)},gr=ir,Gr=function(){function kt(Lt){this.src=Lt}return kt.prototype.send=function(Lt){var Ot=this,Gt="Error loading "+Ot.src;Ot.script=document.createElement("script"),Ot.script.id=Lt.id,Ot.script.src=Ot.src,Ot.script.type="text/javascript",Ot.script.charset="UTF-8",Ot.script.addEventListener?(Ot.script.onerror=function(){Lt.callback(Gt)},Ot.script.onload=function(){Lt.callback(null)}):Ot.script.onreadystatechange=function(){(Ot.script.readyState==="loaded"||Ot.script.readyState==="complete")&&Lt.callback(null)},Ot.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(Ot.errorScript=document.createElement("script"),Ot.errorScript.id=Lt.id+"_error",Ot.errorScript.text=Lt.name+"('"+Gt+"');",Ot.script.async=Ot.errorScript.async=!1):Ot.script.async=!0;var qt=document.getElementsByTagName("head")[0];qt.insertBefore(Ot.script,qt.firstChild),Ot.errorScript&&qt.insertBefore(Ot.errorScript,Ot.script.nextSibling)},kt.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},kt}(),Rs=Gr,$s=function(){function kt(Lt,Ot){this.url=Lt,this.data=Ot}return kt.prototype.send=function(Lt){if(!this.request){var Ot=Un(this.data),Gt=this.url+"/"+Lt.number+"?"+Ot;this.request=qr.createScriptRequest(Gt),this.request.send(Lt)}},kt.prototype.cleanup=function(){this.request&&this.request.cleanup()},kt}(),kn=$s,or=function(kt,Lt){return function(Ot,Gt){var qt="http"+(Lt?"s":"")+"://",hn=qt+(kt.host||kt.options.host)+kt.options.path,On=qr.createJSONPRequest(hn,Ot),qn=qr.ScriptReceivers.create(function(vr,Qn){ot.remove(qn),On.cleanup(),Qn&&Qn.host&&(kt.host=Qn.host),Gt&&Gt(vr,Qn)});On.send(qn)}},sr={name:"jsonp",getAgent:or},Ar=sr;function ar(kt,Lt,Ot){var Gt=kt+(Lt.useTLS?"s":""),qt=Lt.useTLS?Lt.hostTLS:Lt.hostNonTLS;return Gt+"://"+qt+Ot}function Pr(kt,Lt){var Ot="/app/"+kt,Gt="?protocol="+lt.PROTOCOL+"&client=js&version="+lt.VERSION+(Lt?"&"+Lt:"");return Ot+Gt}var dr={getInitial:function(kt,Lt){var Ot=(Lt.httpPath||"")+Pr(kt,"flash=false");return ar("ws",Lt,Ot)}},xr={getInitial:function(kt,Lt){var Ot=(Lt.httpPath||"/pusher")+Pr(kt);return ar("http",Lt,Ot)}},pr={getInitial:function(kt,Lt){return ar("http",Lt,Lt.httpPath||"/pusher")},getPath:function(kt,Lt){return Pr(kt)}},Sr=function(){function kt(){this._callbacks={}}return kt.prototype.get=function(Lt){return this._callbacks[Ur(Lt)]},kt.prototype.add=function(Lt,Ot,Gt){var qt=Ur(Lt);this._callbacks[qt]=this._callbacks[qt]||[],this._callbacks[qt].push({fn:Ot,context:Gt})},kt.prototype.remove=function(Lt,Ot,Gt){if(!Lt&&!Ot&&!Gt){this._callbacks={};return}var qt=Lt?[Ur(Lt)]:Ln(this._callbacks);Ot||Gt?this.removeCallback(qt,Ot,Gt):this.removeAllCallbacks(qt)},kt.prototype.removeCallback=function(Lt,Ot,Gt){Gn(Lt,function(qt){this._callbacks[qt]=dn(this._callbacks[qt]||[],function(hn){return Ot&&Ot!==hn.fn||Gt&&Gt!==hn.context}),this._callbacks[qt].length===0&&delete this._callbacks[qt]},this)},kt.prototype.removeAllCallbacks=function(Lt){Gn(Lt,function(Ot){delete this._callbacks[Ot]},this)},kt}(),Or=Sr;function Ur(kt){return"_"+kt}var Ir=function(){function kt(Lt){this.callbacks=new Or,this.global_callbacks=[],this.failThrough=Lt}return kt.prototype.bind=function(Lt,Ot,Gt){return this.callbacks.add(Lt,Ot,Gt),this},kt.prototype.bind_global=function(Lt){return this.global_callbacks.push(Lt),this},kt.prototype.unbind=function(Lt,Ot,Gt){return this.callbacks.remove(Lt,Ot,Gt),this},kt.prototype.unbind_global=function(Lt){return Lt?(this.global_callbacks=dn(this.global_callbacks||[],function(Ot){return Ot!==Lt}),this):(this.global_callbacks=[],this)},kt.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},kt.prototype.emit=function(Lt,Ot,Gt){for(var qt=0;qt<this.global_callbacks.length;qt++)this.global_callbacks[qt](Lt,Ot);var hn=this.callbacks.get(Lt),On=[];if(Gt?On.push(Ot,Gt):Ot&&On.push(Ot),hn&&hn.length>0)for(var qt=0;qt<hn.length;qt++)hn[qt].fn.apply(hn[qt].context||window,On);else this.failThrough&&this.failThrough(Lt,Ot);return this},kt}(),jr=Ir,rs=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Er=function(kt){rs(Lt,kt);function Lt(Ot,Gt,qt,hn,On){var qn=kt.call(this)||this;return qn.initialize=qr.transportConnectionInitializer,qn.hooks=Ot,qn.name=Gt,qn.priority=qt,qn.key=hn,qn.options=On,qn.state="new",qn.timeline=On.timeline,qn.activityTimeout=On.activityTimeout,qn.id=qn.timeline.generateUniqueID(),qn}return Lt.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},Lt.prototype.supportsPing=function(){return!!this.hooks.supportsPing},Lt.prototype.connect=function(){var Ot=this;if(this.socket||this.state!=="initialized")return!1;var Gt=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(Gt,this.options)}catch(qt){return vn.defer(function(){Ot.onError(qt),Ot.changeState("closed")}),!1}return this.bindListeners(),Vn.debug("Connecting",{transport:this.name,url:Gt}),this.changeState("connecting"),!0},Lt.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},Lt.prototype.send=function(Ot){var Gt=this;return this.state==="open"?(vn.defer(function(){Gt.socket&&Gt.socket.send(Ot)}),!0):!1},Lt.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},Lt.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},Lt.prototype.onError=function(Ot){this.emit("error",{type:"WebSocketError",error:Ot}),this.timeline.error(this.buildTimelineMessage({error:Ot.toString()}))},Lt.prototype.onClose=function(Ot){Ot?this.changeState("closed",{code:Ot.code,reason:Ot.reason,wasClean:Ot.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},Lt.prototype.onMessage=function(Ot){this.emit("message",Ot)},Lt.prototype.onActivity=function(){this.emit("activity")},Lt.prototype.bindListeners=function(){var Ot=this;this.socket.onopen=function(){Ot.onOpen()},this.socket.onerror=function(Gt){Ot.onError(Gt)},this.socket.onclose=function(Gt){Ot.onClose(Gt)},this.socket.onmessage=function(Gt){Ot.onMessage(Gt)},this.supportsPing()&&(this.socket.onactivity=function(){Ot.onActivity()})},Lt.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},Lt.prototype.changeState=function(Ot,Gt){this.state=Ot,this.timeline.info(this.buildTimelineMessage({state:Ot,params:Gt})),this.emit(Ot,Gt)},Lt.prototype.buildTimelineMessage=function(Ot){return En({cid:this.id},Ot)},Lt}(jr),ps=Er,Br=function(){function kt(Lt){this.hooks=Lt}return kt.prototype.isSupported=function(Lt){return this.hooks.isSupported(Lt)},kt.prototype.createConnection=function(Lt,Ot,Gt,qt){return new ps(this.hooks,Lt,Ot,Gt,qt)},kt}(),is=Br,ur=new is({urls:dr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!qr.getWebSocketAPI()},isSupported:function(){return!!qr.getWebSocketAPI()},getSocket:function(kt){return qr.createWebSocket(kt)}}),Ls={urls:xr,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},cr=En({getSocket:function(kt){return qr.HTTPFactory.createStreamingSocket(kt)}},Ls),Mr=En({getSocket:function(kt){return qr.HTTPFactory.createPollingSocket(kt)}},Ls),js={isSupported:function(){return qr.isXHRSupported()}},wr=new is(En({},cr,js)),ys=new is(En({},Mr,js)),ss={ws:ur,xhr_streaming:wr,xhr_polling:ys},os=ss,xs=new is({file:"sockjs",urls:pr,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(kt,Lt){return new window.SockJS(kt,null,{js_path:ht.getPath("sockjs",{useTLS:Lt.useTLS}),ignore_null_origin:Lt.ignoreNullOrigin})},beforeOpen:function(kt,Lt){kt.send(JSON.stringify({path:Lt}))}}),ts={isSupported:function(kt){var Lt=qr.isXDRSupported(kt.useTLS);return Lt}},Fr=new is(En({},cr,ts)),Jr=new is(En({},Mr,ts));os.xdr_streaming=Fr,os.xdr_polling=Jr,os.sockjs=xs;var hs=os,Os=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),uo=function(kt){Os(Lt,kt);function Lt(){var Ot=kt.call(this)||this,Gt=Ot;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){Gt.emit("online")},!1),window.addEventListener("offline",function(){Gt.emit("offline")},!1)),Ot}return Lt.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},Lt}(jr),ws=new uo,go=function(){function kt(Lt,Ot,Gt){this.manager=Lt,this.transport=Ot,this.minPingDelay=Gt.minPingDelay,this.maxPingDelay=Gt.maxPingDelay,this.pingDelay=void 0}return kt.prototype.createConnection=function(Lt,Ot,Gt,qt){var hn=this;qt=En({},qt,{activityTimeout:this.pingDelay});var On=this.transport.createConnection(Lt,Ot,Gt,qt),qn=null,vr=function(){On.unbind("open",vr),On.bind("closed",Qn),qn=vn.now()},Qn=function(kr){if(On.unbind("closed",Qn),kr.code===1002||kr.code===1003)hn.manager.reportDeath();else if(!kr.wasClean&&qn){var Ys=vn.now()-qn;Ys<2*hn.maxPingDelay&&(hn.manager.reportDeath(),hn.pingDelay=Math.max(Ys/2,hn.minPingDelay))}};return On.bind("open",vr),On},kt.prototype.isSupported=function(Lt){return this.manager.isAlive()&&this.transport.isSupported(Lt)},kt}(),Vr=go,Ns={decodeMessage:function(kt){try{var Lt=JSON.parse(kt.data),Ot=Lt.data;if(typeof Ot=="string")try{Ot=JSON.parse(Lt.data)}catch{}var Gt={event:Lt.event,channel:Lt.channel,data:Ot};return Lt.user_id&&(Gt.user_id=Lt.user_id),Gt}catch(qt){throw{type:"MessageParseError",error:qt,data:kt.data}}},encodeMessage:function(kt){return JSON.stringify(kt)},processHandshake:function(kt){var Lt=Ns.decodeMessage(kt);if(Lt.event==="pusher:connection_established"){if(!Lt.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:Lt.data.socket_id,activityTimeout:Lt.data.activity_timeout*1e3}}else{if(Lt.event==="pusher:error")return{action:this.getCloseAction(Lt.data),error:this.getCloseError(Lt.data)};throw"Invalid handshake"}},getCloseAction:function(kt){return kt.code<4e3?kt.code>=1002&&kt.code<=1004?"backoff":null:kt.code===4e3?"tls_only":kt.code<4100?"refused":kt.code<4200?"backoff":kt.code<4300?"retry":"refused"},getCloseError:function(kt){return kt.code!==1e3&&kt.code!==1001?{type:"PusherError",data:{code:kt.code,message:kt.reason||kt.message}}:null}},Ts=Ns,eo=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),ao=function(kt){eo(Lt,kt);function Lt(Ot,Gt){var qt=kt.call(this)||this;return qt.id=Ot,qt.transport=Gt,qt.activityTimeout=Gt.activityTimeout,qt.bindListeners(),qt}return Lt.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},Lt.prototype.send=function(Ot){return this.transport.send(Ot)},Lt.prototype.send_event=function(Ot,Gt,qt){var hn={event:Ot,data:Gt};return qt&&(hn.channel=qt),Vn.debug("Event sent",hn),this.send(Ts.encodeMessage(hn))},Lt.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},Lt.prototype.close=function(){this.transport.close()},Lt.prototype.bindListeners=function(){var Ot=this,Gt={message:function(hn){var On;try{On=Ts.decodeMessage(hn)}catch(qn){Ot.emit("error",{type:"MessageParseError",error:qn,data:hn.data})}if(On!==void 0){switch(Vn.debug("Event recd",On),On.event){case"pusher:error":Ot.emit("error",{type:"PusherError",data:On.data});break;case"pusher:ping":Ot.emit("ping");break;case"pusher:pong":Ot.emit("pong");break}Ot.emit("message",On)}},activity:function(){Ot.emit("activity")},error:function(hn){Ot.emit("error",hn)},closed:function(hn){qt(),hn&&hn.code&&Ot.handleCloseEvent(hn),Ot.transport=null,Ot.emit("closed")}},qt=function(){Fn(Gt,function(hn,On){Ot.transport.unbind(On,hn)})};Fn(Gt,function(hn,On){Ot.transport.bind(On,hn)})},Lt.prototype.handleCloseEvent=function(Ot){var Gt=Ts.getCloseAction(Ot),qt=Ts.getCloseError(Ot);qt&&this.emit("error",qt),Gt&&this.emit(Gt,{action:Gt,error:qt})},Lt}(jr),vo=ao,Vs=function(){function kt(Lt,Ot){this.transport=Lt,this.callback=Ot,this.bindListeners()}return kt.prototype.close=function(){this.unbindListeners(),this.transport.close()},kt.prototype.bindListeners=function(){var Lt=this;this.onMessage=function(Ot){Lt.unbindListeners();var Gt;try{Gt=Ts.processHandshake(Ot)}catch(qt){Lt.finish("error",{error:qt}),Lt.transport.close();return}Gt.action==="connected"?Lt.finish("connected",{connection:new vo(Gt.id,Lt.transport),activityTimeout:Gt.activityTimeout}):(Lt.finish(Gt.action,{error:Gt.error}),Lt.transport.close())},this.onClosed=function(Ot){Lt.unbindListeners();var Gt=Ts.getCloseAction(Ot)||"backoff",qt=Ts.getCloseError(Ot);Lt.finish(Gt,{error:qt})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},kt.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},kt.prototype.finish=function(Lt,Ot){this.callback(En({transport:this.transport,action:Lt},Ot))},kt}(),co=Vs,Bo=function(){function kt(Lt,Ot){this.timeline=Lt,this.options=Ot||{}}return kt.prototype.send=function(Lt,Ot){this.timeline.isEmpty()||this.timeline.send(qr.TimelineTransport.getAgent(this,Lt),Ot)},kt}(),Ks=Bo,Hr=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Kr=function(kt){Hr(Lt,kt);function Lt(Ot,Gt){var qt=kt.call(this,function(hn,On){Vn.debug("No callbacks on "+Ot+" for "+hn)})||this;return qt.name=Ot,qt.pusher=Gt,qt.subscribed=!1,qt.subscriptionPending=!1,qt.subscriptionCancelled=!1,qt}return Lt.prototype.authorize=function(Ot,Gt){return Gt(null,{auth:""})},Lt.prototype.trigger=function(Ot,Gt){if(Ot.indexOf("client-")!==0)throw new vt("Event '"+Ot+"' does not start with 'client-'");if(!this.subscribed){var qt=_t.buildLogSuffix("triggeringClientEvents");Vn.warn("Client event triggered before channel 'subscription_succeeded' event . "+qt)}return this.pusher.send_event(Ot,Gt,this.name)},Lt.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},Lt.prototype.handleEvent=function(Ot){var Gt=Ot.event,qt=Ot.data;if(Gt==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(Ot);else if(Gt==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(Ot);else if(Gt.indexOf("pusher_internal:")!==0){var hn={};this.emit(Gt,qt,hn)}},Lt.prototype.handleSubscriptionSucceededEvent=function(Ot){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",Ot.data)},Lt.prototype.handleSubscriptionCountEvent=function(Ot){Ot.data.subscription_count&&(this.subscriptionCount=Ot.data.subscription_count),this.emit("pusher:subscription_count",Ot.data)},Lt.prototype.subscribe=function(){var Ot=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(Gt,qt){Gt?(Ot.subscriptionPending=!1,Vn.error(Gt.toString()),Ot.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:Gt.message},Gt instanceof Ft?{status:Gt.status}:{}))):Ot.pusher.send_event("pusher:subscribe",{auth:qt.auth,channel_data:qt.channel_data,channel:Ot.name})}))},Lt.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Lt.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},Lt.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},Lt}(jr),ks=Kr,to=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Zs=function(kt){to(Lt,kt);function Lt(){return kt!==null&&kt.apply(this,arguments)||this}return Lt.prototype.authorize=function(Ot,Gt){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:Ot},Gt)},Lt}(ks),To=Zs,Lr=function(){function kt(){this.reset()}return kt.prototype.get=function(Lt){return Object.prototype.hasOwnProperty.call(this.members,Lt)?{id:Lt,info:this.members[Lt]}:null},kt.prototype.each=function(Lt){var Ot=this;Fn(this.members,function(Gt,qt){Lt(Ot.get(qt))})},kt.prototype.setMyID=function(Lt){this.myID=Lt},kt.prototype.onSubscription=function(Lt){this.members=Lt.presence.hash,this.count=Lt.presence.count,this.me=this.get(this.myID)},kt.prototype.addMember=function(Lt){return this.get(Lt.user_id)===null&&this.count++,this.members[Lt.user_id]=Lt.user_info,this.get(Lt.user_id)},kt.prototype.removeMember=function(Lt){var Ot=this.get(Lt.user_id);return Ot&&(delete this.members[Lt.user_id],this.count--),Ot},kt.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},kt}(),ns=Lr,Xs=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Vo=function(kt,Lt,Ot,Gt){function qt(hn){return hn instanceof Ot?hn:new Ot(function(On){On(hn)})}return new(Ot||(Ot=Promise))(function(hn,On){function qn(kr){try{Qn(Gt.next(kr))}catch(Ys){On(Ys)}}function vr(kr){try{Qn(Gt.throw(kr))}catch(Ys){On(Ys)}}function Qn(kr){kr.done?hn(kr.value):qt(kr.value).then(qn,vr)}Qn((Gt=Gt.apply(kt,Lt||[])).next())})},Js=function(kt,Lt){var Ot={label:0,sent:function(){if(hn[0]&1)throw hn[1];return hn[1]},trys:[],ops:[]},Gt,qt,hn,On;return On={next:qn(0),throw:qn(1),return:qn(2)},typeof Symbol=="function"&&(On[Symbol.iterator]=function(){return this}),On;function qn(Qn){return function(kr){return vr([Qn,kr])}}function vr(Qn){if(Gt)throw new TypeError("Generator is already executing.");for(;Ot;)try{if(Gt=1,qt&&(hn=Qn[0]&2?qt.return:Qn[0]?qt.throw||((hn=qt.return)&&hn.call(qt),0):qt.next)&&!(hn=hn.call(qt,Qn[1])).done)return hn;switch(qt=0,hn&&(Qn=[Qn[0]&2,hn.value]),Qn[0]){case 0:case 1:hn=Qn;break;case 4:return Ot.label++,{value:Qn[1],done:!1};case 5:Ot.label++,qt=Qn[1],Qn=[0];continue;case 7:Qn=Ot.ops.pop(),Ot.trys.pop();continue;default:if(hn=Ot.trys,!(hn=hn.length>0&&hn[hn.length-1])&&(Qn[0]===6||Qn[0]===2)){Ot=0;continue}if(Qn[0]===3&&(!hn||Qn[1]>hn[0]&&Qn[1]<hn[3])){Ot.label=Qn[1];break}if(Qn[0]===6&&Ot.label<hn[1]){Ot.label=hn[1],hn=Qn;break}if(hn&&Ot.label<hn[2]){Ot.label=hn[2],Ot.ops.push(Qn);break}hn[2]&&Ot.ops.pop(),Ot.trys.pop();continue}Qn=Lt.call(kt,Ot)}catch(kr){Qn=[6,kr],qt=0}finally{Gt=hn=0}if(Qn[0]&5)throw Qn[1];return{value:Qn[0]?Qn[1]:void 0,done:!0}}},Eo=function(kt){Xs(Lt,kt);function Lt(Ot,Gt){var qt=kt.call(this,Ot,Gt)||this;return qt.members=new ns,qt}return Lt.prototype.authorize=function(Ot,Gt){var qt=this;kt.prototype.authorize.call(this,Ot,function(hn,On){return Vo(qt,void 0,void 0,function(){var qn,vr;return Js(this,function(Qn){switch(Qn.label){case 0:return hn?[3,3]:(On=On,On.channel_data==null?[3,1]:(qn=JSON.parse(On.channel_data),this.members.setMyID(qn.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(Qn.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return vr=_t.buildLogSuffix("authorizationEndpoint"),Vn.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+vr+", ")+"or the user should be signed in."),Gt("Invalid auth response"),[2];Qn.label=3;case 3:return Gt(hn,On),[2]}})})})},Lt.prototype.handleEvent=function(Ot){var Gt=Ot.event;if(Gt.indexOf("pusher_internal:")===0)this.handleInternalEvent(Ot);else{var qt=Ot.data,hn={};Ot.user_id&&(hn.user_id=Ot.user_id),this.emit(Gt,qt,hn)}},Lt.prototype.handleInternalEvent=function(Ot){var Gt=Ot.event,qt=Ot.data;switch(Gt){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(Ot);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(Ot);break;case"pusher_internal:member_added":var hn=this.members.addMember(qt);this.emit("pusher:member_added",hn);break;case"pusher_internal:member_removed":var On=this.members.removeMember(qt);On&&this.emit("pusher:member_removed",On);break}},Lt.prototype.handleSubscriptionSucceededEvent=function(Ot){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(Ot.data),this.emit("pusher:subscription_succeeded",this.members))},Lt.prototype.disconnect=function(){this.members.reset(),kt.prototype.disconnect.call(this)},Lt}(To),no=Eo,Ao=it(1),ms=it(0),cn=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),xn=function(kt){cn(Lt,kt);function Lt(Ot,Gt,qt){var hn=kt.call(this,Ot,Gt)||this;return hn.key=null,hn.nacl=qt,hn}return Lt.prototype.authorize=function(Ot,Gt){var qt=this;kt.prototype.authorize.call(this,Ot,function(hn,On){if(hn){Gt(hn,On);return}var qn=On.shared_secret;if(!qn){Gt(new Error("No shared_secret key in auth payload for encrypted channel: "+qt.name),null);return}qt.key=Object(ms.decode)(qn),delete On.shared_secret,Gt(null,On)})},Lt.prototype.trigger=function(Ot,Gt){throw new Rt("Client events are not currently supported for encrypted channels")},Lt.prototype.handleEvent=function(Ot){var Gt=Ot.event,qt=Ot.data;if(Gt.indexOf("pusher_internal:")===0||Gt.indexOf("pusher:")===0){kt.prototype.handleEvent.call(this,Ot);return}this.handleEncryptedEvent(Gt,qt)},Lt.prototype.handleEncryptedEvent=function(Ot,Gt){var qt=this;if(!this.key){Vn.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!Gt.ciphertext||!Gt.nonce){Vn.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+Gt);return}var hn=Object(ms.decode)(Gt.ciphertext);if(hn.length<this.nacl.secretbox.overheadLength){Vn.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+hn.length);return}var On=Object(ms.decode)(Gt.nonce);if(On.length<this.nacl.secretbox.nonceLength){Vn.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+On.length);return}var qn=this.nacl.secretbox.open(hn,On,this.key);if(qn===null){Vn.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(vr,Qn){if(vr){Vn.error("Failed to make a request to the authEndpoint: "+Qn+". Unable to fetch new key, so dropping encrypted event");return}if(qn=qt.nacl.secretbox.open(hn,On,qt.key),qn===null){Vn.error("Failed to decrypt event with new key. Dropping encrypted event");return}qt.emit(Ot,qt.getDataToEmit(qn))});return}this.emit(Ot,this.getDataToEmit(qn))},Lt.prototype.getDataToEmit=function(Ot){var Gt=Object(Ao.decode)(Ot);try{return JSON.parse(Gt)}catch{return Gt}},Lt}(To),Sn=xn,Bn=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Xn=function(kt){Bn(Lt,kt);function Lt(Ot,Gt){var qt=kt.call(this)||this;qt.state="initialized",qt.connection=null,qt.key=Ot,qt.options=Gt,qt.timeline=qt.options.timeline,qt.usingTLS=qt.options.useTLS,qt.errorCallbacks=qt.buildErrorCallbacks(),qt.connectionCallbacks=qt.buildConnectionCallbacks(qt.errorCallbacks),qt.handshakeCallbacks=qt.buildHandshakeCallbacks(qt.errorCallbacks);var hn=qr.getNetwork();return hn.bind("online",function(){qt.timeline.info({netinfo:"online"}),(qt.state==="connecting"||qt.state==="unavailable")&&qt.retryIn(0)}),hn.bind("offline",function(){qt.timeline.info({netinfo:"offline"}),qt.connection&&qt.sendActivityCheck()}),qt.updateStrategy(),qt}return Lt.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},Lt.prototype.send=function(Ot){return this.connection?this.connection.send(Ot):!1},Lt.prototype.send_event=function(Ot,Gt,qt){return this.connection?this.connection.send_event(Ot,Gt,qt):!1},Lt.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},Lt.prototype.isUsingTLS=function(){return this.usingTLS},Lt.prototype.startConnecting=function(){var Ot=this,Gt=function(qt,hn){qt?Ot.runner=Ot.strategy.connect(0,Gt):hn.action==="error"?(Ot.emit("error",{type:"HandshakeError",error:hn.error}),Ot.timeline.error({handshakeError:hn.error})):(Ot.abortConnecting(),Ot.handshakeCallbacks[hn.action](hn))};this.runner=this.strategy.connect(0,Gt)},Lt.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},Lt.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var Ot=this.abandonConnection();Ot.close()}},Lt.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},Lt.prototype.retryIn=function(Ot){var Gt=this;this.timeline.info({action:"retry",delay:Ot}),Ot>0&&this.emit("connecting_in",Math.round(Ot/1e3)),this.retryTimer=new on(Ot||0,function(){Gt.disconnectInternally(),Gt.connect()})},Lt.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},Lt.prototype.setUnavailableTimer=function(){var Ot=this;this.unavailableTimer=new on(this.options.unavailableTimeout,function(){Ot.updateState("unavailable")})},Lt.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},Lt.prototype.sendActivityCheck=function(){var Ot=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new on(this.options.pongTimeout,function(){Ot.timeline.error({pong_timed_out:Ot.options.pongTimeout}),Ot.retryIn(0)})},Lt.prototype.resetActivityCheck=function(){var Ot=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new on(this.activityTimeout,function(){Ot.sendActivityCheck()}))},Lt.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},Lt.prototype.buildConnectionCallbacks=function(Ot){var Gt=this;return En({},Ot,{message:function(qt){Gt.resetActivityCheck(),Gt.emit("message",qt)},ping:function(){Gt.send_event("pusher:pong",{})},activity:function(){Gt.resetActivityCheck()},error:function(qt){Gt.emit("error",qt)},closed:function(){Gt.abandonConnection(),Gt.shouldRetry()&&Gt.retryIn(1e3)}})},Lt.prototype.buildHandshakeCallbacks=function(Ot){var Gt=this;return En({},Ot,{connected:function(qt){Gt.activityTimeout=Math.min(Gt.options.activityTimeout,qt.activityTimeout,qt.connection.activityTimeout||1/0),Gt.clearUnavailableTimer(),Gt.setConnection(qt.connection),Gt.socket_id=Gt.connection.id,Gt.updateState("connected",{socket_id:Gt.socket_id})}})},Lt.prototype.buildErrorCallbacks=function(){var Ot=this,Gt=function(qt){return function(hn){hn.error&&Ot.emit("error",{type:"WebSocketError",error:hn.error}),qt(hn)}};return{tls_only:Gt(function(){Ot.usingTLS=!0,Ot.updateStrategy(),Ot.retryIn(0)}),refused:Gt(function(){Ot.disconnect()}),backoff:Gt(function(){Ot.retryIn(1e3)}),retry:Gt(function(){Ot.retryIn(0)})}},Lt.prototype.setConnection=function(Ot){this.connection=Ot;for(var Gt in this.connectionCallbacks)this.connection.bind(Gt,this.connectionCallbacks[Gt]);this.resetActivityCheck()},Lt.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var Ot in this.connectionCallbacks)this.connection.unbind(Ot,this.connectionCallbacks[Ot]);var Gt=this.connection;return this.connection=null,Gt}},Lt.prototype.updateState=function(Ot,Gt){var qt=this.state;if(this.state=Ot,qt!==Ot){var hn=Ot;hn==="connected"&&(hn+=" with new socket ID "+Gt.socket_id),Vn.debug("State changed",qt+" -> "+hn),this.timeline.info({state:Ot,params:Gt}),this.emit("state_change",{previous:qt,current:Ot}),this.emit(Ot,Gt)}},Lt.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},Lt}(jr),Hn=Xn,mr=function(){function kt(){this.channels={}}return kt.prototype.add=function(Lt,Ot){return this.channels[Lt]||(this.channels[Lt]=Cr(Lt,Ot)),this.channels[Lt]},kt.prototype.all=function(){return Mn(this.channels)},kt.prototype.find=function(Lt){return this.channels[Lt]},kt.prototype.remove=function(Lt){var Ot=this.channels[Lt];return delete this.channels[Lt],Ot},kt.prototype.disconnect=function(){Fn(this.channels,function(Lt){Lt.disconnect()})},kt}(),yr=mr;function Cr(kt,Lt){if(kt.indexOf("private-encrypted-")===0){if(Lt.config.nacl)return zr.createEncryptedChannel(kt,Lt,Lt.config.nacl);var Ot="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",Gt=_t.buildLogSuffix("encryptedChannelSupport");throw new Rt(Ot+". "+Gt)}else{if(kt.indexOf("private-")===0)return zr.createPrivateChannel(kt,Lt);if(kt.indexOf("presence-")===0)return zr.createPresenceChannel(kt,Lt);if(kt.indexOf("#")===0)throw new Et('Cannot create a channel with name "'+kt+'".');return zr.createChannel(kt,Lt)}}var Rr={createChannels:function(){return new yr},createConnectionManager:function(kt,Lt){return new Hn(kt,Lt)},createChannel:function(kt,Lt){return new ks(kt,Lt)},createPrivateChannel:function(kt,Lt){return new To(kt,Lt)},createPresenceChannel:function(kt,Lt){return new no(kt,Lt)},createEncryptedChannel:function(kt,Lt,Ot){return new Sn(kt,Lt,Ot)},createTimelineSender:function(kt,Lt){return new Ks(kt,Lt)},createHandshake:function(kt,Lt){return new co(kt,Lt)},createAssistantToTheTransportManager:function(kt,Lt,Ot){return new Vr(kt,Lt,Ot)}},zr=Rr,Ds=function(){function kt(Lt){this.options=Lt||{},this.livesLeft=this.options.lives||1/0}return kt.prototype.getAssistant=function(Lt){return zr.createAssistantToTheTransportManager(this,Lt,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},kt.prototype.isAlive=function(){return this.livesLeft>0},kt.prototype.reportDeath=function(){this.livesLeft-=1},kt}(),bs=Ds,fo=function(){function kt(Lt,Ot){this.strategies=Lt,this.loop=!!Ot.loop,this.failFast=!!Ot.failFast,this.timeout=Ot.timeout,this.timeoutLimit=Ot.timeoutLimit}return kt.prototype.isSupported=function(){return Tn(this.strategies,vn.method("isSupported"))},kt.prototype.connect=function(Lt,Ot){var Gt=this,qt=this.strategies,hn=0,On=this.timeout,qn=null,vr=function(Qn,kr){kr?Ot(null,kr):(hn=hn+1,Gt.loop&&(hn=hn%qt.length),hn<qt.length?(On&&(On=On*2,Gt.timeoutLimit&&(On=Math.min(On,Gt.timeoutLimit))),qn=Gt.tryStrategy(qt[hn],Lt,{timeout:On,failFast:Gt.failFast},vr)):Ot(!0))};return qn=this.tryStrategy(qt[hn],Lt,{timeout:On,failFast:this.failFast},vr),{abort:function(){qn.abort()},forceMinPriority:function(Qn){Lt=Qn,qn&&qn.forceMinPriority(Qn)}}},kt.prototype.tryStrategy=function(Lt,Ot,Gt,qt){var hn=null,On=null;return Gt.timeout>0&&(hn=new on(Gt.timeout,function(){On.abort(),qt(!0)})),On=Lt.connect(Ot,function(qn,vr){qn&&hn&&hn.isRunning()&&!Gt.failFast||(hn&&hn.ensureAborted(),qt(qn,vr))}),{abort:function(){hn&&hn.ensureAborted(),On.abort()},forceMinPriority:function(qn){On.forceMinPriority(qn)}}},kt}(),$r=fo,Co=function(){function kt(Lt){this.strategies=Lt}return kt.prototype.isSupported=function(){return Tn(this.strategies,vn.method("isSupported"))},kt.prototype.connect=function(Lt,Ot){return ro(this.strategies,Lt,function(Gt,qt){return function(hn,On){if(qt[Gt].error=hn,hn){$o(qt)&&Ot(!0);return}Gn(qt,function(qn){qn.forceMinPriority(On.transport.priority)}),Ot(null,On)}})},kt}(),_s=Co;function ro(kt,Lt,Ot){var Gt=er(kt,function(qt,hn,On,qn){return qt.connect(Lt,Ot(hn,qn))});return{abort:function(){Gn(Gt,pu)},forceMinPriority:function(qt){Gn(Gt,function(hn){hn.forceMinPriority(qt)})}}}function $o(kt){return Pn(kt,function(Lt){return!!Lt.error})}function pu(kt){!kt.error&&!kt.aborted&&(kt.abort(),kt.aborted=!0)}var mu=function(){function kt(Lt,Ot,Gt){this.strategy=Lt,this.transports=Ot,this.ttl=Gt.ttl||1800*1e3,this.usingTLS=Gt.useTLS,this.timeline=Gt.timeline}return kt.prototype.isSupported=function(){return this.strategy.isSupported()},kt.prototype.connect=function(Lt,Ot){var Gt=this.usingTLS,qt=Ho(Gt),hn=[this.strategy];if(qt&&qt.timestamp+this.ttl>=vn.now()){var On=this.transports[qt.transport];On&&(this.timeline.info({cached:!0,transport:qt.transport,latency:qt.latency}),hn.push(new $r([On],{timeout:qt.latency*2+1e3,failFast:!0})))}var qn=vn.now(),vr=hn.pop().connect(Lt,function Qn(kr,Ys){kr?(as(Gt),hn.length>0?(qn=vn.now(),vr=hn.pop().connect(Lt,Qn)):Ot(kr)):(es(Gt,Ys.transport.name,vn.now()-qn),Ot(null,Ys))});return{abort:function(){vr.abort()},forceMinPriority:function(Qn){Lt=Qn,vr&&vr.forceMinPriority(Qn)}}},kt}(),Zo=mu;function _l(kt){return"pusherTransport"+(kt?"TLS":"NonTLS")}function Ho(kt){var Lt=qr.getLocalStorage();if(Lt)try{var Ot=Lt[_l(kt)];if(Ot)return JSON.parse(Ot)}catch{as(kt)}return null}function es(kt,Lt,Ot){var Gt=qr.getLocalStorage();if(Gt)try{Gt[_l(kt)]=rr({timestamp:vn.now(),transport:Lt,latency:Ot})}catch{}}function as(kt){var Lt=qr.getLocalStorage();if(Lt)try{delete Lt[_l(kt)]}catch{}}var Yl=function(){function kt(Lt,Ot){var Gt=Ot.delay;this.strategy=Lt,this.options={delay:Gt}}return kt.prototype.isSupported=function(){return this.strategy.isSupported()},kt.prototype.connect=function(Lt,Ot){var Gt=this.strategy,qt,hn=new on(this.options.delay,function(){qt=Gt.connect(Lt,Ot)});return{abort:function(){hn.ensureAborted(),qt&&qt.abort()},forceMinPriority:function(On){Lt=On,qt&&qt.forceMinPriority(On)}}},kt}(),Jo=Yl,gu=function(){function kt(Lt,Ot,Gt){this.test=Lt,this.trueBranch=Ot,this.falseBranch=Gt}return kt.prototype.isSupported=function(){var Lt=this.test()?this.trueBranch:this.falseBranch;return Lt.isSupported()},kt.prototype.connect=function(Lt,Ot){var Gt=this.test()?this.trueBranch:this.falseBranch;return Gt.connect(Lt,Ot)},kt}(),hr=gu,Wr=function(){function kt(Lt){this.strategy=Lt}return kt.prototype.isSupported=function(){return this.strategy.isSupported()},kt.prototype.connect=function(Lt,Ot){var Gt=this.strategy.connect(Lt,function(qt,hn){hn&&Gt.abort(),Ot(qt,hn)});return Gt},kt}(),yo=Wr;function lo(kt){return function(){return kt.isSupported()}}var Yr=function(kt,Lt,Ot){var Gt={};function qt(Io,zu,Au,Pl,ap){var Vu=Ot(kt,Io,zu,Au,Pl,ap);return Gt[Io]=Vu,Vu}var hn=Object.assign({},Lt,{hostNonTLS:kt.wsHost+":"+kt.wsPort,hostTLS:kt.wsHost+":"+kt.wssPort,httpPath:kt.wsPath}),On=Object.assign({},hn,{useTLS:!0}),qn=Object.assign({},Lt,{hostNonTLS:kt.httpHost+":"+kt.httpPort,hostTLS:kt.httpHost+":"+kt.httpsPort,httpPath:kt.httpPath}),vr={loop:!0,timeout:15e3,timeoutLimit:6e4},Qn=new bs({lives:2,minPingDelay:1e4,maxPingDelay:kt.activityTimeout}),kr=new bs({lives:2,minPingDelay:1e4,maxPingDelay:kt.activityTimeout}),Ys=qt("ws","ws",3,hn,Qn),so=qt("wss","ws",3,On,Qn),Cl=qt("sockjs","sockjs",1,qn),rp=qt("xhr_streaming","xhr_streaming",1,qn,kr),Fl=qt("xdr_streaming","xdr_streaming",1,qn,kr),bu=qt("xhr_polling","xhr_polling",1,qn),_a=qt("xdr_polling","xdr_polling",1,qn),Cs=new $r([Ys],vr),nu=new $r([so],vr),sp=new $r([Cl],vr),ru=new $r([new hr(lo(rp),rp,Fl)],vr),Tp=new $r([new hr(lo(bu),bu,_a)],vr),Yo=new $r([new hr(lo(ru),new _s([ru,new Jo(Tp,{delay:4e3})]),Tp)],vr),Uu=new hr(lo(Yo),Yo,sp),Gl;return Lt.useTLS?Gl=new _s([Cs,new Jo(Uu,{delay:2e3})]):Gl=new _s([Cs,new Jo(nu,{delay:2e3}),new Jo(Uu,{delay:5e3})]),new Zo(new yo(new hr(lo(Ys),Gl,Uu)),Gt,{ttl:18e5,timeline:Lt.timeline,useTLS:Lt.useTLS})},Hs=Yr,Fs=function(){var kt=this;kt.timeline.info(kt.buildTimelineMessage({transport:kt.name+(kt.options.useTLS?"s":"")})),kt.hooks.isInitialized()?kt.changeState("initialized"):kt.hooks.file?(kt.changeState("initializing"),ht.load(kt.hooks.file,{useTLS:kt.options.useTLS},function(Lt,Ot){kt.hooks.isInitialized()?(kt.changeState("initialized"),Ot(!0)):(Lt&&kt.onError(Lt),kt.onClose(),Ot(!1))})):kt.onClose()},Po={getRequest:function(kt){var Lt=new window.XDomainRequest;return Lt.ontimeout=function(){kt.emit("error",new yt),kt.close()},Lt.onerror=function(Ot){kt.emit("error",Ot),kt.close()},Lt.onprogress=function(){Lt.responseText&&Lt.responseText.length>0&&kt.onChunk(200,Lt.responseText)},Lt.onload=function(){Lt.responseText&&Lt.responseText.length>0&&kt.onChunk(200,Lt.responseText),kt.emit("finished",200),kt.close()},Lt},abortRequest:function(kt){kt.ontimeout=kt.onerror=kt.onprogress=kt.onload=null,kt.abort()}},Us=Po,Dl=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),mo=256*1024,Ep=function(kt){Dl(Lt,kt);function Lt(Ot,Gt,qt){var hn=kt.call(this)||this;return hn.hooks=Ot,hn.method=Gt,hn.url=qt,hn}return Lt.prototype.start=function(Ot){var Gt=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){Gt.close()},qr.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(Ot)},Lt.prototype.close=function(){this.unloader&&(qr.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},Lt.prototype.onChunk=function(Ot,Gt){for(;;){var qt=this.advanceBuffer(Gt);if(qt)this.emit("chunk",{status:Ot,data:qt});else break}this.isBufferTooLong(Gt)&&this.emit("buffer_too_long")},Lt.prototype.advanceBuffer=function(Ot){var Gt=Ot.slice(this.position),qt=Gt.indexOf(`
`);return qt!==-1?(this.position+=qt+1,Gt.slice(0,qt)):null},Lt.prototype.isBufferTooLong=function(Ot){return this.position===Ot.length&&Ot.length>mo},Lt}(jr),Mu=Ep,Lu;(function(kt){kt[kt.CONNECTING=0]="CONNECTING",kt[kt.OPEN=1]="OPEN",kt[kt.CLOSED=3]="CLOSED"})(Lu||(Lu={}));var El=Lu,Bl=1,Qo=function(){function kt(Lt,Ot){this.hooks=Lt,this.session=Xl(1e3)+"/"+na(8),this.location=Ws(Ot),this.readyState=El.CONNECTING,this.openStream()}return kt.prototype.send=function(Lt){return this.sendRaw(JSON.stringify([Lt]))},kt.prototype.ping=function(){this.hooks.sendHeartbeat(this)},kt.prototype.close=function(Lt,Ot){this.onClose(Lt,Ot,!0)},kt.prototype.sendRaw=function(Lt){if(this.readyState===El.OPEN)try{return qr.createSocketRequest("POST",Qs(Op(this.location,this.session))).start(Lt),!0}catch{return!1}else return!1},kt.prototype.reconnect=function(){this.closeStream(),this.openStream()},kt.prototype.onClose=function(Lt,Ot,Gt){this.closeStream(),this.readyState=El.CLOSED,this.onclose&&this.onclose({code:Lt,reason:Ot,wasClean:Gt})},kt.prototype.onChunk=function(Lt){if(Lt.status===200){this.readyState===El.OPEN&&this.onActivity();var Ot,Gt=Lt.data.slice(0,1);switch(Gt){case"o":Ot=JSON.parse(Lt.data.slice(1)||"{}"),this.onOpen(Ot);break;case"a":Ot=JSON.parse(Lt.data.slice(1)||"[]");for(var qt=0;qt<Ot.length;qt++)this.onEvent(Ot[qt]);break;case"m":Ot=JSON.parse(Lt.data.slice(1)||"null"),this.onEvent(Ot);break;case"h":this.hooks.onHeartbeat(this);break;case"c":Ot=JSON.parse(Lt.data.slice(1)||"[]"),this.onClose(Ot[0],Ot[1],!0);break}}},kt.prototype.onOpen=function(Lt){this.readyState===El.CONNECTING?(Lt&&Lt.hostname&&(this.location.base=Al(this.location.base,Lt.hostname)),this.readyState=El.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},kt.prototype.onEvent=function(Lt){this.readyState===El.OPEN&&this.onmessage&&this.onmessage({data:Lt})},kt.prototype.onActivity=function(){this.onactivity&&this.onactivity()},kt.prototype.onError=function(Lt){this.onerror&&this.onerror(Lt)},kt.prototype.openStream=function(){var Lt=this;this.stream=qr.createSocketRequest("POST",Qs(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(Ot){Lt.onChunk(Ot)}),this.stream.bind("finished",function(Ot){Lt.hooks.onFinished(Lt,Ot)}),this.stream.bind("buffer_too_long",function(){Lt.reconnect()});try{this.stream.start()}catch(Ot){vn.defer(function(){Lt.onError(Ot),Lt.onClose(1006,"Could not start streaming",!1)})}},kt.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},kt}();function Ws(kt){var Lt=/([^\?]*)\/*(\??.*)/.exec(kt);return{base:Lt[1],queryString:Lt[2]}}function Op(kt,Lt){return kt.base+"/"+Lt+"/xhr_send"}function Qs(kt){var Lt=kt.indexOf("?")===-1?"?":"&";return kt+Lt+"t="+ +new Date+"&n="+Bl++}function Al(kt,Lt){var Ot=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(kt);return Ot[1]+Lt+Ot[3]}function Xl(kt){return qr.randomInt(kt)}function na(kt){for(var Lt=[],Ot=0;Ot<kt;Ot++)Lt.push(Xl(32).toString(32));return Lt.join("")}var ku=Qo,_f={getReceiveURL:function(kt,Lt){return kt.base+"/"+Lt+"/xhr_streaming"+kt.queryString},onHeartbeat:function(kt){kt.sendRaw("[]")},sendHeartbeat:function(kt){kt.sendRaw("[]")},onFinished:function(kt,Lt){kt.onClose(1006,"Connection interrupted ("+Lt+")",!1)}},Is=_f,Wo={getReceiveURL:function(kt,Lt){return kt.base+"/"+Lt+"/xhr"+kt.queryString},onHeartbeat:function(){},sendHeartbeat:function(kt){kt.sendRaw("[]")},onFinished:function(kt,Lt){Lt===200?kt.reconnect():kt.onClose(1006,"Connection interrupted ("+Lt+")",!1)}},Du=Wo,bp={getRequest:function(kt){var Lt=qr.getXHRAPI(),Ot=new Lt;return Ot.onreadystatechange=Ot.onprogress=function(){switch(Ot.readyState){case 3:Ot.responseText&&Ot.responseText.length>0&&kt.onChunk(Ot.status,Ot.responseText);break;case 4:Ot.responseText&&Ot.responseText.length>0&&kt.onChunk(Ot.status,Ot.responseText),kt.emit("finished",Ot.status),kt.close();break}},Ot},abortRequest:function(kt){kt.onreadystatechange=null,kt.abort()}},Kl=bp,Sl={createStreamingSocket:function(kt){return this.createSocket(Is,kt)},createPollingSocket:function(kt){return this.createSocket(Du,kt)},createSocket:function(kt,Lt){return new ku(kt,Lt)},createXHR:function(kt,Lt){return this.createRequest(Kl,kt,Lt)},createRequest:function(kt,Lt,Ot){return new Mu(kt,Lt,Ot)}},Ap=Sl;Ap.createXDR=function(kt,Lt){return this.createRequest(Us,kt,Lt)};var vu=Ap,Oo={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:ot,DependenciesReceivers:dt,getDefaultStrategy:Hs,Transports:hs,transportConnectionInitializer:Fs,HTTPFactory:vu,TimelineTransport:Ar,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(kt){var Lt=this;window.Pusher=kt;var Ot=function(){Lt.onDocumentBody(kt.ready)};window.JSON?Ot():ht.load("json2",{},Ot)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:Nt,jsonp:gr}},onDocumentBody:function(kt){var Lt=this;document.body?kt():setTimeout(function(){Lt.onDocumentBody(kt)},0)},createJSONPRequest:function(kt,Lt){return new kn(kt,Lt)},createScriptRequest:function(kt){return new Rs(kt)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var kt=this.getXHRAPI();return new kt},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return ws},createWebSocket:function(kt){var Lt=this.getWebSocketAPI();return new Lt(kt)},createSocketRequest:function(kt,Lt){if(this.isXHRSupported())return this.HTTPFactory.createXHR(kt,Lt);if(this.isXDRSupported(Lt.indexOf("https:")===0))return this.HTTPFactory.createXDR(kt,Lt);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var kt=this.getXHRAPI();return!!kt&&new kt().withCredentials!==void 0},isXDRSupported:function(kt){var Lt=kt?"https:":"http:",Ot=this.getProtocol();return!!window.XDomainRequest&&Ot===Lt},addUnloadListener:function(kt){window.addEventListener!==void 0?window.addEventListener("unload",kt,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",kt)},removeUnloadListener:function(kt){window.addEventListener!==void 0?window.removeEventListener("unload",kt,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",kt)},randomInt:function(kt){var Lt=function(){var Ot=window.crypto||window.msCrypto,Gt=Ot.getRandomValues(new Uint32Array(1))[0];return Gt/Math.pow(2,32)};return Math.floor(Lt()*kt)}},qr=Oo,ga;(function(kt){kt[kt.ERROR=3]="ERROR",kt[kt.INFO=6]="INFO",kt[kt.DEBUG=7]="DEBUG"})(ga||(ga={}));var yu=ga,_h=function(){function kt(Lt,Ot,Gt){this.key=Lt,this.session=Ot,this.events=[],this.options=Gt||{},this.sent=0,this.uniqueID=0}return kt.prototype.log=function(Lt,Ot){Lt<=this.options.level&&(this.events.push(En({},Ot,{timestamp:vn.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},kt.prototype.error=function(Lt){this.log(yu.ERROR,Lt)},kt.prototype.info=function(Lt){this.log(yu.INFO,Lt)},kt.prototype.debug=function(Lt){this.log(yu.DEBUG,Lt)},kt.prototype.isEmpty=function(){return this.events.length===0},kt.prototype.send=function(Lt,Ot){var Gt=this,qt=En({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],Lt(qt,function(hn,On){hn||Gt.sent++,Ot&&Ot(hn,On)}),!0},kt.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},kt}(),Tl=_h,_d=function(){function kt(Lt,Ot,Gt,qt){this.name=Lt,this.priority=Ot,this.transport=Gt,this.options=qt||{}}return kt.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},kt.prototype.connect=function(Lt,Ot){var Gt=this;if(this.isSupported()){if(this.priority<Lt)return xu(new wt,Ot)}else return xu(new $t,Ot);var qt=!1,hn=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),On=null,qn=function(){hn.unbind("initialized",qn),hn.connect()},vr=function(){On=zr.createHandshake(hn,function(so){qt=!0,Ys(),Ot(null,so)})},Qn=function(so){Ys(),Ot(so)},kr=function(){Ys();var so;so=rr(hn),Ot(new Ct(so))},Ys=function(){hn.unbind("initialized",qn),hn.unbind("open",vr),hn.unbind("error",Qn),hn.unbind("closed",kr)};return hn.bind("initialized",qn),hn.bind("open",vr),hn.bind("error",Qn),hn.bind("closed",kr),hn.initialize(),{abort:function(){qt||(Ys(),On?On.close():hn.close())},forceMinPriority:function(so){qt||Gt.priority<so&&(On?On.close():hn.close())}}},kt}(),$l=_d;function xu(kt,Lt){return vn.defer(function(){Lt(kt)}),{abort:function(){},forceMinPriority:function(){}}}var ep=qr.Transports,tp=function(kt,Lt,Ot,Gt,qt,hn){var On=ep[Ot];if(!On)throw new It(Ot);var qn=(!kt.enabledTransports||$n(kt.enabledTransports,Lt)!==-1)&&(!kt.disabledTransports||$n(kt.disabledTransports,Lt)===-1),vr;return qn?(qt=Object.assign({ignoreNullOrigin:kt.ignoreNullOrigin},qt),vr=new $l(Lt,Gt,hn?hn.getAssistant(On):On,qt)):vr=Bu,vr},Bu={isSupported:function(){return!1},connect:function(kt,Lt){var Ot=vn.defer(function(){Lt(new $t)});return{abort:function(){Ot.ensureAborted()},forceMinPriority:function(){}}}};function Ip(kt){if(kt==null)throw"You must pass an options object";if(kt.cluster==null)throw"Options object must provide a cluster";"disableStats"in kt&&Vn.warn("The disableStats option is deprecated in favor of enableStats")}var Lo=function(kt,Lt){var Ot="socket_id="+encodeURIComponent(kt.socketId);for(var Gt in Lt.params)Ot+="&"+encodeURIComponent(Gt)+"="+encodeURIComponent(Lt.params[Gt]);if(Lt.paramsProvider!=null){var qt=Lt.paramsProvider();for(var Gt in qt)Ot+="&"+encodeURIComponent(Gt)+"="+encodeURIComponent(qt[Gt])}return Ot},ho=function(kt){if(typeof qr.getAuthorizers()[kt.transport]>"u")throw"'"+kt.transport+"' is not a recognized auth transport";return function(Lt,Ot){var Gt=Lo(Lt,kt);qr.getAuthorizers()[kt.transport](qr,Gt,kt,At.UserAuthentication,Ot)}},np=ho,Ro=function(kt,Lt){var Ot="socket_id="+encodeURIComponent(kt.socketId);Ot+="&channel_name="+encodeURIComponent(kt.channelName);for(var Gt in Lt.params)Ot+="&"+encodeURIComponent(Gt)+"="+encodeURIComponent(Lt.params[Gt]);if(Lt.paramsProvider!=null){var qt=Lt.paramsProvider();for(var Gt in qt)Ot+="&"+encodeURIComponent(Gt)+"="+encodeURIComponent(qt[Gt])}return Ot},zs=function(kt){if(typeof qr.getAuthorizers()[kt.transport]>"u")throw"'"+kt.transport+"' is not a recognized auth transport";return function(Lt,Ot){var Gt=Ro(Lt,kt);qr.getAuthorizers()[kt.transport](qr,Gt,kt,At.ChannelAuthorization,Ot)}},Nl=zs,Mp=function(kt,Lt,Ot){var Gt={authTransport:Lt.transport,authEndpoint:Lt.endpoint,auth:{params:Lt.params,headers:Lt.headers}};return function(qt,hn){var On=kt.channel(qt.channelName),qn=Ot(On,Gt);qn.authorize(qt.socketId,hn)}},No=function(){return No=Object.assign||function(kt){for(var Lt,Ot=1,Gt=arguments.length;Ot<Gt;Ot++){Lt=arguments[Ot];for(var qt in Lt)Object.prototype.hasOwnProperty.call(Lt,qt)&&(kt[qt]=Lt[qt])}return kt},No.apply(this,arguments)};function Sp(kt,Lt){var Ot={activityTimeout:kt.activityTimeout||lt.activityTimeout,cluster:kt.cluster,httpPath:kt.httpPath||lt.httpPath,httpPort:kt.httpPort||lt.httpPort,httpsPort:kt.httpsPort||lt.httpsPort,pongTimeout:kt.pongTimeout||lt.pongTimeout,statsHost:kt.statsHost||lt.stats_host,unavailableTimeout:kt.unavailableTimeout||lt.unavailableTimeout,wsPath:kt.wsPath||lt.wsPath,wsPort:kt.wsPort||lt.wsPort,wssPort:kt.wssPort||lt.wssPort,enableStats:kp(kt),httpHost:$u(kt),useTLS:Nu(kt),wsHost:Lp(kt),userAuthenticator:_u(kt),channelAuthorizer:po(kt,Lt)};return"disabledTransports"in kt&&(Ot.disabledTransports=kt.disabledTransports),"enabledTransports"in kt&&(Ot.enabledTransports=kt.enabledTransports),"ignoreNullOrigin"in kt&&(Ot.ignoreNullOrigin=kt.ignoreNullOrigin),"timelineParams"in kt&&(Ot.timelineParams=kt.timelineParams),"nacl"in kt&&(Ot.nacl=kt.nacl),Ot}function $u(kt){return kt.httpHost?kt.httpHost:kt.cluster?"sockjs-"+kt.cluster+".pusher.com":lt.httpHost}function Lp(kt){return kt.wsHost?kt.wsHost:xo(kt.cluster)}function xo(kt){return"ws-"+kt+".pusher.com"}function Nu(kt){return qr.getProtocol()==="https:"?!0:kt.forceTLS!==!1}function kp(kt){return"enableStats"in kt?kt.enableStats:"disableStats"in kt?!kt.disableStats:!1}function _u(kt){var Lt=No(No({},lt.userAuthentication),kt.userAuthentication);return"customHandler"in Lt&&Lt.customHandler!=null?Lt.customHandler:np(Lt)}function Eu(kt,Lt){var Ot;return"channelAuthorization"in kt?Ot=No(No({},lt.channelAuthorization),kt.channelAuthorization):(Ot={transport:kt.authTransport||lt.authTransport,endpoint:kt.authEndpoint||lt.authEndpoint},"auth"in kt&&("params"in kt.auth&&(Ot.params=kt.auth.params),"headers"in kt.auth&&(Ot.headers=kt.auth.headers)),"authorizer"in kt&&(Ot.customHandler=Mp(Lt,Ot,kt.authorizer))),Ot}function po(kt,Lt){var Ot=Eu(kt,Lt);return"customHandler"in Ot&&Ot.customHandler!=null?Ot.customHandler:Nl(Ot)}var Zl=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Jl=function(kt){Zl(Lt,kt);function Lt(Ot){var Gt=kt.call(this,function(qt,hn){Vn.debug("No callbacks on watchlist events for "+qt)})||this;return Gt.pusher=Ot,Gt.bindWatchlistInternalEvent(),Gt}return Lt.prototype.handleEvent=function(Ot){var Gt=this;Ot.data.events.forEach(function(qt){Gt.emit(qt.name,qt)})},Lt.prototype.bindWatchlistInternalEvent=function(){var Ot=this;this.pusher.connection.bind("message",function(Gt){var qt=Gt.event;qt==="pusher_internal:watchlist_events"&&Ot.handleEvent(Gt)})},Lt}(jr),wp=Jl;function xa(){var kt,Lt,Ot=new Promise(function(Gt,qt){kt=Gt,Lt=qt});return{promise:Ot,resolve:kt,reject:Lt}}var Fo=xa,jo=function(){var kt=function(Lt,Ot){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var hn in qt)qt.hasOwnProperty(hn)&&(Gt[hn]=qt[hn])},kt(Lt,Ot)};return function(Lt,Ot){kt(Lt,Ot);function Gt(){this.constructor=Lt}Lt.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}}(),Ql=function(kt){jo(Lt,kt);function Lt(Ot){var Gt=kt.call(this,function(qt,hn){Vn.debug("No callbacks on user for "+qt)})||this;return Gt.signin_requested=!1,Gt.user_data=null,Gt.serverToUserChannel=null,Gt.signinDonePromise=null,Gt._signinDoneResolve=null,Gt._onAuthorize=function(qt,hn){if(qt){Vn.warn("Error during signin: "+qt),Gt._cleanup();return}Gt.pusher.send_event("pusher:signin",{auth:hn.auth,user_data:hn.user_data})},Gt.pusher=Ot,Gt.pusher.connection.bind("state_change",function(qt){var hn=qt.previous,On=qt.current;hn!=="connected"&&On==="connected"&&Gt._signin(),hn==="connected"&&On!=="connected"&&(Gt._cleanup(),Gt._newSigninPromiseIfNeeded())}),Gt.watchlist=new wp(Ot),Gt.pusher.connection.bind("message",function(qt){var hn=qt.event;hn==="pusher:signin_success"&&Gt._onSigninSuccess(qt.data),Gt.serverToUserChannel&&Gt.serverToUserChannel.name===qt.channel&&Gt.serverToUserChannel.handleEvent(qt)}),Gt}return Lt.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},Lt.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},Lt.prototype._onSigninSuccess=function(Ot){try{this.user_data=JSON.parse(Ot.user_data)}catch{Vn.error("Failed parsing user data after signin: "+Ot.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Vn.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},Lt.prototype._subscribeChannels=function(){var Ot=this,Gt=function(qt){qt.subscriptionPending&&qt.subscriptionCancelled?qt.reinstateSubscription():!qt.subscriptionPending&&Ot.pusher.connection.state==="connected"&&qt.subscribe()};this.serverToUserChannel=new ks("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(qt,hn){qt.indexOf("pusher_internal:")===0||qt.indexOf("pusher:")===0||Ot.emit(qt,hn)}),Gt(this.serverToUserChannel)},Lt.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},Lt.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var Ot=Fo(),Gt=Ot.promise,qt=Ot.resolve;Gt.done=!1;var hn=function(){Gt.done=!0};Gt.then(hn).catch(hn),this.signinDonePromise=Gt,this._signinDoneResolve=qt}},Lt}(jr),Fu=Ql,Gu=function(){function kt(Lt,Ot){var Gt=this;tu(Lt),Ip(Ot),this.key=Lt,this.config=Sp(Ot,this),this.channels=zr.createChannels(),this.global_emitter=new jr,this.sessionID=qr.randomInt(1e9),this.timeline=new Tl(this.key,this.sessionID,{cluster:this.config.cluster,features:kt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:yu.INFO,version:lt.VERSION}),this.config.enableStats&&(this.timelineSender=zr.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+qr.TimelineTransport.name}));var qt=function(hn){return qr.getDefaultStrategy(Gt.config,hn,tp)};this.connection=zr.createConnectionManager(this.key,{getStrategy:qt,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){Gt.subscribeAll(),Gt.timelineSender&&Gt.timelineSender.send(Gt.connection.isUsingTLS())}),this.connection.bind("message",function(hn){var On=hn.event,qn=On.indexOf("pusher_internal:")===0;if(hn.channel){var vr=Gt.channel(hn.channel);vr&&vr.handleEvent(hn)}qn||Gt.global_emitter.emit(hn.event,hn.data)}),this.connection.bind("connecting",function(){Gt.channels.disconnect()}),this.connection.bind("disconnected",function(){Gt.channels.disconnect()}),this.connection.bind("error",function(hn){Vn.warn(hn)}),kt.instances.push(this),this.timeline.info({instances:kt.instances.length}),this.user=new Fu(this),kt.isReady&&this.connect()}return kt.ready=function(){kt.isReady=!0;for(var Lt=0,Ot=kt.instances.length;Lt<Ot;Lt++)kt.instances[Lt].connect()},kt.getClientFeatures=function(){return Ln(yn({ws:qr.Transports.ws},function(Lt){return Lt.isSupported({})}))},kt.prototype.channel=function(Lt){return this.channels.find(Lt)},kt.prototype.allChannels=function(){return this.channels.all()},kt.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var Lt=this.connection.isUsingTLS(),Ot=this.timelineSender;this.timelineSenderTimer=new Wt(6e4,function(){Ot.send(Lt)})}},kt.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},kt.prototype.bind=function(Lt,Ot,Gt){return this.global_emitter.bind(Lt,Ot,Gt),this},kt.prototype.unbind=function(Lt,Ot,Gt){return this.global_emitter.unbind(Lt,Ot,Gt),this},kt.prototype.bind_global=function(Lt){return this.global_emitter.bind_global(Lt),this},kt.prototype.unbind_global=function(Lt){return this.global_emitter.unbind_global(Lt),this},kt.prototype.unbind_all=function(Lt){return this.global_emitter.unbind_all(),this},kt.prototype.subscribeAll=function(){var Lt;for(Lt in this.channels.channels)this.channels.channels.hasOwnProperty(Lt)&&this.subscribe(Lt)},kt.prototype.subscribe=function(Lt){var Ot=this.channels.add(Lt,this);return Ot.subscriptionPending&&Ot.subscriptionCancelled?Ot.reinstateSubscription():!Ot.subscriptionPending&&this.connection.state==="connected"&&Ot.subscribe(),Ot},kt.prototype.unsubscribe=function(Lt){var Ot=this.channels.find(Lt);Ot&&Ot.subscriptionPending?Ot.cancelSubscription():(Ot=this.channels.remove(Lt),Ot&&Ot.subscribed&&Ot.unsubscribe())},kt.prototype.send_event=function(Lt,Ot,Gt){return this.connection.send_event(Lt,Ot,Gt)},kt.prototype.shouldUseTLS=function(){return this.config.useTLS},kt.prototype.signin=function(){this.user.signin()},kt.instances=[],kt.isReady=!1,kt.logToConsole=!1,kt.Runtime=qr,kt.ScriptReceivers=qr.ScriptReceivers,kt.DependenciesReceivers=qr.DependenciesReceivers,kt.auth_callbacks=qr.auth_callbacks,kt}(),eu=rt.default=Gu;function tu(kt){if(kt==null)throw"You must pass your app key when you instantiate Pusher."}qr.setup(Gu)}])})})(pusher);function App(){return reactExports.useLayoutEffect(()=>{window.Echo=new Echo({broadcaster:"pusher",key:"local",cluster:"",wsHost:"api.rgb.irpsc.com",wsPort:6001,wssPort:6001,encrypted:!0,forceTLS:!0,disableStats:!0,enabledTransports:["wss","ws"]})},[]),jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(WalletProvider,{children:jsxRuntimeExports.jsx(FollowProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Map$1,{}),jsxRuntimeExports.jsx(Ie,{containerStyle:{zIndex:1e3,marginBottom:48},position:"bottom-right"})]})})})})}const root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(App,{}))});export default AA();
